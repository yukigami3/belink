!function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,n,i){return(t="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=s(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,n,i||e)}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?r(e):t}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var i,a,o=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);r=!0);}catch(l){s=!0,a=l}finally{try{r||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}(self.webpackChunkclient=self.webpackChunkclient||[]).push([[275,445],{69244:function(e,t,n){"use strict";n.d(t,{Zt:function(){return _e},Bh:function(){return me},Wj:function(){return he},_t:function(){return ye},bA:function(){return X}});var i=n(35366),a=n(61116),o=n(43725),r=n(93169),s=n(19861),u=n(48318),d=n(48569),g=n(62293);function f(e){var t=e.subscriber,n=e.counter,i=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}var m=n(55959),v=n(87570),b=n(91741),_=n(31906),Z=n(25416),y=n(56238),x=n(79996),k=n(90611),A=n(66599),w=n(44689),T=n(94720);function C(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function q(e,t){var n=t?"":"none";C(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function U(e,t){var n=e.style;n.position=t?"":"fixed",n.top=n.opacity=t?"":"0",n.left=t?"":"-999em"}function I(e){var t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function M(e,t){return e.getPropertyValue(t).split(",").map(function(e){return e.trim()})}function O(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function J(e,t,n){var i=e.top,a=e.bottom,o=e.left,r=e.right;return n>=i&&n<=a&&t>=o&&t<=r}function P(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function N(e,t,n,i){var a=e.top,o=e.right,r=e.bottom,s=e.left,l=e.width*t,c=e.height*t;return i>a-c&&i<r+c&&n>s-l&&n<o+l}var S=function(){function e(t,n){p(this,e),this._document=t,this._viewportRuler=n,this.positions=new Map}return h(e,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(e){var t=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(function(e){t.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:O(e)})})}},{key:"handleScroll",value:function(e){var t=e.target,n=this.positions.get(t);if(!n)return null;var i,a,o=t===this._document?t.documentElement:t,r=n.scrollPosition;if(t===this._document){var s=this._viewportRuler.getViewportScrollPosition();i=s.top,a=s.left}else i=t.scrollTop,a=t.scrollLeft;var l=r.top-i,c=r.left-a;return this.positions.forEach(function(e,n){e.clientRect&&t!==n&&o.contains(n)&&P(e.clientRect,l,c)}),r.top=i,r.left=a,{top:l,left:c}}}]),e}();function D(e){var t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),i=e.nodeName.toLowerCase();t.removeAttribute("id");for(var a=0;a<n.length;a++)n[a].removeAttribute("id");return"canvas"===i?E(e,t):"input"!==i&&"select"!==i&&"textarea"!==i||L(e,t),Q("canvas",e,t,E),Q("input, textarea, select",e,t,L),t}function Q(e,t,n,i){var a=t.querySelectorAll(e);if(a.length)for(var o=n.querySelectorAll(e),r=0;r<a.length;r++)i(a[r],o[r])}var Y=0;function L(e,t){"file"!==t.type&&(t.value=e.value),"radio"===t.type&&t.name&&(t.name="mat-clone-".concat(t.name,"-").concat(Y++))}function E(e,t){var n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(i){}}var F=(0,r.i$)({passive:!0}),R=(0,r.i$)({passive:!1}),$=function(){function e(t,n,i,a,o,r){var s=this;p(this,e),this._config=n,this._document=i,this._ngZone=a,this._viewportRuler=o,this._dragDropRegistry=r,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new m.xQ,this._pointerMoveSubscription=v.w.EMPTY,this._pointerUpSubscription=v.w.EMPTY,this._scrollSubscription=v.w.EMPTY,this._resizeSubscription=v.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new m.xQ,this.started=new m.xQ,this.released=new m.xQ,this.ended=new m.xQ,this.entered=new m.xQ,this.exited=new m.xQ,this.dropped=new m.xQ,this.moved=this._moveEvents,this._pointerDown=function(e){if(s.beforeStarted.next(),s._handles.length){var t=s._handles.find(function(t){var n=e.target;return!!n&&(n===t||t.contains(n))});!t||s._disabledHandles.has(t)||s.disabled||s._initializeDragSequence(t,e)}else s.disabled||s._initializeDragSequence(s._rootElement,e)},this._pointerMove=function(e){var t=s._getPointerPositionOnPage(e);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect())),e.preventDefault();var n=s._getConstrainedPointerPosition(t);if(s._hasMoved=!0,s._lastKnownPointerPosition=t,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n,t);else{var i=s._activeTransform;i.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,i.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(i.x,i.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(i.x," ").concat(i.y,")"))}s._moveEvents.observers.length&&s._ngZone.run(function(){s._moveEvents.next({source:s,pointerPosition:n,event:e,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})})}else if(Math.abs(t.x-s._pickupPositionOnPage.x)+Math.abs(t.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){var a=Date.now()>=s._dragStartTime+s._getDragStartDelay(e),o=s._dropContainer;if(!a)return void s._endDragSequence(e);o&&(o.isDragging()||o.isReceiving())||(e.preventDefault(),s._hasStartedDragging=!0,s._ngZone.run(function(){return s._startDragSequence(e)}))}},this._pointerUp=function(e){s._endDragSequence(e)},this.withRootElement(t).withParent(n.parentDragRef||null),this._parentPositions=new S(i,o),r.registerDragItem(this)}return h(e,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(e){var t=(0,s.Ig)(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions(),this._handles.forEach(function(e){return q(e,t)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(e){var t=this;this._handles=e.map(function(e){return(0,s.fI)(e)}),this._handles.forEach(function(e){return q(e,t.disabled)}),this._toggleNativeDragInteractions();var n=new Set;return this._disabledHandles.forEach(function(e){t._handles.indexOf(e)>-1&&n.add(e)}),this._disabledHandles=n,this}},{key:"withPreviewTemplate",value:function(e){return this._previewTemplate=e,this}},{key:"withPlaceholderTemplate",value:function(e){return this._placeholderTemplate=e,this}},{key:"withRootElement",value:function(e){var t=this,n=(0,s.fI)(e);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){n.addEventListener("mousedown",t._pointerDown,R),n.addEventListener("touchstart",t._pointerDown,F)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(e){var t=this;return this._boundaryElement=e?(0,s.fI)(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return t._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(e){return this._parentDragRef=e,this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&H(this._rootElement),H(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),q(e,!0))}},{key:"enableHandle",value:function(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),q(e,this.disabled))}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"_withDropContainer",value:function(e){this._dropContainer=e}},{key:"getFreeDragPosition",value:function(){var e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}},{key:"setFreeDragPosition",value:function(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&H(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&H(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(e){var t=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){t._cleanupDragArtifacts(e),t._cleanupCachedDimensions(),t._dragDropRegistry.stopDragging(t)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){t.ended.next({source:t,distance:t._getDragDistance(t._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(e){z(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var t=this._dropContainer;if(t){var n=this._rootElement,i=n.parentNode,a=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),r=this._anchor=this._anchor||this._document.createComment(""),s=this._getShadowRoot();i.insertBefore(r,n),U(n,!1),this._document.body.appendChild(i.replaceChild(o,n)),function(e,t){return t||e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body}(this._document,s).appendChild(a),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(e,t){var n=this;this._parentDragRef&&t.stopPropagation();var i=this.isDragging(),a=z(t),o=!a&&0!==t.button,r=this._rootElement,s=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),!(i||o||s)){this._handles.length&&(this._rootElementTapHighlight=r.style.webkitTapHighlightColor||"",r.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(function(e){n._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=O(this._boundaryElement));var l=this._previewTemplate;this._pickupPositionInElement=l&&l.template&&!l.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);var c=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}}},{key:"_cleanupDragArtifacts",value:function(e){var t=this;U(this._rootElement,!0),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(function(){var n=t._dropContainer,i=n.getItemIndex(t),a=t._getPointerPositionOnPage(e),o=t._getDragDistance(t._getPointerPositionOnPage(e)),r=n._isOverContainer(a.x,a.y);t.ended.next({source:t,distance:o}),t.dropped.next({item:t,currentIndex:i,previousIndex:t._initialIndex,container:n,previousContainer:t._initialContainer,isPointerOverContainer:r,distance:o}),n.drop(t,i,t._initialIndex,t._initialContainer,r,o),t._dropContainer=t._initialContainer})}},{key:"_updateActiveDropContainer",value:function(e,t){var n=this,i=e.x,a=e.y,o=t.x,r=t.y,s=this._initialContainer._getSiblingContainerFromPosition(this,i,a);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,a)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(function(){n.exited.next({item:n,container:n._dropContainer}),n._dropContainer.exit(n),n._dropContainer=s,n._dropContainer.enter(n,i,a,s===n._initialContainer&&s.sortingDisabled?n._initialIndex:void 0),n.entered.next({item:n,container:s,currentIndex:s.getItemIndex(n)})}),this._dropContainer._startScrollingIfNecessary(o,r),this._dropContainer._sortItem(this,i,a,this._pointerDirectionDelta),this._preview.style.transform=V(i-this._pickupPositionInElement.x,a-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var e,t=this._previewTemplate,n=this.previewClass,i=t?t.template:null;if(i&&t){var a=t.matchSize?this._rootElement.getBoundingClientRect():null,o=t.viewContainer.createEmbeddedView(i,t.context);o.detectChanges(),e=G(o,this._document),this._previewRef=o,t.matchSize?j(e,a):e.style.transform=V(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var r=this._rootElement;j(e=D(r),r.getBoundingClientRect())}return C(e.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:"".concat(this._config.zIndex||1e3)}),q(e,!1),e.classList.add("cdk-drag-preview"),e.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(function(t){return e.classList.add(t)}):e.classList.add(n)),e}},{key:"_animatePreviewToPlaceholder",value:function(){var e=this;if(!this._hasMoved)return Promise.resolve();var t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=V(t.left,t.top);var n=function(e){var t=getComputedStyle(e),n=M(t,"transition-property"),i=n.find(function(e){return"transform"===e||"all"===e});if(!i)return 0;var a=n.indexOf(i),o=M(t,"transition-duration"),r=M(t,"transition-delay");return I(o[a])+I(r[a])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(t){var i=function n(i){(!i||i.target===e._preview&&"transform"===i.propertyName)&&(e._preview.removeEventListener("transitionend",n),t(),clearTimeout(a))},a=setTimeout(i,1.5*n);e._preview.addEventListener("transitionend",i)})})}},{key:"_createPlaceholderElement",value:function(){var e,t=this._placeholderTemplate,n=t?t.template:null;return n?(this._placeholderRef=t.viewContainer.createEmbeddedView(n,t.context),this._placeholderRef.detectChanges(),e=G(this._placeholderRef,this._document)):e=D(this._rootElement),e.classList.add("cdk-drag-placeholder"),e}},{key:"_getPointerPositionInElement",value:function(e,t){var n=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,a=i?i.getBoundingClientRect():n,o=z(t)?t.targetTouches[0]:t,r=this._getViewportScrollPosition();return{x:a.left-n.left+(o.pageX-a.left-r.left),y:a.top-n.top+(o.pageY-a.top-r.top)}}},{key:"_getPointerPositionOnPage",value:function(e){var t=this._getViewportScrollPosition(),n=z(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-t.left,a=n.pageY-t.top;if(this._ownerSVGElement){var o=this._ownerSVGElement.getScreenCTM();if(o){var r=this._ownerSVGElement.createSVGPoint();return r.x=i,r.y=a,r.matrixTransform(o.inverse())}}return{x:i,y:a}}},{key:"_getConstrainedPointerPosition",value:function(e){var t=this._dropContainer?this._dropContainer.lockAxis:null,n=this.constrainPosition?this.constrainPosition(e,this):e,i=n.x,a=n.y;if("x"===this.lockAxis||"x"===t?a=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(i=this._pickupPositionOnPage.x),this._boundaryRect){var o=this._pickupPositionInElement,r=o.x,s=o.y,l=this._boundaryRect,c=this._previewRect,u=l.top+s,d=l.bottom-(c.height-s);i=B(i,l.left+r,l.right-(c.width-r)),a=B(a,u,d)}return{x:i,y:a}}},{key:"_updatePointerDirectionDelta",value:function(e){var t=e.x,n=e.y,i=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-a.x),r=Math.abs(n-a.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=t>a.x?1:-1,a.x=t),r>this._config.pointerDirectionChangeThreshold&&(i.y=n>a.y?1:-1,a.y=n),i}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,q(this._rootElement,e))}}},{key:"_removeRootElementListeners",value:function(e){e.removeEventListener("mousedown",this._pointerDown,R),e.removeEventListener("touchstart",this._pointerDown,F)}},{key:"_applyRootElementTransform",value:function(e,t){var n=V(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(e){var t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var e=this._passiveTransform,t=e.x,n=e.y;if(!(0===t&&0===n||this.isDragging())&&this._boundaryElement){var i=this._boundaryElement.getBoundingClientRect(),a=this._rootElement.getBoundingClientRect();if(!(0===i.width&&0===i.height||0===a.width&&0===a.height)){var o=i.left-a.left,r=a.right-i.right,s=i.top-a.top,l=a.bottom-i.bottom;i.width>a.width?(o>0&&(t+=o),r>0&&(t-=r)):t=0,i.height>a.height?(s>0&&(n+=s),l>0&&(n-=l)):n=0,t===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:t})}}}},{key:"_getDragStartDelay",value:function(e){var t=this.dragStartDelay;return"number"==typeof t?t:z(e)?t.touch:t?t.mouse:0}},{key:"_updateOnScroll",value:function(e){var t=this._parentPositions.handleScroll(e);if(t){var n=e.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&P(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=(0,r.kV)(this._rootElement)),this._cachedShadowRoot}}]),e}();function V(e,t){return"translate3d(".concat(Math.round(e),"px, ").concat(Math.round(t),"px, 0)")}function B(e,t,n){return Math.max(t,Math.min(n,e))}function H(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function z(e){return"t"===e.type[0]}function G(e,t){var n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];var i=t.createElement("div");return n.forEach(function(e){return i.appendChild(e)}),i}function j(e,t){e.style.width="".concat(t.width,"px"),e.style.height="".concat(t.height,"px"),e.style.transform=V(t.left,t.top)}function X(e,t,n){var i=W(t,e.length-1),a=W(n,e.length-1);if(i!==a){for(var o=e[i],r=a<i?-1:1,s=i;s!==a;s+=r)e[s]=e[s+r];e[a]=o}}function W(e,t){return Math.max(0,Math.min(t,e))}var K=function(){function e(t,n,i,a,o){var r=this;p(this,e),this._dragDropRegistry=n,this._ngZone=a,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new m.xQ,this.entered=new m.xQ,this.exited=new m.xQ,this.dropped=new m.xQ,this.sorted=new m.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=v.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new m.xQ,this._cachedShadowRoot=null,this._startScrollInterval=function(){r._stopScrolling(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.P;return(!(0,g.k)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=d.P),new u.y(function(n){return n.add(t.schedule(f,e,{subscriber:n,counter:0,period:e})),n})}(0,b.Z).pipe((0,Z.R)(r._stopScrollTimers)).subscribe(function(){var e=r._scrollNode,t=r.autoScrollStep;1===r._verticalScrollDirection?te(e,-t):2===r._verticalScrollDirection&&te(e,t),1===r._horizontalScrollDirection?ne(e,-t):2===r._horizontalScrollDirection&&ne(e,t)})},this.element=(0,s.fI)(t),this._document=i,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new S(i,o)}return h(e,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(e,t,n,i){var a;this._draggingStarted(),null==i?-1===(a=this.sortingDisabled?this._draggables.indexOf(e):-1)&&(a=this._getItemIndexFromPointerPosition(e,t,n)):a=i;var o=this._activeDraggables,r=o.indexOf(e),l=e.getPlaceholderElement(),c=o[a];if(c===e&&(c=o[a+1]),r>-1&&o.splice(r,1),c&&!this._dragDropRegistry.isDragging(c)){var u=c.getRootElement();u.parentElement.insertBefore(l,u),o.splice(a,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){var d=o[0].getRootElement();d.parentNode.insertBefore(l,d),o.unshift(e)}else(0,s.fI)(this.element).appendChild(l),o.push(e);l.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}},{key:"exit",value:function(e){this._reset(),this.exited.next({item:e,container:this})}},{key:"drop",value:function(e,t,n,i,a,o){this._reset(),this.dropped.next({item:e,currentIndex:t,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:a,distance:o})}},{key:"withItems",value:function(e){var t=this,n=this._draggables;return this._draggables=e,e.forEach(function(e){return e._withDropContainer(t)}),this.isDragging()&&(n.filter(function(e){return e.isDragging()}).every(function(t){return-1===e.indexOf(t)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(e){return this._direction=e,this}},{key:"connectedTo",value:function(e){return this._siblings=e.slice(),this}},{key:"withOrientation",value:function(e){return this._orientation=e,this}},{key:"withScrollableParents",value:function(e){var t=(0,s.fI)(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t].concat(c(e)):e.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(e){return this._isDragging?ee("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(t){return t.drag===e}):this._draggables.indexOf(e)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(e,t,n,i){if(!this.sortingDisabled&&this._clientRect&&N(this._clientRect,.05,t,n)){var a=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,n,i);if(!(-1===o&&a.length>0)){var r="horizontal"===this._orientation,s=ee(a,function(t){return t.drag===e}),l=a[o],c=l.clientRect,u=s>o?1:-1,d=this._getItemOffsetPx(a[s].clientRect,c,u),p=this._getSiblingOffsetPx(s,a,u),g=a.slice();X(a,s,o),this.sorted.next({previousIndex:s,currentIndex:o,container:this,item:e}),a.forEach(function(t,n){if(g[n]!==t){var i=t.drag===e,a=i?d:p,o=i?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=a,r?(o.style.transform="translate3d(".concat(Math.round(t.offset),"px, 0, 0)"),P(t.clientRect,0,a)):(o.style.transform="translate3d(0, ".concat(Math.round(t.offset),"px, 0)"),P(t.clientRect,a,0))}}),this._previousSwap.overlaps=J(c,t,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=r?i.x:i.y}}}},{key:"_startScrollingIfNecessary",value:function(e,t){var n=this;if(!this.autoScrollDisabled){var i,a=0,o=0;if(this._parentPositions.positions.forEach(function(r,s){var c;s!==n._document&&r.clientRect&&!i&&N(r.clientRect,.05,e,t)&&(c=l(function(e,t,n,i){var a=ie(t,i),o=ae(t,n),r=0,s=0;if(a){var l=e.scrollTop;1===a?l>0&&(r=1):e.scrollHeight-l>e.clientHeight&&(r=2)}if(o){var c=e.scrollLeft;1===o?c>0&&(s=1):e.scrollWidth-c>e.clientWidth&&(s=2)}return[r,s]}(s,r.clientRect,e,t),2),a=c[0],o=c[1],(a||o)&&(i=s))}),!a&&!o){var r=this._viewportRuler.getViewportSize(),s=r.width,c=r.height,u={width:s,height:c,top:0,right:s,bottom:c,left:0};a=ie(u,t),o=ae(u,e),i=window}!i||a===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&i===this._scrollNode||(this._verticalScrollDirection=a,this._horizontalScrollDirection=o,this._scrollNode=i,(a||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var e=(0,s.fI)(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var e=(0,s.fI)(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}},{key:"_cacheItemPositions",value:function(){var e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(e){var t=e.getVisibleElement();return{drag:e,offset:0,clientRect:O(t)}}).sort(function(t,n){return e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top})}},{key:"_reset",value:function(){var e=this;this._isDragging=!1;var t=(0,s.fI)(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(e){var t=e.getRootElement();t&&(t.style.transform="")}),this._siblings.forEach(function(t){return t._stopReceiving(e)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(e,t,n){var i="horizontal"===this._orientation,a=t[e].clientRect,o=t[e+-1*n],r=a[i?"width":"height"]*n;if(o){var s=i?"left":"top",l=i?"right":"bottom";-1===n?r-=o.clientRect[s]-a[l]:r+=a[s]-o.clientRect[l]}return r}},{key:"_getItemOffsetPx",value:function(e,t,n){var i="horizontal"===this._orientation,a=i?t.left-e.left:t.top-e.top;return-1===n&&(a+=i?t.width-e.width:t.height-e.height),a}},{key:"_shouldEnterAsFirstChild",value:function(e,t){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var a=n[n.length-1].clientRect;return i?e>=a.right:t>=a.bottom}var o=n[0].clientRect;return i?e<=o.left:t<=o.top}},{key:"_getItemIndexFromPointerPosition",value:function(e,t,n,i){var a=this,o="horizontal"===this._orientation,r=ee(this._itemPositions,function(r,s,l){var c=r.drag,u=r.clientRect;if(c===e)return l.length<2;if(i){var d=o?i.x:i.y;if(c===a._previousSwap.drag&&a._previousSwap.overlaps&&d===a._previousSwap.delta)return!1}return o?t>=Math.floor(u.left)&&t<Math.floor(u.right):n>=Math.floor(u.top)&&n<Math.floor(u.bottom)});return-1!==r&&this.sortPredicate(r,e,this)?r:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(e,t){return null!=this._clientRect&&J(this._clientRect,e,t)}},{key:"_getSiblingContainerFromPosition",value:function(e,t,n){return this._siblings.find(function(i){return i._canReceive(e,t,n)})}},{key:"_canReceive",value:function(e,t,n){if(!this._clientRect||!J(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;var i=this._getShadowRoot().elementFromPoint(t,n);if(!i)return!1;var a=(0,s.fI)(this.element);return i===a||a.contains(i)}},{key:"_startReceiving",value:function(e,t){var n=this,i=this._activeSiblings;!i.has(e)&&t.every(function(e){return n.enterPredicate(e,n)||n._draggables.indexOf(e)>-1})&&(i.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var e=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(function(t){if(e.isDragging()){var n=e._parentPositions.handleScroll(t);n&&(e._itemPositions.forEach(function(e){P(e.clientRect,n.top,n.left)}),e._itemPositions.forEach(function(t){var n=t.drag;e._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else e.isReceiving()&&e._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var e=(0,r.kV)((0,s.fI)(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var e=this,t=this._activeDraggables.filter(function(e){return e.isDragging()});this._siblings.forEach(function(n){return n._startReceiving(e,t)})}}]),e}();function ee(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function te(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function ne(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function ie(e,t){var n=e.top,i=e.bottom,a=.05*e.height;return t>=n-a&&t<=n+a?1:t>=i-a&&t<=i+a?2:0}function ae(e,t){var n=e.left,i=e.right,a=.05*e.width;return t>=n-a&&t<=n+a?1:t>=i-a&&t<=i+a?2:0}var oe=(0,r.i$)({passive:!1,capture:!0}),re=function(){var e=function(){function e(t,n){var i=this;p(this,e),this._ngZone=t,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(e){return e.isDragging()},this.pointerMove=new m.xQ,this.pointerUp=new m.xQ,this.scroll=new m.xQ,this._preventDefaultWhileDragging=function(e){i._activeDragInstances.length>0&&e.preventDefault()},this._persistentTouchmoveListener=function(e){i._activeDragInstances.length>0&&(i._activeDragInstances.some(i._draggingPredicate)&&e.preventDefault(),i.pointerMove.next(e))},this._document=n}return h(e,[{key:"registerDropContainer",value:function(e){this._dropInstances.has(e)||this._dropInstances.add(e)}},{key:"registerDragItem",value:function(e){var t=this;this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){t._document.addEventListener("touchmove",t._persistentTouchmoveListener,oe)})}},{key:"removeDropContainer",value:function(e){this._dropInstances.delete(e)}},{key:"removeDragItem",value:function(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,oe)}},{key:"startDragging",value:function(e,t){var n=this;if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){var i=t.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:function(e){return n.pointerUp.next(e)},options:!0}).set("scroll",{handler:function(e){return n.scroll.next(e)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:oe}),i||this._globalListeners.set("mousemove",{handler:function(e){return n.pointerMove.next(e)},options:oe}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(e,t){n._document.addEventListener(t,e.handler,e.options)})})}}},{key:"stopDragging",value:function(e){var t=this._activeDragInstances.indexOf(e);t>-1&&(this._activeDragInstances.splice(t,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(e){return this._activeDragInstances.indexOf(e)>-1}},{key:"ngOnDestroy",value:function(){var e=this;this._dragInstances.forEach(function(t){return e.removeDragItem(t)}),this._dropInstances.forEach(function(t){return e.removeDropContainer(t)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var e=this;this._globalListeners.forEach(function(t,n){e._document.removeEventListener(n,t.handler,t.options)}),this._globalListeners.clear()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(i.R0b),i.LFG(a.K0))},e.\u0275prov=(0,i.Yz7)({factory:function(){return new e((0,i.LFG)(i.R0b),(0,i.LFG)(a.K0))},token:e,providedIn:"root"}),e}(),se={dragStartThreshold:5,pointerDirectionChangeThreshold:5},le=function(){var e=function(){function e(t,n,i,a){p(this,e),this._document=t,this._ngZone=n,this._viewportRuler=i,this._dragDropRegistry=a}return h(e,[{key:"createDrag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:se;return new $(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(e){return new K(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.K0),i.LFG(i.R0b),i.LFG(o.rL),i.LFG(re))},e.\u0275prov=(0,i.Yz7)({factory:function(){return new e((0,i.LFG)(a.K0),(0,i.LFG)(i.R0b),(0,i.LFG)(o.rL),(0,i.LFG)(re))},token:e,providedIn:"root"}),e}(),ce=new i.OlP("CDK_DRAG_PARENT"),ue=new i.OlP("CdkDropListGroup"),de=new i.OlP("CDK_DRAG_CONFIG"),pe=0,ge=new i.OlP("CdkDropList"),he=function(){var e=function(){function e(t,n,a,o,r,s,l){var c=this;p(this,e),this.element=t,this._changeDetectorRef=a,this._scrollDispatcher=o,this._dir=r,this._group=s,this._destroyed=new m.xQ,this.connectedTo=[],this.id="cdk-drop-list-"+pe++,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.dropped=new i.vpe,this.entered=new i.vpe,this.exited=new i.vpe,this.sorted=new i.vpe,this._unsortedItems=new Set,this._dropListRef=n.createDropList(t),this._dropListRef.data=this,l&&this._assignDefaults(l),this._dropListRef.enterPredicate=function(e,t){return c.enterPredicate(e.data,t.data)},this._dropListRef.sortPredicate=function(e,t,n){return c.sortPredicate(e,t.data,n.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),e._dropLists.push(this),s&&s._items.add(this)}return h(e,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(e){this._dropListRef.disabled=this._disabled=(0,s.Ig)(e)}},{key:"addItem",value:function(e){this._unsortedItems.add(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(e){this._unsortedItems.delete(e),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort(function(e,t){return e._dragRef.getVisibleElement().compareDocumentPosition(t._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1})}},{key:"ngOnDestroy",value:function(){var t=e._dropLists.indexOf(this);t>-1&&e._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"_setupInputSyncSubscription",value:function(t){var n=this;this._dir&&this._dir.change.pipe((0,y.O)(this._dir.value),(0,Z.R)(this._destroyed)).subscribe(function(e){return t.withDirection(e)}),t.beforeStarted.subscribe(function(){var i=(0,s.Eq)(n.connectedTo).map(function(t){return"string"==typeof t?e._dropLists.find(function(e){return e.id===t}):t});if(n._group&&n._group._items.forEach(function(e){-1===i.indexOf(e)&&i.push(e)}),!n._scrollableParentsResolved){var a=n._scrollDispatcher.getAncestorScrollContainers(n.element).map(function(e){return e.getElementRef().nativeElement});n._dropListRef.withScrollableParents(a),n._scrollableParentsResolved=!0}t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.sortingDisabled=(0,s.Ig)(n.sortingDisabled),t.autoScrollDisabled=(0,s.Ig)(n.autoScrollDisabled),t.autoScrollStep=(0,s.su)(n.autoScrollStep,2),t.connectedTo(i.filter(function(e){return e&&e!==n}).map(function(e){return e._dropListRef})).withOrientation(n.orientation)})}},{key:"_handleEvents",value:function(e){var t=this;e.beforeStarted.subscribe(function(){t._syncItemsWithRef(),t._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){t.entered.emit({container:t,item:e.item.data,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){t.exited.emit({container:t,item:e.item.data}),t._changeDetectorRef.markForCheck()}),e.sorted.subscribe(function(e){t.sorted.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:t,item:e.item.data})}),e.dropped.subscribe(function(e){t.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,item:e.item.data,isPointerOverContainer:e.isPointerOverContainer,distance:e.distance}),t._changeDetectorRef.markForCheck()})}},{key:"_assignDefaults",value:function(e){var t=e.lockAxis,n=e.draggingDisabled,i=e.sortingDisabled,a=e.listAutoScrollDisabled,o=e.listOrientation;this.disabled=null!=n&&n,this.sortingDisabled=null!=i&&i,this.autoScrollDisabled=null!=a&&a,this.orientation=o||"vertical",t&&(this.lockAxis=t)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map(function(e){return e._dragRef}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(le),i.Y36(i.sBO),i.Y36(o.mF),i.Y36(T.Is,8),i.Y36(ue,12),i.Y36(de,8))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(e,t){2&e&&(i.uIk("id",t.id),i.ekj("cdk-drop-list-disabled",t.disabled)("cdk-drop-list-dragging",t._dropListRef.isDragging())("cdk-drop-list-receiving",t._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],sortPredicate:["cdkDropListSortPredicate","sortPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"],autoScrollStep:["cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[i._Bn([{provide:ue,useValue:void 0},{provide:ge,useExisting:e}])]}),e._dropLists=[],e}(),fe=new i.OlP("CdkDragHandle"),me=function(){var e=function(){function e(t,n){p(this,e),this.element=t,this._stateChanges=new m.xQ,this._disabled=!1,this._parentDrag=n}return h(e,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=(0,s.Ig)(e),this._stateChanges.next(this)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(ce,12))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[i._Bn([{provide:fe,useExisting:e}])]}),e}(),ve=new i.OlP("CdkDragPlaceholder"),be=new i.OlP("CdkDragPreview"),_e=function(){var e=function(){function e(t,n,a,o,r,s,l,c,d,g,h){var f=this;p(this,e),this.element=t,this.dropContainer=n,this._ngZone=o,this._viewContainerRef=r,this._dir=l,this._changeDetectorRef=d,this._selfHandle=g,this._parentDrag=h,this._destroyed=new m.xQ,this.started=new i.vpe,this.released=new i.vpe,this.ended=new i.vpe,this.entered=new i.vpe,this.exited=new i.vpe,this.dropped=new i.vpe,this.moved=new u.y(function(e){var t=f._dragRef.moved.pipe((0,x.U)(function(e){return{source:f,pointerPosition:e.pointerPosition,event:e.event,delta:e.delta,distance:e.distance}})).subscribe(e);return function(){t.unsubscribe()}}),this._dragRef=c.createDrag(t,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,e._dragInstances.push(this),s&&this._assignDefaults(s),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return h(e,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(e){this._disabled=(0,s.Ig)(e),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var e=this;this._ngZone.onStable.pipe((0,k.q)(1),(0,Z.R)(this._destroyed)).subscribe(function(){e._updateRootElement(),e._handles.changes.pipe((0,y.O)(e._handles),(0,A.b)(function(t){var n=t.filter(function(t){return t._parentDrag===e}).map(function(e){return e.element});e._selfHandle&&e.rootElementSelector&&n.push(e.element),e._dragRef.withHandles(n)}),(0,w.w)(function(e){return _.T.apply(void 0,c(e.map(function(e){return e._stateChanges.pipe((0,y.O)(e))})))}),(0,Z.R)(e._destroyed)).subscribe(function(t){var n=e._dragRef,i=t.element.nativeElement;t.disabled?n.disableHandle(i):n.enableHandle(i)}),e.freeDragPosition&&e._dragRef.setFreeDragPosition(e.freeDragPosition)})}},{key:"ngOnChanges",value:function(e){var t=e.rootElementSelector,n=e.freeDragPosition;t&&!t.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this);var t=e._dragInstances.indexOf(this);t>-1&&e._dragInstances.splice(t,1),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var e=this.element.nativeElement,t=this.rootElementSelector?Ze(e,this.rootElementSelector):e;this._dragRef.withRootElement(t||e)}},{key:"_getBoundaryElement",value:function(){var e=this.boundaryElement;return e?"string"==typeof e?Ze(this.element.nativeElement,e):(0,s.fI)(e):null}},{key:"_syncInputs",value:function(t){var n=this;t.beforeStarted.subscribe(function(){if(!t.isDragging()){var e=n._dir,i=n.dragStartDelay,a=n._placeholderTemplate?{template:n._placeholderTemplate.templateRef,context:n._placeholderTemplate.data,viewContainer:n._viewContainerRef}:null,o=n._previewTemplate?{template:n._previewTemplate.templateRef,context:n._previewTemplate.data,matchSize:n._previewTemplate.matchSize,viewContainer:n._viewContainerRef}:null;t.disabled=n.disabled,t.lockAxis=n.lockAxis,t.dragStartDelay="object"==typeof i&&i?i:(0,s.su)(i),t.constrainPosition=n.constrainPosition,t.previewClass=n.previewClass,t.withBoundaryElement(n._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(o),e&&t.withDirection(e.value)}}),t.beforeStarted.pipe((0,k.q)(1)).subscribe(function(){var i,a;if(n._parentDrag)t.withParent(n._parentDrag._dragRef);else for(var o=n.element.nativeElement.parentElement;o;){if(null===(i=o.classList)||void 0===i?void 0:i.contains("cdk-drag")){t.withParent((null===(a=e._dragInstances.find(function(e){return e.element.nativeElement===o}))||void 0===a?void 0:a._dragRef)||null);break}o=o.parentElement}})}},{key:"_handleEvents",value:function(e){var t=this;e.started.subscribe(function(){t.started.emit({source:t}),t._changeDetectorRef.markForCheck()}),e.released.subscribe(function(){t.released.emit({source:t})}),e.ended.subscribe(function(e){t.ended.emit({source:t,distance:e.distance}),t._changeDetectorRef.markForCheck()}),e.entered.subscribe(function(e){t.entered.emit({container:e.container.data,item:t,currentIndex:e.currentIndex})}),e.exited.subscribe(function(e){t.exited.emit({container:e.container.data,item:t})}),e.dropped.subscribe(function(e){t.dropped.emit({previousIndex:e.previousIndex,currentIndex:e.currentIndex,previousContainer:e.previousContainer.data,container:e.container.data,isPointerOverContainer:e.isPointerOverContainer,item:t,distance:e.distance})})}},{key:"_assignDefaults",value:function(e){var t=e.lockAxis,n=e.dragStartDelay,i=e.constrainPosition,a=e.previewClass,o=e.boundaryElement,r=e.draggingDisabled,s=e.rootElementSelector;this.disabled=null!=r&&r,this.dragStartDelay=n||0,t&&(this.lockAxis=t),i&&(this.constrainPosition=i),a&&(this.previewClass=a),o&&(this.boundaryElement=o),s&&(this.rootElementSelector=s)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq),i.Y36(ge,12),i.Y36(a.K0),i.Y36(i.R0b),i.Y36(i.s_b),i.Y36(de,8),i.Y36(T.Is,8),i.Y36(le),i.Y36(i.sBO),i.Y36(fe,10),i.Y36(ce,12))},e.\u0275dir=i.lG2({type:e,selectors:[["","cdkDrag",""]],contentQueries:function(e,t,n){var a;(1&e&&(i.Suo(n,be,5),i.Suo(n,ve,5),i.Suo(n,fe,5)),2&e)&&(i.iGM(a=i.CRH())&&(t._previewTemplate=a.first),i.iGM(a=i.CRH())&&(t._placeholderTemplate=a.first),i.iGM(a=i.CRH())&&(t._handles=a))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,t){2&e&&i.ekj("cdk-drag-disabled",t.disabled)("cdk-drag-dragging",t._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[i._Bn([{provide:ce,useExisting:e}]),i.TTD]}),e._dragInstances=[],e}();function Ze(e,t){for(var n=e.parentElement;n;){if(n.matches?n.matches(t):n.msMatchesSelector(t))return n;n=n.parentElement}return null}var ye=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({providers:[le],imports:[o.ZD]}),e}()},79961:function(e,t,i){"use strict";i.d(t,{XC:function(){return E},Bb:function(){return H},ZL:function(){return B}});var o=i(97388),r=i(19861),s=i(93169),l=i(35366),u=i(87064),d=i(87570),g=i(55959),f=i(31450),m=i(31906),v=i(40878),b=i(87254),_=i(61116),Z=i(77923),y=i(43725),x=i(99235),k=i(82151),A=i(31041),w=i(13070),T=i(90611),C=i(44689),q=i(43835),U=i(79996),I=i(66599),M=i(82628),O=i(94720),J=["panel"];function P(e,t){if(1&e&&(l.TgZ(0,"div",0,1),l.Hsn(2),l.qZA()),2&e){var n=t.id,i=l.oxw();l.Q6J("id",i.id)("ngClass",i._classList),l.uIk("aria-label",i.ariaLabel||null)("aria-labelledby",i._getPanelAriaLabelledby(n))}}var N=["*"],S=0,D=function e(t,n){p(this,e),this.source=t,this.option=n},Q=(0,u.Kr)(function e(){p(this,e)}),Y=new l.OlP("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}}),L=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,o){var r;return p(this,i),(r=t.call(this))._changeDetectorRef=e,r._elementRef=n,r._activeOptionChanges=d.w.EMPTY,r.showPanel=!1,r._isOpen=!1,r.displayWith=null,r.optionSelected=new l.vpe,r.opened=new l.vpe,r.closed=new l.vpe,r.optionActivated=new l.vpe,r._classList={},r.id="mat-autocomplete-"+S++,r.inertGroups=(null==o?void 0:o.SAFARI)||!1,r._autoActiveFirstOption=!!a.autoActiveFirstOption,r}return h(i,[{key:"isOpen",get:function(){return this._isOpen&&this.showPanel}},{key:"autoActiveFirstOption",get:function(){return this._autoActiveFirstOption},set:function(e){this._autoActiveFirstOption=(0,r.Ig)(e)}},{key:"classList",set:function(e){this._classList=e&&e.length?(0,r.du)(e).reduce(function(e,t){return e[t]=!0,e},{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}},{key:"ngAfterContentInit",value:function(){var e=this;this._keyManager=new o.s1(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe(function(t){e.optionActivated.emit({source:e,option:e.options.toArray()[t]||null})}),this._setVisibility()}},{key:"ngOnDestroy",value:function(){this._activeOptionChanges.unsubscribe()}},{key:"_setScrollTop",value:function(e){this.panel&&(this.panel.nativeElement.scrollTop=e)}},{key:"_getScrollTop",value:function(){return this.panel?this.panel.nativeElement.scrollTop:0}},{key:"_setVisibility",value:function(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}},{key:"_emitSelectEvent",value:function(e){var t=new D(this,e);this.optionSelected.emit(t)}},{key:"_getPanelAriaLabelledby",value:function(e){return this.ariaLabel?null:this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}},{key:"_setVisibilityClasses",value:function(e){e[this._visibleClass]=this.showPanel,e[this._hiddenClass]=!this.showPanel}}]),i}(Q);return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(Y),l.Y36(s.t4))},e.\u0275dir=l.lG2({type:e,viewQuery:function(e,t){var n;(1&e&&(l.Gf(l.Rgc,7),l.Gf(J,5)),2&e)&&(l.iGM(n=l.CRH())&&(t.template=n.first),l.iGM(n=l.CRH())&&(t.panel=n.first))},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[l.qOj]}),e}(),E=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments))._visibleClass="mat-autocomplete-visible",e._hiddenClass="mat-autocomplete-hidden",e}return i}(L);return t.\u0275fac=function(n){return(e||(e=l.n5z(t)))(n||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(e,t,n){var i;(1&e&&(l.Suo(n,u.K7,5),l.Suo(n,u.ey,5)),2&e)&&(l.iGM(i=l.CRH())&&(t.optionGroups=i),l.iGM(i=l.CRH())&&(t.options=i))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[l._Bn([{provide:u.HF,useExisting:t}]),l.qOj],ngContentSelectors:N,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(e,t){1&e&&(l.F$t(),l.YNc(0,P,3,4,"ng-template"))},directives:[_.mk],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}mat-autocomplete{display:none}\n"],encapsulation:2,changeDetection:0}),t}(),F=new l.OlP("mat-autocomplete-scroll-strategy"),R={provide:F,deps:[Z.aV],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},$={provide:A.JU,useExisting:(0,l.Gpc)(function(){return B}),multi:!0},V=function(){var e=function(){function e(t,n,i,a,o,r,s,l,u,h,v){var b=this;p(this,e),this._element=t,this._overlay=n,this._viewContainerRef=i,this._zone=a,this._changeDetectorRef=o,this._dir=s,this._formField=l,this._document=u,this._viewportRuler=h,this._defaults=v,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=d.w.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new g.xQ,this._windowBlurHandler=function(){b._canOpenOnNextFocus=b._document.activeElement!==b._element.nativeElement||b.panelOpen},this._onChange=function(){},this._onTouched=function(){},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=(0,f.P)(function(){return b.autocomplete&&b.autocomplete.options?m.T.apply(void 0,c(b.autocomplete.options.map(function(e){return e.onSelectionChange}))):b._zone.onStable.pipe((0,T.q)(1),(0,C.w)(function(){return b.optionSelections}))}),this._scrollStrategy=r}return h(e,[{key:"autocompleteDisabled",get:function(){return this._autocompleteDisabled},set:function(e){this._autocompleteDisabled=(0,r.Ig)(e)}},{key:"ngAfterViewInit",value:function(){var e=this,t=this._getWindow();void 0!==t&&this._zone.runOutsideAngular(function(){return t.addEventListener("blur",e._windowBlurHandler)})}},{key:"ngOnChanges",value:function(e){e.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}},{key:"ngOnDestroy",value:function(){var e=this._getWindow();void 0!==e&&e.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}},{key:"panelOpen",get:function(){return this._overlayAttached&&this.autocomplete.showPanel}},{key:"openPanel",value:function(){this._attachOverlay(),this._floatLabel()}},{key:"closePanel",value:function(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}},{key:"updatePosition",value:function(){this._overlayAttached&&this._overlayRef.updatePosition()}},{key:"panelClosingActions",get:function(){var e=this;return(0,m.T)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe((0,q.h)(function(){return e._overlayAttached})),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe((0,q.h)(function(){return e._overlayAttached})):(0,v.of)()).pipe((0,U.U)(function(e){return e instanceof u.rN?e:null}))}},{key:"activeOption",get:function(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}},{key:"_getOutsideClickStream",value:function(){var e=this;return(0,m.T)((0,b.R)(this._document,"click"),(0,b.R)(this._document,"auxclick"),(0,b.R)(this._document,"touchend")).pipe((0,q.h)(function(t){var n=e._isInsideShadowRoot&&t.composedPath?t.composedPath()[0]:t.target,i=e._formField?e._formField._elementRef.nativeElement:null,a=e.connectedTo?e.connectedTo.elementRef.nativeElement:null;return e._overlayAttached&&n!==e._element.nativeElement&&(!i||!i.contains(n))&&(!a||!a.contains(n))&&!!e._overlayRef&&!e._overlayRef.overlayElement.contains(n)}))}},{key:"writeValue",value:function(e){var t=this;Promise.resolve(null).then(function(){return t._setTriggerValue(e)})}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this._element.nativeElement.disabled=e}},{key:"_handleKeydown",value:function(e){var t=e.keyCode;if(t!==x.hY||(0,x.Vb)(e)||e.preventDefault(),this.activeOption&&t===x.K5&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),e.preventDefault();else if(this.autocomplete){var n=this.autocomplete._keyManager.activeItem,i=t===x.LH||t===x.JH;this.panelOpen||t===x.Mf?this.autocomplete._keyManager.onKeydown(e):i&&this._canOpen()&&this.openPanel(),(i||this.autocomplete._keyManager.activeItem!==n)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}},{key:"_handleInput",value:function(e){var t=e.target,n=t.value;"number"===t.type&&(n=""==n?null:parseFloat(n)),this._previousValue!==n&&(this._previousValue=n,this._onChange(n),this._canOpen()&&this._document.activeElement===e.target&&this.openPanel())}},{key:"_handleFocus",value:function(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}},{key:"_floatLabel",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._formField&&"auto"===this._formField.floatLabel&&(e?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}},{key:"_resetLabel",value:function(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}},{key:"_subscribeToClosingActions",value:function(){var e=this,t=this._zone.onStable.pipe((0,T.q)(1)),n=this.autocomplete.options.changes.pipe((0,I.b)(function(){return e._positionStrategy.reapplyLastPosition()}),(0,M.g)(0));return(0,m.T)(t,n).pipe((0,C.w)(function(){var t=e.panelOpen;return e._resetActiveItem(),e.autocomplete._setVisibility(),e.panelOpen&&(e._overlayRef.updatePosition(),t!==e.panelOpen&&e.autocomplete.opened.emit()),e.panelClosingActions}),(0,T.q)(1)).subscribe(function(t){return e._setValueAndClose(t)})}},{key:"_destroyPanel",value:function(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}},{key:"_setTriggerValue",value:function(e){var t=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(e):e,n=null!=t?t:"";this._formField?this._formField._control.value=n:this._element.nativeElement.value=n,this._previousValue=n}},{key:"_setValueAndClose",value:function(e){e&&e.source&&(this._clearPreviousSelectedOption(e.source),this._setTriggerValue(e.source.value),this._onChange(e.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(e.source)),this.closePanel()}},{key:"_clearPreviousSelectedOption",value:function(e){this.autocomplete.options.forEach(function(t){t!==e&&t.selected&&t.deselect()})}},{key:"_attachOverlay",value:function(){var e,t=this;null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!(0,s.kV)(this._element.nativeElement));var n=this._overlayRef;n?(this._positionStrategy.setOrigin(this._getConnectedElement()),n.updateSize({width:this._getPanelWidth()})):(this._portal=new k.UE(this.autocomplete.template,this._viewContainerRef,{id:null===(e=this._formField)||void 0===e?void 0:e.getLabelId()}),n=this._overlay.create(this._getOverlayConfig()),this._overlayRef=n,n.keydownEvents().subscribe(function(e){(e.keyCode===x.hY&&!(0,x.Vb)(e)||e.keyCode===x.LH&&(0,x.Vb)(e,"altKey"))&&(t._resetActiveItem(),t._closeKeyEventStream.next(),e.stopPropagation(),e.preventDefault())}),this._viewportSubscription=this._viewportRuler.change().subscribe(function(){t.panelOpen&&n&&n.updateSize({width:t._getPanelWidth()})})),n&&!n.hasAttached()&&(n.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());var i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}},{key:"_getOverlayConfig",value:function(){var e;return new Z.X_({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir,panelClass:null===(e=this._defaults)||void 0===e?void 0:e.overlayPanelClass})}},{key:"_getOverlayPosition",value:function(){var e=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(e),this._positionStrategy=e,e}},{key:"_setStrategyPositions",value:function(e){var t,n=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],i=this._aboveClass,a=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:i},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:i}];t="above"===this.position?a:"below"===this.position?n:[].concat(n,a),e.withPositions(t)}},{key:"_getConnectedElement",value:function(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}},{key:"_getPanelWidth",value:function(){return this.autocomplete.panelWidth||this._getHostWidth()}},{key:"_getHostWidth",value:function(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}},{key:"_resetActiveItem",value:function(){var e=this.autocomplete;e.autoActiveFirstOption?e._keyManager.setFirstItemActive():e._keyManager.setActiveItem(-1)}},{key:"_canOpen",value:function(){var e=this._element.nativeElement;return!e.readOnly&&!e.disabled&&!this._autocompleteDisabled}},{key:"_getWindow",value:function(){var e;return(null===(e=this._document)||void 0===e?void 0:e.defaultView)||window}},{key:"_scrollToOption",value:function(e){var t=this.autocomplete,n=(0,u.CB)(e,t.options,t.optionGroups);if(0===e&&1===n)t._setScrollTop(0);else if(t.panel){var i=t.options.toArray()[e];if(i){var a=i._getHostElement(),o=(0,u.jH)(a.offsetTop,a.offsetHeight,t._getScrollTop(),t.panel.nativeElement.offsetHeight);t._setScrollTop(o)}}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(l.SBq),l.Y36(Z.aV),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(F),l.Y36(O.Is,8),l.Y36(w.G_,9),l.Y36(_.K0,8),l.Y36(y.rL),l.Y36(Y,8))},e.\u0275dir=l.lG2({type:e,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[l.TTD]}),e}(),B=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments))._aboveClass="mat-autocomplete-panel-above",e}return i}(V);return t.\u0275fac=function(n){return(e||(e=l.n5z(t)))(n||t)},t.\u0275dir=l.lG2({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(e,t){1&e&&l.NdJ("focusin",function(){return t._handleFocus()})("blur",function(){return t._onTouched()})("input",function(e){return t._handleInput(e)})("keydown",function(e){return t._handleKeydown(e)}),2&e&&l.uIk("autocomplete",t.autocompleteAttribute)("role",t.autocompleteDisabled?null:"combobox")("aria-autocomplete",t.autocompleteDisabled?null:"list")("aria-activedescendant",t.panelOpen&&t.activeOption?t.activeOption.id:null)("aria-expanded",t.autocompleteDisabled?null:t.panelOpen.toString())("aria-owns",t.autocompleteDisabled||!t.panelOpen||null==t.autocomplete?null:t.autocomplete.id)("aria-haspopup",!t.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[l._Bn([$]),l.qOj]}),t}(),H=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({providers:[R],imports:[[Z.U8,u.Ng,u.BQ,_.ez],y.ZD,u.Ng,u.BQ]}),e}()},92762:function(e,t,i){"use strict";i.d(t,{Yi:function(){return k},A9:function(){return y},vV:function(){return A}});var o=i(19861),r=i(58378),s=i(35366),l=i(31041),u=i(87064),d=i(97388),g=["button"],f=["*"],m=new s.OlP("MAT_BUTTON_TOGGLE_DEFAULT_OPTIONS"),v=new s.OlP("MatButtonToggleGroup"),b={provide:l.JU,useExisting:(0,s.Gpc)(function(){return y}),multi:!0},_=0,Z=function e(t,n){p(this,e),this.source=t,this.value=n},y=function(){var e=function(){function e(t,n){p(this,e),this._changeDetector=t,this._vertical=!1,this._multiple=!1,this._disabled=!1,this._controlValueAccessorChangeFn=function(){},this._onTouched=function(){},this._name="mat-button-toggle-group-"+_++,this.valueChange=new s.vpe,this.change=new s.vpe,this.appearance=n&&n.appearance?n.appearance:"standard"}return h(e,[{key:"name",get:function(){return this._name},set:function(e){var t=this;this._name=e,this._buttonToggles&&this._buttonToggles.forEach(function(e){e.name=t._name,e._markForCheck()})}},{key:"vertical",get:function(){return this._vertical},set:function(e){this._vertical=(0,o.Ig)(e)}},{key:"value",get:function(){var e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e.map(function(e){return e.value}):e[0]?e[0].value:void 0},set:function(e){this._setSelectionByValue(e),this.valueChange.emit(this.value)}},{key:"selected",get:function(){var e=this._selectionModel?this._selectionModel.selected:[];return this.multiple?e:e[0]||null}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=(0,o.Ig)(e)}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=(0,o.Ig)(e),this._buttonToggles&&this._buttonToggles.forEach(function(e){return e._markForCheck()})}},{key:"ngOnInit",value:function(){this._selectionModel=new r.Ov(this.multiple,void 0,!1)}},{key:"ngAfterContentInit",value:function(){var e;(e=this._selectionModel).select.apply(e,c(this._buttonToggles.filter(function(e){return e.checked})))}},{key:"writeValue",value:function(e){this.value=e,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"_emitChangeEvent",value:function(){var e=this.selected,t=Array.isArray(e)?e[e.length-1]:e,n=new Z(t,this.value);this._controlValueAccessorChangeFn(n.value),this.change.emit(n)}},{key:"_syncButtonToggle",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.multiple||!this.selected||e.checked||(this.selected.checked=!1),this._selectionModel?t?this._selectionModel.select(e):this._selectionModel.deselect(e):a=!0,a?Promise.resolve().then(function(){return n._updateModelValue(i)}):this._updateModelValue(i)}},{key:"_isSelected",value:function(e){return this._selectionModel&&this._selectionModel.isSelected(e)}},{key:"_isPrechecked",value:function(e){return void 0!==this._rawValue&&(this.multiple&&Array.isArray(this._rawValue)?this._rawValue.some(function(t){return null!=e.value&&t===e.value}):e.value===this._rawValue)}},{key:"_setSelectionByValue",value:function(e){var t=this;this._rawValue=e,this._buttonToggles&&(this.multiple&&e?(Array.isArray(e),this._clearSelection(),e.forEach(function(e){return t._selectValue(e)})):(this._clearSelection(),this._selectValue(e)))}},{key:"_clearSelection",value:function(){this._selectionModel.clear(),this._buttonToggles.forEach(function(e){return e.checked=!1})}},{key:"_selectValue",value:function(e){var t=this._buttonToggles.find(function(t){return null!=t.value&&t.value===e});t&&(t.checked=!0,this._selectionModel.select(t))}},{key:"_updateModelValue",value:function(e){e&&this._emitChangeEvent(),this.valueChange.emit(this.value)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.sBO),s.Y36(m,8))},e.\u0275dir=s.lG2({type:e,selectors:[["mat-button-toggle-group"]],contentQueries:function(e,t,n){var i;(1&e&&s.Suo(n,k,5),2&e)&&(s.iGM(i=s.CRH())&&(t._buttonToggles=i))},hostAttrs:["role","group",1,"mat-button-toggle-group"],hostVars:5,hostBindings:function(e,t){2&e&&(s.uIk("aria-disabled",t.disabled),s.ekj("mat-button-toggle-vertical",t.vertical)("mat-button-toggle-group-appearance-standard","standard"===t.appearance))},inputs:{appearance:"appearance",name:"name",vertical:"vertical",value:"value",multiple:"multiple",disabled:"disabled"},outputs:{valueChange:"valueChange",change:"change"},exportAs:["matButtonToggleGroup"],features:[s._Bn([b,{provide:v,useExisting:e}])]}),e}(),x=(0,u.Kr)(function e(){p(this,e)}),k=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,o,r,l){var c;p(this,i),(c=t.call(this))._changeDetectorRef=n,c._elementRef=a,c._focusMonitor=o,c._isSingleSelector=!1,c._checked=!1,c.ariaLabelledby=null,c._disabled=!1,c.change=new s.vpe;var u=Number(r);return c.tabIndex=u||0===u?u:null,c.buttonToggleGroup=e,c.appearance=l&&l.appearance?l.appearance:"standard",c}return h(i,[{key:"buttonId",get:function(){return"".concat(this.id,"-button")}},{key:"appearance",get:function(){return this.buttonToggleGroup?this.buttonToggleGroup.appearance:this._appearance},set:function(e){this._appearance=e}},{key:"checked",get:function(){return this.buttonToggleGroup?this.buttonToggleGroup._isSelected(this):this._checked},set:function(e){var t=(0,o.Ig)(e);t!==this._checked&&(this._checked=t,this.buttonToggleGroup&&this.buttonToggleGroup._syncButtonToggle(this,this._checked),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled||this.buttonToggleGroup&&this.buttonToggleGroup.disabled},set:function(e){this._disabled=(0,o.Ig)(e)}},{key:"ngOnInit",value:function(){var e=this.buttonToggleGroup;this._isSingleSelector=e&&!e.multiple,this.id=this.id||"mat-button-toggle-"+_++,this._isSingleSelector&&(this.name=e.name),e&&(e._isPrechecked(this)?this.checked=!0:e._isSelected(this)!==this._checked&&e._syncButtonToggle(this,this._checked))}},{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){var e=this.buttonToggleGroup;this._focusMonitor.stopMonitoring(this._elementRef),e&&e._isSelected(this)&&e._syncButtonToggle(this,!1,!1,!0)}},{key:"focus",value:function(e){this._buttonElement.nativeElement.focus(e)}},{key:"_onButtonClick",value:function(){var e=!!this._isSingleSelector||!this._checked;e!==this._checked&&(this._checked=e,this.buttonToggleGroup&&(this.buttonToggleGroup._syncButtonToggle(this,this._checked,!0),this.buttonToggleGroup._onTouched())),this.change.emit(new Z(this,this.value))}},{key:"_markForCheck",value:function(){this._changeDetectorRef.markForCheck()}}]),i}(x);return e.\u0275fac=function(t){return new(t||e)(s.Y36(v,8),s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(d.tE),s.$8M("tabindex"),s.Y36(m,8))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-button-toggle"]],viewQuery:function(e,t){var n;(1&e&&s.Gf(g,5),2&e)&&(s.iGM(n=s.CRH())&&(t._buttonElement=n.first))},hostAttrs:["role","presentation",1,"mat-button-toggle"],hostVars:12,hostBindings:function(e,t){1&e&&s.NdJ("focus",function(){return t.focus()}),2&e&&(s.uIk("aria-label",null)("aria-labelledby",null)("id",t.id)("name",null),s.ekj("mat-button-toggle-standalone",!t.buttonToggleGroup)("mat-button-toggle-checked",t.checked)("mat-button-toggle-disabled",t.disabled)("mat-button-toggle-appearance-standard","standard"===t.appearance))},inputs:{disableRipple:"disableRipple",ariaLabelledby:["aria-labelledby","ariaLabelledby"],tabIndex:"tabIndex",appearance:"appearance",checked:"checked",disabled:"disabled",id:"id",name:"name",ariaLabel:["aria-label","ariaLabel"],value:"value"},outputs:{change:"change"},exportAs:["matButtonToggle"],features:[s.qOj],ngContentSelectors:f,decls:6,vars:9,consts:[["type","button",1,"mat-button-toggle-button","mat-focus-indicator",3,"id","disabled","click"],["button",""],[1,"mat-button-toggle-label-content"],[1,"mat-button-toggle-focus-overlay"],["matRipple","",1,"mat-button-toggle-ripple",3,"matRippleTrigger","matRippleDisabled"]],template:function(e,t){if(1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return t._onButtonClick()}),s.TgZ(2,"span",2),s.Hsn(3),s.qZA(),s.qZA(),s._UZ(4,"span",3),s._UZ(5,"span",4)),2&e){var n=s.MAs(1);s.Q6J("id",t.buttonId)("disabled",t.disabled||null),s.uIk("tabindex",t.disabled?-1:t.tabIndex)("aria-pressed",t.checked)("name",t.name||null)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),s.xp6(5),s.Q6J("matRippleTrigger",n)("matRippleDisabled",t.disableRipple||t.disabled)}},directives:[u.wG],styles:[".mat-button-toggle-standalone,.mat-button-toggle-group{position:relative;display:inline-flex;flex-direction:row;white-space:nowrap;overflow:hidden;border-radius:2px;-webkit-tap-highlight-color:transparent}.cdk-high-contrast-active .mat-button-toggle-standalone,.cdk-high-contrast-active .mat-button-toggle-group{outline:solid 1px}.mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.mat-button-toggle-group-appearance-standard{border-radius:4px}.cdk-high-contrast-active .mat-button-toggle-standalone.mat-button-toggle-appearance-standard,.cdk-high-contrast-active .mat-button-toggle-group-appearance-standard{outline:0}.mat-button-toggle-vertical{flex-direction:column}.mat-button-toggle-vertical .mat-button-toggle-label-content{display:block}.mat-button-toggle{white-space:nowrap;position:relative}.mat-button-toggle .mat-icon svg{vertical-align:top}.mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:1}.cdk-high-contrast-active .mat-button-toggle.cdk-keyboard-focused .mat-button-toggle-focus-overlay{opacity:.5}.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{opacity:.04}.mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.12}.cdk-high-contrast-active .mat-button-toggle-appearance-standard.cdk-keyboard-focused:not(.mat-button-toggle-disabled) .mat-button-toggle-focus-overlay{opacity:.5}@media(hover: none){.mat-button-toggle-appearance-standard:not(.mat-button-toggle-disabled):hover .mat-button-toggle-focus-overlay{display:none}}.mat-button-toggle-label-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:inline-block;line-height:36px;padding:0 16px;position:relative}.mat-button-toggle-appearance-standard .mat-button-toggle-label-content{padding:0 12px}.mat-button-toggle-label-content>*{vertical-align:middle}.mat-button-toggle-focus-overlay{border-radius:inherit;pointer-events:none;opacity:0;top:0;left:0;right:0;bottom:0;position:absolute}.mat-button-toggle-checked .mat-button-toggle-focus-overlay{border-bottom:solid 36px}.cdk-high-contrast-active .mat-button-toggle-checked .mat-button-toggle-focus-overlay{opacity:.5;height:0}.cdk-high-contrast-active .mat-button-toggle-checked.mat-button-toggle-appearance-standard .mat-button-toggle-focus-overlay{border-bottom:solid 500px}.mat-button-toggle .mat-button-toggle-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-button-toggle-button{border:0;background:none;color:inherit;padding:0;margin:0;font:inherit;outline:none;width:100%;cursor:pointer}.mat-button-toggle-disabled .mat-button-toggle-button{cursor:default}.mat-button-toggle-button::-moz-focus-inner{border:0}\n"],encapsulation:2,changeDetection:0}),e}(),A=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[u.BQ,u.si],u.BQ]}),e}()},95522:function(e,t,i){"use strict";i.d(t,{HS:function(){return M},oH:function(){return Y},qn:function(){return D},qH:function(){return O},Hi:function(){return E}});var o=i(99235),s=i(35366),l=i(87064),u=i(19861),d=i(61116),g=i(26136),f=i(55959),m=i(31906),v=i(90611),b=i(25416),_=i(56238),Z=i(97388),y=i(58378),x=i(13070),k=i(93169),A=i(94720),w=i(31041),T=["*"],C=new s.OlP("MatChipRemove"),q=new s.OlP("MatChipAvatar"),U=new s.OlP("MatChipTrailingIcon"),I=(0,l.sb)((0,l.pj)((0,l.Kr)(function e(t){p(this,e),this._elementRef=t}),"primary"),-1),M=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,o,c,u,d,g){var h;return p(this,i),(h=t.call(this,e))._elementRef=e,h._ngZone=n,h._changeDetectorRef=c,h._hasFocus=!1,h.chipListSelectable=!0,h._chipListMultiple=!1,h._chipListDisabled=!1,h._selected=!1,h._selectable=!0,h._disabled=!1,h._removable=!0,h._onFocus=new f.xQ,h._onBlur=new f.xQ,h.selectionChange=new s.vpe,h.destroyed=new s.vpe,h.removed=new s.vpe,h._addHostClassName(),h._chipRippleTarget=u.createElement("div"),h._chipRippleTarget.classList.add("mat-chip-ripple"),h._elementRef.nativeElement.appendChild(h._chipRippleTarget),h._chipRipple=new l.IR(r(h),n,h._chipRippleTarget,a),h._chipRipple.setupTriggerEvents(e),h.rippleConfig=o||{},h._animationsDisabled="NoopAnimations"===d,h.tabIndex=null!=g&&parseInt(g)||-1,h}return h(i,[{key:"rippleDisabled",get:function(){return this.disabled||this.disableRipple||this._animationsDisabled||!!this.rippleConfig.disabled}},{key:"selected",get:function(){return this._selected},set:function(e){var t=(0,u.Ig)(e);t!==this._selected&&(this._selected=t,this._dispatchSelectionChange())}},{key:"value",get:function(){return void 0!==this._value?this._value:this._elementRef.nativeElement.textContent},set:function(e){this._value=e}},{key:"selectable",get:function(){return this._selectable&&this.chipListSelectable},set:function(e){this._selectable=(0,u.Ig)(e)}},{key:"disabled",get:function(){return this._chipListDisabled||this._disabled},set:function(e){this._disabled=(0,u.Ig)(e)}},{key:"removable",get:function(){return this._removable},set:function(e){this._removable=(0,u.Ig)(e)}},{key:"ariaSelected",get:function(){return this.selectable&&(this._chipListMultiple||this.selected)?this.selected.toString():null}},{key:"_addHostClassName",value:function(){var e=this._elementRef.nativeElement;e.hasAttribute("mat-basic-chip")||"mat-basic-chip"===e.tagName.toLowerCase()?e.classList.add("mat-basic-chip"):e.classList.add("mat-standard-chip")}},{key:"ngOnDestroy",value:function(){this.destroyed.emit({chip:this}),this._chipRipple._removeTriggerEvents()}},{key:"select",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}},{key:"deselect",value:function(){this._selected&&(this._selected=!1,this._dispatchSelectionChange(),this._changeDetectorRef.markForCheck())}},{key:"selectViaInteraction",value:function(){this._selected||(this._selected=!0,this._dispatchSelectionChange(!0),this._changeDetectorRef.markForCheck())}},{key:"toggleSelected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._selected=!this.selected,this._dispatchSelectionChange(e),this._changeDetectorRef.markForCheck(),this.selected}},{key:"focus",value:function(){this._hasFocus||(this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})),this._hasFocus=!0}},{key:"remove",value:function(){this.removable&&this.removed.emit({chip:this})}},{key:"_handleClick",value:function(e){this.disabled?e.preventDefault():e.stopPropagation()}},{key:"_handleKeydown",value:function(e){if(!this.disabled)switch(e.keyCode){case o.yY:case o.ZH:this.remove(),e.preventDefault();break;case o.L_:this.selectable&&this.toggleSelected(!0),e.preventDefault()}}},{key:"_blur",value:function(){var e=this;this._ngZone.onStable.pipe((0,v.q)(1)).subscribe(function(){e._ngZone.run(function(){e._hasFocus=!1,e._onBlur.next({chip:e})})})}},{key:"_dispatchSelectionChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected})}}]),i}(I);return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(k.t4),s.Y36(l.Y2,8),s.Y36(s.sBO),s.Y36(d.K0),s.Y36(g.Qb,8),s.$8M("tabindex"))},e.\u0275dir=s.lG2({type:e,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,t,n){var i;(1&e&&(s.Suo(n,q,5),s.Suo(n,U,5),s.Suo(n,C,5)),2&e)&&(s.iGM(i=s.CRH())&&(t.avatar=i.first),s.iGM(i=s.CRH())&&(t.trailingIcon=i.first),s.iGM(i=s.CRH())&&(t.removeIcon=i.first))},hostAttrs:["role","option",1,"mat-chip","mat-focus-indicator"],hostVars:14,hostBindings:function(e,t){1&e&&s.NdJ("click",function(e){return t._handleClick(e)})("keydown",function(e){return t._handleKeydown(e)})("focus",function(){return t.focus()})("blur",function(){return t._blur()}),2&e&&(s.uIk("tabindex",t.disabled?null:t.tabIndex)("disabled",t.disabled||null)("aria-disabled",t.disabled.toString())("aria-selected",t.ariaSelected),s.ekj("mat-chip-selected",t.selected)("mat-chip-with-avatar",t.avatar)("mat-chip-with-trailing-icon",t.trailingIcon||t.removeIcon)("mat-chip-disabled",t.disabled)("_mat-animation-noopable",t._animationsDisabled))},inputs:{color:"color",disableRipple:"disableRipple",tabIndex:"tabIndex",selected:"selected",value:"value",selectable:"selectable",disabled:"disabled",removable:"removable"},outputs:{selectionChange:"selectionChange",destroyed:"destroyed",removed:"removed"},exportAs:["matChip"],features:[s.qOj]}),e}(),O=function(){var e=function(){function e(t,n){p(this,e),this._parentChip=t,"BUTTON"===n.nativeElement.nodeName&&n.nativeElement.setAttribute("type","button")}return h(e,[{key:"_handleClick",value:function(e){var t=this._parentChip;t.removable&&!t.disabled&&t.remove(),e.stopPropagation()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(M),s.Y36(s.SBq))},e.\u0275dir=s.lG2({type:e,selectors:[["","matChipRemove",""]],hostAttrs:[1,"mat-chip-remove","mat-chip-trailing-icon"],hostBindings:function(e,t){1&e&&s.NdJ("click",function(e){return t._handleClick(e)})},features:[s._Bn([{provide:C,useExisting:e}])]}),e}(),J=new s.OlP("mat-chips-default-options"),P=(0,l.FD)(function e(t,n,i,a){p(this,e),this._defaultErrorStateMatcher=t,this._parentForm=n,this._parentFormGroup=i,this.ngControl=a}),N=0,S=function e(t,n){p(this,e),this.source=t,this.value=n},D=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,o,l,c,u){var d;return p(this,i),(d=t.call(this,c,o,l,u))._elementRef=e,d._changeDetectorRef=n,d._dir=a,d.ngControl=u,d.controlType="mat-chip-list",d._lastDestroyedChipIndex=null,d._destroyed=new f.xQ,d._uid="mat-chip-list-"+N++,d._tabIndex=0,d._userTabIndex=null,d._onTouched=function(){},d._onChange=function(){},d._multiple=!1,d._compareWith=function(e,t){return e===t},d._required=!1,d._disabled=!1,d.ariaOrientation="horizontal",d._selectable=!0,d.change=new s.vpe,d.valueChange=new s.vpe,d.ngControl&&(d.ngControl.valueAccessor=r(d)),d}return h(i,[{key:"selected",get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}},{key:"role",get:function(){return this.empty?null:"listbox"}},{key:"multiple",get:function(){return this._multiple},set:function(e){this._multiple=(0,u.Ig)(e),this._syncChipsState()}},{key:"compareWith",get:function(){return this._compareWith},set:function(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}},{key:"value",get:function(){return this._value},set:function(e){this.writeValue(e),this._value=e}},{key:"id",get:function(){return this._chipInput?this._chipInput.id:this._uid}},{key:"required",get:function(){return this._required},set:function(e){this._required=(0,u.Ig)(e),this.stateChanges.next()}},{key:"placeholder",get:function(){return this._chipInput?this._chipInput.placeholder:this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()}},{key:"focused",get:function(){return this._chipInput&&this._chipInput.focused||this._hasFocusedChip()}},{key:"empty",get:function(){return(!this._chipInput||this._chipInput.empty)&&(!this.chips||0===this.chips.length)}},{key:"shouldLabelFloat",get:function(){return!this.empty||this.focused}},{key:"disabled",get:function(){return this.ngControl?!!this.ngControl.disabled:this._disabled},set:function(e){this._disabled=(0,u.Ig)(e),this._syncChipsState()}},{key:"selectable",get:function(){return this._selectable},set:function(e){var t=this;this._selectable=(0,u.Ig)(e),this.chips&&this.chips.forEach(function(e){return e.chipListSelectable=t._selectable})}},{key:"tabIndex",set:function(e){this._userTabIndex=e,this._tabIndex=e}},{key:"chipSelectionChanges",get:function(){return m.T.apply(void 0,c(this.chips.map(function(e){return e.selectionChange})))}},{key:"chipFocusChanges",get:function(){return m.T.apply(void 0,c(this.chips.map(function(e){return e._onFocus})))}},{key:"chipBlurChanges",get:function(){return m.T.apply(void 0,c(this.chips.map(function(e){return e._onBlur})))}},{key:"chipRemoveChanges",get:function(){return m.T.apply(void 0,c(this.chips.map(function(e){return e.destroyed})))}},{key:"ngAfterContentInit",value:function(){var e=this;this._keyManager=new Z.Em(this.chips).withWrap().withVerticalOrientation().withHomeAndEnd().withHorizontalOrientation(this._dir?this._dir.value:"ltr"),this._dir&&this._dir.change.pipe((0,b.R)(this._destroyed)).subscribe(function(t){return e._keyManager.withHorizontalOrientation(t)}),this._keyManager.tabOut.pipe((0,b.R)(this._destroyed)).subscribe(function(){e._allowFocusEscape()}),this.chips.changes.pipe((0,_.O)(null),(0,b.R)(this._destroyed)).subscribe(function(){e.disabled&&Promise.resolve().then(function(){e._syncChipsState()}),e._resetChips(),e._initializeSelection(),e._updateTabIndex(),e._updateFocusForDestroyedChips(),e.stateChanges.next()})}},{key:"ngOnInit",value:function(){this._selectionModel=new y.Ov(this.multiple,void 0,!1),this.stateChanges.next()}},{key:"ngDoCheck",value:function(){this.ngControl&&(this.updateErrorState(),this.ngControl.disabled!==this._disabled&&(this.disabled=!!this.ngControl.disabled))}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this.stateChanges.complete(),this._dropSubscriptions()}},{key:"registerInput",value:function(e){this._chipInput=e,this._elementRef.nativeElement.setAttribute("data-mat-chip-input",e.id)}},{key:"setDescribedByIds",value:function(e){this._ariaDescribedby=e.join(" ")}},{key:"writeValue",value:function(e){this.chips&&this._setSelectionByValue(e,!1)}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.stateChanges.next()}},{key:"onContainerClick",value:function(e){this._originatesFromChip(e)||this.focus()}},{key:"focus",value:function(e){this.disabled||this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(e),this.stateChanges.next()))}},{key:"_focusInput",value:function(e){this._chipInput&&this._chipInput.focus(e)}},{key:"_keydown",value:function(e){var t=e.target;e.keyCode===o.ZH&&this._isInputEmpty(t)?(this._keyManager.setLastItemActive(),e.preventDefault()):t&&t.classList.contains("mat-chip")&&(this._keyManager.onKeydown(e),this.stateChanges.next())}},{key:"_updateTabIndex",value:function(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)}},{key:"_updateFocusForDestroyedChips",value:function(){if(null!=this._lastDestroyedChipIndex)if(this.chips.length){var e=Math.min(this._lastDestroyedChipIndex,this.chips.length-1);this._keyManager.setActiveItem(e)}else this.focus();this._lastDestroyedChipIndex=null}},{key:"_isValidIndex",value:function(e){return e>=0&&e<this.chips.length}},{key:"_isInputEmpty",value:function(e){return!(!e||"input"!==e.nodeName.toLowerCase()||e.value)}},{key:"_setSelectionByValue",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._clearSelection(),this.chips.forEach(function(e){return e.deselect()}),Array.isArray(e))e.forEach(function(e){return t._selectValue(e,n)}),this._sortValues();else{var i=this._selectValue(e,n);i&&n&&this._keyManager.setActiveItem(i)}}},{key:"_selectValue",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.chips.find(function(n){return null!=n.value&&t._compareWith(n.value,e)});return i&&(n?i.selectViaInteraction():i.select(),this._selectionModel.select(i)),i}},{key:"_initializeSelection",value:function(){var e=this;Promise.resolve().then(function(){(e.ngControl||e._value)&&(e._setSelectionByValue(e.ngControl?e.ngControl.value:e._value,!1),e.stateChanges.next())})}},{key:"_clearSelection",value:function(e){this._selectionModel.clear(),this.chips.forEach(function(t){t!==e&&t.deselect()}),this.stateChanges.next()}},{key:"_sortValues",value:function(){var e=this;this._multiple&&(this._selectionModel.clear(),this.chips.forEach(function(t){t.selected&&e._selectionModel.select(t)}),this.stateChanges.next())}},{key:"_propagateChanges",value:function(e){var t;t=Array.isArray(this.selected)?this.selected.map(function(e){return e.value}):this.selected?this.selected.value:e,this._value=t,this.change.emit(new S(this,t)),this.valueChange.emit(t),this._onChange(t),this._changeDetectorRef.markForCheck()}},{key:"_blur",value:function(){var e=this;this._hasFocusedChip()||this._keyManager.setActiveItem(-1),this.disabled||(this._chipInput?setTimeout(function(){e.focused||e._markAsTouched()}):this._markAsTouched())}},{key:"_markAsTouched",value:function(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}},{key:"_allowFocusEscape",value:function(){var e=this;-1!==this._tabIndex&&(this._tabIndex=-1,setTimeout(function(){e._tabIndex=e._userTabIndex||0,e._changeDetectorRef.markForCheck()}))}},{key:"_resetChips",value:function(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()}},{key:"_dropSubscriptions",value:function(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null),this._chipRemoveSubscription&&(this._chipRemoveSubscription.unsubscribe(),this._chipRemoveSubscription=null)}},{key:"_listenToChipsSelection",value:function(){var e=this;this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(function(t){t.source.selected?e._selectionModel.select(t.source):e._selectionModel.deselect(t.source),e.multiple||e.chips.forEach(function(t){!e._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&e._propagateChanges()})}},{key:"_listenToChipsFocus",value:function(){var e=this;this._chipFocusSubscription=this.chipFocusChanges.subscribe(function(t){var n=e.chips.toArray().indexOf(t.chip);e._isValidIndex(n)&&e._keyManager.updateActiveItem(n),e.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(function(){e._blur(),e.stateChanges.next()})}},{key:"_listenToChipsRemoved",value:function(){var e=this;this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(function(t){var n=t.chip,i=e.chips.toArray().indexOf(t.chip);e._isValidIndex(i)&&n._hasFocus&&(e._lastDestroyedChipIndex=i)})}},{key:"_originatesFromChip",value:function(e){for(var t=e.target;t&&t!==this._elementRef.nativeElement;){if(t.classList.contains("mat-chip"))return!0;t=t.parentElement}return!1}},{key:"_hasFocusedChip",value:function(){return this.chips&&this.chips.some(function(e){return e._hasFocus})}},{key:"_syncChipsState",value:function(){var e=this;this.chips&&this.chips.forEach(function(t){t._chipListDisabled=e._disabled,t._chipListMultiple=e.multiple})}}]),i}(P);return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(A.Is,8),s.Y36(w.F,8),s.Y36(w.sg,8),s.Y36(l.rD),s.Y36(w.a5,10))},e.\u0275cmp=s.Xpm({type:e,selectors:[["mat-chip-list"]],contentQueries:function(e,t,n){var i;(1&e&&s.Suo(n,M,5),2&e)&&(s.iGM(i=s.CRH())&&(t.chips=i))},hostAttrs:[1,"mat-chip-list"],hostVars:15,hostBindings:function(e,t){1&e&&s.NdJ("focus",function(){return t.focus()})("blur",function(){return t._blur()})("keydown",function(e){return t._keydown(e)}),2&e&&(s.Ikx("id",t._uid),s.uIk("tabindex",t.disabled?null:t._tabIndex)("aria-describedby",t._ariaDescribedby||null)("aria-required",t.role?t.required:null)("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState)("aria-multiselectable",t.multiple)("role",t.role)("aria-orientation",t.ariaOrientation),s.ekj("mat-chip-list-disabled",t.disabled)("mat-chip-list-invalid",t.errorState)("mat-chip-list-required",t.required))},inputs:{ariaOrientation:["aria-orientation","ariaOrientation"],multiple:"multiple",compareWith:"compareWith",value:"value",required:"required",placeholder:"placeholder",disabled:"disabled",selectable:"selectable",tabIndex:"tabIndex",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},exportAs:["matChipList"],features:[s._Bn([{provide:x.Eo,useExisting:e}]),s.qOj],ngContentSelectors:T,decls:2,vars:0,consts:[[1,"mat-chip-list-wrapper"]],template:function(e,t){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:['.mat-chip{position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;transform:translateZ(0);border:none;-webkit-appearance:none;-moz-appearance:none}.mat-standard-chip{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:inline-flex;padding:7px 12px;border-radius:16px;align-items:center;cursor:default;min-height:32px;height:1px}._mat-animation-noopable.mat-standard-chip{transition:none;animation:none}.mat-standard-chip .mat-chip-remove.mat-icon{width:18px;height:18px}.mat-standard-chip::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit;opacity:0;content:"";pointer-events:none;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-standard-chip:hover::after{opacity:.12}.mat-standard-chip:focus{outline:none}.mat-standard-chip:focus::after{opacity:.16}.cdk-high-contrast-active .mat-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-standard-chip:focus{outline:dotted 2px}.mat-standard-chip.mat-chip-disabled::after{opacity:0}.mat-standard-chip.mat-chip-disabled .mat-chip-remove,.mat-standard-chip.mat-chip-disabled .mat-chip-trailing-icon{cursor:default}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar,.mat-standard-chip.mat-chip-with-avatar{padding-top:0;padding-bottom:0}.mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-right:8px;padding-left:0}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon.mat-chip-with-avatar{padding-left:8px;padding-right:0}.mat-standard-chip.mat-chip-with-trailing-icon{padding-top:7px;padding-bottom:7px;padding-right:8px;padding-left:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-trailing-icon{padding-left:8px;padding-right:12px}.mat-standard-chip.mat-chip-with-avatar{padding-left:0;padding-right:12px}[dir=rtl] .mat-standard-chip.mat-chip-with-avatar{padding-right:0;padding-left:12px}.mat-standard-chip .mat-chip-avatar{width:24px;height:24px;margin-right:8px;margin-left:4px}[dir=rtl] .mat-standard-chip .mat-chip-avatar{margin-left:8px;margin-right:4px}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{width:18px;height:18px;cursor:pointer}.mat-standard-chip .mat-chip-remove,.mat-standard-chip .mat-chip-trailing-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-standard-chip .mat-chip-remove,[dir=rtl] .mat-standard-chip .mat-chip-trailing-icon{margin-right:8px;margin-left:0}.mat-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit;overflow:hidden}.mat-chip-list-wrapper{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;margin:-4px}.mat-chip-list-wrapper input.mat-input-element,.mat-chip-list-wrapper .mat-standard-chip{margin:4px}.mat-chip-list-stacked .mat-chip-list-wrapper{flex-direction:column;align-items:flex-start}.mat-chip-list-stacked .mat-chip-list-wrapper .mat-standard-chip{width:100%}.mat-chip-avatar{border-radius:50%;justify-content:center;align-items:center;display:flex;overflow:hidden;object-fit:cover}input.mat-chip-input{width:150px;margin:4px;flex:1 0 150px}\n'],encapsulation:2,changeDetection:0}),e}(),Q=0,Y=function(){var e=function(){function e(t,n){p(this,e),this._elementRef=t,this._defaultOptions=n,this.focused=!1,this._addOnBlur=!1,this.separatorKeyCodes=this._defaultOptions.separatorKeyCodes,this.chipEnd=new s.vpe,this.placeholder="",this.id="mat-chip-list-input-"+Q++,this._disabled=!1,this._inputElement=this._elementRef.nativeElement}return h(e,[{key:"chipList",set:function(e){e&&(this._chipList=e,this._chipList.registerInput(this))}},{key:"addOnBlur",get:function(){return this._addOnBlur},set:function(e){this._addOnBlur=(0,u.Ig)(e)}},{key:"disabled",get:function(){return this._disabled||this._chipList&&this._chipList.disabled},set:function(e){this._disabled=(0,u.Ig)(e)}},{key:"empty",get:function(){return!this._inputElement.value}},{key:"ngOnChanges",value:function(){this._chipList.stateChanges.next()}},{key:"_keydown",value:function(e){e&&e.keyCode===o.Mf&&!(0,o.Vb)(e,"shiftKey")&&this._chipList._allowFocusEscape(),this._emitChipEnd(e)}},{key:"_blur",value:function(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()}},{key:"_focus",value:function(){this.focused=!0,this._chipList.stateChanges.next()}},{key:"_emitChipEnd",value:function(e){!this._inputElement.value&&e&&this._chipList._keydown(e),e&&!this._isSeparatorKey(e)||(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),e&&e.preventDefault())}},{key:"_onInput",value:function(){this._chipList.stateChanges.next()}},{key:"focus",value:function(e){this._inputElement.focus(e)}},{key:"_isSeparatorKey",value:function(e){return!(0,o.Vb)(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.SBq),s.Y36(J))},e.\u0275dir=s.lG2({type:e,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-chip-input","mat-input-element"],hostVars:5,hostBindings:function(e,t){1&e&&s.NdJ("keydown",function(e){return t._keydown(e)})("blur",function(){return t._blur()})("focus",function(){return t._focus()})("input",function(){return t._onInput()}),2&e&&(s.Ikx("id",t.id),s.uIk("disabled",t.disabled||null)("placeholder",t.placeholder||null)("aria-invalid",t._chipList&&t._chipList.ngControl?t._chipList.ngControl.invalid:null)("aria-required",t._chipList&&t._chipList.required||null))},inputs:{separatorKeyCodes:["matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",chipList:["matChipInputFor","chipList"],addOnBlur:["matChipInputAddOnBlur","addOnBlur"],disabled:"disabled"},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[s.TTD]}),e}(),L={separatorKeyCodes:[o.K5]},E=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({providers:[l.rD,{provide:J,useValue:L}],imports:[[l.BQ]]}),e}()},6489:function(e,i,o){"use strict";o.d(i,{pp:function(){return G},To:function(){return j},ib:function(){return V},VG:function(){return B},yz:function(){return H},yK:function(){return z}});var r=o(35366),l=o(19861),c=o(55959),u=o(87570),d=o(58378),g=0,f=new r.OlP("CdkAccordion"),m=function(){var e=function(){function e(){p(this,e),this._stateChanges=new c.xQ,this._openCloseAllActions=new c.xQ,this.id="cdk-accordion-"+g++,this._multi=!1}return h(e,[{key:"multi",get:function(){return this._multi},set:function(e){this._multi=(0,l.Ig)(e)}},{key:"openAll",value:function(){this._multi&&this._openCloseAllActions.next(!0)}},{key:"closeAll",value:function(){this._openCloseAllActions.next(!1)}},{key:"ngOnChanges",value:function(e){this._stateChanges.next(e)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete(),this._openCloseAllActions.complete()}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:"multi"},exportAs:["cdkAccordion"],features:[r._Bn([{provide:f,useExisting:e}]),r.TTD]}),e}(),v=0,b=function(){var e=function(){function e(t,n,i){var a=this;p(this,e),this.accordion=t,this._changeDetectorRef=n,this._expansionDispatcher=i,this._openCloseAllSubscription=u.w.EMPTY,this.closed=new r.vpe,this.opened=new r.vpe,this.destroyed=new r.vpe,this.expandedChange=new r.vpe,this.id="cdk-accordion-child-"+v++,this._expanded=!1,this._disabled=!1,this._removeUniqueSelectionListener=function(){},this._removeUniqueSelectionListener=i.listen(function(e,t){a.accordion&&!a.accordion.multi&&a.accordion.id===t&&a.id!==e&&(a.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}return h(e,[{key:"expanded",get:function(){return this._expanded},set:function(e){e=(0,l.Ig)(e),this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=(0,l.Ig)(e)}},{key:"ngOnDestroy",value:function(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}},{key:"toggle",value:function(){this.disabled||(this.expanded=!this.expanded)}},{key:"close",value:function(){this.disabled||(this.expanded=!1)}},{key:"open",value:function(){this.disabled||(this.expanded=!0)}},{key:"_subscribeToOpenCloseAllActions",value:function(){var e=this;return this.accordion._openCloseAllActions.subscribe(function(t){e.disabled||(e.expanded=t)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(f,12),r.Y36(r.sBO),r.Y36(d.A8))},e.\u0275dir=r.lG2({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:"expanded",disabled:"disabled"},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[r._Bn([{provide:f,useValue:void 0}])]}),e}(),_=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e}(),Z=o(82151),y=o(61116),x=o(87064),k=o(97388),A=o(98720),w=o(56238),T=o(43835),C=o(90611),q=o(99235),U=o(26136),I=o(34056),M=o(31906),O=o(99713),J=["body"];function P(e,t){}var N=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],S=["mat-expansion-panel-header","*","mat-action-row"];function D(e,t){if(1&e&&r._UZ(0,"span",2),2&e){var n=r.oxw();r.Q6J("@indicatorRotate",n._getExpandedState())}}var Q=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Y=["mat-panel-title","mat-panel-description","*"],L=new r.OlP("MAT_ACCORDION"),E={indicatorRotate:(0,O.X$)("indicatorRotate",[(0,O.SB)("collapsed, void",(0,O.oB)({transform:"rotate(0deg)"})),(0,O.SB)("expanded",(0,O.oB)({transform:"rotate(180deg)"})),(0,O.eR)("expanded <=> collapsed, void => collapsed",(0,O.jt)("225ms cubic-bezier(0.4,0.0,0.2,1)"))]),bodyExpansion:(0,O.X$)("bodyExpansion",[(0,O.SB)("collapsed, void",(0,O.oB)({height:"0px",visibility:"hidden"})),(0,O.SB)("expanded",(0,O.oB)({height:"*",visibility:"visible"})),(0,O.eR)("expanded <=> collapsed, void => collapsed",(0,O.jt)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])},F=function(){var e=function e(t){p(this,e),this._template=t};return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["ng-template","matExpansionPanelContent",""]]}),e}(),R=0,$=new r.OlP("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS"),V=function(){var e=function(e){n(o,e);var i=a(o);function o(e,t,n,a,s,l,u){var d;return p(this,o),(d=i.call(this,e,t,n))._viewContainerRef=a,d._animationMode=l,d._hideToggle=!1,d.afterExpand=new r.vpe,d.afterCollapse=new r.vpe,d._inputChanges=new c.xQ,d._headerId="mat-expansion-panel-header-"+R++,d._bodyAnimationDone=new c.xQ,d.accordion=e,d._document=s,d._bodyAnimationDone.pipe((0,A.x)(function(e,t){return e.fromState===t.fromState&&e.toState===t.toState})).subscribe(function(e){"void"!==e.fromState&&("expanded"===e.toState?d.afterExpand.emit():"collapsed"===e.toState&&d.afterCollapse.emit())}),u&&(d.hideToggle=u.hideToggle),d}return h(o,[{key:"hideToggle",get:function(){return this._hideToggle||this.accordion&&this.accordion.hideToggle},set:function(e){this._hideToggle=(0,l.Ig)(e)}},{key:"togglePosition",get:function(){return this._togglePosition||this.accordion&&this.accordion.togglePosition},set:function(e){this._togglePosition=e}},{key:"_hasSpacing",value:function(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}},{key:"_getExpandedState",value:function(){return this.expanded?"expanded":"collapsed"}},{key:"toggle",value:function(){this.expanded=!this.expanded}},{key:"close",value:function(){this.expanded=!1}},{key:"open",value:function(){this.expanded=!0}},{key:"ngAfterContentInit",value:function(){var e=this;this._lazyContent&&this.opened.pipe((0,w.O)(null),(0,T.h)(function(){return e.expanded&&!e._portal}),(0,C.q)(1)).subscribe(function(){e._portal=new Z.UE(e._lazyContent._template,e._viewContainerRef)})}},{key:"ngOnChanges",value:function(e){this._inputChanges.next(e)}},{key:"ngOnDestroy",value:function(){t(s(o.prototype),"ngOnDestroy",this).call(this),this._bodyAnimationDone.complete(),this._inputChanges.complete()}},{key:"_containsFocus",value:function(){if(this._body){var e=this._document.activeElement,t=this._body.nativeElement;return e===t||t.contains(e)}return!1}}]),o}(b);return e.\u0275fac=function(t){return new(t||e)(r.Y36(L,12),r.Y36(r.sBO),r.Y36(d.A8),r.Y36(r.s_b),r.Y36(y.K0),r.Y36(U.Qb,8),r.Y36($,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-expansion-panel"]],contentQueries:function(e,t,n){var i;(1&e&&r.Suo(n,F,5),2&e)&&(r.iGM(i=r.CRH())&&(t._lazyContent=i.first))},viewQuery:function(e,t){var n;(1&e&&r.Gf(J,5),2&e)&&(r.iGM(n=r.CRH())&&(t._body=n.first))},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(e,t){2&e&&r.ekj("mat-expanded",t.expanded)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-expansion-panel-spacing",t._hasSpacing())},inputs:{disabled:"disabled",expanded:"expanded",hideToggle:"hideToggle",togglePosition:"togglePosition"},outputs:{opened:"opened",closed:"closed",expandedChange:"expandedChange",afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],features:[r._Bn([{provide:L,useValue:void 0}]),r.qOj,r.TTD],ngContentSelectors:S,decls:7,vars:4,consts:[["role","region",1,"mat-expansion-panel-content",3,"id"],["body",""],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(e,t){1&e&&(r.F$t(N),r.Hsn(0),r.TgZ(1,"div",0,1),r.NdJ("@bodyExpansion.done",function(e){return t._bodyAnimationDone.next(e)}),r.TgZ(3,"div",2),r.Hsn(4,1),r.YNc(5,P,0,0,"ng-template",3),r.qZA(),r.Hsn(6,2),r.qZA()),2&e&&(r.xp6(1),r.Q6J("@bodyExpansion",t._getExpandedState())("id",t.id),r.uIk("aria-labelledby",t._headerId),r.xp6(4),r.Q6J("cdkPortalOutlet",t._portal))},directives:[Z.Pl],styles:[".mat-expansion-panel{box-sizing:content-box;display:block;margin:0;border-radius:4px;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:4px;border-top-left-radius:4px}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:4px;border-bottom-left-radius:4px}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px}.mat-action-row button.mat-button-base,.mat-action-row button.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row button.mat-button-base,[dir=rtl] .mat-action-row button.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[E.bodyExpansion]},changeDetection:0}),e}(),B=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-action-row"]],hostAttrs:[1,"mat-action-row"]}),e}(),H=function(){var e=function(){function e(t,n,i,a,o,r){var s=this;p(this,e),this.panel=t,this._element=n,this._focusMonitor=i,this._changeDetectorRef=a,this._animationMode=r,this._parentChangeSubscription=u.w.EMPTY;var l=t.accordion?t.accordion._stateChanges.pipe((0,T.h)(function(e){return!(!e.hideToggle&&!e.togglePosition)})):I.E;this._parentChangeSubscription=(0,M.T)(t.opened,t.closed,l,t._inputChanges.pipe((0,T.h)(function(e){return!!(e.hideToggle||e.disabled||e.togglePosition)}))).subscribe(function(){return s._changeDetectorRef.markForCheck()}),t.closed.pipe((0,T.h)(function(){return t._containsFocus()})).subscribe(function(){return i.focusVia(n,"program")}),o&&(this.expandedHeight=o.expandedHeight,this.collapsedHeight=o.collapsedHeight)}return h(e,[{key:"disabled",get:function(){return this.panel.disabled}},{key:"_toggle",value:function(){this.disabled||this.panel.toggle()}},{key:"_isExpanded",value:function(){return this.panel.expanded}},{key:"_getExpandedState",value:function(){return this.panel._getExpandedState()}},{key:"_getPanelId",value:function(){return this.panel.id}},{key:"_getTogglePosition",value:function(){return this.panel.togglePosition}},{key:"_showToggle",value:function(){return!this.panel.hideToggle&&!this.panel.disabled}},{key:"_getHeaderHeight",value:function(){var e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}},{key:"_keydown",value:function(e){switch(e.keyCode){case q.L_:case q.K5:(0,q.Vb)(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}},{key:"focus",value:function(e,t){e?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}},{key:"ngAfterViewInit",value:function(){var e=this;this._focusMonitor.monitor(this._element).subscribe(function(t){t&&e.panel.accordion&&e.panel.accordion._handleHeaderFocus(e)})}},{key:"ngOnDestroy",value:function(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(V,1),r.Y36(r.SBq),r.Y36(k.tE),r.Y36(r.sBO),r.Y36($,8),r.Y36(U.Qb,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t._toggle()})("keydown",function(e){return t._keydown(e)}),2&e&&(r.uIk("id",t.panel._headerId)("tabindex",t.disabled?-1:0)("aria-controls",t._getPanelId())("aria-expanded",t._isExpanded())("aria-disabled",t.panel.disabled),r.Udp("height",t._getHeaderHeight()),r.ekj("mat-expanded",t._isExpanded())("mat-expansion-toggle-indicator-after","after"===t._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===t._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight"},ngContentSelectors:Y,decls:5,vars:1,consts:[[1,"mat-content"],["class","mat-expansion-indicator",4,"ngIf"],[1,"mat-expansion-indicator"]],template:function(e,t){1&e&&(r.F$t(Q),r.TgZ(0,"span",0),r.Hsn(1),r.Hsn(2,1),r.Hsn(3,2),r.qZA(),r.YNc(4,D,1,1,"span",1)),2&e&&(r.xp6(4),r.Q6J("ngIf",t._showToggle()))},directives:[y.O5],styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;margin-right:16px}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header-description{flex-grow:2}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle}.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-keyboard-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel .mat-expansion-panel-header.cdk-program-focused:not([aria-disabled=true])::before,.cdk-high-contrast-active .mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:hover:not([aria-disabled=true])::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;border:3px solid;border-radius:4px;content:""}\n'],encapsulation:2,data:{animation:[E.indicatorRotate]},changeDetection:0}),e}(),z=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"]}),e}(),G=function(){var e,i=function(e){n(o,e);var i=a(o);function o(){var e;return p(this,o),(e=i.apply(this,arguments))._ownHeaders=new r.n_E,e._hideToggle=!1,e.displayMode="default",e.togglePosition="after",e}return h(o,[{key:"hideToggle",get:function(){return this._hideToggle},set:function(e){this._hideToggle=(0,l.Ig)(e)}},{key:"ngAfterContentInit",value:function(){var e=this;this._headers.changes.pipe((0,w.O)(this._headers)).subscribe(function(t){e._ownHeaders.reset(t.filter(function(t){return t.panel.accordion===e})),e._ownHeaders.notifyOnChanges()}),this._keyManager=new k.Em(this._ownHeaders).withWrap().withHomeAndEnd()}},{key:"_handleHeaderKeydown",value:function(e){this._keyManager.onKeydown(e)}},{key:"_handleHeaderFocus",value:function(e){this._keyManager.updateActiveItem(e)}},{key:"ngOnDestroy",value:function(){t(s(o.prototype),"ngOnDestroy",this).call(this),this._ownHeaders.destroy()}}]),o}(m);return i.\u0275fac=function(t){return(e||(e=r.n5z(i)))(t||i)},i.\u0275dir=r.lG2({type:i,selectors:[["mat-accordion"]],contentQueries:function(e,t,n){var i;(1&e&&r.Suo(n,H,5),2&e)&&(r.iGM(i=r.CRH())&&(t._headers=i))},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(e,t){2&e&&r.ekj("mat-accordion-multi",t.multi)},inputs:{multi:"multi",displayMode:"displayMode",togglePosition:"togglePosition",hideToggle:"hideToggle"},exportAs:["matAccordion"],features:[r._Bn([{provide:L,useExisting:i}]),r.qOj]}),i}(),j=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[y.ez,x.BQ,_,Z.eL]]}),e}()},7436:function(e,t,i){"use strict";i.d(t,{U0:function(){return T},VQ:function(){return k},Fk:function(){return C}});var o=i(35366),r=i(87064),s=i(19861),l=i(31041),c=i(26136),u=i(97388),d=i(58378),g=["input"],f=function(){return{enterDuration:150}},m=["*"],v=new o.OlP("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}}),b=0,_={provide:l.JU,useExisting:(0,o.Gpc)(function(){return k}),multi:!0},Z=function e(t,n){p(this,e),this.source=t,this.value=n},y=new o.OlP("MatRadioGroup"),x=function(){var e=function(){function e(t){p(this,e),this._changeDetector=t,this._value=null,this._name="mat-radio-group-"+b++,this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new o.vpe}return h(e,[{key:"name",get:function(){return this._name},set:function(e){this._name=e,this._updateRadioButtonNames()}},{key:"labelPosition",get:function(){return this._labelPosition},set:function(e){this._labelPosition="before"===e?"before":"after",this._markRadiosForCheck()}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}},{key:"_checkSelectedRadioButton",value:function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e,this.value=e?e.value:null,this._checkSelectedRadioButton()}},{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=(0,s.Ig)(e),this._markRadiosForCheck()}},{key:"required",get:function(){return this._required},set:function(e){this._required=(0,s.Ig)(e),this._markRadiosForCheck()}},{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"_touch",value:function(){this.onTouched&&this.onTouched()}},{key:"_updateRadioButtonNames",value:function(){var e=this;this._radios&&this._radios.forEach(function(t){t.name=e.name,t._markForCheck()})}},{key:"_updateSelectedRadioFromValue",value:function(){var e=this;this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach(function(t){t.checked=e.value===t.value,t.checked&&(e._selected=t)}))}},{key:"_emitChangeEvent",value:function(){this._isInitialized&&this.change.emit(new Z(this._selected,this._value))}},{key:"_markRadiosForCheck",value:function(){this._radios&&this._radios.forEach(function(e){return e._markForCheck()})}},{key:"writeValue",value:function(e){this.value=e,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(e){this._controlValueAccessorChangeFn=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetector.markForCheck()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO))},e.\u0275dir=o.lG2({type:e,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),e}(),k=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){return p(this,i),t.apply(this,arguments)}return i}(x);return t.\u0275fac=function(n){return(e||(e=o.n5z(t)))(n||t)},t.\u0275dir=o.lG2({type:t,selectors:[["mat-radio-group"]],contentQueries:function(e,t,n){var i;(1&e&&o.Suo(n,T,5),2&e)&&(o.iGM(i=o.CRH())&&(t._radios=i))},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[o._Bn([_,{provide:y,useExisting:t}]),o.qOj]}),t}(),A=(0,r.Kr)((0,r.sb)(function e(t){p(this,e),this._elementRef=t})),w=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,r,l,c,u,d){var g;return p(this,i),(g=t.call(this,n))._changeDetector=a,g._focusMonitor=r,g._radioDispatcher=l,g._animationMode=c,g._providerOverride=u,g._uniqueId="mat-radio-"+ ++b,g.id=g._uniqueId,g.change=new o.vpe,g._checked=!1,g._value=null,g._removeUniqueSelectionListener=function(){},g.radioGroup=e,d&&(g.tabIndex=(0,s.su)(d,0)),g._removeUniqueSelectionListener=l.listen(function(e,t){e!==g.id&&t===g.name&&(g.checked=!1)}),g}return h(i,[{key:"checked",get:function(){return this._checked},set:function(e){var t=(0,s.Ig)(e);this._checked!==t&&(this._checked=t,t&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!t&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),t&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}},{key:"value",get:function(){return this._value},set:function(e){this._value!==e&&(this._value=e,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===e),this.checked&&(this.radioGroup.selected=this)))}},{key:"labelPosition",get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(e){this._labelPosition=e}},{key:"disabled",get:function(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled},set:function(e){this._setDisabled((0,s.Ig)(e))}},{key:"required",get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(e){this._required=(0,s.Ig)(e)}},{key:"color",get:function(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"},set:function(e){this._color=e}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"focus",value:function(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}},{key:"_markForCheck",value:function(){this._changeDetector.markForCheck()}},{key:"ngOnInit",value:function(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.checked&&(this.radioGroup.selected=this),this.name=this.radioGroup.name)}},{key:"ngAfterViewInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(t){!t&&e.radioGroup&&e.radioGroup._touch()})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}},{key:"_emitChangeEvent",value:function(){this.change.emit(new Z(this,this._value))}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onInputClick",value:function(e){e.stopPropagation()}},{key:"_onInputChange",value:function(e){e.stopPropagation();var t=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),t&&this.radioGroup._emitChangeEvent())}},{key:"_setDisabled",value:function(e){this._disabled!==e&&(this._disabled=e,this._changeDetector.markForCheck())}}]),i}(A);return e.\u0275fac=function(t){return new(t||e)(o.Y36(x),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(u.tE),o.Y36(d.A8),o.Y36(String),o.Y36(void 0),o.Y36(String))},e.\u0275dir=o.lG2({type:e,viewQuery:function(e,t){var n;(1&e&&o.Gf(g,5),2&e)&&(o.iGM(n=o.CRH())&&(t._inputElement=n.first))},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[o.qOj]}),e}(),T=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,o,r,s,l,c){return p(this,i),t.call(this,e,n,a,o,r,s,l,c)}return i}(w);return e.\u0275fac=function(t){return new(t||e)(o.Y36(y,8),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(u.tE),o.Y36(d.A8),o.Y36(c.Qb,8),o.Y36(v,8),o.$8M("tabindex"))},e.\u0275cmp=o.Xpm({type:e,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(e,t){1&e&&o.NdJ("focus",function(){return t._inputElement.nativeElement.focus()}),2&e&&(o.uIk("tabindex",null)("id",t.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),o.ekj("mat-radio-checked",t.checked)("mat-radio-disabled",t.disabled)("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-primary","primary"===t.color)("mat-accent","accent"===t.color)("mat-warn","warn"===t.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[o.qOj],ngContentSelectors:m,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(e,t){if(1&e&&(o.F$t(),o.TgZ(0,"label",0,1),o.TgZ(2,"span",2),o._UZ(3,"span",3),o._UZ(4,"span",4),o.TgZ(5,"input",5,6),o.NdJ("change",function(e){return t._onInputChange(e)})("click",function(e){return t._onInputClick(e)}),o.qZA(),o.TgZ(7,"span",7),o._UZ(8,"span",8),o.qZA(),o.qZA(),o.TgZ(9,"span",9),o.TgZ(10,"span",10),o._uU(11,"\xa0"),o.qZA(),o.Hsn(12),o.qZA(),o.qZA()),2&e){var n=o.MAs(1);o.uIk("for",t.inputId),o.xp6(5),o.Q6J("id",t.inputId)("checked",t.checked)("disabled",t.disabled)("tabIndex",t.tabIndex)("required",t.required),o.uIk("name",t.name)("value",t.value)("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby)("aria-describedby",t.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",n)("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",o.DdM(18,f)),o.xp6(2),o.ekj("mat-radio-label-before","before"==t.labelPosition)}},directives:[r.wG],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;display:block;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none;top:0;left:0}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),e}(),C=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[r.si,r.BQ],r.BQ]}),e}()},79572:function(e,t,i){"use strict";i.d(t,{Rr:function(){return A},rP:function(){return T}});var o=i(27853),r=i(35366),s=i(87064),l=i(19861),c=i(31041),u=i(26136),d=i(97388),g=["thumbContainer"],f=["toggleBar"],m=["input"],v=function(){return{enterDuration:150}},b=["*"],_=new r.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:function(){return{disableToggleValue:!1}}}),Z=0,y={provide:c.JU,useExisting:(0,r.Gpc)(function(){return A}),multi:!0},x=function e(t,n){p(this,e),this.source=t,this.checked=n},k=(0,s.sb)((0,s.pj)((0,s.Kr)((0,s.Id)(function e(t){p(this,e),this._elementRef=t})),"accent")),A=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,o,s,l){var c;return p(this,i),(c=t.call(this,e))._focusMonitor=n,c._changeDetectorRef=a,c.defaults=s,c._animationMode=l,c._onChange=function(e){},c._onTouched=function(){},c._uniqueId="mat-slide-toggle-"+ ++Z,c._required=!1,c._checked=!1,c.name=null,c.id=c._uniqueId,c.labelPosition="after",c.ariaLabel=null,c.ariaLabelledby=null,c.change=new r.vpe,c.toggleChange=new r.vpe,c.tabIndex=parseInt(o)||0,c}return h(i,[{key:"required",get:function(){return this._required},set:function(e){this._required=(0,l.Ig)(e)}},{key:"checked",get:function(){return this._checked},set:function(e){this._checked=(0,l.Ig)(e),this._changeDetectorRef.markForCheck()}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}},{key:"ngAfterContentInit",value:function(){var e=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe(function(t){"keyboard"===t||"program"===t?e._inputElement.nativeElement.focus():t||Promise.resolve().then(function(){return e._onTouched()})})}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"_onChangeEvent",value:function(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}},{key:"_onInputClick",value:function(e){e.stopPropagation()}},{key:"writeValue",value:function(e){this.checked=!!e}},{key:"registerOnChange",value:function(e){this._onChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this._changeDetectorRef.markForCheck()}},{key:"focus",value:function(e,t){t?this._focusMonitor.focusVia(this._inputElement,t,e):this._inputElement.nativeElement.focus(e)}},{key:"toggle",value:function(){this.checked=!this.checked,this._onChange(this.checked)}},{key:"_emitChangeEvent",value:function(){this._onChange(this.checked),this.change.emit(new x(this,this.checked))}},{key:"_onLabelTextChange",value:function(){this._changeDetectorRef.detectChanges()}}]),i}(k);return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(d.tE),r.Y36(r.sBO),r.$8M("tabindex"),r.Y36(_),r.Y36(u.Qb,8))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(e,t){var n;(1&e&&(r.Gf(g,5),r.Gf(f,5),r.Gf(m,5)),2&e)&&(r.iGM(n=r.CRH())&&(t._thumbEl=n.first),r.iGM(n=r.CRH())&&(t._thumbBarEl=n.first),r.iGM(n=r.CRH())&&(t._inputElement=n.first))},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,t){2&e&&(r.Ikx("id",t.id),r.uIk("tabindex",t.disabled?null:-1)("aria-label",null)("aria-labelledby",null),r.ekj("mat-checked",t.checked)("mat-disabled",t.disabled)("mat-slide-toggle-label-before","before"==t.labelPosition)("_mat-animation-noopable","NoopAnimations"===t._animationMode))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[r._Bn([y]),r.qOj],ngContentSelectors:b,decls:16,vars:18,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,t){if(1&e&&(r.F$t(),r.TgZ(0,"label",0,1),r.TgZ(2,"div",2,3),r.TgZ(4,"input",4,5),r.NdJ("change",function(e){return t._onChangeEvent(e)})("click",function(e){return t._onInputClick(e)}),r.qZA(),r.TgZ(6,"div",6,7),r._UZ(8,"div",8),r.TgZ(9,"div",9),r._UZ(10,"div",10),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"span",11,12),r.NdJ("cdkObserveContent",function(){return t._onLabelTextChange()}),r.TgZ(13,"span",13),r._uU(14,"\xa0"),r.qZA(),r.Hsn(15),r.qZA(),r.qZA()),2&e){var n=r.MAs(1),i=r.MAs(12);r.uIk("for",t.inputId),r.xp6(2),r.ekj("mat-slide-toggle-bar-no-side-margin",!i.textContent||!i.textContent.trim()),r.xp6(2),r.Q6J("id",t.inputId)("required",t.required)("tabIndex",t.tabIndex)("checked",t.checked)("disabled",t.disabled),r.uIk("name",t.name)("aria-checked",t.checked.toString())("aria-label",t.ariaLabel)("aria-labelledby",t.ariaLabelledby),r.xp6(5),r.Q6J("matRippleTrigger",n)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",r.DdM(17,v))}},directives:[s.wG,o.wD],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),e}(),w=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e}(),T=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[w,s.si,s.BQ,o.Q8],w,s.BQ]}),e}()},88636:function(e,t,n){var i,a,o;void 0===(o=this)&&void 0!==window&&(o=window),i=[n(45059)],void 0===(a=(function(e){return o["Chartist.plugins.tooltip"]=(t=e,function(e,t,n){"use strict";var i={currency:void 0,currencyFormatCallback:void 0,tooltipOffset:{x:0,y:-20},anchorToPoint:!1,appendToBody:!0,class:void 0,pointClass:"ct-point"};function a(e,t){return(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")>-1}function o(n){var i;return o in n?((i=n.offsetParent)||(i=t.body.parentElement),i):(i=n.parentNode)?"static"!==e.getComputedStyle(i).position?i:"BODY"===i.tagName?i.parentElement:o(i):t.body.parentElement}n.plugins=n.plugins||{},n.plugins.tooltip=function(r){return r=n.extend({},i,r),function(i){var s=r.pointClass;i instanceof n.Bar?s="ct-bar":i instanceof n.Pie&&(s=i.options.donut?i.options.donutSolid?"ct-slice-donut-solid":"ct-slice-donut":"ct-slice-pie");var l,c=i.container,u=!1,d=o(c);(l=r.appendToBody?t.querySelector(".chartist-tooltip"):c.querySelector(".chartist-tooltip"))||((l=t.createElement("div")).className=r.class?"chartist-tooltip "+r.class:"chartist-tooltip",r.appendToBody?t.body.appendChild(l):c.appendChild(l));var p=l.offsetHeight,g=l.offsetWidth;function h(e,t,n){c.addEventListener(e,function(e){t&&!a(e.target,t)||n(e)})}function f(t){var n=-(g=g||l.offsetWidth)/2+r.tooltipOffset.x,i=-(p=p||l.offsetHeight)+r.tooltipOffset.y,a=!0===r.anchorToPoint&&t.target.x2&&t.target.y2;if(!0===r.appendToBody)if(a){var o=c.getBoundingClientRect(),s=t.target.y2.baseVal.value+o.top+e.pageYOffset;l.style.left=t.target.x2.baseVal.value+o.left+e.pageXOffset+n+"px",l.style.top=s+i+"px"}else l.style.left=t.pageX+n+"px",l.style.top=t.pageY+i+"px";else{var u=d.getBoundingClientRect(),h=-u.left-e.pageXOffset+n,f=-u.top-e.pageYOffset+i;a?(o=c.getBoundingClientRect(),s=t.target.y2.baseVal.value+o.top+e.pageYOffset,l.style.left=t.target.x2.baseVal.value+o.left+e.pageXOffset+h+"px",l.style.top=s+f+"px"):(l.style.left=t.pageX+h+"px",l.style.top=t.pageY+f+"px")}}function m(e){u=!1;var t=new RegExp("tooltip-show\\s*","gi");e.className=e.className.replace(t,"").trim()}m(l),h("mouseover",s,function(e){var s,h=e.target,m="",v=(i instanceof n.Pie?h:h.parentNode)?h.parentNode.getAttribute("ct:meta")||h.parentNode.getAttribute("ct:series-name"):"",b=h.getAttribute("ct:meta")||v||"",_=!!b,Z=h.getAttribute("ct:value");if(r.transformTooltipTextFnc&&"function"==typeof r.transformTooltipTextFnc&&(Z=r.transformTooltipTextFnc(Z)),r.tooltipFnc&&"function"==typeof r.tooltipFnc)m=r.tooltipFnc(b,Z);else{if(r.metaIsHTML){var y=t.createElement("textarea");y.innerHTML=b,b=y.value}if(b='<span class="chartist-tooltip-meta">'+b+"</span>",_)m+=b+"<br>";else if(i instanceof n.Pie){var x=function(e,t){do{e=e.nextSibling}while(e&&!a(e,"ct-label"));return e}(h);x&&(m+=((s=x).innerText||s.textContent)+"<br>")}Z&&(r.currency&&(Z=null!=r.currencyFormatCallback?r.currencyFormatCallback(Z,r):r.currency+Z.replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")),m+=Z='<span class="chartist-tooltip-value">'+Z+"</span>")}m&&(l.innerHTML=m,p=l.offsetHeight,g=l.offsetWidth,!0!==r.appendToBody&&(d=o(c)),"absolute"!==l.style.display&&(l.style.display="absolute"),f(e),function(e){u=!0,a(e,"tooltip-show")||(e.className=e.className+" tooltip-show")}(l),p=l.offsetHeight,g=l.offsetWidth)}),h("mouseout",s,function(){m(l)}),h("mousemove",null,function(e){!1===r.anchorToPoint&&u&&f(e)})}}}(window,document,t),t.plugins.tooltip);var t}).apply(t,i))||(e.exports=a)},45059:function(e,t){var n,i;i=this,void 0===(n=(function(){return i.Chartist=function(){var e={version:"0.11.4"};return function(e,t){"use strict";var n=e.window,i=e.document;t.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},t.noop=function(e){return e},t.alphaNumerate=function(e){return String.fromCharCode(97+e%26)},t.extend=function(e){var n,i,a;for(e=e||{},n=1;n<arguments.length;n++)for(var o in i=arguments[n])e[o]="object"!=typeof(a=i[o])||null===a||a instanceof Array?a:t.extend(e[o],a);return e},t.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},t.ensureUnit=function(e,t){return"number"==typeof e&&(e+=t),e},t.quantity=function(e){if("string"==typeof e){var t=/^(\d+)\s*(.*)$/g.exec(e);return{value:+t[1],unit:t[2]||void 0}}return{value:e}},t.querySelector=function(e){return e instanceof Node?e:i.querySelector(e)},t.times=function(e){return Array.apply(null,new Array(e))},t.sum=function(e,t){return e+(t||0)},t.mapMultiply=function(e){return function(t){return t*e}},t.mapAdd=function(e){return function(t){return t+e}},t.serialMap=function(e,n){var i=[],a=Math.max.apply(null,e.map(function(e){return e.length}));return t.times(a).forEach(function(t,a){var o=e.map(function(e){return e[a]});i[a]=n.apply(null,o)}),i},t.roundWithPrecision=function(e,n){var i=Math.pow(10,n||t.precision);return Math.round(e*i)/i},t.precision=8,t.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},t.serialize=function(e){return null==e?e:("number"==typeof e?e=""+e:"object"==typeof e&&(e=JSON.stringify({data:e})),Object.keys(t.escapingMap).reduce(function(e,n){return t.replaceAll(e,n,t.escapingMap[n])},e))},t.deserialize=function(e){if("string"!=typeof e)return e;e=Object.keys(t.escapingMap).reduce(function(e,n){return t.replaceAll(e,t.escapingMap[n],n)},e);try{e=void 0!==(e=JSON.parse(e)).data?e.data:e}catch(n){}return e},t.createSvg=function(e,n,i,a){var o;return n=n||"100%",i=i||"100%",Array.prototype.slice.call(e.querySelectorAll("svg")).filter(function(e){return e.getAttributeNS(t.namespaces.xmlns,"ct")}).forEach(function(t){e.removeChild(t)}),(o=new t.Svg("svg").attr({width:n,height:i}).addClass(a))._node.style.width=n,o._node.style.height=i,e.appendChild(o._node),o},t.normalizeData=function(e,n,i){var a,o={raw:e,normalized:{}};return o.normalized.series=t.getDataArray({series:e.series||[]},n,i),a=o.normalized.series.every(function(e){return e instanceof Array})?Math.max.apply(null,o.normalized.series.map(function(e){return e.length})):o.normalized.series.length,o.normalized.labels=(e.labels||[]).slice(),Array.prototype.push.apply(o.normalized.labels,t.times(Math.max(0,a-o.normalized.labels.length)).map(function(){return""})),n&&t.reverseData(o.normalized),o},t.safeHasProperty=function(e,t){return null!==e&&"object"==typeof e&&e.hasOwnProperty(t)},t.isDataHoleValue=function(e){return null==e||"number"==typeof e&&isNaN(e)},t.reverseData=function(e){e.labels.reverse(),e.series.reverse();for(var t=0;t<e.series.length;t++)"object"==typeof e.series[t]&&void 0!==e.series[t].data?e.series[t].data.reverse():e.series[t]instanceof Array&&e.series[t].reverse()},t.getDataArray=function(e,n,i){return e.series.map(function e(n){if(t.safeHasProperty(n,"value"))return e(n.value);if(t.safeHasProperty(n,"data"))return e(n.data);if(n instanceof Array)return n.map(e);if(!t.isDataHoleValue(n)){if(i){var a={};return"string"==typeof i?a[i]=t.getNumberOrUndefined(n):a.y=t.getNumberOrUndefined(n),a.x=n.hasOwnProperty("x")?t.getNumberOrUndefined(n.x):a.x,a.y=n.hasOwnProperty("y")?t.getNumberOrUndefined(n.y):a.y,a}return t.getNumberOrUndefined(n)}})},t.normalizePadding=function(e,t){return t=t||0,"number"==typeof e?{top:e,right:e,bottom:e,left:e}:{top:"number"==typeof e.top?e.top:t,right:"number"==typeof e.right?e.right:t,bottom:"number"==typeof e.bottom?e.bottom:t,left:"number"==typeof e.left?e.left:t}},t.getMetaData=function(e,t){var n=e.data?e.data[t]:e[t];return n?n.meta:void 0},t.orderOfMagnitude=function(e){return Math.floor(Math.log(Math.abs(e))/Math.LN10)},t.projectLength=function(e,t,n){return t/n.range*e},t.getAvailableHeight=function(e,n){return Math.max((t.quantity(n.height).value||e.height())-(n.chartPadding.top+n.chartPadding.bottom)-n.axisX.offset,0)},t.getHighLow=function(e,n,i){var a={high:void 0===(n=t.extend({},n,i?n["axis"+i.toUpperCase()]:{})).high?-Number.MAX_VALUE:+n.high,low:void 0===n.low?Number.MAX_VALUE:+n.low},o=void 0===n.high,r=void 0===n.low;return(o||r)&&function e(t){if(void 0!==t)if(t instanceof Array)for(var n=0;n<t.length;n++)e(t[n]);else{var s=i?+t[i]:+t;o&&s>a.high&&(a.high=s),r&&s<a.low&&(a.low=s)}}(e),(n.referenceValue||0===n.referenceValue)&&(a.high=Math.max(n.referenceValue,a.high),a.low=Math.min(n.referenceValue,a.low)),a.high<=a.low&&(0===a.low?a.high=1:a.low<0?a.high=0:(a.high>0||(a.high=1),a.low=0)),a},t.isNumeric=function(e){return null!==e&&isFinite(e)},t.isFalseyButZero=function(e){return!e&&0!==e},t.getNumberOrUndefined=function(e){return t.isNumeric(e)?+e:void 0},t.isMultiValue=function(e){return"object"==typeof e&&("x"in e||"y"in e)},t.getMultiValue=function(e,n){return t.isMultiValue(e)?t.getNumberOrUndefined(e[n||"y"]):t.getNumberOrUndefined(e)},t.rho=function(e){if(1===e)return e;function t(e,n){return e%n==0?n:t(n,e%n)}function n(e){return e*e+1}var i,a=2,o=2;if(e%2==0)return 2;do{a=n(a)%e,o=n(n(o))%e,i=t(Math.abs(a-o),e)}while(1===i);return i},t.getBounds=function(e,n,i,a){var o,r,s,l=0,c={high:n.high,low:n.low};c.valueRange=c.high-c.low,c.oom=t.orderOfMagnitude(c.valueRange),c.step=Math.pow(10,c.oom),c.min=Math.floor(c.low/c.step)*c.step,c.max=Math.ceil(c.high/c.step)*c.step,c.range=c.max-c.min,c.numberOfSteps=Math.round(c.range/c.step);var u=t.projectLength(e,c.step,c)<i,d=a?t.rho(c.range):0;if(a&&t.projectLength(e,1,c)>=i)c.step=1;else if(a&&d<c.step&&t.projectLength(e,d,c)>=i)c.step=d;else for(;;){if(u&&t.projectLength(e,c.step,c)<=i)c.step*=2;else{if(u||!(t.projectLength(e,c.step/2,c)>=i))break;if(c.step/=2,a&&c.step%1!=0){c.step*=2;break}}if(l++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}function p(e,t){return e===(e+=t)&&(e*=1+(t>0?2221e-19:-2221e-19)),e}for(c.step=Math.max(c.step,2221e-19),r=c.min,s=c.max;r+c.step<=c.low;)r=p(r,c.step);for(;s-c.step>=c.high;)s=p(s,-c.step);c.min=r,c.max=s,c.range=c.max-c.min;var g=[];for(o=c.min;o<=c.max;o=p(o,c.step)){var h=t.roundWithPrecision(o);h!==g[g.length-1]&&g.push(h)}return c.values=g,c},t.polarToCartesian=function(e,t,n,i){var a=(i-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}},t.createChartRect=function(e,n,i){var a=!(!n.axisX&&!n.axisY),o=a?n.axisY.offset:0,r=a?n.axisX.offset:0,s=e.width()||t.quantity(n.width).value||0,l=e.height()||t.quantity(n.height).value||0,c=t.normalizePadding(n.chartPadding,i);s=Math.max(s,o+c.left+c.right),l=Math.max(l,r+c.top+c.bottom);var u={padding:c,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return a?("start"===n.axisX.position?(u.y2=c.top+r,u.y1=Math.max(l-c.bottom,u.y2+1)):(u.y2=c.top,u.y1=Math.max(l-c.bottom-r,u.y2+1)),"start"===n.axisY.position?(u.x1=c.left+o,u.x2=Math.max(s-c.right,u.x1+1)):(u.x1=c.left,u.x2=Math.max(s-c.right-o,u.x1+1))):(u.x1=c.left,u.x2=Math.max(s-c.right,u.x1+1),u.y2=c.top,u.y1=Math.max(l-c.bottom,u.y2+1)),u},t.createGrid=function(e,n,i,a,o,r,s,l){var c={};c[i.units.pos+"1"]=e,c[i.units.pos+"2"]=e,c[i.counterUnits.pos+"1"]=a,c[i.counterUnits.pos+"2"]=a+o;var u=r.elem("line",c,s.join(" "));l.emit("draw",t.extend({type:"grid",axis:i,index:n,group:r,element:u},c))},t.createGridBackground=function(e,t,n,i){var a=e.elem("rect",{x:t.x1,y:t.y2,width:t.width(),height:t.height()},n,!0);i.emit("draw",{type:"gridBackground",group:e,element:a})},t.createLabel=function(e,n,a,o,r,s,l,c,u,d,p){var g,h={};if(h[r.units.pos]=e+l[r.units.pos],h[r.counterUnits.pos]=l[r.counterUnits.pos],h[r.units.len]=n,h[r.counterUnits.len]=Math.max(0,s-10),d){var f=i.createElement("span");f.className=u.join(" "),f.setAttribute("xmlns",t.namespaces.xhtml),f.innerText=o[a],f.style[r.units.len]=Math.round(h[r.units.len])+"px",f.style[r.counterUnits.len]=Math.round(h[r.counterUnits.len])+"px",g=c.foreignObject(f,t.extend({style:"overflow: visible;"},h))}else g=c.elem("text",h,u.join(" ")).text(o[a]);p.emit("draw",t.extend({type:"label",axis:r,index:a,group:c,element:g,text:o[a]},h))},t.getSeriesOption=function(e,t,n){if(e.name&&t.series&&t.series[e.name]){var i=t.series[e.name];return i.hasOwnProperty(n)?i[n]:t[n]}return t[n]},t.optionsProvider=function(e,i,a){var o,r,s=t.extend({},e),l=[];function c(e){var l=o;if(o=t.extend({},s),i)for(r=0;r<i.length;r++)n.matchMedia(i[r][0]).matches&&(o=t.extend(o,i[r][1]));a&&e&&a.emit("optionsChanged",{previousOptions:l,currentOptions:o})}if(!n.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(i)for(r=0;r<i.length;r++){var u=n.matchMedia(i[r][0]);u.addListener(c),l.push(u)}return c(),{removeMediaQueryListeners:function(){l.forEach(function(e){e.removeListener(c)})},getCurrentOptions:function(){return t.extend({},o)}}},t.splitIntoSegments=function(e,n,i){i=t.extend({},{increasingX:!1,fillHoles:!1},i);for(var a=[],o=!0,r=0;r<e.length;r+=2)void 0===t.getMultiValue(n[r/2].value)?i.fillHoles||(o=!0):(i.increasingX&&r>=2&&e[r]<=e[r-2]&&(o=!0),o&&(a.push({pathCoordinates:[],valueData:[]}),o=!1),a[a.length-1].pathCoordinates.push(e[r],e[r+1]),a[a.length-1].valueData.push(n[r/2]));return a}}(this||global,e),function(e,t){"use strict";t.Interpolation={},t.Interpolation.none=function(e){return e=t.extend({},{fillHoles:!1},e),function(n,i){for(var a=new t.Svg.Path,o=!0,r=0;r<n.length;r+=2){var s=n[r],l=n[r+1],c=i[r/2];void 0!==t.getMultiValue(c.value)?(o?a.move(s,l,!1,c):a.line(s,l,!1,c),o=!1):e.fillHoles||(o=!0)}return a}},t.Interpolation.simple=function(e){e=t.extend({},{divisor:2,fillHoles:!1},e);var n=1/Math.max(1,e.divisor);return function(i,a){for(var o,r,s,l=new t.Svg.Path,c=0;c<i.length;c+=2){var u=i[c],d=i[c+1],p=(u-o)*n,g=a[c/2];void 0!==g.value?(void 0===s?l.move(u,d,!1,g):l.curve(o+p,r,u-p,d,u,d,!1,g),o=u,r=d,s=g):e.fillHoles||(o=u=s=void 0)}return l}},t.Interpolation.cardinal=function(e){e=t.extend({},{tension:1,fillHoles:!1},e);var n=Math.min(1,Math.max(0,e.tension)),i=1-n;return function a(o,r){var s=t.splitIntoSegments(o,r,{fillHoles:e.fillHoles});if(s.length){if(s.length>1){var l=[];return s.forEach(function(e){l.push(a(e.pathCoordinates,e.valueData))}),t.Svg.Path.join(l)}if(r=s[0].valueData,(o=s[0].pathCoordinates).length<=4)return t.Interpolation.none()(o,r);for(var c=(new t.Svg.Path).move(o[0],o[1],!1,r[0]),u=0,d=o.length;d-2>u;u+=2){var p=[{x:+o[u-2],y:+o[u-1]},{x:+o[u],y:+o[u+1]},{x:+o[u+2],y:+o[u+3]},{x:+o[u+4],y:+o[u+5]}];d-4===u?p[3]=p[2]:u||(p[0]={x:+o[u],y:+o[u+1]}),c.curve(n*(6*p[1].x-p[0].x+p[2].x)/6+i*p[2].x,n*(6*p[1].y-p[0].y+p[2].y)/6+i*p[2].y,n*(p[1].x+6*p[2].x-p[3].x)/6+i*p[2].x,n*(p[1].y+6*p[2].y-p[3].y)/6+i*p[2].y,p[2].x,p[2].y,!1,r[(u+2)/2])}return c}return t.Interpolation.none()([])}},t.Interpolation.monotoneCubic=function(e){return e=t.extend({},{fillHoles:!1},e),function n(i,a){var o=t.splitIntoSegments(i,a,{fillHoles:e.fillHoles,increasingX:!0});if(o.length){if(o.length>1){var r=[];return o.forEach(function(e){r.push(n(e.pathCoordinates,e.valueData))}),t.Svg.Path.join(r)}if(a=o[0].valueData,(i=o[0].pathCoordinates).length<=4)return t.Interpolation.none()(i,a);var s,l,c=[],u=[],d=i.length/2,p=[],g=[],h=[],f=[];for(s=0;s<d;s++)c[s]=i[2*s],u[s]=i[2*s+1];for(s=0;s<d-1;s++)h[s]=u[s+1]-u[s],f[s]=c[s+1]-c[s],g[s]=h[s]/f[s];for(p[0]=g[0],p[d-1]=g[d-2],s=1;s<d-1;s++)0===g[s]||0===g[s-1]||g[s-1]>0!=g[s]>0?p[s]=0:(p[s]=3*(f[s-1]+f[s])/((2*f[s]+f[s-1])/g[s-1]+(f[s]+2*f[s-1])/g[s]),isFinite(p[s])||(p[s]=0));for(l=(new t.Svg.Path).move(c[0],u[0],!1,a[0]),s=0;s<d-1;s++)l.curve(c[s]+f[s]/3,u[s]+p[s]*f[s]/3,c[s+1]-f[s]/3,u[s+1]-p[s+1]*f[s]/3,c[s+1],u[s+1],!1,a[s+1]);return l}return t.Interpolation.none()([])}},t.Interpolation.step=function(e){return e=t.extend({},{postpone:!0,fillHoles:!1},e),function(n,i){for(var a,o,r,s=new t.Svg.Path,l=0;l<n.length;l+=2){var c=n[l],u=n[l+1],d=i[l/2];void 0!==d.value?(void 0===r?s.move(c,u,!1,d):(e.postpone?s.line(c,o,!1,r):s.line(a,u,!1,d),s.line(c,u,!1,d)),a=c,o=u,r=d):e.fillHoles||(a=o=r=void 0)}return s}}}(this||global,e),function(e,t){"use strict";t.EventEmitter=function(){var e=[];return{addEventHandler:function(t,n){e[t]=e[t]||[],e[t].push(n)},removeEventHandler:function(t,n){e[t]&&(n?(e[t].splice(e[t].indexOf(n),1),0===e[t].length&&delete e[t]):delete e[t])},emit:function(t,n){e[t]&&e[t].forEach(function(e){e(n)}),e["*"]&&e["*"].forEach(function(e){e(t,n)})}}}}(this||global,e),function(e,t){"use strict";function n(e){var t=[];if(e.length)for(var n=0;n<e.length;n++)t.push(e[n]);return t}t.Class={extend:function(e,n){var i=n||this.prototype||t.Class,a=Object.create(i);t.Class.cloneDefinitions(a,e);var o=function(){var e,n=a.constructor||function(){};return e=this===t?Object.create(a):this,n.apply(e,Array.prototype.slice.call(arguments,0)),e};return o.prototype=a,o.super=i,o.extend=this.extend,o},cloneDefinitions:function(){var e=n(arguments),t=e[0];return e.splice(1,e.length-1).forEach(function(e){Object.getOwnPropertyNames(e).forEach(function(n){delete t[n],Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}),t}}}(this||global,e),function(e,t){"use strict";var n=e.window;function i(){n.addEventListener("resize",this.resizeListener),this.optionsProvider=t.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",(function(){this.update()}).bind(this)),this.options.plugins&&this.options.plugins.forEach((function(e){e instanceof Array?e[0](this,e[1]):e(this)}).bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}t.Base=t.Class.extend({constructor:function(e,n,a,o,r){this.container=t.querySelector(e),this.data=n||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=a,this.options=o,this.responsiveOptions=r,this.eventEmitter=t.EventEmitter(),this.supportsForeignObject=t.Svg.isSupported("Extensibility"),this.supportsAnimations=t.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=(function(){this.update()}).bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(i.bind(this),0)},optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:function(e,n,i){return e&&(this.data=e||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),n&&(this.options=t.extend({},i?this.options:this.defaultOptions,n),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=t.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this},detach:function(){return this.initializeTimeoutId?n.clearTimeout(this.initializeTimeoutId):(n.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this},on:function(e,t){return this.eventEmitter.addEventHandler(e,t),this},off:function(e,t){return this.eventEmitter.removeEventHandler(e,t),this},version:t.version,supportsForeignObject:!1})}(this||global,e),function(e,t){"use strict";var n=e.document;t.Svg=t.Class.extend({constructor:function(e,i,a,o,r){e instanceof Element?this._node=e:(this._node=n.createElementNS(t.namespaces.svg,e),"svg"===e&&this.attr({"xmlns:ct":t.namespaces.ct})),i&&this.attr(i),a&&this.addClass(a),o&&(r&&o._node.firstChild?o._node.insertBefore(this._node,o._node.firstChild):o._node.appendChild(this._node))},attr:function(e,n){return"string"==typeof e?n?this._node.getAttributeNS(n,e):this._node.getAttribute(e):(Object.keys(e).forEach((function(n){if(void 0!==e[n])if(-1!==n.indexOf(":")){var i=n.split(":");this._node.setAttributeNS(t.namespaces[i[0]],n,e[n])}else this._node.setAttribute(n,e[n])}).bind(this)),this)},elem:function(e,n,i,a){return new t.Svg(e,n,i,this,a)},parent:function(){return this._node.parentNode instanceof SVGElement?new t.Svg(this._node.parentNode):null},root:function(){for(var e=this._node;"svg"!==e.nodeName;)e=e.parentNode;return new t.Svg(e)},querySelector:function(e){var n=this._node.querySelector(e);return n?new t.Svg(n):null},querySelectorAll:function(e){var n=this._node.querySelectorAll(e);return n.length?new t.Svg.List(n):null},getNode:function(){return this._node},foreignObject:function(e,i,a,o){if("string"==typeof e){var r=n.createElement("div");r.innerHTML=e,e=r.firstChild}e.setAttribute("xmlns",t.namespaces.xmlns);var s=this.elem("foreignObject",i,a,o);return s._node.appendChild(e),s},text:function(e){return this._node.appendChild(n.createTextNode(e)),this},empty:function(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this},remove:function(){return this._node.parentNode.removeChild(this._node),this.parent()},replace:function(e){return this._node.parentNode.replaceChild(e._node,this._node),e},append:function(e,t){return t&&this._node.firstChild?this._node.insertBefore(e._node,this._node.firstChild):this._node.appendChild(e._node),this},classes:function(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]},addClass:function(e){return this._node.setAttribute("class",this.classes(this._node).concat(e.trim().split(/\s+/)).filter(function(e,t,n){return n.indexOf(e)===t}).join(" ")),this},removeClass:function(e){var t=e.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(e){return-1===t.indexOf(e)}).join(" ")),this},removeAllClasses:function(){return this._node.setAttribute("class",""),this},height:function(){return this._node.getBoundingClientRect().height},width:function(){return this._node.getBoundingClientRect().width},animate:function(e,n,i){return void 0===n&&(n=!0),Object.keys(e).forEach((function(a){function o(e,n){var o,r,s,l={};e.easing&&(s=e.easing instanceof Array?e.easing:t.Svg.Easing[e.easing],delete e.easing),e.begin=t.ensureUnit(e.begin,"ms"),e.dur=t.ensureUnit(e.dur,"ms"),s&&(e.calcMode="spline",e.keySplines=s.join(" "),e.keyTimes="0;1"),n&&(e.fill="freeze",l[a]=e.from,this.attr(l),r=t.quantity(e.begin||0).value,e.begin="indefinite"),o=this.elem("animate",t.extend({attributeName:a},e)),n&&setTimeout((function(){try{o._node.beginElement()}catch(t){l[a]=e.to,this.attr(l),o.remove()}}).bind(this),r),i&&o._node.addEventListener("beginEvent",(function(){i.emit("animationBegin",{element:this,animate:o._node,params:e})}).bind(this)),o._node.addEventListener("endEvent",(function(){i&&i.emit("animationEnd",{element:this,animate:o._node,params:e}),n&&(l[a]=e.to,this.attr(l),o.remove())}).bind(this))}e[a]instanceof Array?e[a].forEach((function(e){o.bind(this)(e,!1)}).bind(this)):o.bind(this)(e[a],n)}).bind(this)),this}}),t.Svg.isSupported=function(e){return n.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+e,"1.1")},t.Svg.Easing={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]},t.Svg.List=t.Class.extend({constructor:function(e){var n=this;this.svgElements=[];for(var i=0;i<e.length;i++)this.svgElements.push(new t.Svg(e[i]));Object.keys(t.Svg.prototype).filter(function(e){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(e)}).forEach(function(e){n[e]=function(){var i=Array.prototype.slice.call(arguments,0);return n.svgElements.forEach(function(n){t.Svg.prototype[e].apply(n,i)}),n}})}})}(this||global,e),function(e,t){"use strict";var n={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},i={accuracy:3};function a(e,n,i,a,o,r){var s=t.extend({command:o?e.toLowerCase():e.toUpperCase()},n,r?{data:r}:{});i.splice(a,0,s)}function o(e,t){e.forEach(function(i,a){n[i.command.toLowerCase()].forEach(function(n,o){t(i,n,a,o,e)})})}t.Svg.Path=t.Class.extend({constructor:function(e,n){this.pathElements=[],this.pos=0,this.close=e,this.options=t.extend({},i,n)},position:function(e){return void 0!==e?(this.pos=Math.max(0,Math.min(this.pathElements.length,e)),this):this.pos},remove:function(e){return this.pathElements.splice(this.pos,e),this},move:function(e,t,n,i){return a("M",{x:+e,y:+t},this.pathElements,this.pos++,n,i),this},line:function(e,t,n,i){return a("L",{x:+e,y:+t},this.pathElements,this.pos++,n,i),this},curve:function(e,t,n,i,o,r,s,l){return a("C",{x1:+e,y1:+t,x2:+n,y2:+i,x:+o,y:+r},this.pathElements,this.pos++,s,l),this},arc:function(e,t,n,i,o,r,s,l,c){return a("A",{rx:+e,ry:+t,xAr:+n,lAf:+i,sf:+o,x:+r,y:+s},this.pathElements,this.pos++,l,c),this},scale:function(e,t){return o(this.pathElements,function(n,i){n[i]*="x"===i[0]?e:t}),this},translate:function(e,t){return o(this.pathElements,function(n,i){n[i]+="x"===i[0]?e:t}),this},transform:function(e){return o(this.pathElements,function(t,n,i,a,o){var r=e(t,n,i,a,o);(r||0===r)&&(t[n]=r)}),this},parse:function(e){var i=e.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(e,t){return t.match(/[A-Za-z]/)&&e.push([]),e[e.length-1].push(t),e},[]);"Z"===i[i.length-1][0].toUpperCase()&&i.pop();var a=i.map(function(e){var i=e.shift(),a=n[i.toLowerCase()];return t.extend({command:i},a.reduce(function(t,n,i){return t[n]=+e[i],t},{}))}),o=[this.pos,0];return Array.prototype.push.apply(o,a),Array.prototype.splice.apply(this.pathElements,o),this.pos+=a.length,this},stringify:function(){var e=Math.pow(10,this.options.accuracy);return this.pathElements.reduce((function(t,i){var a=n[i.command.toLowerCase()].map((function(t){return this.options.accuracy?Math.round(i[t]*e)/e:i[t]}).bind(this));return t+i.command+a.join(",")}).bind(this),"")+(this.close?"Z":"")},clone:function(e){var n=new t.Svg.Path(e||this.close);return n.pos=this.pos,n.pathElements=this.pathElements.slice().map(function(e){return t.extend({},e)}),n.options=t.extend({},this.options),n},splitByCommand:function(e){var n=[new t.Svg.Path];return this.pathElements.forEach(function(i){i.command===e.toUpperCase()&&0!==n[n.length-1].pathElements.length&&n.push(new t.Svg.Path),n[n.length-1].pathElements.push(i)}),n}}),t.Svg.Path.elementDescriptions=n,t.Svg.Path.join=function(e,n,i){for(var a=new t.Svg.Path(n,i),o=0;o<e.length;o++)for(var r=e[o],s=0;s<r.pathElements.length;s++)a.pathElements.push(r.pathElements[s]);return a}}(this||global,e),function(e,t){"use strict";var n={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};t.Axis=t.Class.extend({constructor:function(e,t,i,a){this.units=e,this.counterUnits=e===n.x?n.y:n.x,this.chartRect=t,this.axisLength=t[e.rectEnd]-t[e.rectStart],this.gridOffset=t[e.rectOffset],this.ticks=i,this.options=a},createGridAndLabels:function(e,n,i,a,o){var r=a["axis"+this.units.pos.toUpperCase()],s=this.ticks.map(this.projectValue.bind(this)),l=this.ticks.map(r.labelInterpolationFnc);s.forEach((function(c,u){var d,p={x:0,y:0};d=s[u+1]?s[u+1]-c:Math.max(this.axisLength-c,30),t.isFalseyButZero(l[u])&&""!==l[u]||("x"===this.units.pos?(c=this.chartRect.x1+c,p.x=a.axisX.labelOffset.x,p.y="start"===a.axisX.position?this.chartRect.padding.top+a.axisX.labelOffset.y+(i?5:20):this.chartRect.y1+a.axisX.labelOffset.y+(i?5:20)):(c=this.chartRect.y1-c,p.y=a.axisY.labelOffset.y-(i?d:0),p.x="start"===a.axisY.position?i?this.chartRect.padding.left+a.axisY.labelOffset.x:this.chartRect.x1-10:this.chartRect.x2+a.axisY.labelOffset.x+10),r.showGrid&&t.createGrid(c,u,this,this.gridOffset,this.chartRect[this.counterUnits.len](),e,[a.classNames.grid,a.classNames[this.units.dir]],o),r.showLabel&&t.createLabel(c,d,u,l,this,r.offset,p,n,[a.classNames.label,a.classNames[this.units.dir],"start"===r.position?a.classNames[r.position]:a.classNames.end],i,o))}).bind(this))},projectValue:function(e,t,n){throw new Error("Base axis can't be instantiated!")}}),t.Axis.units=n}(this||global,e),function(e,t){"use strict";t.AutoScaleAxis=t.Axis.extend({constructor:function(e,n,i,a){var o=a.highLow||t.getHighLow(n,a,e.pos);this.bounds=t.getBounds(i[e.rectEnd]-i[e.rectStart],o,a.scaleMinSpace||20,a.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},t.AutoScaleAxis.super.constructor.call(this,e,i,this.bounds.values,a)},projectValue:function(e){return this.axisLength*(+t.getMultiValue(e,this.units.pos)-this.bounds.min)/this.bounds.range}})}(this||global,e),function(e,t){"use strict";t.FixedScaleAxis=t.Axis.extend({constructor:function(e,n,i,a){var o=a.highLow||t.getHighLow(n,a,e.pos);this.divisor=a.divisor||1,this.ticks=a.ticks||t.times(this.divisor).map((function(e,t){return o.low+(o.high-o.low)/this.divisor*t}).bind(this)),this.ticks.sort(function(e,t){return e-t}),this.range={min:o.low,max:o.high},t.FixedScaleAxis.super.constructor.call(this,e,i,this.ticks,a),this.stepLength=this.axisLength/this.divisor},projectValue:function(e){return this.axisLength*(+t.getMultiValue(e,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}})}(this||global,e),function(e,t){"use strict";t.StepAxis=t.Axis.extend({constructor:function(e,n,i,a){t.StepAxis.super.constructor.call(this,e,i,a.ticks,a);var o=Math.max(1,a.ticks.length-(a.stretch?1:0));this.stepLength=this.axisLength/o},projectValue:function(e,t){return this.stepLength*t}})}(this||global,e),function(e,t){"use strict";var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};t.Line=t.Base.extend({constructor:function(e,i,a,o){t.Line.super.constructor.call(this,e,i,n,t.extend({},n,a),o)},createChart:function(e){var i=t.normalizeData(this.data,e.reverseData,!0);this.svg=t.createSvg(this.container,e.width,e.height,e.classNames.chart);var a,o,r=this.svg.elem("g").addClass(e.classNames.gridGroup),s=this.svg.elem("g"),l=this.svg.elem("g").addClass(e.classNames.labelGroup),c=t.createChartRect(this.svg,e,n.padding);a=void 0===e.axisX.type?new t.StepAxis(t.Axis.units.x,i.normalized.series,c,t.extend({},e.axisX,{ticks:i.normalized.labels,stretch:e.fullWidth})):e.axisX.type.call(t,t.Axis.units.x,i.normalized.series,c,e.axisX),o=void 0===e.axisY.type?new t.AutoScaleAxis(t.Axis.units.y,i.normalized.series,c,t.extend({},e.axisY,{high:t.isNumeric(e.high)?e.high:e.axisY.high,low:t.isNumeric(e.low)?e.low:e.axisY.low})):e.axisY.type.call(t,t.Axis.units.y,i.normalized.series,c,e.axisY),a.createGridAndLabels(r,l,this.supportsForeignObject,e,this.eventEmitter),o.createGridAndLabels(r,l,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&t.createGridBackground(r,c,e.classNames.gridBackground,this.eventEmitter),i.raw.series.forEach((function(n,r){var l=s.elem("g");l.attr({"ct:series-name":n.name,"ct:meta":t.serialize(n.meta)}),l.addClass([e.classNames.series,n.className||e.classNames.series+"-"+t.alphaNumerate(r)].join(" "));var u=[],d=[];i.normalized.series[r].forEach((function(e,s){var l={x:c.x1+a.projectValue(e,s,i.normalized.series[r]),y:c.y1-o.projectValue(e,s,i.normalized.series[r])};u.push(l.x,l.y),d.push({value:e,valueIndex:s,meta:t.getMetaData(n,s)})}).bind(this));var p={lineSmooth:t.getSeriesOption(n,e,"lineSmooth"),showPoint:t.getSeriesOption(n,e,"showPoint"),showLine:t.getSeriesOption(n,e,"showLine"),showArea:t.getSeriesOption(n,e,"showArea"),areaBase:t.getSeriesOption(n,e,"areaBase")},g=("function"==typeof p.lineSmooth?p.lineSmooth:p.lineSmooth?t.Interpolation.monotoneCubic():t.Interpolation.none())(u,d);if(p.showPoint&&g.pathElements.forEach((function(i){var s=l.elem("line",{x1:i.x,y1:i.y,x2:i.x+.01,y2:i.y},e.classNames.point).attr({"ct:value":[i.data.value.x,i.data.value.y].filter(t.isNumeric).join(","),"ct:meta":t.serialize(i.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:i.data.value,index:i.data.valueIndex,meta:i.data.meta,series:n,seriesIndex:r,axisX:a,axisY:o,group:l,element:s,x:i.x,y:i.y})}).bind(this)),p.showLine){var h=l.elem("path",{d:g.stringify()},e.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:i.normalized.series[r],path:g.clone(),chartRect:c,index:r,series:n,seriesIndex:r,seriesMeta:n.meta,axisX:a,axisY:o,group:l,element:h})}if(p.showArea&&o.range){var f=Math.max(Math.min(p.areaBase,o.range.max),o.range.min),m=c.y1-o.projectValue(f);g.splitByCommand("M").filter(function(e){return e.pathElements.length>1}).map(function(e){var t=e.pathElements[0],n=e.pathElements[e.pathElements.length-1];return e.clone(!0).position(0).remove(1).move(t.x,m).line(t.x,t.y).position(e.pathElements.length+1).line(n.x,m)}).forEach((function(t){var s=l.elem("path",{d:t.stringify()},e.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:i.normalized.series[r],path:t.clone(),series:n,seriesIndex:r,axisX:a,axisY:o,chartRect:c,index:r,group:l,element:s})}).bind(this))}}).bind(this)),this.eventEmitter.emit("created",{bounds:o.bounds,chartRect:c,axisX:a,axisY:o,svg:this.svg,options:e})}})}(this||global,e),function(e,t){"use strict";var n={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:t.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};t.Bar=t.Base.extend({constructor:function(e,i,a,o){t.Bar.super.constructor.call(this,e,i,n,t.extend({},n,a),o)},createChart:function(e){var i,a;e.distributeSeries?(i=t.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y")).normalized.series=i.normalized.series.map(function(e){return[e]}):i=t.normalizeData(this.data,e.reverseData,e.horizontalBars?"x":"y"),this.svg=t.createSvg(this.container,e.width,e.height,e.classNames.chart+(e.horizontalBars?" "+e.classNames.horizontalBars:""));var o=this.svg.elem("g").addClass(e.classNames.gridGroup),r=this.svg.elem("g"),s=this.svg.elem("g").addClass(e.classNames.labelGroup);if(e.stackBars&&0!==i.normalized.series.length){var l=t.serialMap(i.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(e){return e}).reduce(function(e,t){return{x:e.x+(t&&t.x)||0,y:e.y+(t&&t.y)||0}},{x:0,y:0})});a=t.getHighLow([l],e,e.horizontalBars?"x":"y")}else a=t.getHighLow(i.normalized.series,e,e.horizontalBars?"x":"y");a.high=+e.high||(0===e.high?0:a.high),a.low=+e.low||(0===e.low?0:a.low);var c,u,d,p,g,h=t.createChartRect(this.svg,e,n.padding);u=e.distributeSeries&&e.stackBars?i.normalized.labels.slice(0,1):i.normalized.labels,e.horizontalBars?(c=p=void 0===e.axisX.type?new t.AutoScaleAxis(t.Axis.units.x,i.normalized.series,h,t.extend({},e.axisX,{highLow:a,referenceValue:0})):e.axisX.type.call(t,t.Axis.units.x,i.normalized.series,h,t.extend({},e.axisX,{highLow:a,referenceValue:0})),d=g=void 0===e.axisY.type?new t.StepAxis(t.Axis.units.y,i.normalized.series,h,{ticks:u}):e.axisY.type.call(t,t.Axis.units.y,i.normalized.series,h,e.axisY)):(d=p=void 0===e.axisX.type?new t.StepAxis(t.Axis.units.x,i.normalized.series,h,{ticks:u}):e.axisX.type.call(t,t.Axis.units.x,i.normalized.series,h,e.axisX),c=g=void 0===e.axisY.type?new t.AutoScaleAxis(t.Axis.units.y,i.normalized.series,h,t.extend({},e.axisY,{highLow:a,referenceValue:0})):e.axisY.type.call(t,t.Axis.units.y,i.normalized.series,h,t.extend({},e.axisY,{highLow:a,referenceValue:0})));var f=e.horizontalBars?h.x1+c.projectValue(0):h.y1-c.projectValue(0),m=[];d.createGridAndLabels(o,s,this.supportsForeignObject,e,this.eventEmitter),c.createGridAndLabels(o,s,this.supportsForeignObject,e,this.eventEmitter),e.showGridBackground&&t.createGridBackground(o,h,e.classNames.gridBackground,this.eventEmitter),i.raw.series.forEach((function(n,a){var o,s,l=a-(i.raw.series.length-1)/2;o=e.distributeSeries&&!e.stackBars?d.axisLength/i.normalized.series.length/2:e.distributeSeries&&e.stackBars?d.axisLength/2:d.axisLength/i.normalized.series[a].length/2,(s=r.elem("g")).attr({"ct:series-name":n.name,"ct:meta":t.serialize(n.meta)}),s.addClass([e.classNames.series,n.className||e.classNames.series+"-"+t.alphaNumerate(a)].join(" ")),i.normalized.series[a].forEach((function(r,u){var v,b,_,Z;if(Z=e.distributeSeries&&!e.stackBars?a:e.distributeSeries&&e.stackBars?0:u,v=e.horizontalBars?{x:h.x1+c.projectValue(r&&r.x?r.x:0,u,i.normalized.series[a]),y:h.y1-d.projectValue(r&&r.y?r.y:0,Z,i.normalized.series[a])}:{x:h.x1+d.projectValue(r&&r.x?r.x:0,Z,i.normalized.series[a]),y:h.y1-c.projectValue(r&&r.y?r.y:0,u,i.normalized.series[a])},d instanceof t.StepAxis&&(d.options.stretch||(v[d.units.pos]+=o*(e.horizontalBars?-1:1)),v[d.units.pos]+=e.stackBars||e.distributeSeries?0:l*e.seriesBarDistance*(e.horizontalBars?-1:1)),m[u]=(_=m[u]||f)-(f-v[d.counterUnits.pos]),void 0!==r){var y={};y[d.units.pos+"1"]=v[d.units.pos],y[d.units.pos+"2"]=v[d.units.pos],!e.stackBars||"accumulate"!==e.stackMode&&e.stackMode?(y[d.counterUnits.pos+"1"]=f,y[d.counterUnits.pos+"2"]=v[d.counterUnits.pos]):(y[d.counterUnits.pos+"1"]=_,y[d.counterUnits.pos+"2"]=m[u]),y.x1=Math.min(Math.max(y.x1,h.x1),h.x2),y.x2=Math.min(Math.max(y.x2,h.x1),h.x2),y.y1=Math.min(Math.max(y.y1,h.y2),h.y1),y.y2=Math.min(Math.max(y.y2,h.y2),h.y1);var x=t.getMetaData(n,u);b=s.elem("line",y,e.classNames.bar).attr({"ct:value":[r.x,r.y].filter(t.isNumeric).join(","),"ct:meta":t.serialize(x)}),this.eventEmitter.emit("draw",t.extend({type:"bar",value:r,index:u,meta:x,series:n,seriesIndex:a,axisX:p,axisY:g,chartRect:h,group:s,element:b},y))}}).bind(this))}).bind(this)),this.eventEmitter.emit("created",{bounds:c.bounds,chartRect:h,axisX:p,axisY:g,svg:this.svg,options:e})}})}(this||global,e),function(e,t){"use strict";var n={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:t.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function i(e,t,n){var i=t.x>e.x;return i&&"explode"===n||!i&&"implode"===n?"start":i&&"implode"===n||!i&&"explode"===n?"end":"middle"}t.Pie=t.Base.extend({constructor:function(e,i,a,o){t.Pie.super.constructor.call(this,e,i,n,t.extend({},n,a),o)},createChart:function(e){var a,o,r,s,l,c=t.normalizeData(this.data),u=[],d=e.startAngle;this.svg=t.createSvg(this.container,e.width,e.height,e.donut?e.classNames.chartDonut:e.classNames.chartPie),o=t.createChartRect(this.svg,e,n.padding),r=Math.min(o.width()/2,o.height()/2),l=e.total||c.normalized.series.reduce(function(e,t){return e+t},0);var p=t.quantity(e.donutWidth);"%"===p.unit&&(p.value*=r/100),r-=e.donut&&!e.donutSolid?p.value/2:0,s="outside"===e.labelPosition||e.donut&&!e.donutSolid?r:"center"===e.labelPosition?0:e.donutSolid?r-p.value/2:r/2,s+=e.labelOffset;var g={x:o.x1+o.width()/2,y:o.y2+o.height()/2},h=1===c.raw.series.filter(function(e){return e.hasOwnProperty("value")?0!==e.value:0!==e}).length;c.raw.series.forEach((function(e,t){u[t]=this.svg.elem("g",null,null)}).bind(this)),e.showLabel&&(a=this.svg.elem("g",null,null)),c.raw.series.forEach((function(n,o){if(0!==c.normalized.series[o]||!e.ignoreEmptyValues){u[o].attr({"ct:series-name":n.name}),u[o].addClass([e.classNames.series,n.className||e.classNames.series+"-"+t.alphaNumerate(o)].join(" "));var f=l>0?d+c.normalized.series[o]/l*360:0,m=Math.max(0,d-(0===o||h?0:.2));f-m>=359.99&&(f=m+359.99);var v,b,_,Z=t.polarToCartesian(g.x,g.y,r,m),y=t.polarToCartesian(g.x,g.y,r,f),x=new t.Svg.Path(!e.donut||e.donutSolid).move(y.x,y.y).arc(r,r,0,f-d>180,0,Z.x,Z.y);e.donut?e.donutSolid&&(v=t.polarToCartesian(g.x,g.y,_=r-p.value,d-(0===o||h?0:.2)),b=t.polarToCartesian(g.x,g.y,_,f),x.line(v.x,v.y),x.arc(_,_,0,f-d>180,1,b.x,b.y)):x.line(g.x,g.y);var k=e.classNames.slicePie;e.donut&&(k=e.classNames.sliceDonut,e.donutSolid&&(k=e.classNames.sliceDonutSolid));var A=u[o].elem("path",{d:x.stringify()},k);if(A.attr({"ct:value":c.normalized.series[o],"ct:meta":t.serialize(n.meta)}),e.donut&&!e.donutSolid&&(A._node.style.strokeWidth=p.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:c.normalized.series[o],totalDataSum:l,index:o,meta:n.meta,series:n,group:u[o],element:A,path:x.clone(),center:g,radius:r,startAngle:d,endAngle:f}),e.showLabel){var w,T;w=1===c.raw.series.length?{x:g.x,y:g.y}:t.polarToCartesian(g.x,g.y,s,d+(f-d)/2),T=c.normalized.labels&&!t.isFalseyButZero(c.normalized.labels[o])?c.normalized.labels[o]:c.normalized.series[o];var C=e.labelInterpolationFnc(T,o);if(C||0===C){var q=a.elem("text",{dx:w.x,dy:w.y,"text-anchor":i(g,w,e.labelDirection)},e.classNames.label).text(""+C);this.eventEmitter.emit("draw",{type:"label",index:o,group:a,element:q,text:""+C,x:w.x,y:w.y})}}d=f}}).bind(this)),this.eventEmitter.emit("created",{chartRect:o,svg:this.svg,options:e})},determineAnchorPosition:i})}(this||global,e),e}()}).apply(t,[]))||(e.exports=n)},1486:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,a,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(a=i;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=i;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,o[a]))return!1;for(a=i;0!=a--;){var r=o[a];if(!e(t[r],n[r]))return!1}return!0}return t!=t&&n!=n}},3275:function(e,i,o){"use strict";o.r(i),o.d(i,{AppAdminModule:function(){return ru}});var l=o(61116),u=o(31041),d=o(35366),g=o(68515),f=o(63337),m=function(){var e=function(){function e(t,n){p(this,e),this.http=t,this.router=n}return h(e,[{key:"resolve",value:function(e){var t=this;return this.http.get("settings").toPromise().then(function(e){return e},function(){return t.router.navigate(["/admin"]),!1})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.LFG(g.r),d.LFG(f.F0))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),v=o(78512),b=function(){var e=function(){function e(){p(this,e),this.loading$=new v.X(!1),this.errors$=new v.X({}),this.initial={server:{},client:{}},this.server={},this.client={}}return h(e,[{key:"getModified",value:function(){return{server:this.diffSettingObjects("server"),client:this.diffSettingObjects("client")}}},{key:"diffSettingObjects",value:function(e){var t={};for(var n in this[e])this[e][n]!==this.initial[e][n]&&(t[n]=this[e][n]);return t}},{key:"setAll",value:function(e){this.initial=e,this.client=Object.assign({},e.client),this.server=Object.assign({},e.server)}},{key:"reset",value:function(){this.server=Object.assign({},this.initial.server),this.client=Object.assign({},this.initial.client)}},{key:"updateInitial",value:function(e){this.initial={client:Object.assign(Object.assign({},this.initial.client),e.client),server:Object.assign(Object.assign({},this.initial.server),e.server)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),_=o(79961),Z=o(84369),y=o(40994),x=o(95522),k=o(92935),A=o(93169),w=o(19861),T=(o(34056),o(55959));o(87254),o(30810),o(25416);var C=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[A.ud]]}),e}(),q=o(87064),U=o(13070),I=new d.OlP("MAT_INPUT_VALUE_ACCESSOR"),M=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[q.rD],imports:[[C,U.lN,q.BQ],C,U.lN]}),e}(),O=o(97070),J=o(27701),P=o(79572),N=o(63589),S=o(24311),D=o(68400),Q=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[l.ez,u.UX,D.N]]}),e}(),Y=o(56160),L=o(57173),E=o(7436),F=o(77307),R=o(50615),$=new d.OlP("RECAPTCHA_ACTIONS"),V=o(86013),B=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[m,b,{provide:$,multi:!0,useValue:[{name:"Registration Recaptcha",key:"recaptcha.enable_for_registration",description:"Enable recaptcha integration for registration page."},{name:"Contact Recaptcha",key:"recaptcha.enable_for_contact",description:'Enable recaptcha integration for "contact us" page.'}]}],imports:[[f.Bz,l.ez,u.u5,u.UX,Q,Y.G,D.N,R.X,V.b,Z.ot,F.Ps,N.ZX,y.p9,S.AV,k.Is,O.Tx,P.rP,_.Bb,M,x.Hi,J.Cv,L.Nh,E.Fk],Y.G]}),e}(),H=o(90164),z=o(97388),G=o(77923),j=o(82151),X=o(43725),W=o(87570),K=o(31906),ee=o(40878),te=o(99235),ne=o(90611),ie=o(56238),ae=o(43835),oe=o(99713),re=o(94720),se=["mat-calendar-body",""];function le(e,t){if(1&e&&(d.TgZ(0,"tr",2),d.TgZ(1,"td",3),d._uU(2),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Udp("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),d.uIk("colspan",n.numCols),d.xp6(1),d.hij(" ",n.label," ")}}function ce(e,t){if(1&e&&(d.TgZ(0,"td",7),d._uU(1),d.qZA()),2&e){var n=d.oxw(2);d.Udp("padding-top",n._cellPadding)("padding-bottom",n._cellPadding),d.uIk("colspan",n._firstRowOffset),d.xp6(1),d.hij(" ",n._firstRowOffset>=n.labelMinRequiredCells?n.label:""," ")}}function ue(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"td",8),d.NdJ("click",function(e){var t=d.CHM(n).$implicit;return d.oxw(2)._cellClicked(t,e)}),d.TgZ(1,"div",9),d._uU(2),d.qZA(),d._UZ(3,"div",10),d.qZA()}if(2&e){var i=t.$implicit,a=t.index,o=d.oxw().index,r=d.oxw();d.Udp("width",r._cellWidth)("padding-top",r._cellPadding)("padding-bottom",r._cellPadding),d.ekj("mat-calendar-body-disabled",!i.enabled)("mat-calendar-body-active",r._isActiveCell(o,a))("mat-calendar-body-range-start",r._isRangeStart(i.compareValue))("mat-calendar-body-range-end",r._isRangeEnd(i.compareValue))("mat-calendar-body-in-range",r._isInRange(i.compareValue))("mat-calendar-body-comparison-bridge-start",r._isComparisonBridgeStart(i.compareValue,o,a))("mat-calendar-body-comparison-bridge-end",r._isComparisonBridgeEnd(i.compareValue,o,a))("mat-calendar-body-comparison-start",r._isComparisonStart(i.compareValue))("mat-calendar-body-comparison-end",r._isComparisonEnd(i.compareValue))("mat-calendar-body-in-comparison-range",r._isInComparisonRange(i.compareValue))("mat-calendar-body-preview-start",r._isPreviewStart(i.compareValue))("mat-calendar-body-preview-end",r._isPreviewEnd(i.compareValue))("mat-calendar-body-in-preview",r._isInPreview(i.compareValue)),d.Q6J("ngClass",i.cssClasses)("tabindex",r._isActiveCell(o,a)?0:-1),d.uIk("data-mat-row",o)("data-mat-col",a)("aria-label",i.ariaLabel)("aria-disabled",!i.enabled||null)("aria-selected",r._isSelected(i.compareValue)),d.xp6(1),d.ekj("mat-calendar-body-selected",r._isSelected(i.compareValue))("mat-calendar-body-comparison-identical",r._isComparisonIdentical(i.compareValue))("mat-calendar-body-today",r.todayValue===i.compareValue),d.xp6(1),d.hij(" ",i.displayValue," ")}}function de(e,t){if(1&e&&(d.TgZ(0,"tr",4),d.YNc(1,ce,2,6,"td",5),d.YNc(2,ue,4,46,"td",6),d.qZA()),2&e){var n=t.$implicit,i=t.index,a=d.oxw();d.xp6(1),d.Q6J("ngIf",0===i&&a._firstRowOffset),d.xp6(1),d.Q6J("ngForOf",n)}}function pe(e,t){if(1&e&&(d.TgZ(0,"th",5),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.uIk("aria-label",n.long),d.xp6(1),d.Oqu(n.narrow)}}var ge=["*"];function he(e,t){}function fe(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"mat-month-view",5),d.NdJ("activeDateChange",function(e){return d.CHM(n),d.oxw().activeDate=e})("_userSelection",function(e){return d.CHM(n),d.oxw()._dateSelected(e)}),d.qZA()}if(2&e){var i=d.oxw();d.Q6J("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)}}function me(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"mat-year-view",6),d.NdJ("activeDateChange",function(e){return d.CHM(n),d.oxw().activeDate=e})("monthSelected",function(e){return d.CHM(n),d.oxw()._monthSelectedInYearView(e)})("selectedChange",function(e){return d.CHM(n),d.oxw()._goToDateInView(e,"month")}),d.qZA()}if(2&e){var i=d.oxw();d.Q6J("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function ve(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"mat-multi-year-view",7),d.NdJ("activeDateChange",function(e){return d.CHM(n),d.oxw().activeDate=e})("yearSelected",function(e){return d.CHM(n),d.oxw()._yearSelectedInMultiYearView(e)})("selectedChange",function(e){return d.CHM(n),d.oxw()._goToDateInView(e,"year")}),d.qZA()}if(2&e){var i=d.oxw();d.Q6J("activeDate",i.activeDate)("selected",i.selected)("dateFilter",i.dateFilter)("maxDate",i.maxDate)("minDate",i.minDate)("dateClass",i.dateClass)}}function be(e,t){}var _e=["button"];function Ze(e,t){1&e&&(d.O4$(),d.TgZ(0,"svg",3),d._UZ(1,"path",4),d.qZA())}var ye=[[["","matDatepickerToggleIcon",""]]],xe=["[matDatepickerToggleIcon]"],ke=function(){var e=function(){function e(){p(this,e),this.changes=new T.xQ,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}return h(e,[{key:"formatYearRange",value:function(e,t){return"".concat(e," \u2013 ").concat(t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,d.Yz7)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),Ae=function e(t,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:t,s=arguments.length>6?arguments[6]:void 0;p(this,e),this.value=t,this.displayValue=n,this.ariaLabel=i,this.enabled=a,this.cssClasses=o,this.compareValue=r,this.rawValue=s},we=function(){var e=function(){function e(t,n){var i=this;p(this,e),this._elementRef=t,this._ngZone=n,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new d.vpe,this.previewChange=new d.vpe,this._enterHandler=function(e){if(i._skipNextFocus&&"focus"===e.type)i._skipNextFocus=!1;else if(e.target&&i.isRange){var t=i._getCellFromElement(e.target);t&&i._ngZone.run(function(){return i.previewChange.emit({value:t.enabled?t:null,event:e})})}},this._leaveHandler=function(e){null!==i.previewEnd&&i.isRange&&e.target&&Te(e.target)&&i._ngZone.run(function(){return i.previewChange.emit({value:null,event:e})})},n.runOutsideAngular(function(){var e=t.nativeElement;e.addEventListener("mouseenter",i._enterHandler,!0),e.addEventListener("focus",i._enterHandler,!0),e.addEventListener("mouseleave",i._leaveHandler,!0),e.addEventListener("blur",i._leaveHandler,!0)})}return h(e,[{key:"_cellClicked",value:function(e,t){e.enabled&&this.selectedValueChange.emit({value:e.value,event:t})}},{key:"_isSelected",value:function(e){return this.startValue===e||this.endValue===e}},{key:"ngOnChanges",value:function(e){var t=e.numCols,n=this.rows,i=this.numCols;(e.rows||t)&&(this._firstRowOffset=n&&n.length&&n[0].length?i-n[0].length:0),(e.cellAspectRatio||t||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/i+"%"),!t&&this._cellWidth||(this._cellWidth=100/i+"%")}},{key:"ngOnDestroy",value:function(){var e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}},{key:"_isActiveCell",value:function(e,t){var n=e*this.numCols+t;return e&&(n-=this._firstRowOffset),n==this.activeCell}},{key:"_focusActiveCell",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.pipe((0,ne.q)(1)).subscribe(function(){var n=e._elementRef.nativeElement.querySelector(".mat-calendar-body-active");n&&(t||(e._skipNextFocus=!0),n.focus())})})}},{key:"_isRangeStart",value:function(e){return Ce(e,this.startValue,this.endValue)}},{key:"_isRangeEnd",value:function(e){return qe(e,this.startValue,this.endValue)}},{key:"_isInRange",value:function(e){return Ue(e,this.startValue,this.endValue,this.isRange)}},{key:"_isComparisonStart",value:function(e){return Ce(e,this.comparisonStart,this.comparisonEnd)}},{key:"_isComparisonBridgeStart",value:function(e,t,n){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;var i=this.rows[t][n-1];if(!i){var a=this.rows[t-1];i=a&&a[a.length-1]}return i&&!this._isRangeEnd(i.compareValue)}},{key:"_isComparisonBridgeEnd",value:function(e,t,n){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;var i=this.rows[t][n+1];if(!i){var a=this.rows[t+1];i=a&&a[0]}return i&&!this._isRangeStart(i.compareValue)}},{key:"_isComparisonEnd",value:function(e){return qe(e,this.comparisonStart,this.comparisonEnd)}},{key:"_isInComparisonRange",value:function(e){return Ue(e,this.comparisonStart,this.comparisonEnd,this.isRange)}},{key:"_isComparisonIdentical",value:function(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}},{key:"_isPreviewStart",value:function(e){return Ce(e,this.previewStart,this.previewEnd)}},{key:"_isPreviewEnd",value:function(e){return qe(e,this.previewStart,this.previewEnd)}},{key:"_isInPreview",value:function(e){return Ue(e,this.previewStart,this.previewEnd,this.isRange)}},{key:"_getCellFromElement",value:function(e){var t;if(Te(e)?t=e:Te(e.parentNode)&&(t=e.parentNode),t){var n=t.getAttribute("data-mat-row"),i=t.getAttribute("data-mat-col");if(n&&i)return this.rows[parseInt(n)][parseInt(i)]}return null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(d.R0b))},e.\u0275cmp=d.Xpm({type:e,selectors:[["","mat-calendar-body",""]],hostAttrs:["role","grid","aria-readonly","true",1,"mat-calendar-body"],inputs:{numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",previewStart:"previewStart",previewEnd:"previewEnd",label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[d.TTD],attrs:se,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["aria-hidden","true","class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell",3,"ngClass","tabindex","mat-calendar-body-disabled","mat-calendar-body-active","mat-calendar-body-range-start","mat-calendar-body-range-end","mat-calendar-body-in-range","mat-calendar-body-comparison-bridge-start","mat-calendar-body-comparison-bridge-end","mat-calendar-body-comparison-start","mat-calendar-body-comparison-end","mat-calendar-body-in-comparison-range","mat-calendar-body-preview-start","mat-calendar-body-preview-end","mat-calendar-body-in-preview","width","paddingTop","paddingBottom","click",4,"ngFor","ngForOf"],["aria-hidden","true",1,"mat-calendar-body-label"],["role","gridcell",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],[1,"mat-calendar-body-cell-preview"]],template:function(e,t){1&e&&(d.YNc(0,le,3,6,"tr",0),d.YNc(1,de,3,2,"tr",1)),2&e&&(d.Q6J("ngIf",t._firstRowOffset<t.labelMinRequiredCells),d.xp6(1),d.Q6J("ngForOf",t.rows))},directives:[l.O5,l.sg,l.mk],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell{position:relative;height:0;line-height:0;text-align:center;outline:none;cursor:pointer}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.mat-datepicker-dialog .mat-dialog-container{position:relative;overflow:visible}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected),.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){outline:dotted 2px}[dir=rtl] .mat-calendar-body-label{text-align:right}@media(hover: none){.mat-calendar-body-cell:not(.mat-calendar-body-disabled):hover>.mat-calendar-body-cell-content:not(.mat-calendar-body-selected){background-color:transparent}}\n'],encapsulation:2,changeDetection:0}),e}();function Te(e){return"TD"===e.nodeName}function Ce(e,t,n){return null!==n&&t!==n&&e<n&&e===t}function qe(e,t,n){return null!==t&&t!==n&&e>=t&&e===n}function Ue(e,t,n,i){return i&&null!==t&&null!==n&&t!==n&&e>=t&&e<=n}var Ie=function e(t,n){p(this,e),this.start=t,this.end=n},Me=function(){var e=function(){function e(t,n){p(this,e),this.selection=t,this._adapter=n,this._selectionChanged=new T.xQ,this.selectionChanged=this._selectionChanged,this.selection=t}return h(e,[{key:"updateSelection",value:function(e,t){var n=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:t,oldValue:n})}},{key:"ngOnDestroy",value:function(){this._selectionChanged.complete()}},{key:"_isValidDateInstance",value:function(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}},{key:"clone",value:function(){return null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.LFG(void 0),d.LFG(q._A))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}(),Oe=function(){var e=function(e){n(o,e);var i=a(o);function o(e){return p(this,o),i.call(this,null,e)}return h(o,[{key:"add",value:function(e){t(s(o.prototype),"updateSelection",this).call(this,e,this)}},{key:"isValid",value:function(){return null!=this.selection&&this._isValidDateInstance(this.selection)}},{key:"isComplete",value:function(){return null!=this.selection}},{key:"clone",value:function(){var e=new o(this._adapter);return e.updateSelection(this.selection,this),e}}]),o}(Me);return e.\u0275fac=function(t){return new(t||e)(d.LFG(q._A))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac}),e}(),Je={provide:Me,deps:[[new d.FiY,new d.tp0,Me],q._A],useFactory:function(e,t){return e||new Oe(t)}},Pe=new d.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY"),Ne=function(){var e=function(){function e(t,n,i,a,o){p(this,e),this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=i,this._dir=a,this._rangeStrategy=o,this._rerenderSubscription=W.w.EMPTY,this.selectedChange=new d.vpe,this._userSelection=new d.vpe,this.activeDateChange=new d.vpe,this._activeDate=this._dateAdapter.today()}return h(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._hasSameMonthAndYear(t,this._activeDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof Ie?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ie.O)(null)).subscribe(function(){return e._init()})}},{key:"ngOnChanges",value:function(e){var t=e.comparisonStart||e.comparisonEnd;t&&!t.firstChange&&this._setRanges(this.selected)}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_dateSelected",value:function(e){var t,n,i=e.value,a=this._dateAdapter.getYear(this.activeDate),o=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.createDate(a,o,i);this._selected instanceof Ie?(t=this._getDateInCurrentMonth(this._selected.start),n=this._getDateInCurrentMonth(this._selected.end)):t=n=this._getDateInCurrentMonth(this._selected),t===i&&n===i||this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case te.oh:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?1:-1);break;case te.SV:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,n?-1:1);break;case te.LH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case te.JH:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case te.Sd:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case te.uR:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case te.Ku:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case te.VM:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case te.K5:case te.L_:return void(this.dateFilter&&!this.dateFilter(this._activeDate)||(this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),e.preventDefault()));case te.hY:return void(null==this._previewEnd||(0,te.Vb)(e)||(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_init",value:function(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();var e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(e){this._matCalendarBody._focusActiveCell(e)}},{key:"_previewChanged",value:function(e){var t=e.event,n=e.value;if(this._rangeStrategy){var i=this._rangeStrategy.createPreview(n?n.rawValue:null,this.selected,t);this._previewStart=this._getCellCompareValue(i.start),this._previewEnd=this._getCellCompareValue(i.end),this._changeDetectorRef.detectChanges()}}},{key:"_initWeekdays",value:function(){var e=this._dateAdapter.getFirstDayOfWeek(),t=this._dateAdapter.getDayOfWeekNames("narrow"),n=this._dateAdapter.getDayOfWeekNames("long").map(function(e,n){return{long:e,narrow:t[n]}});this._weekdays=n.slice(e).concat(n.slice(0,e))}},{key:"_createWeekCells",value:function(){var e=this._dateAdapter.getNumDaysInMonth(this.activeDate),t=this._dateAdapter.getDateNames();this._weeks=[[]];for(var n=0,i=this._firstWeekOffset;n<e;n++,i++){7==i&&(this._weeks.push([]),i=0);var a=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),n+1),o=this._shouldEnableDate(a),r=this._dateAdapter.format(a,this._dateFormats.display.dateA11yLabel),s=this.dateClass?this.dateClass(a,"month"):void 0;this._weeks[this._weeks.length-1].push(new Ae(n+1,t[n],r,o,s,this._getCellCompareValue(a),a))}}},{key:"_shouldEnableDate",value:function(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}},{key:"_getDateInCurrentMonth",value:function(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}},{key:"_hasSameMonthAndYear",value:function(e,t){return!(!e||!t||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(t)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(t))}},{key:"_getCellCompareValue",value:function(e){if(e){var t=this._dateAdapter.getYear(e),n=this._dateAdapter.getMonth(e),i=this._dateAdapter.getDate(e);return new Date(t,n,i).getTime()}return null}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setRanges",value:function(e){e instanceof Ie?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.sBO),d.Y36(q.sG,8),d.Y36(q._A,8),d.Y36(re.Is,8),d.Y36(Pe,8))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-month-view"]],viewQuery:function(e,t){var n;(1&e&&d.Gf(we,5),2&e)&&(d.iGM(n=d.CRH())&&(t._matCalendarBody=n.first))},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[d.TTD],decls:7,vars:13,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["colspan","7","aria-hidden","true",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keydown"],["scope","col"]],template:function(e,t){1&e&&(d.TgZ(0,"table",0),d.TgZ(1,"thead",1),d.TgZ(2,"tr"),d.YNc(3,pe,2,2,"th",2),d.qZA(),d.TgZ(4,"tr"),d._UZ(5,"th",3),d.qZA(),d.qZA(),d.TgZ(6,"tbody",4),d.NdJ("selectedValueChange",function(e){return t._dateSelected(e)})("previewChange",function(e){return t._previewChanged(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngForOf",t._weekdays),d.xp6(3),d.Q6J("label",t._monthLabel)("rows",t._weeks)("todayValue",t._todayDate)("startValue",t._rangeStart)("endValue",t._rangeEnd)("comparisonStart",t._comparisonRangeStart)("comparisonEnd",t._comparisonRangeEnd)("previewStart",t._previewStart)("previewEnd",t._previewEnd)("isRange",t._isRange)("labelMinRequiredCells",3)("activeCell",t._dateAdapter.getDate(t.activeDate)-1))},directives:[l.sg,we],encapsulation:2,changeDetection:0}),e}(),Se=function(){var e=function(){function e(t,n,i){p(this,e),this._changeDetectorRef=t,this._dateAdapter=n,this._dir=i,this._rerenderSubscription=W.w.EMPTY,this.selectedChange=new d.vpe,this.yearSelected=new d.vpe,this.activeDateChange=new d.vpe,this._activeDate=this._dateAdapter.today()}return h(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),De(this._dateAdapter,t,this._activeDate,this.minDate,this.maxDate)||this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof Ie?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ie.O)(null)).subscribe(function(){return e._init()})}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_init",value:function(){var e=this;this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());var t=this._dateAdapter.getYear(this._activeDate)-Qe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(var n=0,i=[];n<24;n++)i.push(t+n),4==i.length&&(this._years.push(i.map(function(t){return e._createCellForYear(t)})),i=[]);this._changeDetectorRef.markForCheck()}},{key:"_yearSelected",value:function(e){var t=e.value;this.yearSelected.emit(this._dateAdapter.createDate(t,0,1));var n=this._dateAdapter.getMonth(this.activeDate),i=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(t,n,1));this.selectedChange.emit(this._dateAdapter.createDate(t,n,Math.min(this._dateAdapter.getDate(this.activeDate),i)))}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case te.oh:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?1:-1);break;case te.SV:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,n?-1:1);break;case te.LH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case te.JH:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case te.Sd:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Qe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case te.uR:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Qe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case te.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case te.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case te.K5:case te.L_:this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e});break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_getActiveCell",value:function(){return Qe(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_createCellForYear",value:function(e){var t=this._dateAdapter.createDate(e,0,1),n=this._dateAdapter.getYearName(t),i=this.dateClass?this.dateClass(t,"multi-year"):void 0;return new Ae(e,n,n,this._shouldEnableYear(e),i)}},{key:"_shouldEnableYear",value:function(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(var t=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(t)==e;t=this._dateAdapter.addCalendarDays(t,1))if(this.dateFilter(t))return!0;return!1}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setSelectedYear",value:function(e){if(this._selectedYear=null,e instanceof Ie){var t=e.start||e.end;t&&(this._selectedYear=this._dateAdapter.getYear(t))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.sBO),d.Y36(q._A,8),d.Y36(re.Is,8))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-multi-year-view"]],viewQuery:function(e,t){var n;(1&e&&d.Gf(we,5),2&e)&&(d.iGM(n=d.CRH())&&(t._matCalendarBody=n.first))},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(d.TgZ(0,"table",0),d.TgZ(1,"thead",1),d.TgZ(2,"tr"),d._UZ(3,"th",2),d.qZA(),d.qZA(),d.TgZ(4,"tbody",3),d.NdJ("selectedValueChange",function(e){return t._yearSelected(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),d.qZA(),d.qZA()),2&e&&(d.xp6(4),d.Q6J("rows",t._years)("todayValue",t._todayYear)("startValue",t._selectedYear)("endValue",t._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._getActiveCell()))},directives:[we],encapsulation:2,changeDetection:0}),e}();function De(e,t,n,i,a){var o=e.getYear(t),r=e.getYear(n),s=Ye(e,i,a);return Math.floor((o-s)/24)===Math.floor((r-s)/24)}function Qe(e,t,n,i){return((e.getYear(t)-Ye(e,n,i))%24+24)%24}function Ye(e,t,n){var i=0;return n?i=e.getYear(n)-24+1:t&&(i=e.getYear(t)),i}var Le=function(){var e=function(){function e(t,n,i,a){p(this,e),this._changeDetectorRef=t,this._dateFormats=n,this._dateAdapter=i,this._dir=a,this._rerenderSubscription=W.w.EMPTY,this.selectedChange=new d.vpe,this.monthSelected=new d.vpe,this.activeDateChange=new d.vpe,this._activeDate=this._dateAdapter.today()}return h(e,[{key:"activeDate",get:function(){return this._activeDate},set:function(e){var t=this._activeDate,n=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(n,this.minDate,this.maxDate),this._dateAdapter.getYear(t)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof Ie?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"ngAfterContentInit",value:function(){var e=this;this._rerenderSubscription=this._dateAdapter.localeChanges.pipe((0,ie.O)(null)).subscribe(function(){return e._init()})}},{key:"ngOnDestroy",value:function(){this._rerenderSubscription.unsubscribe()}},{key:"_monthSelected",value:function(e){var t=e.value,n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,1);this.monthSelected.emit(n);var i=this._dateAdapter.getNumDaysInMonth(n);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),t,Math.min(this._dateAdapter.getDate(this.activeDate),i)))}},{key:"_handleCalendarBodyKeydown",value:function(e){var t=this._activeDate,n=this._isRtl();switch(e.keyCode){case te.oh:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?1:-1);break;case te.SV:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,n?-1:1);break;case te.LH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case te.JH:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case te.Sd:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case te.uR:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case te.Ku:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case te.VM:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case te.K5:case te.L_:this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e});break;default:return}this._dateAdapter.compareDate(t,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}},{key:"_init",value:function(){var e=this;this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);var t=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(function(n){return n.map(function(n){return e._createCellForMonth(n,t[n])})}),this._changeDetectorRef.markForCheck()}},{key:"_focusActiveCell",value:function(){this._matCalendarBody._focusActiveCell()}},{key:"_getMonthInCurrentYear",value:function(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}},{key:"_createCellForMonth",value:function(e,t){var n=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),i=this._dateAdapter.format(n,this._dateFormats.display.monthYearA11yLabel),a=this.dateClass?this.dateClass(n,"year"):void 0;return new Ae(e,t.toLocaleUpperCase(),i,this._shouldEnableMonth(e),a)}},{key:"_shouldEnableMonth",value:function(e){var t=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(t,e)||this._isYearAndMonthBeforeMinDate(t,e))return!1;if(!this.dateFilter)return!0;for(var n=this._dateAdapter.createDate(t,e,1);this._dateAdapter.getMonth(n)==e;n=this._dateAdapter.addCalendarDays(n,1))if(this.dateFilter(n))return!0;return!1}},{key:"_isYearAndMonthAfterMaxDate",value:function(e,t){if(this.maxDate){var n=this._dateAdapter.getYear(this.maxDate),i=this._dateAdapter.getMonth(this.maxDate);return e>n||e===n&&t>i}return!1}},{key:"_isYearAndMonthBeforeMinDate",value:function(e,t){if(this.minDate){var n=this._dateAdapter.getYear(this.minDate),i=this._dateAdapter.getMonth(this.minDate);return e<n||e===n&&t<i}return!1}},{key:"_isRtl",value:function(){return this._dir&&"rtl"===this._dir.value}},{key:"_setSelectedMonth",value:function(e){this._selectedMonth=e instanceof Ie?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.sBO),d.Y36(q.sG,8),d.Y36(q._A,8),d.Y36(re.Is,8))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-year-view"]],viewQuery:function(e,t){var n;(1&e&&d.Gf(we,5),2&e)&&(d.iGM(n=d.CRH())&&(t._matCalendarBody=n.first))},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","presentation",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keydown"]],template:function(e,t){1&e&&(d.TgZ(0,"table",0),d.TgZ(1,"thead",1),d.TgZ(2,"tr"),d._UZ(3,"th",2),d.qZA(),d.qZA(),d.TgZ(4,"tbody",3),d.NdJ("selectedValueChange",function(e){return t._monthSelected(e)})("keydown",function(e){return t._handleCalendarBodyKeydown(e)}),d.qZA(),d.qZA()),2&e&&(d.xp6(4),d.Q6J("label",t._yearLabel)("rows",t._months)("todayValue",t._todayMonth)("startValue",t._selectedMonth)("endValue",t._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",t._dateAdapter.getMonth(t.activeDate)))},directives:[we],encapsulation:2,changeDetection:0}),e}(),Ee=0,Fe=function(){var e=function(){function e(t,n,i,a,o){p(this,e),this._intl=t,this.calendar=n,this._dateAdapter=i,this._dateFormats=a,this._buttonDescriptionId="mat-calendar-button-"+Ee++,this.calendar.stateChanges.subscribe(function(){return o.markForCheck()})}return h(e,[{key:"periodButtonText",get:function(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);var e=this._dateAdapter.getYear(this.calendar.activeDate)-Qe(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),t=e+24-1,n=this._dateAdapter.getYearName(this._dateAdapter.createDate(e,0,1)),i=this._dateAdapter.getYearName(this._dateAdapter.createDate(t,0,1));return this._intl.formatYearRange(n,i)}},{key:"periodButtonLabel",get:function(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}},{key:"prevButtonLabel",get:function(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}},{key:"nextButtonLabel",get:function(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}},{key:"currentPeriodClicked",value:function(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}},{key:"previousClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}},{key:"nextClicked",value:function(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}},{key:"previousEnabled",value:function(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}},{key:"nextEnabled",value:function(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}},{key:"_isSameView",value:function(e,t){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(t):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(t):De(this._dateAdapter,e,t,this.calendar.minDate,this.calendar.maxDate)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(ke),d.Y36((0,d.Gpc)(function(){return Re})),d.Y36(q._A,8),d.Y36(q.sG,8),d.Y36(d.sBO))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:ge,decls:10,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","cdkAriaLive","polite",1,"mat-calendar-period-button",3,"click"],[1,"mat-calendar-arrow"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,t){1&e&&(d.F$t(),d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"button",2),d.NdJ("click",function(){return t.currentPeriodClicked()}),d.TgZ(3,"span"),d._uU(4),d.qZA(),d._UZ(5,"div",3),d.qZA(),d._UZ(6,"div",4),d.Hsn(7),d.TgZ(8,"button",5),d.NdJ("click",function(){return t.previousClicked()}),d.qZA(),d.TgZ(9,"button",6),d.NdJ("click",function(){return t.nextClicked()}),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.uIk("aria-label",t.periodButtonLabel)("aria-describedby",t._buttonDescriptionId),d.xp6(1),d.uIk("id",t._buttonDescriptionId),d.xp6(1),d.Oqu(t.periodButtonText),d.xp6(1),d.ekj("mat-calendar-invert","month"!==t.calendar.currentView),d.xp6(3),d.Q6J("disabled",!t.previousEnabled()),d.uIk("aria-label",t.prevButtonLabel),d.xp6(1),d.Q6J("disabled",!t.nextEnabled()),d.uIk("aria-label",t.nextButtonLabel))},directives:[Z.lW,z.Qr],encapsulation:2,changeDetection:0}),e}(),Re=function(){var e=function(){function e(t,n,i,a){var o=this;p(this,e),this._dateAdapter=n,this._dateFormats=i,this._changeDetectorRef=a,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new d.vpe,this.yearSelected=new d.vpe,this.monthSelected=new d.vpe,this.viewChanged=new d.vpe(!0),this._userSelection=new d.vpe,this.stateChanges=new T.xQ,this._intlChanges=t.changes.subscribe(function(){a.markForCheck(),o.stateChanges.next()})}return h(e,[{key:"startAt",get:function(){return this._startAt},set:function(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"selected",get:function(){return this._selected},set:function(e){this._selected=e instanceof Ie?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"minDate",get:function(){return this._minDate},set:function(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"maxDate",get:function(){return this._maxDate},set:function(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"activeDate",get:function(){return this._clampedActiveDate},set:function(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}},{key:"currentView",get:function(){return this._currentView},set:function(e){var t=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),t&&this.viewChanged.emit(t)}},{key:"ngAfterContentInit",value:function(){this._calendarHeaderPortal=new j.C5(this.headerComponent||Fe),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}},{key:"ngAfterViewChecked",value:function(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}},{key:"ngOnDestroy",value:function(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}},{key:"ngOnChanges",value:function(e){var t=e.minDate||e.maxDate||e.dateFilter;if(t&&!t.firstChange){var n=this._getCurrentViewComponent();n&&(this._changeDetectorRef.detectChanges(),n._init())}this.stateChanges.next()}},{key:"focusActiveCell",value:function(){this._getCurrentViewComponent()._focusActiveCell(!1)}},{key:"updateTodaysDate",value:function(){var e=this.currentView;("month"===e?this.monthView:"year"===e?this.yearView:this.multiYearView)._init()}},{key:"_dateSelected",value:function(e){var t=e.value;(this.selected instanceof Ie||t&&!this._dateAdapter.sameDate(t,this.selected))&&this.selectedChange.emit(t),this._userSelection.emit(e)}},{key:"_yearSelectedInMultiYearView",value:function(e){this.yearSelected.emit(e)}},{key:"_monthSelectedInYearView",value:function(e){this.monthSelected.emit(e)}},{key:"_goToDateInView",value:function(e,t){this.activeDate=e,this.currentView=t}},{key:"_getCurrentViewComponent",value:function(){return this.monthView||this.yearView||this.multiYearView}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(ke),d.Y36(q._A,8),d.Y36(q.sG,8),d.Y36(d.sBO))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-calendar"]],viewQuery:function(e,t){var n;(1&e&&(d.Gf(Ne,5),d.Gf(Le,5),d.Gf(Se,5)),2&e)&&(d.iGM(n=d.CRH())&&(t.monthView=n.first),d.iGM(n=d.CRH())&&(t.yearView=n.first),d.iGM(n=d.CRH())&&(t.multiYearView=n.first))},hostAttrs:[1,"mat-calendar"],inputs:{startView:"startView",startAt:"startAt",selected:"selected",minDate:"minDate",maxDate:"maxDate",headerComponent:"headerComponent",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[d._Bn([Je]),d.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,t){1&e&&(d.YNc(0,he,0,0,"ng-template",0),d.TgZ(1,"div",1),d.YNc(2,fe,1,8,"mat-month-view",2),d.YNc(3,me,1,6,"mat-year-view",3),d.YNc(4,ve,1,6,"mat-multi-year-view",4),d.qZA()),2&e&&(d.Q6J("cdkPortalOutlet",t._calendarHeaderPortal),d.xp6(1),d.Q6J("ngSwitch",t.currentView),d.xp6(1),d.Q6J("ngSwitchCase","month"),d.xp6(1),d.Q6J("ngSwitchCase","year"),d.xp6(1),d.Q6J("ngSwitchCase","multi-year"))},directives:[j.Pl,z.kH,l.RF,l.n9,Ne,Le,Se],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(33% / 7 - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top-width:5px;border-top-style:solid;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),e}(),$e={transformPanel:(0,oe.X$)("transformPanel",[(0,oe.SB)("void",(0,oe.oB)({opacity:0,transform:"scale(1, 0.8)"})),(0,oe.eR)("void => enter",(0,oe.jt)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,oe.oB)({opacity:1,transform:"scale(1, 1)"}))),(0,oe.eR)("* => void",(0,oe.jt)("100ms linear",(0,oe.oB)({opacity:0})))]),fadeInCalendar:(0,oe.X$)("fadeInCalendar",[(0,oe.SB)("void",(0,oe.oB)({opacity:0})),(0,oe.SB)("enter",(0,oe.oB)({opacity:1})),(0,oe.eR)("void => *",(0,oe.jt)("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])},Ve=0,Be=new d.OlP("mat-datepicker-scroll-strategy"),He={provide:Be,deps:[G.aV],useFactory:function(e){return function(){return e.scrollStrategies.reposition()}}},ze=(0,q.pj)(function e(t){p(this,e),this._elementRef=t}),Ge=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,o,r,s){var l;return p(this,i),(l=t.call(this,e))._changeDetectorRef=n,l._globalModel=a,l._dateAdapter=o,l._rangeSelectionStrategy=r,l._subscriptions=new W.w,l._animationState="enter",l._animationDone=new T.xQ,l._actionsPortal=null,l._closeButtonText=(null==s?void 0:s.closeCalendarLabel)||"Close calendar",l}return h(i,[{key:"ngOnInit",value:function(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel}},{key:"ngAfterViewInit",value:function(){var e=this;this._subscriptions.add(this.datepicker.stateChanges.subscribe(function(){e._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}},{key:"ngOnDestroy",value:function(){this._subscriptions.unsubscribe(),this._animationDone.complete()}},{key:"_handleUserSelection",value:function(e){var t=this._model.selection,n=e.value,i=t instanceof Ie;if(i&&this._rangeSelectionStrategy){var a=this._rangeSelectionStrategy.selectionFinished(n,t,e.event);this._model.updateSelection(a,this)}else!n||!i&&this._dateAdapter.sameDate(n,t)||this._model.add(n);this._model&&!this._model.isComplete()||this._actionsPortal||this.datepicker.close()}},{key:"_startExitAnimation",value:function(){this._animationState="void",this._changeDetectorRef.markForCheck()}},{key:"_getSelected",value:function(){return this._model.selection}},{key:"_applyPendingSelection",value:function(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}]),i}(ze);return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(d.sBO),d.Y36(Me),d.Y36(q._A),d.Y36(Pe,8),d.Y36(ke))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-datepicker-content"]],viewQuery:function(e,t){var n;(1&e&&d.Gf(Re,5),2&e)&&(d.iGM(n=d.CRH())&&(t._calendar=n.first))},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,t){1&e&&d.WFA("@transformPanel.done",function(){return t._animationDone.next()}),2&e&&(d.d8E("@transformPanel",t._animationState),d.ekj("mat-datepicker-content-touch",t.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[d.qOj],decls:5,vars:20,consts:[["cdkTrapFocus","",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"mat-calendar",1),d.NdJ("yearSelected",function(e){return t.datepicker._selectYear(e)})("monthSelected",function(e){return t.datepicker._selectMonth(e)})("viewChanged",function(e){return t.datepicker._viewChanged(e)})("_userSelection",function(e){return t._handleUserSelection(e)}),d.qZA(),d.YNc(2,be,0,0,"ng-template",2),d.TgZ(3,"button",3),d.NdJ("focus",function(){return t._closeButtonFocused=!0})("blur",function(){return t._closeButtonFocused=!1})("click",function(){return t.datepicker.close()}),d._uU(4),d.qZA(),d.qZA()),2&e&&(d.ekj("mat-datepicker-content-container-with-actions",t._actionsPortal),d.xp6(1),d.Q6J("id",t.datepicker.id)("ngClass",t.datepicker.panelClass)("startAt",t.datepicker.startAt)("startView",t.datepicker.startView)("minDate",t.datepicker._getMinDate())("maxDate",t.datepicker._getMaxDate())("dateFilter",t.datepicker._getDateFilter())("headerComponent",t.datepicker.calendarHeaderComponent)("selected",t._getSelected())("dateClass",t.datepicker.dateClass)("comparisonStart",t.comparisonStart)("comparisonEnd",t.comparisonEnd)("@fadeInCalendar","enter"),d.xp6(1),d.Q6J("cdkPortalOutlet",t._actionsPortal),d.xp6(1),d.ekj("cdk-visually-hidden",!t._closeButtonFocused),d.Q6J("color",t.color||"primary"),d.xp6(1),d.Oqu(t._closeButtonText))},directives:[z.mK,Re,l.mk,j.Pl,Z.lW],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;overflow:auto;margin:-24px}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[$e.transformPanel,$e.fadeInCalendar]},changeDetection:0}),e}(),je=function(){var e=function(){function e(t,n,i,a,o,r,s,l,c){p(this,e),this._dialog=t,this._overlay=n,this._ngZone=i,this._viewContainerRef=a,this._dateAdapter=r,this._dir=s,this._document=l,this._model=c,this._inputStateChanges=W.w.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new d.vpe,this.monthSelected=new d.vpe,this.viewChanged=new d.vpe(!0),this.openedStream=new d.vpe,this.closedStream=new d.vpe,this._opened=!1,this.id="mat-datepicker-"+Ve++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass="".concat(this.id,"-backdrop"),this.stateChanges=new T.xQ,this._scrollStrategy=o}return h(e,[{key:"startAt",get:function(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)},set:function(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}},{key:"color",get:function(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)},set:function(e){this._color=e}},{key:"touchUi",get:function(){return this._touchUi},set:function(e){this._touchUi=(0,w.Ig)(e)}},{key:"disabled",get:function(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled},set:function(e){var t=(0,w.Ig)(e);t!==this._disabled&&(this._disabled=t,this.stateChanges.next(void 0))}},{key:"restoreFocus",get:function(){return this._restoreFocus},set:function(e){this._restoreFocus=(0,w.Ig)(e)}},{key:"panelClass",get:function(){return this._panelClass},set:function(e){this._panelClass=(0,w.du)(e)}},{key:"opened",get:function(){return this._opened},set:function(e){(0,w.Ig)(e)?this.open():this.close()}},{key:"_getMinDate",value:function(){return this.datepickerInput&&this.datepickerInput.min}},{key:"_getMaxDate",value:function(){return this.datepickerInput&&this.datepickerInput.max}},{key:"_getDateFilter",value:function(){return this.datepickerInput&&this.datepickerInput.dateFilter}},{key:"ngOnChanges",value:function(e){var t=e.xPosition||e.yPosition;t&&!t.firstChange&&this._popupRef&&(this._setConnectedPositions(this._popupRef.getConfig().positionStrategy),this.opened&&this._popupRef.updatePosition()),this.stateChanges.next(void 0)}},{key:"ngOnDestroy",value:function(){this._destroyPopup(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}},{key:"select",value:function(e){this._model.add(e)}},{key:"_selectYear",value:function(e){this.yearSelected.emit(e)}},{key:"_selectMonth",value:function(e){this.monthSelected.emit(e)}},{key:"_viewChanged",value:function(e){this.viewChanged.emit(e)}},{key:"registerInput",value:function(e){var t=this;return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(function(){return t.stateChanges.next(void 0)}),this._model}},{key:"registerActions",value:function(e){this._actionsPortal=e}},{key:"removeActions",value:function(e){e===this._actionsPortal&&(this._actionsPortal=null)}},{key:"open",value:function(){this._opened||this.disabled||(this._document&&(this._focusedElementBeforeOpen=this._document.activeElement),this.touchUi?this._openAsDialog():this._openAsPopup(),this._opened=!0,this.openedStream.emit())}},{key:"close",value:function(){var e=this;if(this._opened){if(this._popupComponentRef&&this._popupRef){var t=this._popupComponentRef.instance;t._startExitAnimation(),t._animationDone.pipe((0,ne.q)(1)).subscribe(function(){return e._destroyPopup()})}this._dialogRef&&(this._dialogRef.close(),this._dialogRef=null);var n=function(){e._opened&&(e._opened=!1,e.closedStream.emit(),e._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(n)):n()}}},{key:"_applyPendingSelection",value:function(){var e,t,n=(null===(e=this._popupComponentRef)||void 0===e?void 0:e.instance)||(null===(t=this._dialogRef)||void 0===t?void 0:t.componentInstance);null==n||n._applyPendingSelection()}},{key:"_openAsDialog",value:function(){var e=this;this._dialogRef&&this._dialogRef.close(),this._dialogRef=this._dialog.open(Ge,{direction:this._dir?this._dir.value:"ltr",viewContainerRef:this._viewContainerRef,panelClass:"mat-datepicker-dialog",hasBackdrop:!0,disableClose:!1,backdropClass:["cdk-overlay-dark-backdrop",this._backdropHarnessClass],width:"",height:"",minWidth:"",minHeight:"",maxWidth:"80vw",maxHeight:"",position:{},autoFocus:!1,restoreFocus:!1}),this._dialogRef.afterClosed().subscribe(function(){return e.close()}),this._forwardContentValues(this._dialogRef.componentInstance)}},{key:"_openAsPopup",value:function(){var e=this,t=new j.C5(Ge,this._viewContainerRef);this._destroyPopup(),this._createPopup(),this._popupComponentRef=this._popupRef.attach(t),this._forwardContentValues(this._popupComponentRef.instance),this._ngZone.onStable.pipe((0,ne.q)(1)).subscribe(function(){e._popupRef.updatePosition()})}},{key:"_forwardContentValues",value:function(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal}},{key:"_createPopup",value:function(){var e=this,t=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition(),n=new G.X_({positionStrategy:this._setConnectedPositions(t),hasBackdrop:!0,backdropClass:["mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:this._scrollStrategy(),panelClass:"mat-datepicker-popup"});this._popupRef=this._overlay.create(n),this._popupRef.overlayElement.setAttribute("role","dialog"),(0,K.T)(this._popupRef.backdropClick(),this._popupRef.detachments(),this._popupRef.keydownEvents().pipe((0,ae.h)(function(t){return t.keyCode===te.hY&&!(0,te.Vb)(t)||e.datepickerInput&&(0,te.Vb)(t,"altKey")&&t.keyCode===te.LH}))).subscribe(function(t){t&&t.preventDefault(),e.close()})}},{key:"_destroyPopup",value:function(){this._popupRef&&(this._popupRef.dispose(),this._popupRef=this._popupComponentRef=null)}},{key:"_setConnectedPositions",value:function(e){var t="end"===this.xPosition?"end":"start",n="start"===t?"end":"start",i="above"===this.yPosition?"bottom":"top",a="top"===i?"bottom":"top";return e.withPositions([{originX:t,originY:a,overlayX:t,overlayY:i},{originX:t,originY:i,overlayX:t,overlayY:a},{originX:n,originY:a,overlayX:n,overlayY:i},{originX:n,originY:i,overlayX:n,overlayY:a}])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(k.uw),d.Y36(G.aV),d.Y36(d.R0b),d.Y36(d.s_b),d.Y36(Be),d.Y36(q._A,8),d.Y36(re.Is,8),d.Y36(l.K0,8),d.Y36(Me))},e.\u0275dir=d.lG2({type:e,inputs:{startView:"startView",xPosition:"xPosition",yPosition:"yPosition",startAt:"startAt",color:"color",touchUi:"touchUi",disabled:"disabled",restoreFocus:"restoreFocus",panelClass:"panelClass",opened:"opened",calendarHeaderComponent:"calendarHeaderComponent",dateClass:"dateClass"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[d.TTD]}),e}(),Xe=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){return p(this,i),t.apply(this,arguments)}return i}(je);return t.\u0275fac=function(n){return(e||(e=d.n5z(t)))(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[d._Bn([Je,{provide:je,useExisting:t}]),d.qOj],decls:0,vars:0,template:function(e,t){},encapsulation:2,changeDetection:0}),t}(),We=function e(t,n){p(this,e),this.target=t,this.targetElement=n,this.value=this.target.value},Ke=function(){var e=function(){function e(t,n,i){var a=this;p(this,e),this._elementRef=t,this._dateAdapter=n,this._dateFormats=i,this.dateChange=new d.vpe,this.dateInput=new d.vpe,this.stateChanges=new T.xQ,this._onTouched=function(){},this._validatorOnChange=function(){},this._cvaOnChange=function(){},this._valueChangesSubscription=W.w.EMPTY,this._localeSubscription=W.w.EMPTY,this._parseValidator=function(){return a._lastValueValid?null:{matDatepickerParse:{text:a._elementRef.nativeElement.value}}},this._filterValidator=function(e){var t=a._dateAdapter.getValidDateOrNull(a._dateAdapter.deserialize(e.value));return!t||a._matchesFilter(t)?null:{matDatepickerFilter:!0}},this._minValidator=function(e){var t=a._dateAdapter.getValidDateOrNull(a._dateAdapter.deserialize(e.value)),n=a._getMinDate();return!n||!t||a._dateAdapter.compareDate(n,t)<=0?null:{matDatepickerMin:{min:n,actual:t}}},this._maxValidator=function(e){var t=a._dateAdapter.getValidDateOrNull(a._dateAdapter.deserialize(e.value)),n=a._getMaxDate();return!n||!t||a._dateAdapter.compareDate(n,t)>=0?null:{matDatepickerMax:{max:n,actual:t}}},this._lastValueValid=!1,this._localeSubscription=n.localeChanges.subscribe(function(){a._assignValueProgrammatically(a.value)})}return h(e,[{key:"value",get:function(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue},set:function(e){this._assignValueProgrammatically(e)}},{key:"disabled",get:function(){return!!this._disabled||this._parentDisabled()},set:function(e){var t=(0,w.Ig)(e),n=this._elementRef.nativeElement;this._disabled!==t&&(this._disabled=t,this.stateChanges.next(void 0)),t&&this._isInitialized&&n.blur&&n.blur()}},{key:"_getValidators",value:function(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}},{key:"_registerModel",value:function(e){var t=this;this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(function(e){if(t._shouldHandleChangeEvent(e)){var n=t._getValueFromModel(e.selection);t._lastValueValid=t._isValidValue(n),t._cvaOnChange(n),t._onTouched(),t._formatValue(n),t.dateInput.emit(new We(t,t._elementRef.nativeElement)),t.dateChange.emit(new We(t,t._elementRef.nativeElement))}})}},{key:"ngAfterViewInit",value:function(){this._isInitialized=!0}},{key:"ngOnChanges",value:function(e){(function(e,t){for(var n=0,i=Object.keys(e);n<i.length;n++){var a=e[i[n]],o=a.previousValue,r=a.currentValue;if(!t.isDateInstance(o)||!t.isDateInstance(r))return!0;if(!t.sameDate(o,r))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}},{key:"ngOnDestroy",value:function(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}},{key:"registerOnValidatorChange",value:function(e){this._validatorOnChange=e}},{key:"validate",value:function(e){return this._validator?this._validator(e):null}},{key:"writeValue",value:function(e){this._assignValueProgrammatically(e)}},{key:"registerOnChange",value:function(e){this._cvaOnChange=e}},{key:"registerOnTouched",value:function(e){this._onTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e}},{key:"_onKeydown",value:function(e){e.altKey&&e.keyCode===te.JH&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}},{key:"_onInput",value:function(e){var t=this._lastValueValid,n=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(n),n=this._dateAdapter.getValidDateOrNull(n),this._dateAdapter.sameDate(n,this.value)?(e&&!this.value&&this._cvaOnChange(n),t!==this._lastValueValid&&this._validatorOnChange()):(this._assignValue(n),this._cvaOnChange(n),this.dateInput.emit(new We(this,this._elementRef.nativeElement)))}},{key:"_onChange",value:function(){this.dateChange.emit(new We(this,this._elementRef.nativeElement))}},{key:"_onBlur",value:function(){this.value&&this._formatValue(this.value),this._onTouched()}},{key:"_formatValue",value:function(e){this._elementRef.nativeElement.value=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}},{key:"_assignValue",value:function(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}},{key:"_isValidValue",value:function(e){return!e||this._dateAdapter.isValid(e)}},{key:"_parentDisabled",value:function(){return!1}},{key:"_assignValueProgrammatically",value:function(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}},{key:"_matchesFilter",value:function(e){var t=this._getDateFilter();return!t||t(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(q._A,8),d.Y36(q.sG,8))},e.\u0275dir=d.lG2({type:e,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[d.TTD]}),e}(),et={provide:u.JU,useExisting:(0,d.Gpc)(function(){return nt}),multi:!0},tt={provide:u.Cf,useExisting:(0,d.Gpc)(function(){return nt}),multi:!0},nt=function(){var e=function(e){n(o,e);var i=a(o);function o(e,n,a,l){var c,d;return p(this,o),(d=i.call(this,e,n,a))._formField=l,d._closedSubscription=W.w.EMPTY,d._validator=u.kI.compose(t((c=r(d),s(o.prototype)),"_getValidators",c).call(c)),d}return h(o,[{key:"matDatepicker",set:function(e){var t=this;e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(function(){return t._onTouched()}),this._registerModel(e.registerInput(this)))}},{key:"min",get:function(){return this._min},set:function(e){var t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._min)||(this._min=t,this._validatorOnChange())}},{key:"max",get:function(){return this._max},set:function(e){var t=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(t,this._max)||(this._max=t,this._validatorOnChange())}},{key:"dateFilter",get:function(){return this._dateFilter},set:function(e){var t=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==t&&this._validatorOnChange()}},{key:"getConnectedOverlayOrigin",value:function(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}},{key:"getThemePalette",value:function(){return this._formField?this._formField.color:void 0}},{key:"getStartValue",value:function(){return this.value}},{key:"ngOnDestroy",value:function(){t(s(o.prototype),"ngOnDestroy",this).call(this),this._closedSubscription.unsubscribe()}},{key:"_openPopup",value:function(){this._datepicker&&this._datepicker.open()}},{key:"_getValueFromModel",value:function(e){return e}},{key:"_assignValueToModel",value:function(e){this._model&&this._model.updateSelection(e,this)}},{key:"_getMinDate",value:function(){return this._min}},{key:"_getMaxDate",value:function(){return this._max}},{key:"_getDateFilter",value:function(){return this._dateFilter}},{key:"_shouldHandleChangeEvent",value:function(e){return e.source!==this}}]),o}(Ke);return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq),d.Y36(q._A,8),d.Y36(q.sG,8),d.Y36(U.G_,8))},e.\u0275dir=d.lG2({type:e,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,t){1&e&&d.NdJ("input",function(e){return t._onInput(e.target.value)})("change",function(){return t._onChange()})("blur",function(){return t._onBlur()})("keydown",function(e){return t._onKeydown(e)}),2&e&&(d.Ikx("disabled",t.disabled),d.uIk("aria-haspopup",t._datepicker?"dialog":null)("aria-owns",(null==t._datepicker?null:t._datepicker.opened)&&t._datepicker.id||null)("min",t.min?t._dateAdapter.toIso8601(t.min):null)("max",t.max?t._dateAdapter.toIso8601(t.max):null)("data-mat-calendar",t._datepicker?t._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[d._Bn([et,tt,{provide:I,useExisting:e}]),d.qOj]}),e}(),it=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=d.lG2({type:e,selectors:[["","matDatepickerToggleIcon",""]]}),e}(),at=function(){var e=function(){function e(t,n,i){p(this,e),this._intl=t,this._changeDetectorRef=n,this._stateChanges=W.w.EMPTY;var a=Number(i);this.tabIndex=a||0===a?a:null}return h(e,[{key:"disabled",get:function(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled},set:function(e){this._disabled=(0,w.Ig)(e)}},{key:"ngOnChanges",value:function(e){e.datepicker&&this._watchStateChanges()}},{key:"ngOnDestroy",value:function(){this._stateChanges.unsubscribe()}},{key:"ngAfterContentInit",value:function(){this._watchStateChanges()}},{key:"_open",value:function(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}},{key:"_watchStateChanges",value:function(){var e=this,t=this.datepicker?this.datepicker.stateChanges:(0,ee.of)(),n=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:(0,ee.of)(),i=this.datepicker?(0,K.T)(this.datepicker.openedStream,this.datepicker.closedStream):(0,ee.of)();this._stateChanges.unsubscribe(),this._stateChanges=(0,K.T)(this._intl.changes,t,n,i).subscribe(function(){return e._changeDetectorRef.markForCheck()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(ke),d.Y36(d.sBO),d.$8M("tabindex"))},e.\u0275cmp=d.Xpm({type:e,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,t,n){var i;(1&e&&d.Suo(n,it,5),2&e)&&(d.iGM(i=d.CRH())&&(t._customIcon=i.first))},viewQuery:function(e,t){var n;(1&e&&d.Gf(_e,5),2&e)&&(d.iGM(n=d.CRH())&&(t._button=n.first))},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,t){1&e&&d.NdJ("click",function(e){return t._open(e)}),2&e&&(d.uIk("tabindex",null)("data-mat-calendar",t.datepicker?t.datepicker.id:null),d.ekj("mat-datepicker-toggle-active",t.datepicker&&t.datepicker.opened)("mat-accent",t.datepicker&&"accent"===t.datepicker.color)("mat-warn",t.datepicker&&"warn"===t.datepicker.color))},inputs:{tabIndex:"tabIndex",disabled:"disabled",datepicker:["for","datepicker"],ariaLabel:["aria-label","ariaLabel"],disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[d.TTD],ngContentSelectors:xe,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,t){1&e&&(d.F$t(ye),d.TgZ(0,"button",0,1),d.YNc(2,Ze,2,0,"svg",2),d.Hsn(3),d.qZA()),2&e&&(d.Q6J("disabled",t.disabled)("disableRipple",t.disableRipple),d.uIk("aria-haspopup",t.datepicker?"dialog":null)("aria-label",t.ariaLabel||t._intl.openCalendarLabel)("tabindex",t.disabled?-1:t.tabIndex),d.xp6(2),d.Q6J("ngIf",!t._customIcon))},directives:[Z.lW,l.O5],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),e}(),ot=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[ke,He],imports:[[l.ez,Z.ot,k.Is,G.U8,z.rt,j.eL,q.BQ],X.ZD]}),e}(),rt=o(6489),st={admin:{tagTypes:[{name:"custom"}],pages:[]}},lt=o(60214),ct=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[l.ez,Z.ot,F.Ps]]}),e}(),ut=o(69244),dt=o(14926),pt=o(88195),gt=o(86655),ht=o(35944),ft=o(40450),mt=function(){var e=function(){function e(t){p(this,e),this.settings=t,this.menu=this.generateMenu()}return h(e,[{key:"ngOnInit",value:function(){this.menu=this.generateMenu()}},{key:"getCustomSidebarItems",value:function(){return this.settings.get("vebto.admin.pages")}},{key:"generateMenu",value:function(){var e=[{name:"analytics",icon:"pie-chart",permission:"reports.view",route:"analytics"},{name:"appearance",icon:"style",permission:"resources.defaults.permissions.update",route:"appearance"},{name:"settings",icon:"settings",permission:"settings.view",route:"settings"},{name:"plans",icon:"assignment",permission:"plans.view",route:"plans"},{name:"subscriptions",icon:"subscriptions",permission:"subscriptions.view",route:"subscriptions"}].concat(c(this.getCustomSidebarItems()),[{name:"users",icon:"person",permission:"users.view",route:"users"},{name:"roles",icon:"people",permission:"roles.view",route:"roles"},{name:"pages",icon:"page",permission:"pages.view",route:"custom-pages"},{name:"tags",icon:"local-offer",permission:"tags.view",route:"tags"},{name:"files",icon:"file",permission:"files.view",route:"files"},{name:"translations",icon:"translate",permission:"localizations.view",route:"translations"}]);return this.settings.get("vebto.admin.ads")&&e.push({name:"ads",icon:"ads",permission:"settings.view",route:"ads"}),e.map(function(e){return e.type="route",e.label=e.name,e.action="admin/"+e.route,e.activeExact=!1,e.condition=function(t,n){var i=!0;return"plans"!==e.name&&"subscriptions"!==e.name||(i=n.get("billing.enable")),i&&t.hasPermission(e.permission)},e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(pt.Z))},e.\u0275cmp=d.Xpm({type:e,selectors:[["admin"]],viewQuery:function(e,t){var n;(1&e&&d.Gf(dt._,7),2&e)&&(d.iGM(n=d.CRH())&&(t.sidenav=n.first))},decls:11,vars:10,consts:[["menuPosition","admin-navbar","color","primary",3,"showToggleButton","toggleButtonClick"],[3,"position","vertical","compact"],[1,"version"],[1,"content-inner"]],template:function(e,t){1&e&&(d.TgZ(0,"material-navbar",0),d.NdJ("toggleButtonClick",function(){return t.sidenav.toggleSidebarMode()}),d.qZA(),d.TgZ(1,"sidenav"),d.TgZ(2,"nav"),d._UZ(3,"custom-menu",1),d.ALo(4,"async"),d.TgZ(5,"div",2),d._uU(6),d.ALo(7,"trans"),d.qZA(),d.qZA(),d.TgZ(8,"main"),d.TgZ(9,"div",3),d._UZ(10,"router-outlet"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.Q6J("showToggleButton",!0),d.xp6(3),d.Q6J("position",t.menu)("vertical",!0)("compact",d.lcZ(4,6,t.sidenav.isCompact$)),d.xp6(3),d.AsE("",d.lcZ(7,8,"Version:")," ",t.settings.get("version"),""))},directives:[gt.e,dt._,ht.K,f.lC],pipes:[l.Ov,ft.R],styles:["[_nghost-%COMP%]{display:block}material-navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0}.nav-searchbar[_ngcontent-%COMP%]{display:block;flex:1 1 auto}.version[_ngcontent-%COMP%]{padding:5px 8px;font-size:1.3rem;margin-top:auto}.content-inner[_ngcontent-%COMP%]{padding:25px}@media only screen and (max-width:768px){.content-inner[_ngcontent-%COMP%]{padding:10px}}"],changeDetection:0}),e}(),vt=o(87446),bt=o(3162),_t=o(32656),Zt=o(92890),yt=o(4886),xt=o(45905),kt=o(80773),At=o(71453),wt=o(75950),Tt=o(45362),Ct=o(11520);function qt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.keys(e)[0];if(n){t&&(n="".concat(t,"-").concat(n));var i=document.getElementById(n);i&&i.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}var Ut=o(73234),It=o(24859),Mt=o(52370),Ot=o(25051),Jt=o(53319),Pt=function(){var e=function(){function e(t,n,i,a,o,r,s,l,c,u,d){p(this,e),this.settings=t,this.toast=n,this.http=i,this.modal=a,this.route=o,this.customHomepage=r,this.valueLists=s,this.cd=l,this.router=c,this.social=u,this.state=d}return h(e,[{key:"ngOnDestroy",value:function(){this.state.reset()}},{key:"setJson",value:function(e,t){this.state.client[e]=JSON.stringify(t)}},{key:"getJson",value:function(e){var t=this.state.client[e];return t?JSON.parse(t):[]}},{key:"saveSettings",value:function(e){var t=this;this.state.loading$.next(!0);var n=e||this.state.getModified();this.settings.save(n).pipe((0,Ct.x)(function(){return t.state.loading$.next(!1)})).subscribe(function(){t.toast.open("Settings saved."),t.clearErrors(),t.state.updateInitial(n)},function(e){t.state.errors$.next(e.errors),qt(t.state.errors$.value)})}},{key:"clearErrors",value:function(){this.state.errors$.next({})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(pt.Z),d.Y36(Ut.F),d.Y36(g.r),d.Y36(It.u),d.Y36(f.gz),d.Y36(Mt.Y),d.Y36(Ot.l),d.Y36(d.sBO),d.Y36(f.F0),d.Y36(Jt.x),d.Y36(b))},e.\u0275dir=d.lG2({type:e}),e}(),Nt=o(38116);function St(e,t){if(1&e&&(d.TgZ(0,"p",73),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.safebrowsing_group)}}function Dt(e,t){if(1&e&&(d.TgZ(0,"p",73),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.phishtank_group)}}function Qt(e,t){if(1&e&&(d.TgZ(0,"option",66),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.host),d.xp6(1),d.hij(" ",n.host," ")}}function Yt(e,t){1&e&&d._UZ(0,"mat-progress-bar",74)}function Lt(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",4),d.NdJ("ngSubmit",function(){return d.CHM(n),d.oxw().saveSettings()}),d.TgZ(1,"mat-tab-group",5),d.TgZ(2,"mat-tab",6),d.ALo(3,"trans"),d.TgZ(4,"div",7),d.TgZ(5,"div",8),d.TgZ(6,"div",9),d.TgZ(7,"mat-slide-toggle",10),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.enable_type"]=e}),d._uU(8,"Type Selection"),d.qZA(),d.TgZ(9,"p",11),d._uU(10,"Whether user should be able to change type when creating or updating links."),d.qZA(),d.qZA(),d.TgZ(11,"div",12),d.TgZ(12,"label",13),d._uU(13,"Default Link Type"),d.qZA(),d.TgZ(14,"select",14),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.default_type"]=e}),d.TgZ(15,"option",15),d._uU(16,"Direct"),d.qZA(),d.TgZ(17,"option",16),d._uU(18,"Frame"),d.qZA(),d.TgZ(19,"option",17),d._uU(20,"Splash"),d.qZA(),d.qZA(),d.TgZ(21,"p",11),d._uU(22," What type should newly created links have by default (If user did not manually select type). "),d.qZA(),d.qZA(),d.TgZ(23,"div",18),d.TgZ(24,"div",12),d.TgZ(25,"label",19),d._uU(26,"Link Min Length"),d.qZA(),d.TgZ(27,"input",20),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.min_len"]=e}),d.qZA(),d.qZA(),d.TgZ(28,"div",12),d.TgZ(29,"label",21),d._uU(30,"Link Max Length"),d.qZA(),d.TgZ(31,"input",22),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.max_len"]=e}),d.qZA(),d.qZA(),d.qZA(),d.TgZ(32,"p",23),d._uU(33," Specify minimum and maximum length for urls that users will be able to shorten. "),d.qZA(),d.TgZ(34,"div",18),d.TgZ(35,"div",12),d.TgZ(36,"label",24),d._uU(37,"Alias Min Length"),d.qZA(),d.TgZ(38,"input",25),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.alias_min"]=e}),d.qZA(),d.qZA(),d.TgZ(39,"div",12),d.TgZ(40,"label",26),d._uU(41,"Alias Max Length"),d.qZA(),d.TgZ(42,"input",27),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.alias_max"]=e}),d.qZA(),d.qZA(),d.TgZ(43,"div",12),d.TgZ(44,"label",28),d._uU(45,"Alias Content"),d.qZA(),d.TgZ(46,"select",29),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.alias_content"]=e}),d.TgZ(47,"option",30),d._uU(48,"Numbers, letters, underscore and dash"),d.qZA(),d.TgZ(49,"option",31),d._uU(50,"Numbers or letters"),d.qZA(),d.TgZ(51,"option",32),d._uU(52,"Letters only"),d.qZA(),d.TgZ(53,"option",33),d._uU(54,"Numbers only"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(55,"p",23),d._uU(56," Specify minimum and maximum length as well as what characters link alias are allowed to contain. "),d.qZA(),d.qZA(),d.TgZ(57,"div",34),d.TgZ(58,"div",9),d.TgZ(59,"mat-slide-toggle",35),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.retargeting"]=e}),d._uU(60,"Enable Link Retargeting"),d.qZA(),d.TgZ(61,"p",11),d._uU(62,"Whether redirection based on location, device or platform is enabled."),d.qZA(),d.qZA(),d.TgZ(63,"div",9),d.TgZ(64,"mat-slide-toggle",36),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.pixels"]=e}),d._uU(65,"Enable Tracking Pixels"),d.qZA(),d.TgZ(66,"p",11),d._uU(67,"Whether user should be able to apply tracking pixels to links."),d.qZA(),d.qZA(),d.TgZ(68,"div",12),d.TgZ(69,"label",37),d._uU(70,"Splash Page Redirect Time"),d.qZA(),d.TgZ(71,"input",38),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.redirect_time"]=e}),d.qZA(),d.TgZ(72,"p",11),d._uU(73," After how many seconds should user be redirect to their destination on splash page. In Seconds. 0 will disable automatic redirection. "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(74,"div",34),d.TgZ(75,"div",9),d.TgZ(76,"mat-slide-toggle",39),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.homepage_creation"]=e}),d._uU(77,"Homepage Link Creation"),d.qZA(),d.TgZ(78,"p",11),d._uU(79,"Whether non-logged in users can shorten links on homepage."),d.qZA(),d.qZA(),d.TgZ(80,"div",9),d.TgZ(81,"div",12),d.TgZ(82,"label",40),d._uU(83,"Expire links created from homepage"),d.qZA(),d.TgZ(84,"select",41),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.home_expiration"]=e}),d.TgZ(85,"option",42),d._uU(86,"Never"),d.qZA(),d.TgZ(87,"option",43),d._uU(88,"After one day"),d.qZA(),d.TgZ(89,"option",44),d._uU(90,"After three days"),d.qZA(),d.TgZ(91,"option",45),d._uU(92,"After a week"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(93,"div",9),d.TgZ(94,"mat-slide-toggle",46),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.homepage_stats"]=e}),d._uU(95,"Show Homepage Stats"),d.qZA(),d.TgZ(96,"p",11),d._uU(97," Whether statistics about about number of links, clicks and users should be displayed on homepage. "),d.qZA(),d.TgZ(98,"mat-slide-toggle",47),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.dash_footer"]=e}),d._uU(99,"Show Footer in Dashboard"),d.qZA(),d.qZA(),d.TgZ(100,"div",12),d.TgZ(101,"label",48),d._uU(102,"Google Maps Javascript API Key"),d.qZA(),d.TgZ(103,"input",49),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.gchart_api_key"]=e}),d.qZA(),d.TgZ(104,"p",11),d._uU(105,"Required in order to show world geochart on link and group report pages."),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(106,"mat-tab",6),d.ALo(107,"trans"),d.TgZ(108,"div",50),d.TgZ(109,"div",51),d.TgZ(110,"div",12),d.TgZ(111,"label",52),d._uU(112,"Blacklist Keywords"),d.qZA(),d.TgZ(113,"textarea",53),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.blacklist.keywords"]=e}),d.qZA(),d.TgZ(114,"p",11),d._uU(115," Comma separated list of keywords. User will not be able to shorten any URLs that contain specified keywords. "),d.qZA(),d.qZA(),d.TgZ(116,"div",12),d.TgZ(117,"label",54),d._uU(118,"Blacklist Domains"),d.qZA(),d.TgZ(119,"textarea",55),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.blacklist.domains"]=e}),d.qZA(),d.TgZ(120,"p",11),d._uU(121," Comma separated domain list (domain1.com, domain2.com etc.). User will not be able to shorten any URLs from specified domains. "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(122,"div",56),d.TgZ(123,"label",57),d._uU(124,"Google Safe Browsing API Key"),d.qZA(),d.TgZ(125,"input",58),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.google_safe_browsing_key"]=e}),d.qZA(),d.TgZ(126,"p",11),d._uU(127," Entering this API key will prevent urls that are considered unsafe by google from being shortened. "),d.qZA(),d.YNc(128,St,2,1,"p",59),d.qZA(),d.TgZ(129,"div",60),d.TgZ(130,"label",61),d._uU(131,"Phishtank API Key"),d.qZA(),d.TgZ(132,"input",62),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.phishtank_key"]=e}),d.qZA(),d.TgZ(133,"p",11),d._uU(134," Entering this API key will prevent urls that are considered unsafe by Phishtank from being shortened. "),d.qZA(),d.YNc(135,Dt,2,1,"p",59),d.qZA(),d.qZA(),d.qZA(),d.TgZ(136,"mat-tab",6),d.ALo(137,"trans"),d.TgZ(138,"div",8),d.TgZ(139,"div",63),d.TgZ(140,"label",64),d._uU(141,"Default Domain"),d.qZA(),d.TgZ(142,"select",65),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["custom_domains.default_host"]=e}),d.TgZ(143,"option",66),d._uU(144),d.qZA(),d.YNc(145,Qt,2,2,"option",67),d.ALo(146,"async"),d.qZA(),d.TgZ(147,"p",11),d._uU(148,"Which domain should be used by default for links."),d.qZA(),d.qZA(),d.TgZ(149,"div",68),d.TgZ(150,"mat-slide-toggle",69),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["custom_domains.allow_select"]=e}),d._uU(151,"Allow Domain Selection"),d.qZA(),d.TgZ(152,"p",11),d._uU(153,"Allow users to select which domain they want to use for each link."),d.qZA(),d.qZA(),d.TgZ(154,"div",68),d.TgZ(155,"mat-slide-toggle",70),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["links.subdomain_matching"]=e}),d._uU(156,"Subdomain Link Matching"),d.qZA(),d.TgZ(157,"p",11),d._uU(158,' When this is enabled both "linkId.site.com" or "site.com/linkId" short urls will work. '),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(159,"button",71),d.ALo(160,"async"),d._uU(161," Update "),d.qZA(),d.YNc(162,Yt,1,0,"mat-progress-bar",72),d.ALo(163,"async"),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.xp6(2),d.Q6J("label",d.lcZ(3,37,"Behaviour")),d.xp6(5),d.Q6J("ngModel",a.state.client["links.enable_type"]),d.xp6(7),d.Q6J("ngModel",a.state.client["links.default_type"]),d.xp6(13),d.Q6J("ngModel",a.state.client["links.min_len"]),d.xp6(4),d.Q6J("ngModel",a.state.client["links.max_len"]),d.xp6(7),d.Q6J("ngModel",a.state.client["links.alias_min"]),d.xp6(4),d.Q6J("ngModel",a.state.client["links.alias_max"]),d.xp6(4),d.Q6J("ngModel",a.state.client["links.alias_content"]),d.xp6(13),d.Q6J("ngModel",a.state.client["links.retargeting"]),d.xp6(5),d.Q6J("ngModel",a.state.client["links.pixels"]),d.xp6(7),d.Q6J("ngModel",a.state.client["links.redirect_time"]),d.xp6(5),d.Q6J("ngModel",a.state.client["links.homepage_creation"]),d.xp6(8),d.Q6J("ngModel",a.state.client["links.home_expiration"]),d.xp6(1),d.Q6J("ngValue",null),d.xp6(9),d.Q6J("ngModel",a.state.client["links.homepage_stats"]),d.xp6(4),d.Q6J("ngModel",a.state.client["links.dash_footer"]),d.xp6(5),d.Q6J("ngModel",a.state.client["links.gchart_api_key"]),d.xp6(3),d.Q6J("label",d.lcZ(107,39,"Security")),d.xp6(7),d.Q6J("ngModel",a.state.client["links.blacklist.keywords"]),d.xp6(6),d.Q6J("ngModel",a.state.client["links.blacklist.domains"]),d.xp6(3),d.ekj("has-error",i.safebrowsing_group),d.xp6(3),d.Q6J("ngModel",a.state.client["links.google_safe_browsing_key"]),d.xp6(3),d.Q6J("ngIf",i.safebrowsing_group),d.xp6(1),d.ekj("has-error",i.phishtank_group),d.xp6(3),d.Q6J("ngModel",a.state.client["links.phishtank_key"]),d.xp6(3),d.Q6J("ngIf",i.phishtank_group),d.xp6(1),d.Q6J("label",d.lcZ(137,41,"Domains")),d.xp6(6),d.Q6J("ngModel",a.state.client["custom_domains.default_host"]),d.xp6(1),d.Q6J("value",""),d.xp6(1),d.Oqu(a.defaultDomain),d.xp6(1),d.Q6J("ngForOf",d.lcZ(146,43,a.customDomains$)),d.xp6(5),d.Q6J("ngModel",a.state.client["custom_domains.allow_select"]),d.xp6(5),d.Q6J("ngModel",a.state.client["links.subdomain_matching"]),d.xp6(4),d.Q6J("disabled",d.lcZ(160,45,a.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(163,47,a.state.loading$))}}var Et=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).customDomains$=new v.X([]),e}return h(i,[{key:"ngOnInit",value:function(){var e=this;this.valueLists.get(["domains"]).subscribe(function(t){e.customDomains$.next(t.domains)}),this.defaultDomain=this.settings.getBaseUrl()}}]),i}(Pt);return t.\u0275fac=function(n){return(e||(e=d.n5z(t)))(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["link-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:7,vars:3,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["class","body","ngNativeValidate","",3,"ngSubmit",4,"ngIf"],["ngNativeValidate","",1,"body",3,"ngSubmit"],["color","accent","animationDuration","0"],[3,"label"],[1,"many-inputs"],[1,"error-group"],[1,"setting-toggle-container"],["name","links.enable_type","id","links.enable_type","trans","",3,"ngModel","ngModelChange"],["trans",""],[1,"input-container"],["for","links.default_type","trans",""],["name","links.default_type","id","links.default_type",3,"ngModel","ngModelChange"],["value","direct","trans",""],["value","frame","trans",""],["value","splash","trans",""],[1,"inline-inputs-container"],["for","links.min_len","trans",""],["type","number","id","links.min_len","name","links.min_len","min","1","required","",3,"ngModel","ngModelChange"],["for","links.max_len","trans",""],["type","number","id","links.max_len","name","links.max_len","min","1","max","2000","required","",3,"ngModel","ngModelChange"],["trans","",1,"inline-inputs-description"],["for","links.alias_min","trans",""],["type","number","id","links.alias_min","name","links.alias_min","min","1","required","",3,"ngModel","ngModelChange"],["for","links.alias_max","trans",""],["type","number","id","links.alias_max","name","links.alias_max","min","1","max","50","required","",3,"ngModel","ngModelChange"],["for","links.alias_content"],["id","links.alias_content","name","links.alias_content",3,"ngModel","ngModelChange"],["value","alpha_dash","trans",""],["value","alpha_num","trans",""],["value","alpha","trans",""],["value","numeric","trans",""],[1,"error-group","no-border-top"],["name","links.retargeting","id","links.retargeting","trans","",3,"ngModel","ngModelChange"],["name","links.pixels","id","links.pixels","trans","",3,"ngModel","ngModelChange"],["for","links.redirect_time","trans",""],["type","number","name","links.redirect_time","id","links.redirect_time","min","0","max","60",3,"ngModel","ngModelChange"],["name","links.homepage_creation","id","links.homepage_creation","trans","",3,"ngModel","ngModelChange"],["for","links.home_expiration"],["name","links.home_expiration","id","links.home_expiration","trans","",3,"ngModel","ngModelChange"],["trans","",3,"ngValue"],["value","1day"],["value","3days"],["value","7days"],["name","links.homepage_stats","id","links.homepage_stats","trans","",3,"ngModel","ngModelChange"],["name","links.dash_footer","id","links.dash_footer","trans","",3,"ngModel","ngModelChange"],["for","links.gchart_api_key","trans",""],["type","text","name","links.gchart_api_key","id","links.gchart_api_key",3,"ngModel","ngModelChange"],[1,"many-inputs","security-tab"],[1,"error-group","many-inputs"],["for","links.blacklist.keywords","trans",""],["name","links.blacklist.keywords","id","links.blacklist.keywords",3,"ngModel","ngModelChange"],["for","links.blacklist.domains","trans",""],["name","links.blacklist.domains","id","links.blacklist.domains",3,"ngModel","ngModelChange"],["id","safebrowsing_group",1,"input-container"],["for","links.google_safe_browsing_key","trans",""],["type","text","name","links.google_safe_browsing_key","id","links.google_safe_browsing_key",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["id","phishtank_group",1,"input-container"],["for","links.phishtank_key","trans",""],["type","text","name","links.phishtank_key","id","links.phishtank_key",3,"ngModel","ngModelChange"],[1,"input-container","default-domain-input-container"],["for","custom-domains-default-host","trans",""],["id","custom-domains-default-host","name","custom-domains-default-host",3,"ngModel","ngModelChange"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"setting-toggle-container","margin-top"],["id","custom-domains-allow-select","name","custom-domains-allow-select","trans","",3,"ngModel","ngModelChange"],["id","subdomain-link-match","name","subdomain-link-match","trans","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],[1,"error"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Links"),d.qZA(),d.TgZ(3,"div",2),d._uU(4,"Configure various link behaviour across the site."),d.qZA(),d.qZA(),d.YNc(5,Lt,164,49,"form",3),d.ALo(6,"async")),2&e&&(d.xp6(5),d.Q6J("ngIf",d.lcZ(6,1,t.state.errors$)))},directives:[Nt.P,l.O5,u.JL,u.F,L.SP,L.uX,P.Rr,u.JJ,u.On,u.EJ,u.YN,u.Kr,u.qQ,u.wV,u.Fj,u.Q7,u.Fd,l.sg,Z.lW,J.pW],pipes:[l.Ov,ft.R],styles:[".error-group[_ngcontent-%COMP%]:first-of-type{border-top:none}.default-domain-input-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{text-transform:none}.inline-inputs-description[_ngcontent-%COMP%]{color:var(--be-secondary-text);font-size:13px;margin-bottom:25px}"],changeDetection:0}),t}(),Ft=o(34384),Rt=o(8889),$t=o(20237),Vt=o(4512),Bt=o(38193),Ht=[{path:"links",component:_t.g},{path:"links/:linkId",resolve:{api:Zt.F},component:yt.G},{path:"biolinks",component:Vt.o},{path:"biolinks/:linkId/edit",component:Bt.w,data:{name:"Edit Bio Link"}},{path:"biolinks/:biolinkId/analytics",component:kt.x,data:{name:"Biolink Statistics"}},{path:"link-groups",component:xt.o,data:{name:"Link Groups"}},{path:"link-groups/:groupId/links",component:Rt.Z},{path:"link-groups/:groupId/analytics",component:kt.x,data:{name:"Link Group Statistics"}},{path:"custom-domains",component:At.T},{path:"link-overlays",component:wt.m},{path:"link-overlays/new",component:Ft.O,canDeactivate:[$t.w]},{path:"link-overlays/edit/:id",component:Ft.O,canDeactivate:[$t.w]},{path:"pixels",component:Tt.V}],zt=[{path:"links",component:Et}],Gt=o(71294);function jt(e,t){if(1&e&&(d.TgZ(0,"a",19),d.TgZ(1,"div",5),d._uU(2),d.qZA(),d.qZA()),2&e){var n=t.$implicit;d.Q6J("routerLink",n.path),d.xp6(2),d.Oqu(n.path.replace("-"," "))}}function Xt(e,t){1&e&&(d.TgZ(0,"a",20),d.TgZ(1,"div",5),d._uU(2,"Billing"),d.qZA(),d.qZA())}var Wt=function(){return{panel:"menus"}},Kt=function(){return{panel:"seo-settings"}},en=function(){return{panel:"themes"}};function tn(e,t){if(1&e&&(d.TgZ(0,"a",4),d.TgZ(1,"div",5),d._uU(2,"General"),d.qZA(),d.qZA(),d.YNc(3,jt,3,2,"a",6),d.YNc(4,Xt,3,0,"a",7),d.TgZ(5,"a",8),d.TgZ(6,"div",5),d._uU(7,"Localization"),d.qZA(),d.qZA(),d.TgZ(8,"a",9),d.TgZ(9,"div",5),d._uU(10,"Authentication"),d.qZA(),d.qZA(),d.TgZ(11,"a",10),d.TgZ(12,"div",5),d._uU(13,"Uploading"),d.qZA(),d.qZA(),d.TgZ(14,"a",11),d.TgZ(15,"div",5),d._uU(16,"Mail"),d.qZA(),d.qZA(),d.TgZ(17,"a",12),d.TgZ(18,"div",5),d._uU(19,"Cache"),d.qZA(),d.qZA(),d.TgZ(20,"a",13),d.TgZ(21,"div",5),d._uU(22,"Analytics"),d.qZA(),d.qZA(),d.TgZ(23,"a",14),d.TgZ(24,"div",5),d._uU(25,"Logging"),d.qZA(),d.qZA(),d.TgZ(26,"a",15),d.TgZ(27,"div",5),d._uU(28,"Queue"),d.qZA(),d.qZA(),d.TgZ(29,"a",16),d.TgZ(30,"div",5),d._uU(31,"Recaptcha"),d.qZA(),d.qZA(),d.TgZ(32,"a",17),d.TgZ(33,"div",5),d._uU(34,"GDPR"),d.qZA(),d.qZA(),d.TgZ(35,"a",18),d.TgZ(36,"div",5),d._uU(37,"Menus"),d.qZA(),d.qZA(),d.TgZ(38,"a",18),d.TgZ(39,"div",5),d._uU(40,"Seo"),d.qZA(),d.qZA(),d.TgZ(41,"a",18),d.TgZ(42,"div",5),d._uU(43,"Themes"),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(3),d.Q6J("ngForOf",n.appRoutes()),d.xp6(1),d.Q6J("ngIf",n.settings.get("billing.integrated")),d.xp6(31),d.Q6J("queryParams",d.DdM(5,Wt)),d.xp6(3),d.Q6J("queryParams",d.DdM(6,Kt)),d.xp6(3),d.Q6J("queryParams",d.DdM(7,en))}}function nn(e,t){1&e&&d.GkF(0)}function an(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"button",21),d.TgZ(2,"span",5),d._uU(3),d.ALo(4,"async"),d.qZA(),d._UZ(5,"mat-icon",22),d.qZA(),d.TgZ(6,"mat-menu",23,24),d.YNc(8,nn,1,0,"ng-container",25),d.qZA(),d.BQk()),2&e){var n=d.MAs(7),i=d.oxw(),a=d.MAs(1);d.xp6(1),d.Q6J("matMenuTriggerFor",n),d.xp6(2),d.Oqu(d.lcZ(4,3,i.activePanel$)),d.xp6(5),d.Q6J("ngTemplateOutlet",a)}}function on(e,t){1&e&&d.GkF(0)}function rn(e,t){if(1&e&&(d.TgZ(0,"aside",26),d.YNc(1,on,1,0,"ng-container",25),d.qZA()),2&e){d.oxw();var n=d.MAs(1);d.xp6(1),d.Q6J("ngTemplateOutlet",n)}}var sn=function(){var e=function(){function e(t,n,i,a,o){p(this,e),this.settings=t,this.route=n,this.router=i,this.state=a,this.breakpoints=o,this.activePanel$=new v.X(this.route.firstChild.routeConfig.path)}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.subscribe(function(t){e.state.setAll(t.settings)}),this.router.events.pipe((0,ae.h)(function(e){return e instanceof f.m2})).subscribe(function(){e.activePanel$.next(e.route.firstChild.routeConfig.path)})}},{key:"appRoutes",value:function(){return zt}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(pt.Z),d.Y36(f.gz),d.Y36(f.F0),d.Y36(b),d.Y36(Gt.S))},e.\u0275cmp=d.Xpm({type:e,selectors:[["settings"]],decls:8,vars:4,consts:[["navItems",""],[4,"ngIf","ngIfElse"],["desktopNav",""],[1,"settings-panels-container"],["mat-menu-item","","routerLink","general","routerLinkActive","selected",1,"nav-item"],["trans","",1,"name"],["class","nav-item","mat-menu-item","","routerLinkActive","selected",3,"routerLink",4,"ngFor","ngForOf"],["class","nav-item","mat-menu-item","","routerLink","billing","routerLinkActive","selected",4,"ngIf"],["mat-menu-item","","routerLink","localization","routerLinkActive","selected",1,"nav-item"],["mat-menu-item","","routerLink","authentication","routerLinkActive","selected",1,"nav-item"],["mat-menu-item","","routerLink","uploading","routerLinkActive","selected",1,"nav-item"],["mat-menu-item","","routerLink","mail","routerLinkActive","selected",1,"nav-item"],["mat-menu-item","","routerLink","cache","routerLinkActive","selected",1,"nav-item"],["mat-menu-item","","routerLink","analytics","routerLinkActive","selected",1,"nav-item"],["mat-menu-item","","routerLink","logging","routerLinkActive","selected",1,"nav-item"],["mat-menu-item","","routerLink","queue","routerLinkActive","selected",1,"nav-item"],["mat-menu-item","","routerLink","recaptcha","routerLinkActive","selected",1,"nav-item"],["mat-menu-item","","routerLink","gdpr","routerLinkActive","selected",1,"nav-item"],["mat-menu-item","","routerLink","/admin/appearance","routerLinkActive","selected",1,"nav-item",3,"queryParams"],["mat-menu-item","","routerLinkActive","selected",1,"nav-item",3,"routerLink"],["mat-menu-item","","routerLink","billing","routerLinkActive","selected",1,"nav-item"],[1,"no-style","admin-pill-nav-mobile-selector",3,"matMenuTriggerFor"],["svgIcon","keyboard-arrow-down"],[1,"admin-pill-nav-menu"],["navMenu","matMenu"],[4,"ngTemplateOutlet"],[1,"admin-pill-nav","rounded"]],template:function(e,t){if(1&e&&(d.YNc(0,tn,44,8,"ng-template",null,0,d.W1O),d.YNc(2,an,9,5,"ng-container",1),d.ALo(3,"async"),d.YNc(4,rn,2,1,"ng-template",null,2,d.W1O),d.TgZ(6,"div",3),d._UZ(7,"router-outlet"),d.qZA()),2&e){var n=d.MAs(5);d.xp6(2),d.Q6J("ngIf",d.lcZ(3,2,t.breakpoints.isMobile$))("ngIfElse",n)}},directives:[l.O5,f.lC,f.yS,O.OP,f.Od,Nt.P,l.sg,O.p6,F.Hw,O.VK,l.tP],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:flex}@media only screen and (max-width:768px){[_nghost-%COMP%]{display:block}}.settings-panels-container[_ngcontent-%COMP%]{flex:1 1 auto}.admin-pill-nav-mobile-selector[_ngcontent-%COMP%]{margin-bottom:20px}"],changeDetection:0}),e}(),ln=function(e,t){return{baseUrl:e,currentUrl:t}};function cn(e,t){if(1&e&&(d.TgZ(0,"p",33),d.TgZ(1,"span",34),d._uU(2,'Base site url is set as ":baseUrl" in configuration, but current url is ":currentUrl". It\'s recommended to set the primary url you want to use in configuration file and then redirect all other url versions to this primary version via cpanel or .htaccess file.'),d.qZA(),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("transValues",d.WLB(1,ln,n.state.server.app_url,n.state.server.newAppUrl))}}function un(e,t){1&e&&(d.TgZ(0,"a",35),d._uU(1,"Learn more. "),d.qZA())}function dn(e,t){if(1&e&&(d.TgZ(0,"option",36),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.name),d.xp6(1),d.hij(" ",n.name," ")}}function pn(e,t){if(1&e&&(d.TgZ(0,"option",36),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.model_id),d.xp6(1),d.hij(" ",n.label," ")}}function gn(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",4),d.TgZ(1,"label",37),d._uU(2),d.qZA(),d.TgZ(3,"select",38),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.client["homepage.value"]=e}),d.YNc(4,pn,2,2,"option",17),d.qZA(),d.qZA()}if(2&e){var i=d.oxw().$implicit,a=d.oxw();d.xp6(1),d.Q6J("for",i.name),d.xp6(1),d.Oqu(i.name),d.xp6(1),d.Q6J("id",i.name)("name",i.name)("ngModel",a.state.client["homepage.value"]),d.xp6(1),d.Q6J("ngForOf",i.items)}}function hn(e,t){if(1&e&&(d.ynx(0),d.YNc(1,gn,5,6,"div",20),d.BQk()),2&e){var n=t.$implicit,i=d.oxw();d.xp6(1),d.Q6J("ngIf",i.state.client["homepage.type"]===n.name)}}function fn(e,t){if(1&e&&(d.TgZ(0,"option",42),d._uU(1),d.qZA()),2&e){var n=t.$implicit,i=d.oxw(2);d.Q6J("ngValue",n.name),d.xp6(1),d.hij(" ",i.getDisplayName(n)," ")}}function mn(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",4),d.TgZ(1,"label",39),d._uU(2,"Application Page"),d.qZA(),d.TgZ(3,"select",40),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["homepage.value"]=e}),d.YNc(4,fn,2,2,"option",41),d.qZA(),d.qZA()}if(2&e){var i=d.oxw();d.xp6(3),d.Q6J("ngModel",i.state.client["homepage.value"]),d.xp6(1),d.Q6J("ngForOf",i.getHomepageComponents())}}function vn(e,t){1&e&&d._UZ(0,"mat-progress-bar",43)}var bn=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).menuItemCategories$=new v.X([]),e.cssThemes=[],e}return h(i,[{key:"ngOnInit",value:function(){var e=this;this.valueLists.get(["menuItemCategories","themes"]).subscribe(function(t){e.menuItemCategories$.next(t.menuItemCategories),e.cssThemes=t.themes})}},{key:"getHomepageComponents",value:function(){return this.customHomepage.getComponents()}},{key:"getDisplayName",value:function(e){var t;return(null===(t=e.routeConfig)||void 0===t?void 0:t.data)&&e.routeConfig.data.name||e.name.replace(/-/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()})}},{key:"urlsDontMatch",value:function(){return this.state.server.newAppUrl&&this.state.server.newAppUrl!==this.state.server.app_url}},{key:"createSitemap",value:function(){var e=this;return this.state.loading$.next(!0),this.http.post("sitemap/generate").pipe((0,Ct.x)(function(){return e.state.loading$.next(!1)})).subscribe(function(){e.toast.open("Sitemap generated.")})}}]),i}(Pt);return t.\u0275fac=function(n){return(e||(e=d.n5z(t)))(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["homepage-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:61,vars:26,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["ngNativeValidate","",1,"body","many-inputs",3,"ngSubmit"],[1,"input-container"],["for","app_url","trans",""],["type","text","id","app_url","name","app_url","readonly","readonly","required","",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[1,"docs-link"],["svgIcon","link"],["href","https://support.vebto.com/help-center/articles/35/primary-site-url","target","_blank",4,"ngIf"],[1,"error-group","many-inputs"],[1,"inline-inputs-container"],["for","homepage.type","trans",""],["name","homepage.type","id","homepage.type",3,"ngModel","ngModelChange"],["value","default"],["value","component"],[3,"value",4,"ngFor","ngForOf"],["trans",""],[4,"ngFor","ngForOf"],["class","input-container",4,"ngIf"],["for","themes.default_mode","trans",""],["id","themes.default_mode","name","themes.default_mode",3,"ngModel","ngModelChange"],["value","light","trans",""],["value","dark","trans",""],[1,"setting-toggle-container"],["name","themes.user_change","id","themes.user_change","trans","",3,"ngModel","ngModelChange"],[1,"settings-separator"],["type","button","mat-flat-button","","color","accent","trans","",3,"disabled","click"],[1,"sitemap-description"],["target","_blank",3,"href"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],[1,"error"],["trans","",3,"transValues"],["href","https://support.vebto.com/help-center/articles/35/primary-site-url","target","_blank"],[3,"value"],["trans","",1,"visually-hidden",3,"for"],[3,"id","name","ngModel","ngModelChange"],["for","homepage.value","trans","",1,"visually-hidden"],["name","homepage.value","id","homepage.value",3,"ngModel","ngModelChange"],["trans","",3,"ngValue",4,"ngFor","ngForOf"],["trans","",3,"ngValue"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"General"),d.qZA(),d.TgZ(3,"div",2),d._uU(4,"Configure general site settings."),d.qZA(),d.qZA(),d.TgZ(5,"form",3),d.NdJ("ngSubmit",function(){return t.saveSettings()}),d.TgZ(6,"div",4),d.TgZ(7,"label",5),d._uU(8,"Primary Site Url"),d.qZA(),d.TgZ(9,"input",6),d.NdJ("ngModelChange",function(e){return t.state.server.app_url=e}),d.qZA(),d.YNc(10,cn,3,4,"p",7),d.TgZ(11,"p"),d.TgZ(12,"span",8),d._UZ(13,"mat-icon",9),d.YNc(14,un,2,0,"a",10),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div",11),d.TgZ(16,"div",12),d.TgZ(17,"div",4),d.TgZ(18,"label",13),d._uU(19,"Site Homepage"),d.qZA(),d.TgZ(20,"select",14),d.NdJ("ngModelChange",function(e){return t.state.client["homepage.type"]=e}),d.TgZ(21,"option",15),d._uU(22,"Default"),d.qZA(),d.TgZ(23,"option",16),d._uU(24,"Application Page"),d.qZA(),d.YNc(25,dn,2,2,"option",17),d.ALo(26,"async"),d.qZA(),d.TgZ(27,"p",18),d._uU(28,"Type of the homepage."),d.qZA(),d.qZA(),d.YNc(29,hn,2,1,"ng-container",19),d.ALo(30,"async"),d.YNc(31,mn,5,2,"div",20),d.qZA(),d.qZA(),d.TgZ(32,"div",4),d.TgZ(33,"label",21),d._uU(34,"Default Site Theme"),d.qZA(),d.TgZ(35,"select",22),d.NdJ("ngModelChange",function(e){return t.state.client["themes.default_mode"]=e}),d.TgZ(36,"option",23),d._uU(37,"Light"),d.qZA(),d.TgZ(38,"option",24),d._uU(39,"Dark"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(40,"div",25),d.TgZ(41,"mat-slide-toggle",26),d.NdJ("ngModelChange",function(e){return t.state.client["themes.user_change"]=e}),d._uU(42,"Allow Theme Change"),d.qZA(),d.TgZ(43,"p",18),d._uU(44,"Allow user to switch from dark to light mode and vice versa."),d.qZA(),d.qZA(),d._UZ(45,"div",27),d.TgZ(46,"button",28),d.NdJ("click",function(){return t.createSitemap()}),d.ALo(47,"async"),d._uU(48," Generate Sitemap "),d.qZA(),d.TgZ(49,"p",29),d.TgZ(50,"span",18),d._uU(51,"Once generated, sitemap index url will be"),d.qZA(),d._uU(52,": "),d.TgZ(53,"a",30),d._uU(54),d.qZA(),d.qZA(),d._UZ(55,"div",27),d.TgZ(56,"button",31),d.ALo(57,"async"),d._uU(58," Update "),d.qZA(),d.YNc(59,vn,1,0,"mat-progress-bar",32),d.ALo(60,"async"),d.qZA()),2&e&&(d.xp6(6),d.ekj("has-error",t.urlsDontMatch()),d.xp6(3),d.Q6J("ngModel",t.state.server.app_url),d.xp6(1),d.Q6J("ngIf",t.urlsDontMatch()),d.xp6(4),d.Q6J("ngIf",!t.settings.get("site.hide_docs_buttons")),d.xp6(6),d.Q6J("ngModel",t.state.client["homepage.type"]),d.xp6(5),d.Q6J("ngForOf",d.lcZ(26,16,t.menuItemCategories$)),d.xp6(4),d.Q6J("ngForOf",d.lcZ(30,18,t.menuItemCategories$)),d.xp6(2),d.Q6J("ngIf","component"===t.state.client["homepage.type"]),d.xp6(4),d.Q6J("ngModel",t.state.client["themes.default_mode"]),d.xp6(6),d.Q6J("ngModel",t.state.client["themes.user_change"]),d.xp6(5),d.Q6J("disabled",d.lcZ(47,20,t.state.loading$)),d.xp6(7),d.Q6J("href",t.settings.getBaseUrl()+"/storage/sitemaps/sitemap-index.xml",d.LSH),d.xp6(1),d.hij("",t.settings.getBaseUrl(),"/storage/sitemaps/sitemap-index.xml"),d.xp6(2),d.Q6J("disabled",d.lcZ(57,22,t.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(60,24,t.state.loading$)))},directives:[Nt.P,u.JL,u.F,u.Fj,u.Q7,u.JJ,u.On,l.O5,F.Hw,u.EJ,u.YN,u.Kr,l.sg,P.Rr,Z.lW,J.pW],pipes:[l.Ov],styles:[".sitemap-description[_ngcontent-%COMP%]{color:var(--be-secondary-text)}"],changeDetection:0}),t}();function _n(e,t){1&e&&(d.ynx(0),d.TgZ(1,"span",7),d._uU(2,"Outgoing mail method needs to be setup before enabling this setting."),d.qZA(),d._uU(3," "),d.TgZ(4,"a",23),d._uU(5,"Fix now."),d.qZA(),d.BQk())}function Zn(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",26),d.TgZ(2,"label",27),d._uU(3,"Envato ID"),d.qZA(),d.TgZ(4,"input",28),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(3).state.server.envato_id=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",26),d.TgZ(6,"label",29),d._uU(7,"Envato Secret"),d.qZA(),d.TgZ(8,"input",30),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(3).state.server.envato_secret=e}),d.qZA(),d.qZA(),d.TgZ(9,"div",26),d.TgZ(10,"label",31),d._uU(11,"Envato Personal Token"),d.qZA(),d.TgZ(12,"input",32),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(3).state.server.envato_personal_token=e}),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(3);d.xp6(4),d.Q6J("ngModel",i.state.server.envato_id),d.xp6(4),d.Q6J("ngModel",i.state.server.envato_secret),d.xp6(4),d.Q6J("ngModel",i.state.server.envato_personal_token)}}function yn(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",24),d.TgZ(2,"mat-slide-toggle",25),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.client["social.envato.enable"]=e}),d._uU(3,"Envato Login"),d.qZA(),d.TgZ(4,"p",7),d._uU(5,"Enable logging into the site via envato."),d.qZA(),d.qZA(),d.YNc(6,Zn,13,3,"ng-container",8),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(2),d.Q6J("ngModel",i.state.client["social.envato.enable"]),d.xp6(4),d.Q6J("ngIf",i.state.client["social.envato.enable"])}}function xn(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",26),d.TgZ(2,"label",33),d._uU(3,"Google Client ID"),d.qZA(),d.TgZ(4,"input",34),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.google_id=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",26),d.TgZ(6,"label",35),d._uU(7,"Google Client Secret"),d.qZA(),d.TgZ(8,"input",36),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.google_secret=e}),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(4),d.Q6J("ngModel",i.state.server.google_id),d.xp6(4),d.Q6J("ngModel",i.state.server.google_secret)}}function kn(e,t){if(1&e&&d._UZ(0,"p",37),2&e){var n=d.oxw().ngIf;d.Q6J("innerHTML",n.google_group,d.oJD)}}function An(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",26),d.TgZ(2,"label",38),d._uU(3,"Facebook App ID"),d.qZA(),d.TgZ(4,"input",39),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.facebook_id=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",26),d.TgZ(6,"label",40),d._uU(7,"Facebook App Secret"),d.qZA(),d.TgZ(8,"input",41),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.facebook_secret=e}),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(4),d.Q6J("ngModel",i.state.server.facebook_id),d.xp6(4),d.Q6J("ngModel",i.state.server.facebook_secret)}}function wn(e,t){if(1&e&&d._UZ(0,"p",37),2&e){var n=d.oxw().ngIf;d.Q6J("innerHTML",n.facebook_group,d.oJD)}}function Tn(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",26),d.TgZ(2,"label",42),d._uU(3,"Twitter ID"),d.qZA(),d.TgZ(4,"input",43),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.twitter_id=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",26),d.TgZ(6,"label",44),d._uU(7,"Twitter Secret"),d.qZA(),d.TgZ(8,"input",45),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.twitter_secret=e}),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(4),d.Q6J("ngModel",i.state.server.twitter_id),d.xp6(4),d.Q6J("ngModel",i.state.server.twitter_secret)}}function Cn(e,t){if(1&e&&d._UZ(0,"p",37),2&e){var n=d.oxw().ngIf;d.Q6J("innerHTML",n.twitter_group,d.oJD)}}function qn(e,t){1&e&&d._UZ(0,"mat-progress-bar",46)}function Un(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",4),d.NdJ("ngSubmit",function(){return d.CHM(n),d.oxw().saveSettings()}),d.TgZ(1,"div",5),d.TgZ(2,"mat-slide-toggle",6),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client.require_email_confirmation=e}),d._uU(3,"Require Email Confirmation"),d.qZA(),d.TgZ(4,"p"),d.TgZ(5,"span",7),d._uU(6,"Require new users to validate their email address before being able to login."),d.qZA(),d._UZ(7,"br"),d.YNc(8,_n,6,0,"ng-container",8),d.qZA(),d.qZA(),d.TgZ(9,"div",5),d.TgZ(10,"mat-slide-toggle",9),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["registration.disable"]=e}),d._uU(11,"Disable Registration"),d.qZA(),d.TgZ(12,"p",7),d._uU(13,"All registration (including social login) will be disabled."),d.qZA(),d.qZA(),d.TgZ(14,"div",5),d.TgZ(15,"mat-slide-toggle",10),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client.single_device_login=e}),d._uU(16,"Single Device Login"),d.qZA(),d.TgZ(17,"p",7),d._uU(18,"Only allow one device to be logged into user account at the same time."),d.qZA(),d.qZA(),d.YNc(19,yn,7,2,"ng-container",8),d.TgZ(20,"div",11),d.TgZ(21,"div",12),d.TgZ(22,"mat-slide-toggle",13),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["social.google.enable"]=e}),d._uU(23,"Google Login"),d.qZA(),d.TgZ(24,"p",7),d._uU(25,"Enable logging into the site via google."),d.qZA(),d.qZA(),d.YNc(26,xn,9,2,"ng-container",8),d.YNc(27,kn,1,1,"p",14),d.qZA(),d.TgZ(28,"div",15),d.TgZ(29,"div",16),d.TgZ(30,"mat-slide-toggle",17),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["social.facebook.enable"]=e}),d._uU(31,"Facebook Login"),d.qZA(),d.TgZ(32,"p",7),d._uU(33,"Enable logging into the site via facebook."),d.qZA(),d.qZA(),d.YNc(34,An,9,2,"ng-container",8),d.YNc(35,wn,1,1,"p",14),d.qZA(),d.TgZ(36,"div",18),d.TgZ(37,"div",19),d.TgZ(38,"mat-slide-toggle",20),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["social.twitter.enable"]=e}),d._uU(39,"Twitter Login"),d.qZA(),d.TgZ(40,"p",7),d._uU(41,"Enable logging into the site via twitter."),d.qZA(),d.qZA(),d.YNc(42,Tn,9,2,"ng-container",8),d.YNc(43,Cn,1,1,"p",14),d.qZA(),d.TgZ(44,"button",21),d.ALo(45,"async"),d._uU(46," Update "),d.qZA(),d.YNc(47,qn,1,0,"mat-progress-bar",22),d.ALo(48,"async"),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.xp6(2),d.Q6J("disabled",!a.state.client.require_email_confirmation&&!a.state.server.mail_setup)("ngModel",a.state.client.require_email_confirmation),d.xp6(6),d.Q6J("ngIf",!a.state.server.mail_setup),d.xp6(2),d.Q6J("ngModel",a.state.client["registration.disable"]),d.xp6(5),d.Q6J("ngModel",a.state.client.single_device_login),d.xp6(4),d.Q6J("ngIf",a.settings.get("envato.enable")),d.xp6(1),d.ekj("has-error",i.google_group),d.xp6(2),d.Q6J("ngModel",a.state.client["social.google.enable"]),d.xp6(4),d.Q6J("ngIf",a.state.client["social.google.enable"]),d.xp6(1),d.Q6J("ngIf",i.google_group),d.xp6(1),d.ekj("has-error",i.facebook_group),d.xp6(2),d.Q6J("ngModel",a.state.client["social.facebook.enable"]),d.xp6(4),d.Q6J("ngIf",a.state.client["social.facebook.enable"]),d.xp6(1),d.Q6J("ngIf",i.facebook_group),d.xp6(1),d.ekj("has-error",i.twitter_group),d.xp6(2),d.Q6J("ngModel",a.state.client["social.twitter.enable"]),d.xp6(4),d.Q6J("ngIf",a.state.client["social.twitter.enable"]),d.xp6(1),d.Q6J("ngIf",i.twitter_group),d.xp6(1),d.Q6J("disabled",d.lcZ(45,23,a.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(48,25,a.state.loading$))}}var In=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){return p(this,i),t.apply(this,arguments)}return i}(Pt);return t.\u0275fac=function(n){return(e||(e=d.n5z(t)))(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["authentication-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:7,vars:3,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["class","body many-inputs social-login-container","ngNativeValidate","",3,"ngSubmit",4,"ngIf"],["ngNativeValidate","",1,"body","many-inputs","social-login-container",3,"ngSubmit"],[1,"setting-toggle-container"],["name","require_email_confirmation","id","require_email_confirmation","trans","",3,"disabled","ngModel","ngModelChange"],["trans",""],[4,"ngIf"],["name","registration.disable","id","registration.disable","trans","",3,"ngModel","ngModelChange"],["name","single_device_login","id","single_device_login","trans","",3,"ngModel","ngModelChange"],["id","google_group",1,"error-group","many-inputs","no-bottom-border"],[1,"setting-toggle-container","google"],["name","social.google.enable","id","social.google.enable","trans","",3,"ngModel","ngModelChange"],["class","error",3,"innerHTML",4,"ngIf"],[1,"error-group","many-inputs","no-bottom-border"],[1,"setting-toggle-container","facebook"],["name","social.facebook.enable","id","social.facebook.enable","trans","",3,"ngModel","ngModelChange"],[1,"error-group","many-inputs"],[1,"setting-toggle-container","twitter"],["name","social.twitter.enable","id","social.twitter.enable","trans","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],["routerLink","/admin/settings/mail","trans",""],[1,"setting-toggle-container","envato"],["name","social.envato.enable","id","social.envato.enable","trans","",3,"ngModel","ngModelChange"],[1,"input-container"],["for","social.envato.id","trans",""],["name","social.envato.id","id","social.envato.id",3,"ngModel","ngModelChange"],["for","social.envato.secret","trans",""],["name","social.envato.secret","id","social.envato.secret",3,"ngModel","ngModelChange"],["for","social.envato.personal_token","trans",""],["name","social.envato.personal_token","id","social.envato.personal_token",3,"ngModel","ngModelChange"],["for","social.google.id","trans",""],["name","social.google.id","id","social.google.id",3,"ngModel","ngModelChange"],["for","social.google.secret","trans",""],["name","social.google.secret","id","social.google.secret",3,"ngModel","ngModelChange"],[1,"error",3,"innerHTML"],["for","social.facebook.id","trans",""],["name","social.facebook.id","id","social.facebook.id",3,"ngModel","ngModelChange"],["for","social.facebook.secret","trans",""],["name","social.facebook.secret","id","social.facebook.secret",3,"ngModel","ngModelChange"],["for","social.twitter.id","trans",""],["name","social.twitter.id","id","social.twitter.id",3,"ngModel","ngModelChange"],["for","social.twitter.secret","trans",""],["name","social.twitter.secret","id","social.twitter.secret",3,"ngModel","ngModelChange"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Authentication"),d.qZA(),d.TgZ(3,"div",2),d._uU(4," Configure registration, social login and related 3rd party integrations. "),d.qZA(),d.qZA(),d.YNc(5,Un,49,27,"form",3),d.ALo(6,"async")),2&e&&(d.xp6(5),d.Q6J("ngIf",d.lcZ(6,1,t.state.errors$)))},directives:[Nt.P,l.O5,u.JL,u.F,P.Rr,u.JJ,u.On,Z.lW,f.yS,u.Fj,J.pW],pipes:[l.Ov],styles:["authentication-settings .twitter .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background:#4db5f5}authentication-settings .twitter .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background:#1da1f2}authentication-settings .facebook .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background:#4c70ba}authentication-settings .facebook .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb,authentication-settings .facebook .pretty-checkbox:checked+label:before{background:#3b5998}authentication-settings .google .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background:#dc6e60}authentication-settings .google .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background:#d34836}authentication-settings .envato .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-bar{background:#9bc762}authentication-settings .envato .mat-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background:#82b541}"],encapsulation:2,changeDetection:0}),t}();function Mn(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",6),d.TgZ(2,"label",21),d._uU(3,"Memcached Host"),d.qZA(),d.TgZ(4,"input",22),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.memcached_host=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",6),d.TgZ(6,"label",23),d._uU(7,"Memcached Port"),d.qZA(),d.TgZ(8,"input",24),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.memcached_port=e}),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(4),d.Q6J("ngModel",i.state.server.memcached_host),d.xp6(4),d.Q6J("ngModel",i.state.server.memcached_port)}}function On(e,t){if(1&e&&d._UZ(0,"p",25),2&e){var n=d.oxw().ngIf;d.Q6J("innerHTML",n.cache_group,d.oJD)}}function Jn(e,t){1&e&&d._UZ(0,"mat-progress-bar",26)}function Pn(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",4),d.NdJ("submit",function(){return d.CHM(n),d.oxw().saveSettings()}),d.TgZ(1,"div",5),d.TgZ(2,"div",6),d.TgZ(3,"label",7),d._uU(4,"Cache Method"),d.qZA(),d.TgZ(5,"select",8),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.server.cache_driver=e})("ngModelChange",function(){return d.CHM(n),d.oxw().clearErrors()}),d.TgZ(6,"option",9),d._uU(7,"File (Default)"),d.qZA(),d.TgZ(8,"option",10),d._uU(9,"None"),d.qZA(),d.TgZ(10,"option",11),d._uU(11,"APC"),d.qZA(),d.TgZ(12,"option",12),d._uU(13,"Memcached"),d.qZA(),d.TgZ(14,"option",13),d._uU(15,"Redis"),d.qZA(),d.qZA(),d.TgZ(16,"p",14),d._uU(17,"Which method should be used for storing and retrieving cached items."),d.qZA(),d.qZA(),d.YNc(18,Mn,9,2,"ng-container",15),d.YNc(19,On,1,1,"p",16),d.qZA(),d.TgZ(20,"button",17),d.NdJ("click",function(){return d.CHM(n),d.oxw().clearCache()}),d._uU(21," Clear Cache "),d.qZA(),d.TgZ(22,"div",18),d.TgZ(23,"div",1),d._uU(24,"Important!"),d.qZA(),d.TgZ(25,"p",14),d._uU(26,' "File" is the best option for most cases and should not be changed, unless you are familiar with another cache method and have it set up on the server already. '),d.qZA(),d.qZA(),d.TgZ(27,"button",19),d.ALo(28,"async"),d._uU(29," Update "),d.qZA(),d.YNc(30,Jn,1,0,"mat-progress-bar",20),d.ALo(31,"async"),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.xp6(1),d.ekj("has-error",i.cache_group),d.xp6(4),d.Q6J("ngModel",a.state.server.cache_driver),d.xp6(13),d.Q6J("ngIf","memcached"===a.state.server.cache_driver),d.xp6(1),d.Q6J("ngIf",i.cache_group),d.xp6(8),d.Q6J("disabled",d.lcZ(28,7,a.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(31,9,a.state.loading$))}}var Nn=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){return p(this,i),t.apply(this,arguments)}return h(i,[{key:"clearCache",value:function(){var e=this;this.state.loading$.next(!0),this.http.post("cache/flush").pipe((0,Ct.x)(function(){return e.state.loading$.next(!1)})).subscribe(function(){e.toast.open("Cache cleared.")})}}]),i}(Pt);return t.\u0275fac=function(n){return(e||(e=d.n5z(t)))(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["cache-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:7,vars:3,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["class","body many-inputs","ngNativeValidate","",3,"submit",4,"ngIf"],["ngNativeValidate","",1,"body","many-inputs",3,"submit"],["id","cache_group",1,"error-group","many-inputs","no-border-top"],[1,"input-container"],["for","cache.driver","trans",""],["name","cache.driver","id","cache.driver",3,"ngModel","ngModelChange"],["value","file"],["value","array"],["value","apc"],["value","memcached"],["value","redis"],["trans",""],[4,"ngIf"],["class","error",3,"innerHTML",4,"ngIf"],["mat-stroked-button","","color","accent","type","button","trans","",1,"button","flat",3,"click"],[1,"widget","widget-info","widget-important"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],["for","cache.memcached_host","trans",""],["name","cache.memcached_host","id","cache.memcached_host","required","",3,"ngModel","ngModelChange"],["for","cache.memcached_port","trans",""],["type","number","name","cache.memcached_port","id","cache.memcached_port","required","",3,"ngModel","ngModelChange"],[1,"error",3,"innerHTML"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Cache"),d.qZA(),d.TgZ(3,"div",2),d._uU(4,"Configure cache time, method and related 3rd party integrations."),d.qZA(),d.qZA(),d.YNc(5,Pn,32,11,"form",3),d.ALo(6,"async")),2&e&&(d.xp6(5),d.Q6J("ngIf",d.lcZ(6,1,t.state.errors$)))},directives:[Nt.P,l.O5,u.JL,u.F,u.EJ,u.JJ,u.On,u.YN,u.Kr,Z.lW,u.Fj,u.Q7,u.wV,J.pW],pipes:[l.Ov],encapsulation:2,changeDetection:0}),t}();function Sn(e,t){if(1&e&&(d.TgZ(0,"p",19),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.certificate)}}function Dn(e,t){if(1&e&&d._UZ(0,"p",20),2&e){var n=d.oxw().ngIf;d.Q6J("innerHTML",n.analytics_group,d.oJD)}}function Qn(e,t){1&e&&d._UZ(0,"mat-progress-bar",21)}function Yn(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",4),d.NdJ("submit",function(){return d.CHM(n),d.oxw().saveSettings()}),d.TgZ(1,"div",5),d.TgZ(2,"div",6),d.TgZ(3,"label",7),d._uU(4,"Google Service Account Key File (.json)"),d.qZA(),d.TgZ(5,"input",8,9),d.NdJ("change",function(){d.CHM(n);var e=d.MAs(6);return d.oxw().setCertificateFile(e.files)}),d.qZA(),d.YNc(7,Sn,2,1,"p",10),d.qZA(),d.TgZ(8,"div",6),d.TgZ(9,"label",11),d._uU(10,"Google Analytics View ID"),d.qZA(),d.TgZ(11,"input",12),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.server.analytics_view_id=e}),d.qZA(),d.qZA(),d.TgZ(12,"div",6),d.TgZ(13,"label",13),d._uU(14,"Google Analytics Tracking Code"),d.qZA(),d.TgZ(15,"input",14),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["analytics.tracking_code"]=e}),d.qZA(),d.TgZ(16,"p",15),d._uU(17,"Google analytics tracking code only, not the whole javascript code snippet."),d.qZA(),d.qZA(),d.YNc(18,Dn,1,1,"p",16),d.qZA(),d.TgZ(19,"button",17),d.ALo(20,"async"),d._uU(21," Update "),d.qZA(),d.YNc(22,Qn,1,0,"mat-progress-bar",18),d.ALo(23,"async"),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.xp6(1),d.ekj("has-error",i.analytics_group),d.xp6(1),d.ekj("has-error",i.certificate),d.xp6(5),d.Q6J("ngIf",i.certificate),d.xp6(4),d.Q6J("ngModel",a.state.server.analytics_view_id),d.xp6(4),d.Q6J("ngModel",a.state.client["analytics.tracking_code"]),d.xp6(3),d.Q6J("ngIf",i.analytics_group),d.xp6(1),d.Q6J("disabled",d.lcZ(20,10,a.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(23,12,a.state.loading$))}}var Ln=function(){var e,i=function(e){n(o,e);var i=a(o);function o(){return p(this,o),i.apply(this,arguments)}return h(o,[{key:"saveSettings",value:function(e){var n=this.getPayload(e||this.state.getModified());t(s(o.prototype),"saveSettings",this).call(this,n)}},{key:"getPayload",value:function(e){return this.certificateFile&&(e.files={certificate:this.certificateFile}),e}},{key:"setCertificateFile",value:function(e){this.certificateFile=e.item(0)}}]),o}(Pt);return i.\u0275fac=function(t){return(e||(e=d.n5z(i)))(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["analytics-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:7,vars:3,consts:[[1,"header"],[1,"title"],["trans","",1,"subtitle"],["class","body many-inputs","ngNativeValidate","",3,"submit",4,"ngIf"],["ngNativeValidate","",1,"body","many-inputs",3,"submit"],["id","analytics_group",1,"error-group","many-inputs","no-spacing"],[1,"input-container"],["for","certificate","trans",""],["type","file","id","certificate","name","certificate","accept",".json",3,"change"],["fileInput",""],["class","error",4,"ngIf"],["for","analytics.view_id","trans",""],["type","number","name","analytics.view_id","id","analytics.view_id",3,"ngModel","ngModelChange"],["for","analytics.tracking_code","trans",""],["name","analytics.tracking_code","id","analytics.tracking_code","min","1","max","20","placeholder","UA-******-2",3,"ngModel","ngModelChange"],["trans",""],["class","error",3,"innerHTML",4,"ngIf"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],[1,"error"],[1,"error",3,"innerHTML"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Analytics"),d.qZA(),d.TgZ(3,"div",2),d._uU(4,"Configure google analytics integration and credentials."),d.qZA(),d.qZA(),d.YNc(5,Yn,24,14,"form",3),d.ALo(6,"async")),2&e&&(d.xp6(5),d.Q6J("ngIf",d.lcZ(6,1,t.state.errors$)))},directives:[Nt.P,l.O5,u.JL,u.F,u.wV,u.Fj,u.JJ,u.On,Z.lW,J.pW],pipes:[l.Ov],encapsulation:2,changeDetection:0}),i}(),En=o(2406);function Fn(e,t){if(1&e&&(d.TgZ(0,"option",22),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.value),d.xp6(1),d.hij(" ",n.text," ")}}function Rn(e,t){if(1&e&&(d.TgZ(0,"optgroup",21),d.YNc(1,Fn,2,2,"option",11),d.qZA()),2&e){var n=t.$implicit;d.Q6J("label",n.key),d.xp6(1),d.Q6J("ngForOf",n.value)}}function $n(e,t){if(1&e&&(d.TgZ(0,"option",22),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.language),d.xp6(1),d.hij(" ",n.name," ")}}function Vn(e,t){if(1&e&&(d.TgZ(0,"option",22),d._uU(1),d.ALo(2,"formattedDate"),d.qZA()),2&e){var n=t.$implicit,i=d.oxw();d.Q6J("value",n),d.xp6(1),d.AsE(" ",d.xi3(2,3,i.getCurrentDate(),n)," (",n,") ")}}function Bn(e,t){1&e&&d._UZ(0,"mat-progress-bar",23)}var Hn=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).selects={timezones:{},localizations:[]},e.defaultDateFormats=["MMMM d, y","yyyy-MM-dd","M/d/y","d/M/y"],e}return h(i,[{key:"ngOnInit",value:function(){var e=this,t=this.state.client["dates.format"];this.initialDateFormat=this.defaultDateFormats.includes(t)?t:"custom",this.valueLists.get(["timezones","localizations"]).subscribe(function(t){e.selects=t,e.cd.markForCheck()})}},{key:"getCurrentDate",value:function(){return new Date}},{key:"updateDateFormat",value:function(e){e&&"custom"!==e&&(this.state.client["dates.format"]=e)}},{key:"selectedDateFormat",value:function(){return this.state.client["dates.format"]}}]),i}(Pt);return t.\u0275fac=function(n){return(e||(e=d.n5z(t)))(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["localization-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:51,vars:28,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],[1,"body","many-inputs",3,"submit"],[1,"input-container"],["for","app.timezone","trans",""],["name","app.timezone","id","app.timezone",3,"ngModel","ngModelChange"],[3,"label",4,"ngFor","ngForOf"],["trans",""],["for","app.locale","trans",""],["name","app.locale","id","app.locale",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["for","dates.format","trans",""],["name","dates.format","id","dates.format","required","",1,"no-capitalize",3,"ngModel","ngModelChange"],["value","custom","trans",""],["for","dates.custom-format","trans",""],["type","text","id","dates.custom-format","name","dates.custom-format","required","",3,"ngModel","ngModelChange"],[1,"setting-toggle-container"],["name","translations","trans","",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],[3,"label"],[3,"value"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Localization"),d.qZA(),d.TgZ(3,"div",2),d._uU(4,"Manage localization settings for the site."),d.qZA(),d.qZA(),d.TgZ(5,"form",3),d.NdJ("submit",function(){return t.saveSettings()}),d.TgZ(6,"div",4),d.TgZ(7,"label",5),d._uU(8,"Timezone"),d.qZA(),d.TgZ(9,"select",6),d.NdJ("ngModelChange",function(e){return t.state.server.app_timezone=e}),d.YNc(10,Rn,2,2,"optgroup",7),d.ALo(11,"keyvalue"),d.qZA(),d.TgZ(12,"p",8),d._uU(13,"Choose either a city in the same timezone as you or a UTC timezone offset."),d.qZA(),d.qZA(),d.TgZ(14,"div",4),d.TgZ(15,"label",9),d._uU(16,"Site Language"),d.qZA(),d.TgZ(17,"select",10),d.NdJ("ngModelChange",function(e){return t.state.server.app_locale=e}),d.YNc(18,$n,2,2,"option",11),d.qZA(),d.TgZ(19,"p",8),d._uU(20,"Which translation should be selected by default for new users."),d.qZA(),d.qZA(),d.TgZ(21,"div",4),d.TgZ(22,"label",12),d._uU(23,"Date Format"),d.qZA(),d.TgZ(24,"select",13),d.NdJ("ngModelChange",function(e){return t.initialDateFormat=e})("ngModelChange",function(e){return t.updateDateFormat(e)}),d.YNc(25,Vn,3,6,"option",11),d.TgZ(26,"option",14),d._uU(27,"Custom"),d.qZA(),d.qZA(),d.TgZ(28,"p"),d._uU(29),d.ALo(30,"trans"),d._UZ(31,"br"),d._uU(32),d.ALo(33,"trans"),d.TgZ(34,"strong"),d._uU(35),d.ALo(36,"formattedDate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(37,"div",4),d.TgZ(38,"label",15),d._uU(39,"Custom Date Format"),d.qZA(),d.TgZ(40,"input",16),d.NdJ("ngModelChange",function(e){return t.state.client["dates.format"]=e}),d.qZA(),d.qZA(),d.TgZ(41,"div",17),d.TgZ(42,"mat-slide-toggle",18),d.NdJ("ngModelChange",function(e){return t.state.client["i18n.enable"]=e}),d._uU(43,"Translations"),d.qZA(),d.TgZ(44,"p",8),d._uU(45,"Enable translations functionality for the site."),d.qZA(),d.qZA(),d.TgZ(46,"button",19),d.ALo(47,"async"),d._uU(48," Update "),d.qZA(),d.YNc(49,Bn,1,0,"mat-progress-bar",20),d.ALo(50,"async"),d.qZA()),2&e&&(d.xp6(9),d.Q6J("ngModel",t.state.server.app_timezone),d.xp6(1),d.Q6J("ngForOf",d.lcZ(11,15,t.selects.timezones)),d.xp6(7),d.Q6J("ngModel",t.state.server.app_locale),d.xp6(1),d.Q6J("ngForOf",t.selects.localizations),d.xp6(6),d.Q6J("ngModel",t.initialDateFormat),d.xp6(1),d.Q6J("ngForOf",t.defaultDateFormats),d.xp6(4),d.hij(" ",d.lcZ(30,17,"Default format for dates on the site.")," "),d.xp6(3),d.hij(" ",d.lcZ(33,19,"Preview:")," "),d.xp6(3),d.Oqu(d.xi3(36,21,t.getCurrentDate(),t.selectedDateFormat())),d.xp6(2),d.ekj("hidden","custom"!==t.initialDateFormat),d.xp6(3),d.Q6J("ngModel",t.state.client["dates.format"]),d.xp6(2),d.Q6J("ngModel",t.state.client["i18n.enable"]),d.xp6(4),d.Q6J("disabled",d.lcZ(47,24,t.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(50,26,t.state.loading$)))},directives:[Nt.P,u._Y,u.JL,u.F,u.EJ,u.JJ,u.On,l.sg,u.Q7,u.YN,u.Kr,u.Fj,P.Rr,Z.lW,l.O5,J.pW],pipes:[l.Nd,ft.R,En.l,l.Ov],encapsulation:2,changeDetection:0}),t}();function zn(e,t){1&e&&(d.TgZ(0,"a",42),d._uU(1,"Learn more. "),d.qZA())}function Gn(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",34),d.TgZ(2,"div",5),d.TgZ(3,"label",35),d._uU(4,"Incoming Mail Method"),d.qZA(),d.TgZ(5,"select",36),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.client["mail.handler"]=e}),d.TgZ(6,"option",37),d._uU(7,"Mailgun"),d.qZA(),d.TgZ(8,"option",38),d._uU(9,"Gmail API"),d.qZA(),d.TgZ(10,"option",39),d._uU(11,"Rest API (Send emails via http API)"),d.qZA(),d.TgZ(12,"option",40),d._uU(13,"Pipe (Pipe emails directly)"),d.qZA(),d.qZA(),d.TgZ(14,"p"),d.TgZ(15,"span",8),d._uU(16,"Which method should be used to handle incoming application emails."),d.qZA(),d.TgZ(17,"span",26),d._UZ(18,"mat-icon",27),d.YNc(19,zn,2,0,"a",41),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(5),d.Q6J("ngModel",i.state.client["mail.handler"]),d.xp6(14),d.Q6J("ngIf",!i.settings.get("site.hide_docs_buttons"))}}function jn(e,t){1&e&&(d.TgZ(0,"a",43),d._uU(1,"Learn more. "),d.qZA())}function Xn(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",5),d.TgZ(2,"label",44),d._uU(3,"SMTP Host"),d.qZA(),d.TgZ(4,"input",45),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.mail_host=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",5),d.TgZ(6,"label",46),d._uU(7,"SMTP Username"),d.qZA(),d.TgZ(8,"input",47),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.mail_username=e}),d.qZA(),d.qZA(),d.TgZ(9,"div",5),d.TgZ(10,"label",48),d._uU(11,"SMTP Password"),d.qZA(),d.TgZ(12,"input",49),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.mail_password=e}),d.qZA(),d.qZA(),d.TgZ(13,"div",5),d.TgZ(14,"label",50),d._uU(15,"SMTP Port"),d.qZA(),d.TgZ(16,"input",51),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.mail_port=e}),d.qZA(),d.qZA(),d.TgZ(17,"div",5),d.TgZ(18,"label",52),d._uU(19,"SMTP Encryption"),d.qZA(),d.TgZ(20,"input",53),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.mail_encryption=e}),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(4),d.Q6J("ngModel",i.state.server.mail_host),d.xp6(4),d.Q6J("ngModel",i.state.server.mail_username),d.xp6(4),d.Q6J("ngModel",i.state.server.mail_password),d.xp6(4),d.Q6J("ngModel",i.state.server.mail_port),d.xp6(4),d.Q6J("ngModel",i.state.server.mail_encryption)}}function Wn(e,t){if(1&e&&(d.TgZ(0,"div",59),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(1),d.Oqu(n.mailgun_domain)}}function Kn(e,t){if(1&e&&(d.TgZ(0,"div",59),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(1),d.Oqu(n.mailgun_secret)}}function ei(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",5),d.TgZ(2,"label",54),d._uU(3,"Mailgun Domain"),d.qZA(),d.TgZ(4,"input",55),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.mailgun_domain=e}),d.qZA(),d.YNc(5,Wn,2,1,"div",56),d.TgZ(6,"p",8),d._uU(7,"Usually the domain of your site (site.com)"),d.qZA(),d.qZA(),d.TgZ(8,"div",5),d.TgZ(9,"label",57),d._uU(10,"Mailgun API Key"),d.qZA(),d.TgZ(11,"input",58),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.mailgun_secret=e}),d.qZA(),d.YNc(12,Kn,2,1,"div",56),d.TgZ(13,"p",8),d._uU(14,'Should start with "key-"'),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw().ngIf,a=d.oxw();d.xp6(1),d.ekj("has-error",i.mailgun_domain),d.xp6(3),d.Q6J("ngModel",a.state.server.mailgun_domain),d.xp6(1),d.Q6J("ngIf",i.mailgun_domain),d.xp6(3),d.ekj("has-error",i.mailgun_secret),d.xp6(3),d.Q6J("ngModel",a.state.server.mailgun_secret),d.xp6(1),d.Q6J("ngIf",i.mailgun_secret)}}function ti(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",5),d.TgZ(2,"label",60),d._uU(3,"SES Key"),d.qZA(),d.TgZ(4,"input",61),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.ses_key=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",5),d.TgZ(6,"label",62),d._uU(7,"SES Secret"),d.qZA(),d.TgZ(8,"input",63),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.ses_secret=e}),d.qZA(),d.qZA(),d.TgZ(9,"div",5),d.TgZ(10,"label",64),d._uU(11,"SES Region"),d.qZA(),d.TgZ(12,"input",65),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.ses_region=e}),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(4),d.Q6J("ngModel",i.state.server.ses_key),d.xp6(4),d.Q6J("ngModel",i.state.server.ses_secret),d.xp6(4),d.Q6J("ngModel",i.state.server.ses_region)}}function ni(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",5),d.TgZ(1,"label",66),d._uU(2,"Sparkpost Secret"),d.qZA(),d.TgZ(3,"input",67),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.sparkpost_secret=e}),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(2);d.xp6(3),d.Q6J("ngModel",i.state.server.sparkpost_secret)}}function ii(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",5),d.TgZ(1,"label",73),d._uU(2,"Gmail Topic Name"),d.qZA(),d.TgZ(3,"input",74),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(3).state.client["gmail.incoming.topicName"]=e}),d.qZA(),d.TgZ(4,"p",8),d._uU(5,"Google cloud Pub/Sub topic name."),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(3);d.xp6(3),d.Q6J("ngModel",i.state.client["gmail.incoming.topicName"])}}function ai(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",75),d._UZ(1,"img",76),d.TgZ(2,"span",77),d._uU(3),d.qZA(),d.TgZ(4,"button",78),d.NdJ("click",function(){return d.CHM(n),d.oxw(3).connectGmailAccount()}),d._uU(5," Reconnect "),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(3);d.xp6(3),d.hij("Gmail ",i.state.server.connectedGmailAccount,"")}}function oi(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",79),d.NdJ("click",function(){return d.CHM(n),d.oxw(3).connectGmailAccount()}),d._UZ(1,"img",76),d.TgZ(2,"span",80),d._uU(3,"Connect gmail account"),d.qZA(),d.qZA()}}function ri(e,t){if(1&e&&(d.TgZ(0,"p",59),d._uU(1),d.qZA()),2&e){var n=t.ngIf;d.xp6(1),d.Oqu(n)}}function si(e,t){if(1&e&&(d.TgZ(0,"div",68),d.YNc(1,ii,6,1,"div",29),d.TgZ(2,"div",69),d.TgZ(3,"div",70),d._uU(4,"Gmail account:"),d.qZA(),d.YNc(5,ai,6,1,"div",71),d.YNc(6,oi,4,0,"button",72),d.YNc(7,ri,2,1,"p",56),d.ALo(8,"async"),d.qZA(),d.qZA()),2&e){var n=d.oxw(2);d.xp6(1),d.Q6J("ngIf","gmailApi"===n.state.client["mail.handler"]),d.xp6(4),d.Q6J("ngIf",n.state.server.connectedGmailAccount),d.xp6(1),d.Q6J("ngIf",!n.state.server.connectedGmailAccount),d.xp6(1),d.Q6J("ngIf",d.lcZ(8,4,n.state.errors$).gmail_group)}}function li(e,t){if(1&e&&d._UZ(0,"p",81),2&e){var n=d.oxw().ngIf;d.Q6J("innerHTML",n.mail_group,d.oJD)}}function ci(e,t){1&e&&d._UZ(0,"mat-progress-bar",82)}var ui=function(e){return{url:e}};function di(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",4),d.NdJ("submit",function(){return d.CHM(n),d.oxw().saveSettings()}),d.TgZ(1,"div",5),d.TgZ(2,"label",6),d._uU(3,"From Address"),d.qZA(),d.TgZ(4,"input",7),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.server.mail_from_address=e}),d.qZA(),d.TgZ(5,"p",8),d._uU(6,"All outgoing application emails will be sent from this email address."),d.qZA(),d.qZA(),d.TgZ(7,"div",5),d.TgZ(8,"label",9),d._uU(9,"Contact Page Address"),d.qZA(),d.TgZ(10,"input",10),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["mail.contact_page_address"]=e}),d.qZA(),d.TgZ(11,"p",11),d._uU(12," Where emails from :url page should be sent to. "),d.qZA(),d.qZA(),d.TgZ(13,"div",5),d.TgZ(14,"label",12),d._uU(15,"From Name"),d.qZA(),d.TgZ(16,"input",13),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.server.mail_from_name=e}),d.qZA(),d.TgZ(17,"p",8),d._uU(18,"All outgoing application emails will be sent using this name."),d.qZA(),d.qZA(),d.TgZ(19,"div",14),d.TgZ(20,"div",1),d._uU(21,"Important!"),d.qZA(),d.TgZ(22,"p",8),d._uU(23," Your selected mail method must be authorized to send emails using this address and name. "),d.qZA(),d.qZA(),d.YNc(24,Gn,20,2,"ng-container",15),d.TgZ(25,"div",16),d.TgZ(26,"div",5),d.TgZ(27,"label",17),d._uU(28,"Outgoing Mail Method"),d.qZA(),d.TgZ(29,"select",18),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.server.mail_driver=e})("ngModelChange",function(){return d.CHM(n),d.oxw().clearErrors()}),d.TgZ(30,"option",19),d._uU(31,"Mailgun"),d.qZA(),d.TgZ(32,"option",20),d._uU(33,"Gmail Api"),d.qZA(),d.TgZ(34,"option",21),d._uU(35,"SMTP"),d.qZA(),d.TgZ(36,"option",22),d._uU(37,"SparkPost"),d.qZA(),d.TgZ(38,"option",23),d._uU(39,"Ses (Amazon Simple Email Service)"),d.qZA(),d.TgZ(40,"option",24),d._uU(41,"SendMail"),d.qZA(),d.TgZ(42,"option",25),d._uU(43,"Log (Email will be saved to error log)"),d.qZA(),d.qZA(),d.TgZ(44,"p"),d.TgZ(45,"span",8),d._uU(46,"Which method should be used for sending outgoing application emails."),d.qZA(),d.TgZ(47,"span",26),d._UZ(48,"mat-icon",27),d.YNc(49,jn,2,0,"a",28),d.qZA(),d.qZA(),d.qZA(),d.YNc(50,Xn,21,5,"ng-container",15),d.YNc(51,ei,15,8,"ng-container",15),d.YNc(52,ti,13,3,"ng-container",15),d.YNc(53,ni,4,1,"div",29),d.YNc(54,si,9,6,"div",30),d.YNc(55,li,1,1,"p",31),d.qZA(),d.TgZ(56,"button",32),d.ALo(57,"async"),d._uU(58," Update "),d.qZA(),d.YNc(59,ci,1,0,"mat-progress-bar",33),d.ALo(60,"async"),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.xp6(4),d.Q6J("ngModel",a.state.server.mail_from_address),d.xp6(6),d.Q6J("ngModel",a.state.client["mail.contact_page_address"]),d.xp6(1),d.Q6J("transValues",d.VKq(21,ui,a.settings.getBaseUrl()+"/contact")),d.xp6(5),d.Q6J("ngModel",a.state.server.mail_from_name),d.xp6(8),d.Q6J("ngIf",a.settings.get("vebto.admin.showIncomingMailMethod")),d.xp6(1),d.ekj("has-error",i.mail_group),d.xp6(4),d.Q6J("ngModel",a.state.server.mail_driver),d.xp6(20),d.Q6J("ngIf",!a.settings.get("site.hide_docs_buttons")),d.xp6(1),d.Q6J("ngIf","smtp"===a.state.server.mail_driver),d.xp6(1),d.Q6J("ngIf","mailgun"===a.state.server.mail_driver),d.xp6(1),d.Q6J("ngIf","ses"===a.state.server.mail_driver),d.xp6(1),d.Q6J("ngIf","sparkpost"===a.state.server.mail_driver),d.xp6(1),d.Q6J("ngIf","gmailApi"===a.state.client["mail.handler"]||"gmailApi"===a.state.server.mail_driver),d.xp6(1),d.Q6J("ngIf",i.mail_group),d.xp6(1),d.Q6J("disabled",d.lcZ(57,17,a.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(60,19,a.state.loading$))}}var pi=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){return p(this,i),t.apply(this,arguments)}return h(i,[{key:"connectGmailAccount",value:function(){var e=this;this.social.openNewSocialAuthWindow("secure/settings/mail/gmail/connect").then(function(t){e.state.server.connectedGmailAccount=t.email,e.state.errors$.next({}),e.toast.open("Connected gmail account: ".concat(t.email))})}}]),i}(Pt);return t.\u0275fac=function(n){return(e||(e=d.n5z(t)))(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["mail-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:7,vars:3,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["class","body many-inputs","ngNativeValidate","",3,"submit",4,"ngIf"],["ngNativeValidate","",1,"body","many-inputs",3,"submit"],[1,"input-container"],["for","env.mail_from_address","trans",""],["type","email","name","env.mail_from_address","id","env.mail_from_address","required","",3,"ngModel","ngModelChange"],["trans",""],["for","mail.contact_page_address","trans",""],["type","email","name","mail.contact_page_address","id","mail.contact_page_address","required","",3,"ngModel","ngModelChange"],["trans","",3,"transValues"],["for","env.mail_from_name","trans",""],["name","env.mail_from_name","id","env.mail_from_name","required","",3,"ngModel","ngModelChange"],[1,"widget","widget-info","widget-important"],[4,"ngIf"],["id","mail_group",1,"error-group","many-inputs"],["for","mail.driver","trans",""],["name","mail.driver","id","mail.driver",3,"ngModel","ngModelChange"],["value","mailgun"],["value","gmailApi"],["value","smtp"],["value","sparkpost"],["value","ses"],["value","sendmail"],["value","log"],[1,"docs-link"],["svgIcon","link"],["href","https://support.vebto.com/help-center/articles/42/44/155/incoming-emails","target","_blank",4,"ngIf"],["class","input-container",4,"ngIf"],["id","gmail_group",4,"ngIf"],["class","error group-error",3,"innerHTML",4,"ngIf"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],[1,"error-group","no-bottom-border"],["for","mail.handler","trans",""],["name","mail.handler","id","mail.handler",3,"ngModel","ngModelChange"],["value","mailgun","trans",""],["value","gmailApi","trans",""],["value","null","trans",""],["value","mime","trans",""],["href","https://support.vebto.com/help-center/articles/76/configuring-email-provider","target","_blank",4,"ngIf"],["href","https://support.vebto.com/help-center/articles/76/configuring-email-provider","target","_blank"],["href","https://support.vebto.com/help-center/articles/42/44/155/incoming-emails","target","_blank"],["for","env.mail_host","trans",""],["name","env.mail_host","id","env.mail_host",3,"ngModel","ngModelChange"],["for","env.mail_username","trans",""],["name","env.mail_username","id","env.mail_username",3,"ngModel","ngModelChange"],["for","env.mail_password","trans",""],["type","password","name","env.mail_password","id","env.mail_password",3,"ngModel","ngModelChange"],["for","env.mail_port","trans",""],["name","env.mail_port","id","env.mail_port",3,"ngModel","ngModelChange"],["for","env.mail_encryption","trans",""],["name","env.mail_encryption","id","env.mail_encryption",3,"ngModel","ngModelChange"],["for","mailgun_domain","trans",""],["name","mailgun_domain","id","mailgun_domain",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["for","mailgun_secret","trans",""],["name","mailgun_secret","id","mailgun_secret",3,"ngModel","ngModelChange"],[1,"error"],["for","env.ses_key","trans",""],["name","env.ses_key","id","env.ses_key",3,"ngModel","ngModelChange"],["for","env.ses_secret","trans",""],["name","env.ses_secret","id","env.ses_secret",3,"ngModel","ngModelChange"],["for","env.ses_region","trans",""],["name","env.ses_region","id","env.ses_region","placeholder","us-east-1",3,"ngModel","ngModelChange"],["for","env.sparkpost_secret","trans",""],["name","env.sparkpost_secret","id","env.sparkpost_secret",3,"ngModel","ngModelChange"],["id","gmail_group"],[1,"gmail-input-container"],[1,"gmail-label"],["class","authorized-gmail-account",4,"ngIf"],["type","button","mat-flat-button","","color","accent","class","connect-gmail-button",3,"click",4,"ngIf"],["for","gmail.incoming.topicName"],["type","text","id","gmail.incoming.topicName","name","webhook_secret_key","required","","minlength","10",3,"ngModel","ngModelChange"],[1,"authorized-gmail-account"],["src","client/assets/images/gmail.png","alt","",1,"gmail-img"],[1,"text"],["type","button","mat-button","","color","accent","trans","",3,"click"],["type","button","mat-flat-button","","color","accent",1,"connect-gmail-button",3,"click"],["trans","",1,"text"],[1,"error","group-error",3,"innerHTML"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Mail"),d.qZA(),d.TgZ(3,"div",2),d._uU(4," Change incoming and outgoing email handlers, email credentials and more. "),d.qZA(),d.qZA(),d.YNc(5,di,61,23,"form",3),d.ALo(6,"async")),2&e&&(d.xp6(5),d.Q6J("ngIf",d.lcZ(6,1,t.state.errors$)))},directives:[Nt.P,l.O5,u.JL,u.F,u.Fj,u.Q7,u.JJ,u.On,u.EJ,u.YN,u.Kr,F.Hw,Z.lW,u.wO,J.pW],pipes:[l.Ov],styles:[".gmail-input-container[_ngcontent-%COMP%]{margin-bottom:20px}.authorized-gmail-account[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--be-background-alternative);padding:10px;border-radius:4px;border:1px solid var(--be-divider-default)}.authorized-gmail-account[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.connect-gmail-button[_ngcontent-%COMP%]{line-height:58px;width:100%;position:relative}.connect-gmail-button[_ngcontent-%COMP%]   .gmail-img[_ngcontent-%COMP%]{position:absolute;top:15px;left:12px}.gmail-img[_ngcontent-%COMP%]{display:inline-block;width:30px;height:30px;flex-shrink:0;margin-right:10px}.gmail-label[_ngcontent-%COMP%]{color:var(--be-label);padding-bottom:5px}"],changeDetection:0}),t}();function gi(e,t){if(1&e&&d._UZ(0,"p",14),2&e){var n=d.oxw().ngIf;d.Q6J("innerHTML",n.logging_group,d.oJD)}}function hi(e,t){1&e&&d._UZ(0,"mat-progress-bar",15)}function fi(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",4),d.NdJ("submit",function(){return d.CHM(n),d.oxw().saveSettings()}),d.TgZ(1,"div",5),d.TgZ(2,"div",6),d.TgZ(3,"label",7),d._uU(4,"Sentry DSN"),d.qZA(),d.TgZ(5,"input",8),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.server.sentry_dsn=e}),d.qZA(),d.qZA(),d.YNc(6,gi,1,1,"p",9),d.qZA(),d.TgZ(7,"div",10),d.TgZ(8,"div",1),d._uU(9,"Information"),d.qZA(),d.TgZ(10,"p"),d.TgZ(11,"a",11),d._uU(12,"Sentry"),d.qZA(),d.TgZ(13,"span"),d._uU(14),d.ALo(15,"trans"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"button",12),d.ALo(17,"async"),d._uU(18," Update "),d.qZA(),d.YNc(19,hi,1,0,"mat-progress-bar",13),d.ALo(20,"async"),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.xp6(1),d.ekj("has-error",i.logging_group),d.xp6(4),d.Q6J("ngModel",a.state.server.sentry_dsn),d.xp6(1),d.Q6J("ngIf",i.logging_group),d.xp6(8),d.hij(" ",d.lcZ(15,7,"integration provides real-time error tracking and helps identify and fix issues when site is in production."),""),d.xp6(2),d.Q6J("disabled",d.lcZ(17,9,a.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(20,11,a.state.loading$))}}var mi=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){return p(this,i),t.apply(this,arguments)}return i}(Pt);return t.\u0275fac=function(n){return(e||(e=d.n5z(t)))(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["logging-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:7,vars:3,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["class","body many-inputs","ngNativeValidate","",3,"submit",4,"ngIf"],["ngNativeValidate","",1,"body","many-inputs",3,"submit"],["id","logging-group",1,"error-group","many-inputs","no-spacing"],[1,"input-container"],["for","logging.sentry_dsn","trans",""],["type","url","name","logging.sentry_dsn","id","logging.sentry_dsn","minlength","30",3,"ngModel","ngModelChange"],["class","error",3,"innerHTML",4,"ngIf"],[1,"widget","widget-info"],["href","https://sentry.io","target","_blank"],["type","submit","mat-raised-button","","color","accent","trans","",1,"update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],[1,"error",3,"innerHTML"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Logging"),d.qZA(),d.TgZ(3,"div",2),d._uU(4," Configure site error and access logging and related 3rd party integrations. "),d.qZA(),d.qZA(),d.YNc(5,fi,21,13,"form",3),d.ALo(6,"async")),2&e&&(d.xp6(5),d.Q6J("ngIf",d.lcZ(6,1,t.state.errors$)))},directives:[Nt.P,l.O5,u.JL,u.F,u.Fj,u.wO,u.JJ,u.On,Z.lW,J.pW],pipes:[l.Ov,ft.R],encapsulation:2,changeDetection:0}),t}();function vi(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",9),d.TgZ(2,"label",21),d._uU(3,"SQS Queue Key"),d.qZA(),d.TgZ(4,"input",22),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.sqs_queue_key=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",9),d.TgZ(6,"label",23),d._uU(7,"SQS Queue Secret"),d.qZA(),d.TgZ(8,"input",24),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.sqs_queue_secret=e}),d.qZA(),d.qZA(),d.TgZ(9,"div",9),d.TgZ(10,"label",25),d._uU(11,"SQS Queue Prefix"),d.qZA(),d.TgZ(12,"input",26),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.sqs_queue_prefix=e}),d.qZA(),d.qZA(),d.TgZ(13,"div",9),d.TgZ(14,"label",27),d._uU(15,"SQS Queue Name"),d.qZA(),d.TgZ(16,"input",28),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.sqs_queue_name=e}),d.qZA(),d.qZA(),d.TgZ(17,"div",9),d.TgZ(18,"label",29),d._uU(19,"SQS Queue Region"),d.qZA(),d.TgZ(20,"input",30),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.sqs_queue_region=e}),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(4),d.Q6J("ngModel",i.state.server.sqs_queue_key),d.xp6(4),d.Q6J("ngModel",i.state.server.sqs_queue_secret),d.xp6(4),d.Q6J("ngModel",i.state.server.sqs_queue_prefix),d.xp6(4),d.Q6J("ngModel",i.state.server.sqs_queue_name),d.xp6(4),d.Q6J("ngModel",i.state.server.sqs_queue_region)}}function bi(e,t){if(1&e&&d._UZ(0,"p",31),2&e){var n=d.oxw().ngIf;d.Q6J("innerHTML",n.queue_group,d.oJD)}}function _i(e,t){1&e&&d._UZ(0,"mat-progress-bar",32)}function Zi(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",4),d.NdJ("submit",function(){return d.CHM(n),d.oxw().saveSettings()}),d.TgZ(1,"div",5),d.TgZ(2,"div",1),d._uU(3,"Information"),d.qZA(),d.TgZ(4,"p",6),d._uU(5," Queues allow to defer time consuming tasks, such as sending an email, until a later time. Deferring these tasks can speed up web requests to the application. "),d.qZA(),d.qZA(),d.TgZ(6,"div",7),d.TgZ(7,"div",1),d._uU(8,"Important"),d.qZA(),d.TgZ(9,"p",6),d._uU(10," All methods except sync require additional setup, which should be performed before changing the queue method. Consult documentation for more information. "),d.qZA(),d.qZA(),d.TgZ(11,"div",8),d.TgZ(12,"div",9),d.TgZ(13,"label",10),d._uU(14,"Queue Method"),d.qZA(),d.TgZ(15,"select",11),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.server.queue_driver=e})("ngModelChange",function(){return d.CHM(n),d.oxw().clearErrors()}),d.TgZ(16,"option",12),d._uU(17,"Sync (Default)"),d.qZA(),d.TgZ(18,"option",13),d._uU(19,"Beanstalkd"),d.qZA(),d.TgZ(20,"option",14),d._uU(21,"Database"),d.qZA(),d.TgZ(22,"option",15),d._uU(23,"SQS (Amazon simple queue service)"),d.qZA(),d.TgZ(24,"option",16),d._uU(25,"Redis"),d.qZA(),d.qZA(),d.qZA(),d.YNc(26,vi,21,5,"ng-container",17),d.YNc(27,bi,1,1,"p",18),d.qZA(),d.TgZ(28,"button",19),d.ALo(29,"async"),d._uU(30," Update "),d.qZA(),d.YNc(31,_i,1,0,"mat-progress-bar",20),d.ALo(32,"async"),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.xp6(11),d.ekj("has-error",i.queue_group),d.xp6(4),d.Q6J("ngModel",a.state.server.queue_driver),d.xp6(11),d.Q6J("ngIf","sqs"===a.state.server.queue_driver),d.xp6(1),d.Q6J("ngIf",i.queue_group),d.xp6(1),d.Q6J("disabled",d.lcZ(29,7,a.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(32,9,a.state.loading$))}}var yi=function(){var e,i=function(e){n(o,e);var i=a(o);function o(){return p(this,o),i.apply(this,arguments)}return h(o,[{key:"saveSettings",value:function(){var e=this.state.getModified();e.client["realtime.pusher_key"]&&(e.server.pusher_key=e.client["realtime.pusher_key"]),t(s(o.prototype),"saveSettings",this).call(this,e)}}]),o}(Pt);return i.\u0275fac=function(t){return(e||(e=d.n5z(i)))(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["queue-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:7,vars:3,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["class","body many-inputs","ngNativeValidate","",3,"submit",4,"ngIf"],["ngNativeValidate","",1,"body","many-inputs",3,"submit"],[1,"widget","widget-info"],["trans",""],[1,"widget","widget-info","widget-important"],["id","queue-group",1,"error-group","many-inputs","no-spacing"],[1,"input-container"],["for","queue.driver","trans",""],["name","queue.driver","id","queue.driver",3,"ngModel","ngModelChange"],["value","sync","trans",""],["value","beanstalkd"],["value","database"],["value","sqs","trans",""],["value","redis"],[4,"ngIf"],["class","error",3,"innerHTML",4,"ngIf"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],["for","sqs_queue_key","trans",""],["name","sqs_queue_key","id","sqs_queue_key","required","",3,"ngModel","ngModelChange"],["for","sqs_queue_secret","trans",""],["name","sqs_queue_secret","id","sqs_queue_secret","required","",3,"ngModel","ngModelChange"],["for","sqs_queue_prefix","trans",""],["name","sqs_queue_prefix","id","sqs_queue_prefix",3,"ngModel","ngModelChange"],["for","sqs_queue_name","trans",""],["name","sqs_queue_name","id","sqs_queue_name","required","",3,"ngModel","ngModelChange"],["for","sqs_queue_region","trans",""],["name","sqs_queue_region","id","sqs_queue_region","required","",3,"ngModel","ngModelChange"],[1,"error",3,"innerHTML"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Queue"),d.qZA(),d.TgZ(3,"div",2),d._uU(4,"Select active queue method and enter related 3rd party API keys."),d.qZA(),d.qZA(),d.YNc(5,Zi,33,11,"form",3),d.ALo(6,"async")),2&e&&(d.xp6(5),d.Q6J("ngIf",d.lcZ(6,1,t.state.errors$)))},directives:[Nt.P,l.O5,u.JL,u.F,u.EJ,u.JJ,u.On,u.YN,u.Kr,Z.lW,u.Fj,u.Q7,J.pW],pipes:[l.Ov],encapsulation:2,changeDetection:0}),i}(),xi=o(77910);function ki(e,t){1&e&&(d.TgZ(0,"a",29),d._uU(1,"Learn more. "),d.qZA())}function Ai(e,t){if(1&e&&d._UZ(0,"p",39),2&e){var n=d.oxw(3).ngIf;d.Q6J("innerHTML",n.paypal_group,d.oJD)}}function wi(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",30),d.TgZ(1,"div",12),d.TgZ(2,"label",31),d._uU(3,"Paypal Client ID"),d.qZA(),d.TgZ(4,"input",32),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(3).state.server.paypal_client_id=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",12),d.TgZ(6,"label",33),d._uU(7,"Paypal Secret"),d.qZA(),d.TgZ(8,"input",34),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(3).state.server.paypal_secret=e}),d.qZA(),d.qZA(),d.TgZ(9,"div",12),d.TgZ(10,"label",35),d._uU(11,"Paypal Webhook ID"),d.qZA(),d.TgZ(12,"input",36),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(3).state.server.paypal_webhook_id=e}),d.qZA(),d.qZA(),d.TgZ(13,"div",8),d.TgZ(14,"mat-slide-toggle",37),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(3).state.client["billing.paypal_test_mode"]=e}),d._uU(15,"Paypal Test Mode"),d.qZA(),d.TgZ(16,"p",10),d._uU(17,"Allows testing PayPal payments with sandbox accounts."),d.qZA(),d.qZA(),d.YNc(18,Ai,1,1,"p",38),d.qZA()}if(2&e){var i=d.oxw(2).ngIf,a=d.oxw();d.ekj("has-error",i.paypal_group),d.xp6(4),d.Q6J("ngModel",a.state.server.paypal_client_id),d.xp6(4),d.Q6J("ngModel",a.state.server.paypal_secret),d.xp6(4),d.Q6J("ngModel",a.state.server.paypal_webhook_id),d.xp6(2),d.Q6J("ngModel",a.state.client["billing.paypal_test_mode"]),d.xp6(4),d.Q6J("ngIf",i.paypal_group)}}function Ti(e,t){1&e&&(d.TgZ(0,"a",40),d._uU(1,"Learn more. "),d.qZA())}function Ci(e,t){if(1&e&&(d.TgZ(0,"div",47),d._uU(1),d.qZA()),2&e){var n=d.oxw(3).ngIf;d.xp6(1),d.Oqu(n.stripe_secret)}}function qi(e,t){if(1&e&&d._UZ(0,"p",39),2&e){var n=d.oxw(3).ngIf;d.Q6J("innerHTML",n.stripe_group,d.oJD)}}function Ui(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",41),d.TgZ(1,"div",12),d.TgZ(2,"label",42),d._uU(3,"Stripe Client ID"),d.qZA(),d.TgZ(4,"input",43),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(3).state.server.stripe_key=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",12),d.TgZ(6,"label",44),d._uU(7,"Stripe Secret"),d.qZA(),d.TgZ(8,"input",45),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(3).state.server.stripe_secret=e}),d.qZA(),d.YNc(9,Ci,2,1,"div",46),d.qZA(),d.YNc(10,qi,1,1,"p",38),d.qZA()}if(2&e){var i=d.oxw(2).ngIf,a=d.oxw();d.ekj("has-error",i.stripe_group),d.xp6(4),d.Q6J("ngModel",a.state.server.stripe_key),d.xp6(1),d.ekj("has-error",i.stripe_secret),d.xp6(3),d.Q6J("ngModel",a.state.server.stripe_secret),d.xp6(1),d.Q6J("ngIf",i.stripe_secret),d.xp6(1),d.Q6J("ngIf",i.stripe_group)}}function Ii(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",8),d.TgZ(2,"mat-slide-toggle",19),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.client["billing.paypal.enable"]=e}),d._uU(3,"Paypal Gateway"),d.qZA(),d.TgZ(4,"p"),d.TgZ(5,"span",10),d._uU(6,"Enable PayPal payment gateway."),d.qZA(),d.TgZ(7,"span",20),d._UZ(8,"mat-icon",21),d.YNc(9,ki,2,0,"a",22),d.qZA(),d.qZA(),d.qZA(),d.YNc(10,wi,19,7,"div",23),d.TgZ(11,"div",8),d.TgZ(12,"mat-slide-toggle",24),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.client["billing.stripe.enable"]=e}),d._uU(13,"Stripe Gateway"),d.qZA(),d.TgZ(14,"p"),d.TgZ(15,"span",10),d._uU(16,"Enable Stripe payment gateway."),d.qZA(),d.TgZ(17,"span",20),d._UZ(18,"mat-icon",21),d.YNc(19,Ti,2,0,"a",25),d.qZA(),d.qZA(),d.qZA(),d.YNc(20,Ui,11,8,"div",26),d.TgZ(21,"div",12),d.TgZ(22,"label",27),d._uU(23,"Accepted Cards"),d.qZA(),d.TgZ(24,"chip-input",28),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).acceptedCards=e}),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(2),d.Q6J("ngModel",i.state.client["billing.paypal.enable"]),d.xp6(7),d.Q6J("ngIf",!i.settings.get("site.hide_docs_buttons")),d.xp6(1),d.Q6J("ngIf",i.state.client["billing.paypal.enable"]),d.xp6(2),d.Q6J("ngModel",i.state.client["billing.stripe.enable"]),d.xp6(7),d.Q6J("ngIf",!i.settings.get("site.hide_docs_buttons")),d.xp6(1),d.Q6J("ngIf",i.state.client["billing.stripe.enable"]),d.xp6(4),d.Q6J("ngModel",i.acceptedCards)}}function Mi(e,t){1&e&&d._UZ(0,"mat-progress-bar",48)}function Oi(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",4),d.NdJ("submit",function(){return d.CHM(n),d.oxw().saveSettings()}),d.TgZ(1,"mat-tab-group",5),d.TgZ(2,"mat-tab",6),d.ALo(3,"trans"),d.TgZ(4,"div",7),d.TgZ(5,"div",8),d.TgZ(6,"mat-slide-toggle",9),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["billing.enable"]=e}),d._uU(7,"Enable Billing"),d.qZA(),d.TgZ(8,"p",10),d._uU(9,"Enable or disable all billing functionality across the site."),d.qZA(),d.qZA(),d.YNc(10,Ii,25,7,"ng-container",11),d.qZA(),d.qZA(),d.TgZ(11,"mat-tab",6),d.ALo(12,"trans"),d.TgZ(13,"div",7),d.TgZ(14,"div",12),d.TgZ(15,"label",13),d._uU(16,"Invoice Address"),d.qZA(),d.TgZ(17,"textarea",14),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["billing.invoice.address"]=e}),d.qZA(),d.TgZ(18,"p",10),d._uU(19,' Address to show under "from" section of user invoice. Supports HTML. Optional. '),d.qZA(),d.qZA(),d.TgZ(20,"div",12),d.TgZ(21,"label",15),d._uU(22,"Invoice Note"),d.qZA(),d.TgZ(23,"textarea",16),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["billing.invoice.notes"]=e}),d.qZA(),d.TgZ(24,"p",10),d._uU(25,'Default notes to show under "notes" section of user invoice. Optional.'),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(26,"button",17),d.ALo(27,"async"),d._uU(28," Update "),d.qZA(),d.YNc(29,Mi,1,0,"mat-progress-bar",18),d.ALo(30,"async"),d.qZA()}if(2&e){var i=d.oxw();d.xp6(2),d.Q6J("label",d.lcZ(3,8,"General")),d.xp6(4),d.Q6J("ngModel",i.state.client["billing.enable"]),d.xp6(4),d.Q6J("ngIf",i.state.client["billing.enable"]),d.xp6(1),d.Q6J("label",d.lcZ(12,10,"Invoices")),d.xp6(6),d.Q6J("ngModel",i.state.client["billing.invoice.address"]),d.xp6(6),d.Q6J("ngModel",i.state.client["billing.invoice.notes"]),d.xp6(3),d.Q6J("disabled",d.lcZ(27,12,i.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(30,14,i.state.loading$))}}var Ji=function(){var e,i=function(e){n(o,e);var i=a(o);function o(){var e;return p(this,o),(e=i.apply(this,arguments)).acceptedCards=[],e}return h(o,[{key:"ngOnInit",value:function(){this.acceptedCards=this.settings.getJson("billing.accepted_cards",[])}},{key:"saveSettings",value:function(){var e=this.state.getModified();e.client["billing.accepted_cards"]=JSON.stringify(this.acceptedCards),t(s(o.prototype),"saveSettings",this).call(this,e)}}]),o}(Pt);return i.\u0275fac=function(t){return(e||(e=d.n5z(i)))(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["billing-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:7,vars:3,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["class","body many-inputs","ngNativeValidate","",3,"submit",4,"ngIf"],["ngNativeValidate","",1,"body","many-inputs",3,"submit"],["color","accent","animationDuration","0"],[3,"label"],[1,"many-inputs","tab-content"],[1,"setting-toggle-container"],["name","billing.enable","id","billing.enable","trans","",3,"ngModel","ngModelChange"],["trans",""],[4,"ngIf"],[1,"input-container"],["for","billing.invoice.address","trans",""],["name","billing.invoice.address","id","billing.invoice.address","rows","5",3,"ngModel","ngModelChange"],["for","billing.invoice.notes","trans",""],["name","billing.invoice.notes","id","billing.invoice.notes","rows","5",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],["name","billing.paypal.enable","id","billing.paypal.enable","trans","",3,"ngModel","ngModelChange"],[1,"docs-link"],["svgIcon","link"],["href","https://support.vebto.com/help-center/articles/147/configuring-paypal","target","_blank",4,"ngIf"],["class","error-group many-inputs","id","paypal_group",3,"has-error",4,"ngIf"],["name","billing.enable.stripe","id","billing.enable.stripe","trans","",3,"ngModel","ngModelChange"],["href","https://support.vebto.com/help-center/articles/148/configuring-stripe","target","_blank",4,"ngIf"],["class","error-group many-inputs","id","stripe_group",3,"has-error",4,"ngIf"],["for","accepted-cards","trans",""],["id","accepted-cards","name","accepted-cards","placeholder","+New Card...","trans-placeholder","",3,"ngModel","ngModelChange"],["href","https://support.vebto.com/help-center/articles/147/configuring-paypal","target","_blank"],["id","paypal_group",1,"error-group","many-inputs"],["for","billing.paypal.id","trans",""],["name","billing.paypal.id","id","billing.paypal.id","required","",3,"ngModel","ngModelChange"],["for","billing.paypal.secret","trans",""],["name","billing.paypal.secret","id","billing.paypal.secret","required","",3,"ngModel","ngModelChange"],["for","billing.paypal.webhook_id","trans",""],["name","billing.paypal.webhook_id","id","billing.paypal.webhook_id","required","",3,"ngModel","ngModelChange"],["name","billing.paypal.test_mode","id","billing.paypal.test_mode","trans","",3,"ngModel","ngModelChange"],["class","error",3,"innerHTML",4,"ngIf"],[1,"error",3,"innerHTML"],["href","https://support.vebto.com/help-center/articles/148/configuring-stripe","target","_blank"],["id","stripe_group",1,"error-group","many-inputs"],["for","stripe_key","trans",""],["name","billing.stripe.id","id","stripe_key","required","",3,"ngModel","ngModelChange"],["for","stripe_secret","trans",""],["name","billing.stripe.secret","id","stripe_secret","required","",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],[1,"error"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Billing"),d.qZA(),d.TgZ(3,"div",2),d._uU(4,"Configure billing and subscription settings."),d.qZA(),d.qZA(),d.YNc(5,Oi,31,16,"form",3),d.ALo(6,"async")),2&e&&(d.xp6(5),d.Q6J("ngIf",d.lcZ(6,1,t.state.errors$)))},directives:[Nt.P,l.O5,u.JL,u.F,L.SP,L.uX,P.Rr,u.JJ,u.On,u.Fj,Z.lW,F.Hw,xi.S,u.Q7,J.pW],pipes:[l.Ov,ft.R],styles:[".settings-panels-container[_nghost-%COMP%]   .header[_ngcontent-%COMP%], .settings-panels-container   [_nghost-%COMP%]   .header[_ngcontent-%COMP%]{margin-bottom:25px}.tab-content[_ngcontent-%COMP%]{padding-top:25px}"],changeDetection:0}),i}(),Pi=o(24831),Ni=o(13853),Si=o(79996),Di=o(94380),Qi=o(98977);function Yi(e,t){if(1&e&&(d.TgZ(0,"label",5),d._uU(1),d.qZA()),2&e){var n=d.oxw();d.MGl("for","space-input-",n.id,""),d.xp6(1),d.Oqu(n.label)}}function Li(e,t){if(1&e&&(d.TgZ(0,"option",6),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("ngValue",n),d.xp6(1),d.Oqu(n)}}var Ei=[[["",8,"description"]],[["",8,"error"]]],Fi=[".description",".error"],Ri=function(){var e=function(){function e(){p(this,e),this.inputContainer=!0,this.id=(0,Pi.O)(),this.spaceUnits=Ni.L,this.form=new u.cw({unit:new u.NI("MB"),amount:new u.NI(null)})}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.form.valueChanges.pipe((0,Si.U)(function(e){return(0,Di.F)(e.amount,e.unit)})).subscribe(function(t){return e.propagateChange(t)})}},{key:"writeValue",value:function(e){this.form.setValue(this.fromBytes(e),{emitEvent:!1})}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}},{key:"fromBytes",value:function(e){var t=(0,Qi.H)(e);return t?{amount:t.split(" ")[0],unit:t.split(" ")[1]}:{amount:null,unit:"MB"}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Xpm({type:e,selectors:[["space-input"]],hostVars:2,hostBindings:function(e,t){2&e&&d.ekj("input-container",t.inputContainer)},inputs:{label:"label",name:"name"},features:[d._Bn([{provide:u.JU,useExisting:e,multi:!0}])],ngContentSelectors:Fi,decls:7,vars:5,consts:[["trans","",3,"for",4,"ngIf"],[1,"wrapper"],["type","number","min","0","placeholder","Optional...","trans-placeholder","",3,"id","formControl"],[3,"formControl"],["trans","",3,"ngValue",4,"ngFor","ngForOf"],["trans","",3,"for"],["trans","",3,"ngValue"]],template:function(e,t){1&e&&(d.F$t(Ei),d.YNc(0,Yi,2,2,"label",0),d.TgZ(1,"div",1),d._UZ(2,"input",2),d.TgZ(3,"select",3),d.YNc(4,Li,2,2,"option",4),d.qZA(),d.qZA(),d.Hsn(5),d.Hsn(6,1)),2&e&&(d.Q6J("ngIf",t.label),d.xp6(2),d.MGl("id","space-input-",t.id,""),d.Q6J("formControl",t.form.get("amount")),d.xp6(1),d.Q6J("formControl",t.form.get("unit")),d.xp6(1),d.Q6J("ngForOf",t.spaceUnits))},directives:[l.O5,u.qQ,u.wV,u.Fj,Nt.P,u.JJ,u.oH,u.EJ,l.sg,u.YN,u.Kr],styles:["[_nghost-%COMP%]{display:block}.input-container[_nghost-%COMP%]   input[_ngcontent-%COMP%]{flex:1 1 auto;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.input-container[_nghost-%COMP%]   select[_ngcontent-%COMP%]{width:80px;flex:0 0 80px;border-top-left-radius:0;border-bottom-left-radius:0}.wrapper[_ngcontent-%COMP%]{display:flex}"],changeDetection:0}),e}(),$i=function(){var e=function e(t){p(this,e),this.state=t};return e.\u0275fac=function(t){return new(t||e)(d.Y36(b))},e.\u0275cmp=d.Xpm({type:e,selectors:[["ftp-form"]],decls:26,vars:7,consts:[[1,"input-container"],["for","storage_ftp_host","trans",""],["type","text","id","storage_ftp_host","name","storage_ftp_host","required","",3,"ngModel","ngModelChange"],["for","storage_ftp_username","trans",""],["type","text","id","storage_ftp_username","name","storage_ftp_username","required","",3,"ngModel","ngModelChange"],["for","storage_ftp_password","trans",""],["type","password","id","storage_ftp_password","name","storage_ftp_password","required","",3,"ngModel","ngModelChange"],["for","storage_ftp_root","trans",""],["type","text","id","storage_ftp_root","name","storage_ftp_root","placeholder","/",3,"ngModel","ngModelChange"],["for","storage_ftp_port","trans",""],["type","number","id","storage_ftp_port","name","storage_ftp_port","min","0","placeholder","21",3,"ngModel","ngModelChange"],[1,"setting-toggle-container"],["name","storage_ftp_passive","id","storage_ftp_passive","trans","",3,"ngModel","ngModelChange"],["name","storage_ftp_ssl","id","storage_ftp_ssl","trans","",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"label",1),d._uU(2,"FTP Hostname"),d.qZA(),d.TgZ(3,"input",2),d.NdJ("ngModelChange",function(e){return t.state.server.storage_ftp_host=e}),d.qZA(),d.qZA(),d.TgZ(4,"div",0),d.TgZ(5,"label",3),d._uU(6,"FTP Username"),d.qZA(),d.TgZ(7,"input",4),d.NdJ("ngModelChange",function(e){return t.state.server.storage_ftp_username=e}),d.qZA(),d.qZA(),d.TgZ(8,"div",0),d.TgZ(9,"label",5),d._uU(10,"FTP Password"),d.qZA(),d.TgZ(11,"input",6),d.NdJ("ngModelChange",function(e){return t.state.server.storage_ftp_password=e}),d.qZA(),d.qZA(),d.TgZ(12,"div",0),d.TgZ(13,"label",7),d._uU(14,"FTP Directory"),d.qZA(),d.TgZ(15,"input",8),d.NdJ("ngModelChange",function(e){return t.state.server.storage_ftp_root=e}),d.qZA(),d.qZA(),d.TgZ(16,"div",0),d.TgZ(17,"label",9),d._uU(18,"FTP Port"),d.qZA(),d.TgZ(19,"input",10),d.NdJ("ngModelChange",function(e){return t.state.server.storage_ftp_port=e}),d.qZA(),d.qZA(),d.TgZ(20,"div",11),d.TgZ(21,"mat-slide-toggle",12),d.NdJ("ngModelChange",function(e){return t.state.server.storage_ftp_passive=e}),d._uU(22,"Passive"),d.qZA(),d.qZA(),d.TgZ(23,"div",11),d.TgZ(24,"mat-slide-toggle",13),d.NdJ("ngModelChange",function(e){return t.state.server.storage_ftp_ssl=e}),d._uU(25,"SSL"),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngModel",t.state.server.storage_ftp_host),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_ftp_username),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_ftp_password),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_ftp_root),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_ftp_port),d.xp6(2),d.Q6J("ngModel",t.state.server.storage_ftp_passive),d.xp6(3),d.Q6J("ngModel",t.state.server.storage_ftp_ssl))},directives:[Nt.P,u.Fj,u.Q7,u.JJ,u.On,u.qQ,u.wV,P.Rr],encapsulation:2,changeDetection:0}),e}(),Vi=function(){var e=function e(t){p(this,e),this.state=t};return e.\u0275fac=function(t){return new(t||e)(d.Y36(b))},e.\u0275cmp=d.Xpm({type:e,selectors:[["dropbox-form"]],decls:8,vars:2,consts:[[1,"input-container"],["for","storage_dropbox_access_token","trans",""],["type","text","id","storage_dropbox_access_token","name","storage_dropbox_access_token","required","",3,"ngModel","ngModelChange"],["for","storage_dropbox_root","trans",""],["type","text","id","storage_dropbox_root","name","storage_dropbox_root","placeholder","/",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"label",1),d._uU(2,"Access Token"),d.qZA(),d.TgZ(3,"input",2),d.NdJ("ngModelChange",function(e){return t.state.server.storage_dropbox_access_token=e}),d.qZA(),d.qZA(),d.TgZ(4,"div",0),d.TgZ(5,"label",3),d._uU(6,"Root Directory"),d.qZA(),d.TgZ(7,"input",4),d.NdJ("ngModelChange",function(e){return t.state.server.storage_dropbox_root=e}),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngModel",t.state.server.storage_dropbox_access_token),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_dropbox_root))},directives:[Nt.P,u.Fj,u.Q7,u.JJ,u.On],encapsulation:2,changeDetection:0}),e}(),Bi=function(){var e=function e(t){p(this,e),this.state=t};return e.\u0275fac=function(t){return new(t||e)(d.Y36(b))},e.\u0275cmp=d.Xpm({type:e,selectors:[["rackspace-form"]],decls:16,vars:4,consts:[[1,"input-container"],["for","storage_rackspace_username","trans",""],["type","text","id","storage_rackspace_username","name","storage_rackspace_username","required","",3,"ngModel","ngModelChange"],["for","storage_rackspace_key","trans",""],["type","text","id","storage_rackspace_key","name","storage_rackspace_key","required","",3,"ngModel","ngModelChange"],["for","storage_rackspace_region","trans",""],["type","text","id","storage_rackspace_region","name","storage_rackspace_region","required","",3,"ngModel","ngModelChange"],["for","storage_rackspace_container","trans",""],["type","text","id","storage_rackspace_container","name","storage_rackspace_container","required","",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"label",1),d._uU(2,"Rackspace Username"),d.qZA(),d.TgZ(3,"input",2),d.NdJ("ngModelChange",function(e){return t.state.server.storage_rackspace_username=e}),d.qZA(),d.qZA(),d.TgZ(4,"div",0),d.TgZ(5,"label",3),d._uU(6,"Rackspace Key"),d.qZA(),d.TgZ(7,"input",4),d.NdJ("ngModelChange",function(e){return t.state.server.storage_rackspace_key=e}),d.qZA(),d.qZA(),d.TgZ(8,"div",0),d.TgZ(9,"label",5),d._uU(10,"Rackspace Region"),d.qZA(),d.TgZ(11,"input",6),d.NdJ("ngModelChange",function(e){return t.state.server.storage_rackspace_region=e}),d.qZA(),d.qZA(),d.TgZ(12,"div",0),d.TgZ(13,"label",7),d._uU(14,"Rackspace Container"),d.qZA(),d.TgZ(15,"input",8),d.NdJ("ngModelChange",function(e){return t.state.server.storage_rackspace_container=e}),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngModel",t.state.server.storage_rackspace_username),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_rackspace_key),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_rackspace_region),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_rackspace_container))},directives:[Nt.P,u.Fj,u.Q7,u.JJ,u.On],encapsulation:2,changeDetection:0}),e}(),Hi=function(){var e=function e(t){p(this,e),this.state=t};return e.\u0275fac=function(t){return new(t||e)(d.Y36(b))},e.\u0275cmp=d.Xpm({type:e,selectors:[["s3-form"]],decls:23,vars:8,consts:[[1,"input-container"],["for","storage_s3_key","trans",""],["type","text","id","storage_s3_key","name","storage_s3_key","required","",3,"ngModel","ngModelChange"],["for","storage_s3_secret","trans",""],["type","text","id","storage_s3_secret","name","storage_s3_secret","required","",3,"ngModel","ngModelChange"],["for","storage_s3_region","trans",""],["type","text","id","storage_s3_region","pattern","[a-z1-9\\-]+","placeholder","us-east-1","name","storage_s3_region","required","",3,"ngModel","ngModelChange"],["for","storage_s3_bucket","trans",""],["type","text","id","storage_s3_bucket","name","storage_s3_bucket","required","",3,"ngModel","ngModelChange"],["for","storage_s3_endpoint","trans",""],["type","url","id","storage_s3_endpoint","name","storage_s3_endpoint",3,"placeholder","ngModel","ngModelChange"],["trans",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"label",1),d._uU(2,"Amazon S3 Key"),d.qZA(),d.TgZ(3,"input",2),d.NdJ("ngModelChange",function(e){return t.state.server.storage_s3_key=e}),d.qZA(),d.qZA(),d.TgZ(4,"div",0),d.TgZ(5,"label",3),d._uU(6,"Amazon S3 Secret"),d.qZA(),d.TgZ(7,"input",4),d.NdJ("ngModelChange",function(e){return t.state.server.storage_s3_secret=e}),d.qZA(),d.qZA(),d.TgZ(8,"div",0),d.TgZ(9,"label",5),d._uU(10,"Amazon S3 Region"),d.qZA(),d.TgZ(11,"input",6),d.NdJ("ngModelChange",function(e){return t.state.server.storage_s3_region=e}),d.qZA(),d.qZA(),d.TgZ(12,"div",0),d.TgZ(13,"label",7),d._uU(14,"Amazon S3 Bucket"),d.qZA(),d.TgZ(15,"input",8),d.NdJ("ngModelChange",function(e){return t.state.server.storage_s3_bucket=e}),d.qZA(),d.qZA(),d.TgZ(16,"div",0),d.TgZ(17,"label",9),d._uU(18,"Amazon S3 Endpoint"),d.qZA(),d.TgZ(19,"input",10),d.NdJ("ngModelChange",function(e){return t.state.server.storage_s3_endpoint=e}),d.ALo(20,"trans"),d.qZA(),d.TgZ(21,"p",11),d._uU(22,"Only change endpoint if you are using another S3 compatible storage service."),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngModel",t.state.server.storage_s3_key),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_s3_secret),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_s3_region),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_s3_bucket),d.xp6(4),d.Q6J("placeholder",d.lcZ(20,6,"Optional"))("ngModel",t.state.server.storage_s3_endpoint))},directives:[Nt.P,u.Fj,u.Q7,u.JJ,u.On,u.c5],pipes:[ft.R],encapsulation:2,changeDetection:0}),e}(),zi=function(){var e=function e(t){p(this,e),this.state=t};return e.\u0275fac=function(t){return new(t||e)(d.Y36(b))},e.\u0275cmp=d.Xpm({type:e,selectors:[["digitalocean-form"]],decls:16,vars:4,consts:[[1,"input-container"],["for","storage_digitalocean_key","trans",""],["type","text","id","storage_digitalocean_key","name","storage_digitalocean_key","required","",3,"ngModel","ngModelChange"],["for","storage_digitalocean_secret","trans",""],["type","text","id","storage_digitalocean_secret","name","storage_digitalocean_secret","required","",3,"ngModel","ngModelChange"],["for","storage_digitalocean_region","trans",""],["type","text","id","storage_digitalocean_region","name","storage_digitalocean_region","required","","pattern","[a-z0-9]+","maxlength","5",3,"ngModel","ngModelChange"],["for","storage_digitalocean_bucket","trans",""],["type","text","id","storage_digitalocean_bucket","name","storage_digitalocean_bucket","required","",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"label",1),d._uU(2,"DigitalOcean Key"),d.qZA(),d.TgZ(3,"input",2),d.NdJ("ngModelChange",function(e){return t.state.server.storage_digitalocean_key=e}),d.qZA(),d.qZA(),d.TgZ(4,"div",0),d.TgZ(5,"label",3),d._uU(6,"DigitalOcean Secret"),d.qZA(),d.TgZ(7,"input",4),d.NdJ("ngModelChange",function(e){return t.state.server.storage_digitalocean_secret=e}),d.qZA(),d.qZA(),d.TgZ(8,"div",0),d.TgZ(9,"label",5),d._uU(10,"DigitalOcean Region"),d.qZA(),d.TgZ(11,"input",6),d.NdJ("ngModelChange",function(e){return t.state.server.storage_digitalocean_region=e}),d.qZA(),d.qZA(),d.TgZ(12,"div",0),d.TgZ(13,"label",7),d._uU(14,"DigitalOcean Bucket"),d.qZA(),d.TgZ(15,"input",8),d.NdJ("ngModelChange",function(e){return t.state.server.storage_digitalocean_bucket=e}),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngModel",t.state.server.storage_digitalocean_key),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_digitalocean_secret),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_digitalocean_region),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_digitalocean_bucket))},directives:[Nt.P,u.Fj,u.Q7,u.JJ,u.On,u.c5,u.nD],encapsulation:2,changeDetection:0}),e}(),Gi=function(){var e=function e(t){p(this,e),this.state=t};return e.\u0275fac=function(t){return new(t||e)(d.Y36(b))},e.\u0275cmp=d.Xpm({type:e,selectors:[["backblaze-form"]],decls:16,vars:4,consts:[[1,"input-container"],["for","storage_backblaze_key_id","trans",""],["type","text","id","storage_backblaze_key_id","name","storage_backblaze_key_id","required","",3,"ngModel","ngModelChange"],["for","storage_backblaze_application_key","trans",""],["type","text","id","storage_backblaze_application_key","name","storage_backblaze_application_key","required","",3,"ngModel","ngModelChange"],["for","storage_backblaze_bucket","trans",""],["type","text","id","storage_backblaze_bucket","name","storage_backblaze_bucket","required","",3,"ngModel","ngModelChange"],["for","storage_backblaze_region","trans",""],["type","text","id","storage_backblaze_region","pattern","[a-z0-9\\-]+","placeholder","us-west-002","name","storage_backblaze_region","required","",3,"ngModel","ngModelChange"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"label",1),d._uU(2,"Backblaze KeyID"),d.qZA(),d.TgZ(3,"input",2),d.NdJ("ngModelChange",function(e){return t.state.server.storage_backblaze_key_id=e}),d.qZA(),d.qZA(),d.TgZ(4,"div",0),d.TgZ(5,"label",3),d._uU(6,"Backblaze applicationKey"),d.qZA(),d.TgZ(7,"input",4),d.NdJ("ngModelChange",function(e){return t.state.server.storage_backblaze_application_key=e}),d.qZA(),d.qZA(),d.TgZ(8,"div",0),d.TgZ(9,"label",5),d._uU(10,"Backblaze Bucket Name"),d.qZA(),d.TgZ(11,"input",6),d.NdJ("ngModelChange",function(e){return t.state.server.storage_backblaze_bucket=e}),d.qZA(),d.qZA(),d.TgZ(12,"div",0),d.TgZ(13,"label",7),d._uU(14,"Backblaze Region"),d.qZA(),d.TgZ(15,"input",8),d.NdJ("ngModelChange",function(e){return t.state.server.storage_backblaze_region=e}),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("ngModel",t.state.server.storage_backblaze_key_id),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_backblaze_application_key),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_backblaze_bucket),d.xp6(4),d.Q6J("ngModel",t.state.server.storage_backblaze_region))},directives:[Nt.P,u.Fj,u.Q7,u.JJ,u.On,u.c5],encapsulation:2,changeDetection:0}),e}();function ji(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",16),d.TgZ(1,"label",27),d._uU(2,"User Uploads Storage Method"),d.qZA(),d.TgZ(3,"select",28),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.uploads_disk_driver=e})("ngModelChange",function(){return d.CHM(n),d.oxw(2).clearErrors()}),d.TgZ(4,"option",29),d._uU(5,"Local Disk (Default)"),d.qZA(),d.TgZ(6,"option",30),d._uU(7,"Amazon S3"),d.qZA(),d.TgZ(8,"option",31),d._uU(9,"FTP"),d.qZA(),d.TgZ(10,"option",32),d._uU(11,"DigitalOcean Spaces"),d.qZA(),d.TgZ(12,"option",33),d._uU(13,"Backblaze"),d.qZA(),d.TgZ(14,"option",34),d._uU(15,"Dropbox"),d.qZA(),d.TgZ(16,"option",35),d._uU(17,"Rackspace"),d.qZA(),d.qZA(),d.TgZ(18,"p",13),d._uU(19),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(2);d.xp6(3),d.Q6J("ngModel",i.state.server.uploads_disk_driver),d.xp6(16),d.Oqu(i.settings.get("vebto.translations.uploads_disk_driver_description"))}}function Xi(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",16),d.TgZ(1,"label",36),d._uU(2,"Public Uploads Storage Method"),d.qZA(),d.TgZ(3,"select",37),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.public_disk_driver=e})("ngModelChange",function(){return d.CHM(n),d.oxw(2).clearErrors()}),d.TgZ(4,"option",29),d._uU(5,"Local Disk (Default)"),d.qZA(),d.TgZ(6,"option",30),d._uU(7,"Amazon S3"),d.qZA(),d.TgZ(8,"option",32),d._uU(9,"DigitalOcean"),d.qZA(),d.TgZ(10,"option",33),d._uU(11,"Backblaze"),d.qZA(),d.qZA(),d.TgZ(12,"p",13),d._uU(13),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(2);d.xp6(3),d.Q6J("ngModel",i.state.server.public_disk_driver),d.xp6(10),d.Oqu(i.settings.get("vebto.translations.public_disk_driver_description"))}}function Wi(e,t){1&e&&d._UZ(0,"ftp-form",38)}function Ki(e,t){1&e&&d._UZ(0,"dropbox-form",38)}function ea(e,t){1&e&&d._UZ(0,"rackspace-form",38)}function ta(e,t){1&e&&d._UZ(0,"s3-form",38)}function na(e,t){1&e&&d._UZ(0,"digitalocean-form",38)}function ia(e,t){1&e&&d._UZ(0,"backblaze-form",38)}function aa(e,t){if(1&e&&d._UZ(0,"p",39),2&e){var n=d.oxw().ngIf;d.Q6J("innerHTML",n.storage_group,d.oJD)}}function oa(e,t){if(1&e&&d._UZ(0,"p",39),2&e){var n=d.oxw(2).ngIf;d.Q6J("innerHTML",n.static_delivery_group,d.oJD)}}function ra(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",16),d.TgZ(1,"label",40),d._uU(2,"File Delivery Optimization"),d.qZA(),d.TgZ(3,"select",41),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.server.static_file_delivery=e}),d.TgZ(4,"option",42),d._uU(5,"None"),d.qZA(),d.TgZ(6,"option",43),d._uU(7,"X-Sendfile (Apache)"),d.qZA(),d.TgZ(8,"option",44),d._uU(9,"X-Accel (Nginx)"),d.qZA(),d.qZA(),d.TgZ(10,"p",13),d._uU(11," Both X-Sendfile and X-Accel need to be enabled on the server first. When enabled it will reduce server memory and CPU usage when previewing or downloading files, especially for large files. "),d.qZA(),d.YNc(12,oa,1,1,"p",8),d.qZA()}if(2&e){var i=d.oxw().ngIf,a=d.oxw();d.xp6(3),d.Q6J("ngModel",a.state.server.static_file_delivery),d.xp6(1),d.Q6J("ngValue",null),d.xp6(8),d.Q6J("ngIf",i.static_delivery_group)}}function sa(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",16),d.TgZ(1,"label",45),d._uU(2,"Chunk Size"),d.qZA(),d.TgZ(3,"space-input",46),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.client["uploads.chunk_size"]=e}),d.qZA(),d.TgZ(4,"p",13),d._uU(5," Size for each file chunk. Recommended size is 5MB. It should generally only be changed if maximum upload size on your server is lower then 5MB. Increasing or decreasing chunk size will not affect upload speed. "),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(2);d.xp6(3),d.Q6J("ngModel",i.state.client["uploads.chunk_size"])}}function la(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",11),d.TgZ(1,"mat-slide-toggle",47),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.client["uploads.resume"]=e}),d._uU(2,"Resumable Uploads"),d.qZA(),d.TgZ(3,"p",13),d._uU(4,"Allow users to resume partial or failed uploads."),d.qZA(),d.qZA()}if(2&e){var i=d.oxw(2);d.xp6(1),d.Q6J("ngModel",i.state.client["uploads.resume"])}}function ca(e,t){1&e&&d._UZ(0,"mat-progress-bar",48)}function ua(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",4),d.NdJ("ngSubmit",function(){return d.CHM(n),d.oxw().saveSettings()}),d.YNc(1,ji,20,2,"div",5),d.YNc(2,Xi,14,2,"div",5),d.TgZ(3,"div",6),d.YNc(4,Wi,1,0,"ftp-form",7),d.YNc(5,Ki,1,0,"dropbox-form",7),d.YNc(6,ea,1,0,"rackspace-form",7),d.YNc(7,ta,1,0,"s3-form",7),d.YNc(8,na,1,0,"digitalocean-form",7),d.YNc(9,ia,1,0,"backblaze-form",7),d.YNc(10,aa,1,1,"p",8),d.qZA(),d.TgZ(11,"div",9),d.YNc(12,ra,13,3,"div",5),d.qZA(),d.TgZ(13,"div",10),d.TgZ(14,"div",11),d.TgZ(15,"mat-slide-toggle",12),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["uploads.chunk"]=e}),d._uU(16,"Chunked Uploads"),d.qZA(),d.TgZ(17,"p",13),d._uU(18," When enabled larger files will be uploaded in smaller chunks to improve upload reliability and avoid server max upload size limits. "),d.qZA(),d.qZA(),d.YNc(19,sa,6,1,"div",5),d.TgZ(20,"div",14),d.TgZ(21,"div",1),d._uU(22,"Important"),d.qZA(),d.TgZ(23,"p"),d._uU(24),d.ALo(25,"trans"),d.TgZ(26,"strong"),d._uU(27),d.ALo(28,"async"),d.qZA(),d._uU(29,". "),d.qZA(),d.qZA(),d.YNc(30,la,5,1,"div",15),d.qZA(),d.TgZ(31,"div",16),d.TgZ(32,"label",17),d._uU(33,"Maximum file size"),d.qZA(),d.TgZ(34,"space-input",18),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["uploads.max_size"]=e}),d.qZA(),d.TgZ(35,"p",13),d._uU(36,"Maximum size for a single file user can upload."),d.qZA(),d.qZA(),d.TgZ(37,"div",16),d.TgZ(38,"label",19),d._uU(39,"Available Space"),d.qZA(),d.TgZ(40,"space-input",20),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["uploads.available_space"]=e}),d.qZA(),d.TgZ(41,"p",13),d._uU(42," Disk space each user uploads are allowed to take up. This can be overridden per user. "),d.qZA(),d.qZA(),d.TgZ(43,"div",16),d.TgZ(44,"label",21),d._uU(45,"Allowed file types"),d.qZA(),d.TgZ(46,"chip-input",22),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().allowedExtensions=e}),d.qZA(),d.TgZ(47,"p",13),d._uU(48," List of allowed file types (jpg, mp3, pdf etc.). Leave empty to allow all file types. "),d.qZA(),d.qZA(),d.TgZ(49,"div",16),d.TgZ(50,"label",23),d._uU(51,"Blocked file types"),d.qZA(),d.TgZ(52,"chip-input",24),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().blockedExtensions=e}),d.qZA(),d.TgZ(53,"p",13),d._uU(54,"Prevent uploading of these file types, even if they are allowed above."),d.qZA(),d.qZA(),d.TgZ(55,"button",25),d.ALo(56,"async"),d._uU(57," Update "),d.qZA(),d.YNc(58,ca,1,0,"mat-progress-bar",26),d.ALo(59,"async"),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.xp6(1),d.Q6J("ngIf",a.state.server.uploads_disk_driver),d.xp6(1),d.Q6J("ngIf",a.state.server.public_disk_driver),d.xp6(1),d.ekj("hidden",a.allSelectedDriversAreLocal())("has-error",i.storage_group),d.xp6(1),d.Q6J("ngIf",a.driverSelected("ftp")),d.xp6(1),d.Q6J("ngIf",a.driverSelected("dropbox")),d.xp6(1),d.Q6J("ngIf",a.driverSelected("rackspace")),d.xp6(1),d.Q6J("ngIf",a.driverSelected("s3")),d.xp6(1),d.Q6J("ngIf",a.driverSelected("digitalocean")),d.xp6(1),d.Q6J("ngIf",a.driverSelected("backblaze")),d.xp6(1),d.Q6J("ngIf",i.storage_group),d.xp6(2),d.Q6J("ngIf",a.driverSelected("local")),d.xp6(3),d.Q6J("ngModel",a.state.client["uploads.chunk"]),d.xp6(4),d.Q6J("ngIf",a.state.client["uploads.chunk"]),d.xp6(5),d.hij(" ",d.lcZ(25,25,"Maximum upload size on your server currently is set to")," "),d.xp6(3),d.Oqu(d.lcZ(28,27,a.serverMaxUploadSize$)),d.xp6(3),d.Q6J("ngIf",a.state.client["uploads.chunk"]),d.xp6(4),d.Q6J("ngModel",a.state.client["uploads.max_size"]),d.xp6(6),d.Q6J("ngModel",a.state.client["uploads.available_space"]),d.xp6(6),d.Q6J("ngModel",a.allowedExtensions),d.xp6(6),d.Q6J("ngModel",a.blockedExtensions),d.xp6(3),d.Q6J("disabled",d.lcZ(56,29,a.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(59,31,a.state.loading$))}}var da=function(){var e,i=function(e){n(o,e);var i=a(o);function o(){var e;return p(this,o),(e=i.apply(this,arguments)).allowedExtensions=[],e.blockedExtensions=[],e.serverMaxUploadSize$=new T.xQ,e}return h(o,[{key:"ngOnInit",value:function(){this.allowedExtensions=this.settings.getJson("uploads.allowed_extensions",[]),this.blockedExtensions=this.settings.getJson("uploads.blocked_extensions",[]),this.getServerMaxUploadSize()}},{key:"saveSettings",value:function(){this.setJson("uploads.allowed_extensions",pa(this.allowedExtensions)),this.setJson("uploads.blocked_extensions",pa(this.blockedExtensions)),t(s(o.prototype),"saveSettings",this).call(this)}},{key:"driverSelected",value:function(e){return[this.state.server.uploads_disk_driver,this.state.server.public_disk_driver].includes(e)}},{key:"allSelectedDriversAreLocal",value:function(){return[this.state.server.uploads_disk_driver,this.state.server.public_disk_driver].every(function(e){return!e||"local"===e})}},{key:"getServerMaxUploadSize",value:function(){var e=this;this.http.get("uploads/server-max-file-size").subscribe(function(t){e.serverMaxUploadSize$.next(t.maxSize)})}}]),o}(Pt);return i.\u0275fac=function(t){return(e||(e=d.n5z(i)))(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["uploading-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:7,vars:3,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["class","body many-inputs","ngNativeValidate","",3,"ngSubmit",4,"ngIf"],["ngNativeValidate","",1,"body","many-inputs",3,"ngSubmit"],["class","input-container",4,"ngIf"],["id","storage_group",1,"error-group","storage-credentials-group"],["class","many-inputs credentials-form",4,"ngIf"],["class","error",3,"innerHTML",4,"ngIf"],["id","static_delivery_group",1,"error-group","no-bottom-border"],[1,"error-group"],[1,"setting-toggle-container"],["name","uploads.chunk","id","uploads.chunk","trans","",3,"ngModel","ngModelChange"],["trans",""],[1,"widget","widget-important"],["class","setting-toggle-container",4,"ngIf"],[1,"input-container"],["for","uploads.max_size","trans",""],["name","uploads.max_size","id","uploads.max_size",3,"ngModel","ngModelChange"],["for","uploads.available_space","trans",""],["name","uploads.available_space","id","uploads.available_space",3,"ngModel","ngModelChange"],["for","allowed_extensions","trans",""],["id","allowed_extensions","name","allowed_extensions","placeholder","Enter file type...",3,"ngModel","ngModelChange"],["for","blocked_extensions","trans",""],["id","blocked_extensions","name","blocked_extensions","placeholder","Enter file type...",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent","type","submit","trans","",1,"update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],["for","uploads_disk_driver","trans",""],["name","uploads_disk_driver","id","uploads_disk_driver",3,"ngModel","ngModelChange"],["value","local","trans",""],["value","s3"],["value","ftp"],["value","digitalocean"],["value","backblaze"],["value","dropbox"],["value","rackspace"],["for","public_disk_driver","trans",""],["name","public_disk_driver","id","public_disk_driver",3,"ngModel","ngModelChange"],[1,"many-inputs","credentials-form"],[1,"error",3,"innerHTML"],["for","static_file_delivery","trans",""],["name","static_file_delivery","id","static_file_delivery",3,"ngModel","ngModelChange"],["trans","",3,"ngValue"],["value","xsendfile"],["value","xaccel"],["for","uploads.chunk_size","trans",""],["name","uploads.chunk_size","id","uploads.chunk_size",3,"ngModel","ngModelChange"],["name","uploads.resume","id","uploads.resume","trans","",3,"ngModel","ngModelChange"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"User Uploads"),d.qZA(),d.TgZ(3,"div",2),d._uU(4," Configure size and type of files that users are able to upload. This will affect all uploads across the site. "),d.qZA(),d.qZA(),d.YNc(5,ua,60,33,"form",3),d.ALo(6,"async")),2&e&&(d.xp6(5),d.Q6J("ngIf",d.lcZ(6,1,t.state.errors$)))},directives:[Nt.P,l.O5,u.JL,u.F,P.Rr,u.JJ,u.On,Ri,xi.S,Z.lW,u.EJ,u.YN,u.Kr,$i,Vi,Bi,Hi,zi,Gi,J.pW],pipes:[l.Ov,ft.R],styles:[".storage-credentials-group[_ngcontent-%COMP%]{border-bottom:none}.credentials-form[_ngcontent-%COMP%]{display:block}.credentials-form[_ngcontent-%COMP%]:not(:last-child){margin-bottom:20px;border-bottom:1px solid var(--be-divider-default)}"],changeDetection:0}),i}();function pa(e){return e.map(function(e){return e.replace(/^\./,"")})}function ga(e){return[].concat.apply([],e)}function ha(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",16),d.TgZ(1,"mat-slide-toggle",17),d.NdJ("ngModelChange",function(e){var t=d.CHM(n).$implicit;return d.oxw(2).state.client[t.key]=e}),d._uU(2),d.ALo(3,"trans"),d.qZA(),d.TgZ(4,"p"),d._uU(5),d.ALo(6,"trans"),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw(2);d.xp6(1),d.Q6J("name",i.key)("id",i.key)("ngModel",a.state.client[i.key]),d.xp6(1),d.Oqu(d.lcZ(3,5,i.name)),d.xp6(3),d.Oqu(d.lcZ(6,7,i.description))}}function fa(e,t){if(1&e&&(d.TgZ(0,"p",18),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n["recaptcha.site_key"])}}function ma(e,t){if(1&e&&(d.TgZ(0,"p",18),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.hij(" ",n["recaptcha.secret_key"]," ")}}function va(e,t){if(1&e&&d._UZ(0,"p",19),2&e){var n=d.oxw().ngIf;d.Q6J("innerHTML",n.recaptcha_group,d.oJD)}}function ba(e,t){1&e&&d._UZ(0,"mat-progress-bar",20)}function _a(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",4),d.NdJ("submit",function(){return d.CHM(n),d.oxw().saveSettings()}),d.YNc(1,ha,7,9,"div",5),d.TgZ(2,"div",6),d.TgZ(3,"div",7),d.TgZ(4,"label",8),d._uU(5,"Recaptcha V3 Site Key"),d.qZA(),d.TgZ(6,"input",9),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["recaptcha.site_key"]=e}),d.qZA(),d.YNc(7,fa,2,1,"p",10),d.qZA(),d.TgZ(8,"div",7),d.TgZ(9,"label",11),d._uU(10,"Recaptcha V3 Secret Key"),d.qZA(),d.TgZ(11,"input",12),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["recaptcha.secret_key"]=e}),d.qZA(),d.YNc(12,ma,2,1,"p",10),d.qZA(),d.YNc(13,va,1,1,"p",13),d.qZA(),d.TgZ(14,"button",14),d.ALo(15,"async"),d._uU(16," Update "),d.qZA(),d.YNc(17,ba,1,0,"mat-progress-bar",15),d.ALo(18,"async"),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.xp6(1),d.Q6J("ngForOf",a.actions),d.xp6(1),d.ekj("has-error",i.recaptcha_group),d.xp6(1),d.ekj("has-error",i["recaptcha.site_key"]),d.xp6(3),d.Q6J("ngModel",a.state.client["recaptcha.site_key"]),d.xp6(1),d.Q6J("ngIf",i["recaptcha.site_key"]),d.xp6(1),d.ekj("has-error",i["recaptcha.secret_key"]),d.xp6(3),d.Q6J("ngModel",a.state.client["recaptcha.secret_key"]),d.xp6(1),d.Q6J("ngIf",i["recaptcha.secret_key"]),d.xp6(1),d.Q6J("ngIf",i.recaptcha_group),d.xp6(1),d.Q6J("disabled",d.lcZ(15,14,a.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(18,16,a.state.loading$))}}var Za=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,o,r,s,l,c,u,d,g,h){var f;return p(this,i),(f=t.call(this,e,n,a,o,r,s,l,c,u,d,g)).settings=e,f.toast=n,f.http=a,f.modal=o,f.route=r,f.customHomepage=s,f.valueLists=l,f.cd=c,f.router=u,f.social=d,f.state=g,f.recaptchaActions=h,f.actions=ga(f.recaptchaActions).reverse(),f}return i}(Pt);return e.\u0275fac=function(t){return new(t||e)(d.Y36(pt.Z),d.Y36(Ut.F),d.Y36(g.r),d.Y36(It.u),d.Y36(f.gz),d.Y36(Mt.Y),d.Y36(Ot.l),d.Y36(d.sBO),d.Y36(f.F0),d.Y36(Jt.x),d.Y36(b),d.Y36($))},e.\u0275cmp=d.Xpm({type:e,selectors:[["recaptcha-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:7,vars:3,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["class","body many-inputs","ngNativeValidate","",3,"submit",4,"ngIf"],["ngNativeValidate","",1,"body","many-inputs",3,"submit"],["class","setting-toggle-container",4,"ngFor","ngForOf"],["id","recaptcha-group",1,"error-group","many-inputs","no-spacing"],[1,"input-container"],["for","recaptcha.site_key","trans",""],["name","recaptcha.site_key","id","recaptcha.site_key",3,"ngModel","ngModelChange"],["class","error",4,"ngIf"],["for","recaptcha.secret_key","trans",""],["name","recaptcha.secret_key","id","recaptcha.secret_key",3,"ngModel","ngModelChange"],["class","error",3,"innerHTML",4,"ngIf"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],[1,"setting-toggle-container"],[3,"name","id","ngModel","ngModelChange"],[1,"error"],[1,"error",3,"innerHTML"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Recaptcha"),d.qZA(),d.TgZ(3,"div",2),d._uU(4,"Configure google recaptcha integration and credentials."),d.qZA(),d.qZA(),d.YNc(5,_a,19,18,"form",3),d.ALo(6,"async")),2&e&&(d.xp6(5),d.Q6J("ngIf",d.lcZ(6,1,t.state.errors$)))},directives:[Nt.P,l.O5,u.JL,u.F,l.sg,u.Fj,u.JJ,u.On,Z.lW,P.Rr,J.pW],pipes:[l.Ov,ft.R],encapsulation:2,changeDetection:0}),e}(),ya=o(35331),xa=o(36024),ka=o(62424),Aa=o(28505),wa=o(71228),Ta=o(5084),Ca=o(6006),qa=function(){function e(t,n){p(this,e),this.key=n,this.selected=[],this.selected=c(t),this.key=n||"id"}return h(e,[{key:"isSelected",value:function(e){return this.findIndex(e)>-1}},{key:"toggle",value:function(e){var t=this.findIndex(e);t>-1?this.selected.splice(t,1):this.selected.push(Object.assign({},e))}},{key:"updateValue",value:function(e){var t=this.findIndex(e);this.selected[t]=Object.assign({},e)}},{key:"getValue",value:function(e){var t=this;return this.selected.find(function(n){return n[t.key]===e})}},{key:"values",value:function(){return c(this.selected)}},{key:"findIndex",value:function(e){var t=this;return this.selected.findIndex(function(n){return n[t.key]===e[t.key]})}}]),e}(),Ua=o(9823),Ia=function(){var e=function(){function e(t){p(this,e),this.httpClient=t}return h(e,[{key:"getRoles",value:function(){return this.httpClient.getWithCache("roles?perPage=15")}},{key:"createNew",value:function(e){return this.httpClient.post("roles",e)}},{key:"update",value:function(e,t){return this.httpClient.put("roles/"+e,t)}},{key:"delete",value:function(e){return this.httpClient.delete("roles/"+e)}},{key:"addUsers",value:function(e,t){return this.httpClient.post("roles/"+e+"/add-users",{userIds:t})}},{key:"removeUsers",value:function(e,t){return this.httpClient.post("roles/"+e+"/remove-users",{ids:t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.LFG(Ua.F))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Ma(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"li",10),d.TgZ(1,"div",11),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw().selectionModel.toggle(e)}),d.TgZ(2,"div",12),d.TgZ(3,"div",13),d._uU(4),d.qZA(),d.qZA(),d._UZ(5,"mat-pseudo-checkbox",14),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw();d.xp6(4),d.Oqu(i.name),d.xp6(1),d.Q6J("state",a.selectionModel.isSelected(i)?"checked":"unchecked")}}var Oa=function(){var e=function(){function e(t,n,i){p(this,e),this.rolesService=t,this.dialogRef=n,this.data=i,this.allRoles$=new v.X([]),this.selectionModel=new qa(this.data.initialRoles||[],"id")}return h(e,[{key:"ngOnInit",value:function(){this.fetchAllRoles()}},{key:"confirm",value:function(){this.close(this.selectionModel.values())}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"fetchAllRoles",value:function(){var e=this;this.rolesService.getRoles().subscribe(function(t){return e.allRoles$.next(t.pagination.data)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(Ia),d.Y36(k.so),d.Y36(k.WI))},e.\u0275cmp=d.Xpm({type:e,selectors:[["select-roles-modal"]],decls:15,vars:3,consts:[[1,"modal-header"],["mat-dialog-title","","trans","",1,"modal-title"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[1,"unstyled-list","selection-list"],["class","list-item",4,"ngFor","ngForOf"],[1,"buttons","right","mat-dialog-actions"],["mat-button","","type","button","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans",""],[1,"list-item"],["matRipple","",1,"list-item-header",3,"click"],[1,"meta"],[1,"list-item-name"],[3,"state"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h2",1),d._uU(2,"Select Roles"),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return t.close()}),d._UZ(4,"mat-icon",3),d.qZA(),d.qZA(),d.TgZ(5,"form",4),d.NdJ("ngSubmit",function(){return t.confirm()}),d.TgZ(6,"mat-dialog-content"),d.TgZ(7,"ul",5),d.YNc(8,Ma,6,2,"li",6),d.ALo(9,"async"),d.qZA(),d.qZA(),d.TgZ(10,"mat-dialog-actions",7),d.TgZ(11,"button",8),d.NdJ("click",function(){return t.close()}),d._uU(12,"Cancel"),d.qZA(),d.TgZ(13,"button",9),d._uU(14,"Select"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(8),d.Q6J("ngForOf",d.lcZ(9,1,t.allRoles$)))},directives:[k.uh,Nt.P,F.Hw,u.JL,u.F,k.xY,l.sg,k.H8,Z.lW,q.wG,q.nP],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}.list-item[_ngcontent-%COMP%]{text-transform:capitalize}"],changeDetection:0}),e}();function Ja(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",9),d.TgZ(1,"button",10),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).openSelectRolesModal()}),d._uU(2,"Manage"),d.qZA(),d.qZA()}}function Pa(e,t){1&e&&(d.TgZ(0,"div",11),d._uU(1,"No roles yet."),d.qZA())}function Na(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"mat-chip",12),d.NdJ("removed",function(){var e=d.CHM(n).$implicit;return d.oxw(2).detachRole(e)}),d.TgZ(1,"span",13),d._uU(2),d.qZA(),d._UZ(3,"mat-icon",14),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw(2);d.Q6J("removable",!0)("disabled",a.readonly),d.xp6(2),d.Oqu(i.name)}}function Sa(e,t){if(1&e&&(d.TgZ(0,"div",1),d.TgZ(1,"div",2),d.TgZ(2,"div",3),d._uU(3,"Roles"),d.qZA(),d.YNc(4,Ja,3,0,"div",4),d.qZA(),d.TgZ(5,"div",5),d.YNc(6,Pa,2,0,"div",6),d.ALo(7,"async"),d.TgZ(8,"mat-chip-list",7),d.YNc(9,Na,4,3,"mat-chip",8),d.ALo(10,"async"),d.qZA(),d.qZA(),d.qZA()),2&e){var n,i=d.oxw();d.xp6(4),d.Q6J("ngIf",!i.readonly),d.xp6(2),d.Q6J("ngIf",!(null!=(n=d.lcZ(7,4,i.roles$))&&n.length)),d.xp6(2),d.Q6J("selectable",!1),d.xp6(1),d.Q6J("ngForOf",d.lcZ(10,6,i.roles$))}}var Da=function(){var e=function(){function e(t,n,i,a){p(this,e),this.users=t,this.roleApi=n,this.modal=i,this.currentUser=a,this.roles$=new v.X([]),this.readonly=!1}return h(e,[{key:"openSelectRolesModal",value:function(){var e=this;this.modal.open(Oa,{initialRoles:this.roles$.value}).afterClosed().subscribe(function(t){t&&e.setRoles(t)})}},{key:"setRoles",value:function(e){this.roles$.next(e),this.propagateChange(this.roles$.value)}},{key:"detachRole",value:function(e){var t=this.roles$.value.filter(function(t){return t.id!==e.id});this.setRoles(t)}},{key:"writeValue",value:function(e){this.roles$.next(e)}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(ka.Q),d.Y36(Ia),d.Y36(It.u),d.Y36(Aa.I))},e.\u0275cmp=d.Xpm({type:e,selectors:[["role-manager"]],inputs:{readonly:"readonly"},features:[d._Bn([{provide:u.JU,useExisting:e,multi:!0}])],decls:1,vars:1,consts:[["class","panel-outter",4,"ngIf"],[1,"panel-outter"],[1,"header"],["trans","",1,"title"],["class","add-button",4,"ngIf"],[1,"panel-body","roles"],["class","no-permissions","trans","",4,"ngIf"],[3,"selectable"],[3,"removable","disabled","removed",4,"ngFor","ngForOf"],[1,"add-button"],["mat-flat-button","","color","accent","type","button","trans","",1,"select-roles-modal-button",3,"click"],["trans","",1,"no-permissions"],[3,"removable","disabled","removed"],[1,"role-name"],["svgIcon","cancel","matChipRemove",""]],template:function(e,t){1&e&&d.YNc(0,Sa,11,8,"div",0),2&e&&d.Q6J("ngIf",t.currentUser.hasPermission("roles.update"))},directives:[l.O5,Nt.P,x.qn,l.sg,Z.lW,x.HS,F.Hw,x.qH],pipes:[l.Ov],styles:[".panel-outter[_ngcontent-%COMP%]{margin:10px 0 20px}.header[_ngcontent-%COMP%]{display:flex;margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid var(--be-divider-default);align-items:flex-end}.title[_ngcontent-%COMP%]{font-weight:500}.add-button[_ngcontent-%COMP%]{text-align:right;flex:1 1 auto}.role-name[_ngcontent-%COMP%]{text-transform:capitalize}"],changeDetection:0}),e}(),Qa=o(42300);function Ya(e,t){if(1&e&&(d.TgZ(0,"p",21),d._uU(1),d.qZA()),2&e){var n=d.oxw().$implicit;d.xp6(1),d.hij(" ",n.description," ")}}function La(e,t){if(1&e&&(d.TgZ(0,"p",31),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).$implicit;d.xp6(1),d.hij(" ",n.description," ")}}function Ea(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",27),d.TgZ(1,"label",28),d._uU(2),d.qZA(),d.TgZ(3,"input",29),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().$implicit.value=e}),d.qZA(),d.YNc(4,La,2,1,"p",30),d.qZA()}if(2&e){var i=d.oxw().$implicit,a=d.oxw(2).$implicit,o=d.oxw(2);d.xp6(1),d.Q6J("for",a.name+"-"+i.name),d.xp6(1),d.Oqu(o.viewName(i.name)),d.xp6(1),d.Q6J("id",a.name+"-"+i.name)("ngModel",i.value),d.xp6(1),d.Q6J("ngIf",i.description)}}function Fa(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"mat-slide-toggle",34),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).$implicit.value=e}),d._uU(1),d.qZA()}if(2&e){var i=d.oxw(2).$implicit,a=d.oxw(2).$implicit,o=d.oxw(2);d.Q6J("id",a.name+"-"+i.name)("ngModel",i.value),d.xp6(1),d.Oqu(o.viewName(i.name))}}function Ra(e,t){if(1&e&&(d.TgZ(0,"p",31),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).$implicit;d.xp6(1),d.hij(" ",n.description," ")}}function $a(e,t){if(1&e&&(d.TgZ(0,"div",32),d.YNc(1,Fa,2,3,"mat-slide-toggle",33),d.YNc(2,Ra,2,1,"p",30),d.qZA()),2&e){var n=d.oxw().$implicit;d.xp6(1),d.Q6J("ngSwitchCase","bool"),d.xp6(1),d.Q6J("ngIf",n.description)}}function Va(e,t){if(1&e&&(d.ynx(0),d.ynx(1,24),d.YNc(2,Ea,5,5,"div",25),d.YNc(3,$a,3,2,"div",26),d.BQk(),d.BQk()),2&e){var n=t.$implicit;d.xp6(1),d.Q6J("ngSwitch",n.type),d.xp6(1),d.Q6J("ngSwitchCase","number"),d.xp6(1),d.Q6J("ngSwitchCase","bool")}}function Ba(e,t){if(1&e&&(d.TgZ(0,"div",22),d.YNc(1,Va,4,3,"ng-container",23),d.qZA()),2&e){var n=d.oxw().$implicit;d.xp6(1),d.Q6J("ngForOf",n.restrictions)}}function Ha(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"li",14),d.TgZ(1,"div",15),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(2).selectionModel.toggle(e)}),d.TgZ(2,"div",16),d.TgZ(3,"div",17),d._uU(4),d.qZA(),d.YNc(5,Ya,2,1,"p",18),d.qZA(),d._UZ(6,"mat-pseudo-checkbox",19),d.qZA(),d.YNc(7,Ba,2,1,"div",20),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw(2);d.xp6(4),d.hij(" ",i.display_name||i.name," "),d.xp6(1),d.Q6J("ngIf",i.description),d.xp6(1),d.Q6J("state",a.selectionModel.isSelected(i)?"checked":"unchecked"),d.xp6(1),d.Q6J("ngIf",!(null!=a.data&&a.data.hideRestrictions)&&(null==i.restrictions?null:i.restrictions.length)&&a.selectionModel.isSelected(i))}}function za(e,t){if(1&e&&(d.TgZ(0,"mat-expansion-panel",10),d.TgZ(1,"mat-expansion-panel-header"),d.TgZ(2,"mat-panel-title",11),d._uU(3),d.qZA(),d.qZA(),d.TgZ(4,"ul",12),d.YNc(5,Ha,8,4,"li",13),d.qZA(),d.qZA()),2&e){var n=t.$implicit;d.Q6J("expanded",!1),d.xp6(3),d.Oqu(n.key.replace("_"," ")),d.xp6(2),d.Q6J("ngForOf",n.value)}}var Ga=function(){var e=function(){function e(t,n,i){p(this,e),this.dialogRef=t,this.data=n,this.values=i,this.allPermissions$=new v.X({}),this.filteredPermissions$=new v.X({}),this.loading$=new v.X(!1),this.selectionModel=new qa(this.data.initialPermissions||[],"name"),this.showAdvancedControl=new u.NI(!1)}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.fetchAllPermissions(),this.showAdvancedControl.valueChanges.subscribe(function(){e.setShowAdvanced()})}},{key:"confirm",value:function(){this.close(this.getSelectedPermissions())}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"fetchAllPermissions",value:function(){var e=this,t=this.data.valueListKey||"permissions";this.loading$.next(!0),this.values.get([t]).pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(n){var i=e.mergeRestrictions(n[t]).reduce(function(e,t){return(e[t.group]=e[t.group]||[]).push(t),e},{});e.allPermissions$.next(i),e.setShowAdvanced()})}},{key:"setShowAdvanced",value:function(){var e=this,t=this.allPermissions$.value,n={};Object.keys(t).forEach(function(i){var a=t[i].filter(function(t){return e.showAdvancedControl.value||!t.advanced});a.length&&(n[i]=a)}),this.filteredPermissions$.next(n)}},{key:"getSelectedPermissions",value:function(){var e=this;return ga(Object.values(this.allPermissions$.value)).filter(function(t){return e.selectionModel.isSelected(t)})}},{key:"mergeRestrictions",value:function(e){var t=this;return e.map(function(e){var n=t.selectionModel.getValue(e.name);return e.restrictions=(e.restrictions||[]).map(function(e){var t={};return n&&n.restrictions&&(t=n.restrictions.find(function(t){return t.name===e.name})||{}),Object.assign(Object.assign({},e),t)}),e})}},{key:"viewName",value:function(e){return e.replace(/_/g," ")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(k.so),d.Y36(k.WI),d.Y36(Ot.l))},e.\u0275cmp=d.Xpm({type:e,selectors:[["select-permissions-modal"]],decls:20,vars:9,consts:[[1,"modal-header"],["mat-dialog-title","","trans","",1,"modal-title","mat-dialog-title"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["class","mat-elevation-z2",3,"expanded",4,"ngFor","ngForOf"],[1,"show-advanced-container"],["trans","",3,"formControl"],["mat-button","","type","button","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"click"],[1,"overlay","overlay-partial",3,"isVisible"],[1,"mat-elevation-z2",3,"expanded"],["trans",""],[1,"unstyled-list","selection-list"],["class","list-item",4,"ngFor","ngForOf"],[1,"list-item"],["matRipple","",1,"list-item-header",3,"click"],[1,"meta"],["trans","",1,"list-item-name"],["class","list-item-description","trans","",4,"ngIf"],[3,"state"],["class","list-item-restrictions",4,"ngIf"],["trans","",1,"list-item-description"],[1,"list-item-restrictions"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","input-container list-item-restriction",4,"ngSwitchCase"],["class","setting-toggle-container list-item-restriction",4,"ngSwitchCase"],[1,"input-container","list-item-restriction"],[3,"for"],["type","number","min","0",3,"id","ngModel","ngModelChange"],["class","description","trans","",4,"ngIf"],["trans","",1,"description"],[1,"setting-toggle-container","list-item-restriction"],["trans","",3,"id","ngModel","ngModelChange",4,"ngSwitchCase"],["trans","",3,"id","ngModel","ngModelChange"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h2",1),d._uU(2,"Select Permissions"),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return t.close()}),d._UZ(4,"mat-icon",3),d.qZA(),d.qZA(),d.TgZ(5,"mat-dialog-content"),d.TgZ(6,"mat-accordion"),d.YNc(7,za,6,3,"mat-expansion-panel",4),d.ALo(8,"keyvalue"),d.ALo(9,"async"),d.qZA(),d.TgZ(10,"div",5),d.TgZ(11,"mat-slide-toggle",6),d._uU(12,"Show advanced permissions"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"mat-dialog-actions"),d.TgZ(14,"button",7),d.NdJ("click",function(){return t.close()}),d._uU(15,"Cancel"),d.qZA(),d.TgZ(16,"button",8),d.NdJ("click",function(){return t.confirm()}),d._uU(17,"Select"),d.qZA(),d.qZA(),d._UZ(18,"loading-indicator",9),d.ALo(19,"async")),2&e&&(d.xp6(7),d.Q6J("ngForOf",d.lcZ(8,3,d.lcZ(9,5,t.filteredPermissions$))),d.xp6(4),d.Q6J("formControl",t.showAdvancedControl),d.xp6(7),d.Q6J("isVisible",d.lcZ(19,7,t.loading$)))},directives:[k.uh,Nt.P,F.Hw,k.xY,rt.pp,l.sg,P.Rr,u.JJ,u.oH,k.H8,Z.lW,Qa.Q,rt.ib,rt.yz,rt.yK,q.wG,l.O5,q.nP,l.RF,l.n9,u.qQ,u.wV,u.Fj,u.On],pipes:[l.Nd,l.Ov],styles:["[_nghost-%COMP%]{display:block;width:550px;max-width:100%;position:relative}.mat-expansion-panel-header-title[_ngcontent-%COMP%]{text-transform:capitalize}p[_ngcontent-%COMP%]{color:var(--be-secondary-text);font-size:1.3rem}.setting-toggle-container[_ngcontent-%COMP%]{margin-bottom:0}.show-advanced-container[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:20px}"],changeDetection:0}),e}();function ja(e,t){1&e&&(d.TgZ(0,"div",7),d._uU(1,"No permissions yet."),d.qZA())}function Xa(e,t){if(1&e&&(d.TgZ(0,"span"),d._uU(1),d.ALo(2,"trans"),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.hij("(",d.lcZ(2,1,n.value+" max"),")")}}function Wa(e,t){if(1&e&&(d.ynx(0),d.YNc(1,Xa,3,3,"span",10),d.BQk()),2&e){var n=t.ngIf;d.xp6(1),d.Q6J("ngIf",n.value)}}function Ka(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"mat-chip",8),d.NdJ("removed",function(){var e=d.CHM(n).$implicit;return d.oxw().removePermission(e.name)}),d.TgZ(1,"span"),d.TgZ(2,"span",9),d._uU(3),d.qZA(),d.YNc(4,Wa,2,1,"ng-container",10),d.qZA(),d._UZ(5,"mat-icon",11),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw();d.Q6J("removable",!0),d.xp6(3),d.Oqu(i.name),d.xp6(1),d.Q6J("ngIf",a.getCountRestriction(i))}}var eo=function(){var e=function(){function e(t){p(this,e),this.modal=t,this.valueListKey="permissions",this.hideRestrictions=!1,this.permissions$=new v.X([])}return h(e,[{key:"showSelectPermissionsModal",value:function(){var e=this;this.modal.open(Ga,{initialPermissions:this.permissions$.value,valueListKey:this.valueListKey,hideRestrictions:this.hideRestrictions}).afterClosed().subscribe(function(t){t&&e.setPermissions(t)})}},{key:"removePermission",value:function(e){var t=this.permissions$.value.filter(function(t){return t.name!==e});this.setPermissions(t)}},{key:"setPermissions",value:function(e){this.permissions$.next(e),this.propagateChange(this.permissions$.value)}},{key:"getCountRestriction",value:function(e){return e.restrictions.find(function(e){return"count"===e.name})}},{key:"writeValue",value:function(e){this.permissions$.next(e)}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(It.u))},e.\u0275cmp=d.Xpm({type:e,selectors:[["permission-manager"]],inputs:{valueListKey:"valueListKey",hideRestrictions:"hideRestrictions"},features:[d._Bn([{provide:u.JU,useExisting:e,multi:!0}])],decls:11,vars:7,consts:[[1,"header"],["trans","",1,"title"],["mat-flat-button","","color","accent","type","button","trans","",3,"click"],[1,"manage-permissions"],["class","no-permissions","trans","",4,"ngIf"],[3,"selectable"],[3,"removable","removed",4,"ngFor","ngForOf"],["trans","",1,"no-permissions"],[3,"removable","removed"],["trans",""],[4,"ngIf"],["svgIcon","cancel","matChipRemove",""]],template:function(e,t){var n;(1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"span",1),d._uU(2,"Permissions"),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return t.showSelectPermissionsModal()}),d._uU(4,"Manage"),d.qZA(),d.qZA(),d.TgZ(5,"div",3),d.YNc(6,ja,2,0,"div",4),d.ALo(7,"async"),d.TgZ(8,"mat-chip-list",5),d.YNc(9,Ka,6,3,"mat-chip",6),d.ALo(10,"async"),d.qZA(),d.qZA()),2&e)&&(d.xp6(6),d.Q6J("ngIf",!(null!=(n=d.lcZ(7,3,t.permissions$))&&n.length)),d.xp6(2),d.Q6J("selectable",!1),d.xp6(1),d.Q6J("ngForOf",d.lcZ(10,5,t.permissions$)))},directives:[Nt.P,Z.lW,l.O5,x.qn,l.sg,x.HS,F.Hw,x.qH],pipes:[l.Ov,ft.R],styles:["[_nghost-%COMP%]{display:block;margin:25px 0 35px}.header[_ngcontent-%COMP%]{display:flex;margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid var(--be-divider-default);align-items:flex-end}.title[_ngcontent-%COMP%]{font-weight:500}button[_ngcontent-%COMP%]{margin-left:auto}.error[_ngcontent-%COMP%]{margin-top:10px;color:#f44336}"],changeDetection:0}),e}();function to(e,t){1&e&&(d.TgZ(0,"h2",5),d._uU(1,"Update User Details"),d.qZA())}function no(e,t){1&e&&(d.TgZ(0,"h2",5),d._uU(1,"Create a New User"),d.qZA())}function io(e,t){if(1&e&&(d.TgZ(0,"div",37),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(1),d.Oqu(null==n?null:n.email)}}function ao(e,t){if(1&e&&(d.TgZ(0,"div",13),d.TgZ(1,"label",35),d._uU(2,"Email"),d.qZA(),d._UZ(3,"input",36),d.YNc(4,io,2,1,"div",12),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(4),d.Q6J("ngIf",null==n?null:n.email)}}function oo(e,t){if(1&e&&(d.TgZ(0,"div",37),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(1),d.Oqu(null==n?null:n.password)}}function ro(e,t){if(1&e&&(d.TgZ(0,"div",13),d.TgZ(1,"label",38),d._uU(2,"Password"),d.qZA(),d._UZ(3,"input",39),d.YNc(4,oo,2,1,"div",12),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(4),d.Q6J("ngIf",null==n?null:n.password)}}function so(e,t){if(1&e&&(d.TgZ(0,"div",37),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(null==n?null:n.avatar)}}function lo(e,t){if(1&e&&(d.TgZ(0,"div",37),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(null==n?null:n.first_name)}}function co(e,t){if(1&e&&(d.TgZ(0,"div",37),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(null==n?null:n.last_name)}}function uo(e,t){if(1&e&&(d.TgZ(0,"div",37),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(null==n?null:n.email_verified_at)}}function po(e,t){if(1&e&&(d.TgZ(0,"div",37),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(null==n?null:n.available_space)}}function go(e,t){if(1&e&&(d.TgZ(0,"div",37),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(null==n?null:n.roles)}}function ho(e,t){1&e&&d._UZ(0,"permission-manager",40)}function fo(e,t){if(1&e&&(d.TgZ(0,"div",37),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(null==n?null:n.permissions)}}function mo(e,t){1&e&&(d.TgZ(0,"span",41),d._uU(1,"Update User"),d.qZA())}function vo(e,t){1&e&&(d.TgZ(0,"span",41),d._uU(1,"Create User"),d.qZA())}function bo(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",6),d.NdJ("ngSubmit",function(){return d.CHM(n),d.oxw().confirm()}),d.TgZ(1,"mat-dialog-content",7),d.YNc(2,ao,5,1,"div",8),d.YNc(3,ro,5,1,"div",8),d.TgZ(4,"div",9),d.TgZ(5,"div",10),d._UZ(6,"upload-image-control",11),d.YNc(7,so,2,1,"div",12),d.qZA(),d.TgZ(8,"div",7),d.TgZ(9,"div",13),d.TgZ(10,"label",14),d._uU(11,"First Name"),d.qZA(),d._UZ(12,"input",15),d.YNc(13,lo,2,1,"div",12),d.qZA(),d.TgZ(14,"div",13),d.TgZ(15,"label",16),d._uU(16,"Last Name"),d.qZA(),d._UZ(17,"input",17),d.YNc(18,co,2,1,"div",12),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"div",13),d.TgZ(20,"label",18),d._uU(21,"Email Confirmed"),d.qZA(),d.TgZ(22,"div",19),d.TgZ(23,"select",20),d.TgZ(24,"option",21),d._uU(25,"Yes"),d.qZA(),d.TgZ(26,"option",21),d._uU(27,"No"),d.qZA(),d.qZA(),d.TgZ(28,"button",22),d.NdJ("click",function(){return d.CHM(n),d.oxw().sendEmailConfirmation()}),d.ALo(29,"async"),d._uU(30,"Resend"),d.qZA(),d.qZA(),d.YNc(31,uo,2,1,"div",12),d.qZA(),d.TgZ(32,"div",13),d.TgZ(33,"label",23),d._uU(34,"New Password"),d.qZA(),d.TgZ(35,"div",24),d._UZ(36,"input",25),d.TgZ(37,"button",26),d.NdJ("click",function(){return d.CHM(n),d.oxw().generateNewPassword()}),d._uU(38,"Generate"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(39,"space-input",27),d.TgZ(40,"p",28),d._uU(41,'Disk space available to user. If left empty, it will be inherited from value set in "admin -> settings -> uploading" page.'),d.qZA(),d.YNc(42,po,2,1,"div",12),d.qZA(),d._UZ(43,"role-manager",29),d.YNc(44,go,2,1,"div",12),d.YNc(45,ho,1,0,"permission-manager",30),d.YNc(46,fo,2,1,"div",12),d.qZA(),d.TgZ(47,"div",31),d.TgZ(48,"button",32),d.NdJ("click",function(){return d.CHM(n),d.oxw().close()}),d._uU(49,"Cancel"),d.qZA(),d.TgZ(50,"button",33),d.ALo(51,"async"),d.YNc(52,mo,2,0,"span",34),d.YNc(53,vo,2,0,"span",34),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.Q6J("formGroup",a.form),d.xp6(2),d.Q6J("ngIf",!a.data.user),d.xp6(1),d.Q6J("ngIf",!a.data.user),d.xp6(3),d.Q6J("uploadConfig",a.avatarUploadConfig()),d.xp6(1),d.Q6J("ngIf",null==i?null:i.avatar),d.xp6(6),d.Q6J("ngIf",null==i?null:i.first_name),d.xp6(5),d.Q6J("ngIf",null==i?null:i.last_name),d.xp6(1),d.ekj("resend-button-visible",a.shouldShowResendButton()),d.xp6(5),d.Q6J("ngValue",!0),d.xp6(2),d.Q6J("ngValue",!1),d.xp6(2),d.Q6J("disabled",d.lcZ(29,20,a.loading$)),d.xp6(3),d.Q6J("ngIf",null==i?null:i.email_verified_at),d.xp6(11),d.Q6J("ngIf",null==i?null:i.available_space),d.xp6(2),d.Q6J("ngIf",null==i?null:i.roles),d.xp6(1),d.Q6J("ngIf",a.currentUser.hasPermission("permissions.update")),d.xp6(1),d.Q6J("ngIf",null==i?null:i.permissions),d.xp6(4),d.Q6J("disabled",d.lcZ(51,22,a.loading$)),d.xp6(2),d.Q6J("ngIf",a.data.user),d.xp6(1),d.Q6J("ngIf",!a.data.user)}}var _o=function(){var e=function(){function e(t,n,i,a,o,r,s,l,c){p(this,e),this.dialogRef=t,this.data=n,this.users=i,this.toast=a,this.currentUser=o,this.fb=r,this.auth=s,this.settings=l,this.avatarValidator=c,this.loading$=new v.X(!1),this.form=this.fb.group({email:[""],password:[""],avatar:[""],first_name:[""],last_name:[""],email_verified_at:[!1],available_space:[""],roles:[],permissions:[]}),this.errors$=new v.X({})}return h(e,[{key:"ngOnInit",value:function(){this.data.user&&this.form.patchValue(Object.assign(Object.assign({},this.data.user),{password:null,email_verified_at:!!this.data.user.email_verified_at}))}},{key:"confirm",value:function(){var e=this;if(!this.loading$.value){var t=this.getPayload();this.loading$.next(!0),(this.data.user?this.users.update(this.data.user.id,t):this.users.create(t)).pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.close(t.user),e.toast.open("User "+(e.data.user?"updated":"created"))},function(t){return e.errors$.next(t.errors)})}}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"getPayload",value:function(){var e=Object.assign({},this.form.value);return e.roles=(e.roles||[]).map(function(e){return e.id}),e.permissions=e.permissions||[],e.password||delete e.password,e.email_verified_at=e.email_verified_at?new Date:null,e}},{key:"sendEmailConfirmation",value:function(){var e=this;this.loading$.next(!0),this.auth.resendEmailConfirmation(this.data.user.email).pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(){e.toast.open("Verification email re-sent.")},function(t){e.toast.open(t.message||xa.v.Default)})}},{key:"shouldShowResendButton",value:function(){return this.data.user&&this.data.user.id&&this.settings.get("require_email_confirmation")&&!this.form.get("email_verified_at").value}},{key:"avatarUploadConfig",value:function(){return{uri:this.data.user?"users/".concat(this.data.user.id,"/avatar"):ya.C.Image,httpParams:{diskPrefix:"avatars"},validator:this.avatarValidator}}},{key:"generateNewPassword",value:function(){this.form.patchValue({password:(0,Pi.O)(15)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(k.so),d.Y36(k.WI),d.Y36(ka.Q),d.Y36(Ut.F),d.Y36(Aa.I),d.Y36(u.qu),d.Y36(wa.e),d.Y36(pt.Z),d.Y36(Ta.m))},e.\u0275cmp=d.Xpm({type:e,selectors:[["crupdate-user-modal"]],decls:7,vars:5,consts:[[1,"modal-header"],["class","modal-title","mat-dialog-title","","trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["autocomplete","off","ngNativeValidate","",3,"formGroup","ngSubmit",4,"ngIf"],["mat-dialog-title","","trans","",1,"modal-title"],["autocomplete","off","ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"many-inputs"],["class","input-container",4,"ngIf"],[1,"avatar-container"],[1,"input-container","avatar-input-container"],["formControlName","avatar",1,"inherit-size",3,"uploadConfig"],["class","error",4,"ngIf"],[1,"input-container"],["for","crupdate-user-first_name","trans",""],["type","text","id","crupdate-user-first_name","formControlName","first_name"],["for","crupdate-user-last_name","trans",""],["type","text","id","crupdate-user-last_name","formControlName","last_name"],["for","crupdate-user-confirmed","trans",""],[1,"confirmed-select-wrapper"],["id","crupdate-user-confirmed","formControlName","email_verified_at"],["trans","",3,"ngValue"],["mat-flat-button","","color","accent","type","button","trans","",1,"resend-confirmation-button",3,"disabled","click"],["for","crupdate-user-new-password","trans",""],[1,"input-with-action"],["type","text","id","crupdate-user-new-password","formControlName","password"],["type","button","mat-flat-button","","color","accent","trans","",3,"click"],["label","Available Space","formControlName","available_space"],["trans","",1,"description"],["formControlName","roles"],["formControlName","permissions",4,"ngIf"],["mat-dialog-actions","",1,"buttons","right","mat-dialog-actions"],["type","button","mat-button","","trans","",1,"button","cancel",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary",3,"disabled"],["trans","",4,"ngIf"],["for","crupdate-user-email","trans",""],["type","email","id","crupdate-user-email","formControlName","email","required",""],[1,"error"],["for","crupdate-user-password","trans",""],["type","password","id","crupdate-user-password","formControlName","password","required",""],["formControlName","permissions"],["trans",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.YNc(1,to,2,0,"h2",1),d.YNc(2,no,2,0,"h2",1),d.TgZ(3,"button",2),d.NdJ("click",function(){return t.close()}),d._UZ(4,"mat-icon",3),d.qZA(),d.qZA(),d.YNc(5,bo,54,24,"form",4),d.ALo(6,"async")),2&e&&(d.xp6(1),d.Q6J("ngIf",t.data.user),d.xp6(1),d.Q6J("ngIf",!t.data.user),d.xp6(3),d.Q6J("ngIf",d.lcZ(6,3,t.errors$)))},directives:[l.O5,F.Hw,k.uh,Nt.P,u.JL,u.sg,k.xY,Ca.V,u.JJ,u.u,u.Fj,u.EJ,u.YN,u.Kr,Z.lW,Ri,Da,k.H8,u.Q7,eo],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:block;width:500px;max-width:100%}.avatar-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.avatar-container[_ngcontent-%COMP%]   .many-inputs[_ngcontent-%COMP%]{flex:1 1 auto}.avatar-container[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]:last-of-type{margin-bottom:0}.avatar-input-container[_ngcontent-%COMP%]{flex-shrink:0;width:170px;height:170px;margin-right:15px}.resend-confirmation-button[_ngcontent-%COMP%]{display:none}.resend-button-visible[_ngcontent-%COMP%]   .confirmed-select-wrapper[_ngcontent-%COMP%]{display:flex}.resend-button-visible[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{flex:1;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none}.resend-button-visible[_ngcontent-%COMP%]   .resend-confirmation-button[_ngcontent-%COMP%]{display:block;border-top-left-radius:0;border-bottom-left-radius:0}"],changeDetection:0}),e}(),Zo=o(56515),yo=o(59075),xo=o(45523),ko=[new yo.XQ({type:yo.Bq.Select,key:"email_verified_at",label:"Email",description:"Email verification status",defaultValue:{value:null,operator:yo.pg.ne},defaultOperator:yo.pg.ne,options:[{key:"Confirmed",value:{value:null,operator:yo.pg.ne}},{key:"Not Confirmed",value:{value:null,operator:yo.pg.eq}}]}),new xo.T7({description:"Date user registered or was created"}),new xo.yH({description:"Date user was last updated"}),new yo.XQ({type:yo.Bq.Select,key:"subscriptions",label:"Subscribed",description:"Whether user is subscribed or not",defaultValue:{value:"*",operator:yo.pg.has},defaultOperator:yo.pg.ne,options:[{key:"Yes",value:{value:"*",operator:yo.pg.has}},{key:"No",value:{value:"*",operator:yo.pg.doesntHave}}]})],Ao=o(37123),wo=o(34955),To=o(13536),Co=o(80922),qo=o(86668),Uo=o(54275),Io=o(71765),Mo=o(47210);function Oo(e,t){1&e&&d._UZ(0,"mat-progress-bar",22)}function Jo(e,t){1&e&&(d.TgZ(0,"th",1),d._uU(1,"Subscribed"),d.qZA())}function Po(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",27),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).maybeDeleteSelectedUsers()}),d._uU(1," Delete "),d.qZA()}}var No=function(e){return{count:e,resource:"user(s)"}};function So(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"th",23),d.TgZ(2,"div",24),d._uU(3," :count :resource selected: "),d.qZA(),d.TgZ(4,"div",25),d.YNc(5,Po,2,0,"button",26),d.qZA(),d.qZA(),d.qZA()),2&e){var n=t.ngIf,i=d.oxw();d.xp6(2),d.Q6J("transValues",d.VKq(2,No,n)),d.xp6(3),d.Q6J("ngIf",i.currentUser.hasPermission("users.delete"))}}function Do(e,t){if(1&e&&(d.TgZ(0,"td",36),d._uU(1),d.qZA()),2&e){var n=d.oxw().$implicit;d.xp6(1),d.hij(" ",null!=n.subscriptions&&n.subscriptions.length?"Yes":"No"," ")}}function Qo(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",37),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw().showCrupdateUserModal(e)}),d.ALo(1,"trans"),d._UZ(2,"mat-icon",38),d.qZA()}2&e&&d.Q6J("matTooltip",d.lcZ(1,1,"Edit user"))}function Yo(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",37),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw().loginAs(e)}),d.ALo(1,"trans"),d._UZ(2,"mat-icon",39),d.qZA()}2&e&&d.Q6J("matTooltip",d.lcZ(1,1,"Login as user"))}function Lo(e,t){if(1&e&&(d.TgZ(0,"tr"),d._UZ(1,"td",28),d.TgZ(2,"td"),d._UZ(3,"user-column",29),d.qZA(),d.YNc(4,Do,2,1,"td",30),d.TgZ(5,"td",31),d._uU(6),d.qZA(),d.TgZ(7,"td",32),d._uU(8),d.qZA(),d.TgZ(9,"td",33),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.ALo(13,"formattedDate"),d.qZA(),d.TgZ(14,"td",34),d.YNc(15,Qo,3,3,"button",35),d.YNc(16,Yo,3,3,"button",35),d.qZA(),d.qZA()),2&e){var n=t.$implicit,i=d.oxw();d.xp6(1),d.Q6J("table-body-checkbox",n.id),d.xp6(2),d.Q6J("user",n),d.xp6(1),d.Q6J("ngIf",i.settings.get("billing.enable")),d.xp6(2),d.Oqu(i.makeRolesList(n.roles)),d.xp6(2),d.Oqu(n.first_name||"-"),d.xp6(2),d.Oqu(n.last_name||"-"),d.xp6(2),d.Oqu(d.lcZ(13,9,n.created_at)),d.xp6(3),d.Q6J("ngIf",i.currentUser.hasPermission("users.update")),d.xp6(1),d.Q6J("ngIf",i.currentUser.hasPermission("admin"))}}function Eo(e,t){1&e&&(d.TgZ(0,"no-results-message",40),d.TgZ(1,"span",41),d._uU(2,"No users have been created yet"),d.qZA(),d.qZA())}var Fo=function(){var e=function(){function e(t,n,i,a,o,r,s){p(this,e),this.userService=t,this.currentUser=n,this.settings=i,this.toast=a,this.datatable=o,this.csv=r,this.http=s,this.filters=ko,this.users$=this.datatable.data$}return h(e,[{key:"ngOnInit",value:function(){this.datatable.init({uri:ka.Q.BASE_URI,staticParams:{with:["subscriptions"]}})}},{key:"ngOnDestroy",value:function(){this.datatable.destroy()}},{key:"makeRolesList",value:function(e){return e.slice(0,3).map(function(e){return e.name}).join(", ")}},{key:"maybeDeleteSelectedUsers",value:function(){var e=this;this.datatable.confirmResourceDeletion("users").subscribe(function(){e.userService.delete(e.datatable.selectedRows$.value).subscribe(function(){e.datatable.reset(),e.toast.open("Deleted selected users")},function(t){e.toast.open(t.message||xa.v.Default)})})}},{key:"showCrupdateUserModal",value:function(e){this.datatable.openCrupdateResourceModal(_o,{user:e}).subscribe()}},{key:"exportCsv",value:function(){this.csv.export(ka.Q.EXPORT_CSV_URI)}},{key:"loginAs",value:function(e){this.http.post("admin/users/impersonate/".concat(e.id)).subscribe(function(){location.reload()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(ka.Q),d.Y36(Aa.I),d.Y36(pt.Z),d.Y36(Ut.F),d.Y36(Zo.x),d.Y36(Ao.T),d.Y36(g.r))},e.\u0275cmp=d.Xpm({type:e,selectors:[["user-index"]],features:[d._Bn([Zo.x])],decls:46,vars:13,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","users",3,"filters"],[1,"action-buttons"],["mat-raised-button","",1,"btn-with-dropdown-icon",3,"matMenuTriggerFor"],["svgIcon","keyboard-arrow-down"],["menu","matMenu"],["mat-menu-item","",3,"click"],["svgIcon","export-csv"],["mat-raised-button","","color","accent",1,"button-with-icon",3,"click"],["svgIcon","add"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","email","trans",""],["trans","",4,"ngIf"],["table-sort-header","","trans",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","people.svg",4,"ngIf"],["mode","indeterminate","color","accent",1,"loading-bar"],["colspan","8"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["mat-raised-button","","color","warn","trans","",3,"click",4,"ngIf"],["mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],[3,"user"],["data-label","Subscribed",4,"ngIf"],["data-label","Roles"],["data-label","First Name"],["data-label","Last Name"],[1,"edit-column"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["data-label","Subscribed"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"],["svgIcon","login"],["svgImage","people.svg"],["primary-text","","trans",""]],template:function(e,t){if(1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h1",1),d._uU(2,"Users"),d.qZA(),d.TgZ(3,"div",2),d._UZ(4,"datatable-filters",3),d.TgZ(5,"div",4),d.TgZ(6,"button",5),d.TgZ(7,"span",1),d._uU(8,"More Actions"),d.qZA(),d._UZ(9,"mat-icon",6),d.qZA(),d.TgZ(10,"mat-menu",null,7),d.TgZ(12,"button",8),d.NdJ("click",function(){return t.exportCsv()}),d._UZ(13,"mat-icon",9),d.TgZ(14,"span",1),d._uU(15,"Export users in CSV"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(16,"button",10),d.NdJ("click",function(){return t.showCrupdateUserModal()}),d._UZ(17,"mat-icon",11),d.TgZ(18,"span",1),d._uU(19,"Add New User"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(20,"div",12),d.YNc(21,Oo,1,0,"mat-progress-bar",13),d.ALo(22,"async"),d.TgZ(23,"table",14),d.TgZ(24,"thead"),d.TgZ(25,"tr"),d._UZ(26,"th",15),d.TgZ(27,"th",16),d._uU(28,"User"),d.qZA(),d.YNc(29,Jo,2,0,"th",17),d.TgZ(30,"th",1),d._uU(31,"Roles"),d.qZA(),d.TgZ(32,"th",18),d._uU(33,"First Name"),d.qZA(),d.TgZ(34,"th",18),d._uU(35,"Last Name"),d.qZA(),d.TgZ(36,"th",18),d._uU(37,"Created At"),d.qZA(),d._UZ(38,"th"),d.qZA(),d.YNc(39,So,6,4,"tr",19),d.qZA(),d.TgZ(40,"tbody"),d.YNc(41,Lo,17,11,"tr",20),d.ALo(42,"async"),d.qZA(),d.qZA(),d.YNc(43,Eo,3,0,"no-results-message",21),d.ALo(44,"async"),d._UZ(45,"datatable-footer"),d.qZA()),2&e){var n=d.MAs(11);d.xp6(4),d.Q6J("filters",t.filters),d.xp6(2),d.Q6J("matMenuTriggerFor",n),d.xp6(15),d.Q6J("ngIf",d.lcZ(22,7,t.datatable.paginator&&t.datatable.paginator.loading$)),d.xp6(8),d.Q6J("ngIf",t.settings.get("billing.enable")),d.xp6(10),d.Q6J("ngIf",t.datatable.selectedRows$.value.length),d.xp6(2),d.Q6J("ngForOf",d.lcZ(42,9,t.users$)),d.xp6(2),d.Q6J("ngIf",d.lcZ(44,11,t.datatable.paginator.noResults$))}},directives:[Nt.P,wo.h,Z.lW,O.p6,F.Hw,O.VK,O.OP,l.O5,To.e,Co.p,l.sg,qo.V,J.pW,Uo.O,Io.r,S.gM,Mo.U],pipes:[l.Ov,En.l,ft.R],styles:[".mat-column-permissions[_ngcontent-%COMP%]{max-height:49px}.mat-column-email[_ngcontent-%COMP%]{margin-right:15px}"],changeDetection:0}),e}(),Ro=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for(var n in p(this,e),t)this[n]=t[n]},$o=o(4694);function Vo(e,t){1&e&&(d.TgZ(0,"h2",5),d._uU(1,"Update Role"),d.qZA())}function Bo(e,t){1&e&&(d.TgZ(0,"h2",5),d._uU(1,"Create a New Role"),d.qZA())}function Ho(e,t){if(1&e&&(d.TgZ(0,"div",21),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.name)}}function zo(e,t){1&e&&(d.TgZ(0,"div",8),d.TgZ(1,"label",22),d._uU(2,"Type"),d.qZA(),d.TgZ(3,"select",23),d.TgZ(4,"option",24),d._uU(5,"Site Wide"),d.qZA(),d.TgZ(6,"option",25),d._uU(7,"Workspace"),d.qZA(),d.qZA(),d.qZA())}function Go(e,t){if(1&e&&(d.TgZ(0,"div",21),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(null==n?null:n.permissions)}}function jo(e,t){if(1&e&&(d.TgZ(0,"div",21),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(1),d.Oqu(n.default)}}function Xo(e,t){if(1&e&&(d.TgZ(0,"div",21),d._uU(1),d.qZA()),2&e){var n=d.oxw(3).ngIf;d.xp6(1),d.Oqu(n.guests)}}function Wo(e,t){if(1&e&&(d.TgZ(0,"div",26),d.TgZ(1,"mat-slide-toggle",30),d._uU(2,"Guests"),d.qZA(),d.TgZ(3,"p",28),d._uU(4,"Assign this role to guests (not logged in users)."),d.qZA(),d.YNc(5,Xo,2,1,"div",11),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(5),d.Q6J("ngIf",n.guests)}}function Ko(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"div",26),d.TgZ(2,"mat-slide-toggle",27),d._uU(3,"Default"),d.qZA(),d.TgZ(4,"p",28),d._uU(5,"Assign this role to new users automatically."),d.qZA(),d.YNc(6,jo,2,1,"div",11),d.qZA(),d.YNc(7,Wo,6,1,"div",29),d.BQk()),2&e){var n=d.oxw().ngIf,i=d.oxw();d.xp6(6),d.Q6J("ngIf",n.default),d.xp6(1),d.Q6J("ngIf","sitewide"===i.form.get("type").value)}}function er(e,t){1&e&&(d.TgZ(0,"span",28),d._uU(1,"Update"),d.qZA())}function tr(e,t){1&e&&(d.TgZ(0,"span",28),d._uU(1,"Create"),d.qZA())}function nr(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",6),d.NdJ("submit",function(){return d.CHM(n),d.oxw().confirm()}),d.TgZ(1,"div",7),d.TgZ(2,"div",8),d.TgZ(3,"label",9),d._uU(4,"Name"),d.qZA(),d._UZ(5,"input",10),d.YNc(6,Ho,2,1,"div",11),d.qZA(),d.TgZ(7,"div",8),d.TgZ(8,"label",12),d._uU(9,"Description"),d.qZA(),d._UZ(10,"textarea",13),d.qZA(),d.YNc(11,zo,8,0,"div",14),d._UZ(12,"permission-manager",15),d.YNc(13,Go,2,1,"div",11),d.YNc(14,Ko,8,2,"ng-container",16),d.qZA(),d.TgZ(15,"div",17),d.TgZ(16,"button",18),d.NdJ("click",function(){return d.CHM(n),d.oxw().close()}),d._uU(17,"Cancel"),d.qZA(),d.TgZ(18,"button",19),d.ALo(19,"async"),d.YNc(20,er,2,0,"span",20),d.YNc(21,tr,2,0,"span",20),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.Q6J("formGroup",a.form),d.xp6(6),d.Q6J("ngIf",i.name),d.xp6(5),d.Q6J("ngIf",a.settings.get("workspaces.integrated")),d.xp6(1),d.Q6J("valueListKey","workspace"===a.form.get("type").value?"workspacePermissions":"permissions")("hideRestrictions",null==a.data||null==a.data.role?null:a.data.role.guests),d.xp6(1),d.Q6J("ngIf",null==i?null:i.permissions),d.xp6(1),d.Q6J("ngIf",!(null!=a.data.role&&a.data.role.internal)),d.xp6(4),d.Q6J("disabled",d.lcZ(19,10,a.loading$)),d.xp6(2),d.Q6J("ngIf",a.data.role),d.xp6(1),d.Q6J("ngIf",!a.data.role)}}var ir=function(){var e=function(){function e(t,n,i,a,o,r,s){p(this,e),this.toast=t,this.roleService=n,this.modal=i,this.fb=a,this.dialogRef=o,this.settings=r,this.data=s,this.form=this.fb.group({name:[""],description:[""],type:["sitewide"],default:[!1],guests:[!1],permissions:[]}),this.loading$=new v.X(!1),this.errors$=new v.X({})}return h(e,[{key:"ngOnInit",value:function(){this.resetState(),this.data.role&&this.form.patchValue(this.data.role)}},{key:"close",value:function(e){this.resetState(),this.dialogRef.close(e)}},{key:"confirm",value:function(){var e=this;this.loading$.next(!0),(this.data.role?this.roleService.update(this.data.role.id,this.form.value):this.roleService.createNew(this.form.value)).pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.toast.open("Role "+(e.data.role?"Updated":"Created")),e.close(t.data)},function(t){return e.errors$.next(t.errors)})}},{key:"resetState",value:function(){this.form.reset(),this.errors$.next({})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(Ut.F),d.Y36(Ia),d.Y36(It.u),d.Y36(u.qu),d.Y36(k.so),d.Y36(pt.Z),d.Y36(k.WI))},e.\u0275cmp=d.Xpm({type:e,selectors:[["crupdate-role-modal"]],decls:7,vars:5,consts:[[1,"modal-header"],["class","modal-title mat-dialog-title","mat-dialog-title","","trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["autocomplete","off","ngNativeValidate","",3,"formGroup","submit",4,"ngIf"],["mat-dialog-title","","trans","",1,"modal-title","mat-dialog-title"],["autocomplete","off","ngNativeValidate","",3,"formGroup","submit"],["mat-dialog-content","",1,"many-inputs","mat-dialog-content"],[1,"input-container"],["for","name","trans",""],["type","text","formControlName","name","id","name","required",""],["class","error",4,"ngIf"],["for","description","trans",""],["type","text","id","description","formControlName","description","maxlength","190"],["class","input-container",4,"ngIf"],["formControlName","permissions",3,"valueListKey","hideRestrictions"],[4,"ngIf"],["mat-dialog-actions","",1,"buttons","right","mat-dialog-actions"],["type","button","mat-button","","trans","",1,"button","cancel",3,"click"],["type","submit","mat-raised-button","","color","accent",3,"disabled"],["trans","",4,"ngIf"],[1,"error"],["for","type","trans",""],["id","type","formControlName","type"],["value","sitewide","trans",""],["value","workspace","trans",""],[1,"setting-container"],["formControlName","default","id","default","trans",""],["trans",""],["class","setting-container",4,"ngIf"],["id","guest","formControlName","guests","trans",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.YNc(1,Vo,2,0,"h2",1),d.YNc(2,Bo,2,0,"h2",1),d.TgZ(3,"button",2),d.NdJ("click",function(){return t.close()}),d._UZ(4,"mat-icon",3),d.qZA(),d.qZA(),d.YNc(5,nr,22,12,"form",4),d.ALo(6,"async")),2&e&&(d.xp6(1),d.Q6J("ngIf",t.data.role),d.xp6(1),d.Q6J("ngIf",!t.data.role),d.xp6(3),d.Q6J("ngIf",d.lcZ(6,3,t.errors$)))},directives:[l.O5,F.Hw,k.uh,Nt.P,u.JL,u.sg,k.xY,u.Fj,u.JJ,u.u,u.Q7,u.nD,eo,k.H8,Z.lW,u.EJ,u.YN,u.Kr,P.Rr],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}.setting-container[_ngcontent-%COMP%]{margin-bottom:25px}.setting-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--be-secondary-text);margin:5px 0}"],changeDetection:0}),e}(),ar=o(44415),or=[{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:50},{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:50}],rr=o(7855),sr=o(80147);function lr(e,t){1&e&&d.GkF(0)}var cr=function(){var e=function(){function e(t,n){p(this,e),this.data=t,this.overlayPanelRef=n}return h(e,[{key:"close",value:function(){this.overlayPanelRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(rr.p),d.Y36(sr.L))},e.\u0275cmp=d.Xpm({type:e,selectors:[["datatable-filters-panel"]],hostVars:1,hostBindings:function(e,t){2&e&&d.d8E("@dialogContainer","enter")},decls:9,vars:1,consts:[["svgIcon","filter-list"],["trans",""],[1,"body",3,"ngSubmit"],[4,"ngTemplateOutlet"],["type","button","mat-button","","color","accent","trans","",3,"click"]],template:function(e,t){1&e&&(d.TgZ(0,"header"),d._UZ(1,"mat-icon",0),d.TgZ(2,"span",1),d._uU(3,"Filters"),d.qZA(),d.qZA(),d.TgZ(4,"form",2),d.NdJ("ngSubmit",function(){return t.close()}),d.YNc(5,lr,1,0,"ng-container",3),d.qZA(),d.TgZ(6,"footer"),d.TgZ(7,"button",4),d.NdJ("click",function(){return t.close()}),d._uU(8,"Close"),d.qZA(),d.qZA()),2&e&&(d.xp6(5),d.Q6J("ngTemplateOutlet",t.data.filters))},directives:[F.Hw,Nt.P,u._Y,u.JL,u.F,l.tP,Z.lW],styles:["[_nghost-%COMP%]{display:block;min-width:250px;margin:auto;background-color:var(--be-background);border-radius:4px;box-shadow:0 8px 9px -5px rgba(0,0,0,.2),0 15px 22px 2px rgba(0,0,0,.14),0 6px 28px 5px rgba(0,0,0,.12)}header[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default);padding:15px 20px;margin-bottom:20px;font-weight:500}header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:5px}.body[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}footer[_ngcontent-%COMP%]{border-top:1px solid var(--be-divider-default);text-align:right;margin-top:10px;padding:10px 20px}"],data:{animation:[k.Nv.dialogContainer]},changeDetection:0}),e}(),ur=o(73709),dr=o(98979);function pr(e,t){1&e&&d._UZ(0,"mat-icon",3)}var gr=function(){var e=function e(t){p(this,e),this.datatable=t,this.hideIcon=!1};return e.\u0275fac=function(t){return new(t||e)(d.Y36(Zo.x))},e.\u0275cmp=d.Xpm({type:e,selectors:[["datatable-header-search-input"]],inputs:{placeholder:"placeholder",hideIcon:"hideIcon"},decls:4,vars:5,consts:[[1,"input-container","search-input-container"],["type","text",1,"search-input",3,"placeholder","formControl"],["svgIcon","search",4,"ngIf"],["svgIcon","search"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d._UZ(1,"input",1),d.ALo(2,"trans"),d.YNc(3,pr,1,0,"mat-icon",2),d.qZA()),2&e&&(d.xp6(1),d.Q6J("placeholder",d.lcZ(2,3,t.placeholder))("formControl",t.datatable.searchControl),d.xp6(2),d.Q6J("ngIf",!t.hideIcon))},directives:[u.Fj,u.JJ,u.oH,l.O5,F.Hw],pipes:[ft.R],styles:[".input-container[_ngcontent-%COMP%]{min-width:250px;position:relative;flex-shrink:0}.input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 12px);right:5px;color:var(--be-secondary-text)}.icon-left[_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%], .icon-left   [_nghost-%COMP%]   .mat-icon[_ngcontent-%COMP%]{left:10px;right:0}"],changeDetection:0}),e}(),hr=function(){var e,i=function(e){n(o,e);var i=a(o);function o(){return p(this,o),i.apply(this,arguments)}return h(o,[{key:"transform",value:function(e){return e?t(s(o.prototype),"transform",this).call(this,e.replace("-"," ").replace("_"," ")):""}}]),o}(l.rS);return i.\u0275fac=function(t){return(e||(e=d.n5z(i)))(t||i)},i.\u0275pipe=d.Yjl({name:"titleCase",type:i,pure:!0}),i}(),fr=["tableFilters"],mr=["filterButton"];function vr(e,t){1&e&&d._UZ(0,"mat-progress-bar",7)}function br(e,t){1&e&&(d.TgZ(0,"div",8),d.Hsn(1),d.qZA())}var _r=function(e,t){return{count:e,resource:t}};function Zr(e,t){if(1&e&&(d.TgZ(0,"div",9),d._uU(1),d.ALo(2,"trans"),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.hij(" ",d.xi3(2,1,":count :resource selected",d.WLB(4,_r,n.numberOfRowsSelected,n.pluralResourceName))," ")}}function yr(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"mat-chip",18),d.NdJ("removed",function(){var e=d.CHM(n).$implicit;return d.oxw(3).datatable.removeFilter(e.key)}),d._uU(1),d.ALo(2,"trans"),d.ALo(3,"titleCase"),d._UZ(4,"mat-icon",19),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw(3);d.Q6J("removable",!0)("selectable",!1),d.xp6(1),d.AsE(" ",d.lcZ(2,4,d.lcZ(3,6,i.key)),": ",a.isModel(i.value)?i.value.name||i.value.display_name:i.value," ")}}function xr(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"mat-chip-list",13),d.YNc(2,yr,5,8,"mat-chip",14),d.ALo(3,"keyvalue"),d.ALo(4,"async"),d.qZA(),d.TgZ(5,"button",15,16),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).openFiltersPanel()}),d._UZ(7,"mat-icon",17),d.qZA(),d.BQk()}if(2&e){var i=d.oxw(2);d.xp6(2),d.Q6J("ngForOf",d.lcZ(3,3,d.lcZ(4,5,i.filters$))),d.xp6(3),d.ekj("active",i.filterPanelRef)}}function kr(e,t){if(1&e&&(d.TgZ(0,"div",10),d.YNc(1,xr,8,7,"ng-container",11),d._UZ(2,"datatable-header-search-input",12),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("ngIf",n.filterPanelTemplate),d.xp6(1),d.MGl("placeholder","Search ",n.pluralResourceName,"")}}function Ar(e,t){1&e&&(d.TgZ(0,"div",20),d.Hsn(1,1),d.qZA())}var wr=[[["","leftContent",""]],[["","rightContent",""]]],Tr=["[leftContent]","[rightContent]"],Cr=function(){var e=function(){function e(t,n,i){p(this,e),this.datatable=t,this.cd=n,this.overlayPanel=i,this.showSelectedActions=!0,this.subscriptions=[],this.filters$=this.datatable.filters$.pipe((0,Si.U)(function(e){var t=(0,ur.N)(e);return delete t.query,t}))}return h(e,[{key:"ngOnInit",value:function(){var e=this,t=this.datatable.filters$.subscribe(function(){e.filterPanelRef&&e.filterPanelRef.close()}),n=this.datatable.selectedRows$.subscribe(function(t){e.numberOfRowsSelected=t.length,e.cd.markForCheck()});this.subscriptions=[t,n]}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"openFiltersPanel",value:function(){var e=this;if(this.filterPanelRef)this.filterPanelRef.close();else{var t=or.slice();t[0].offsetY=40,t[1].offsetY=40,this.filterPanelRef=this.overlayPanel.open(cr,{origin:this.filterButton,position:t,mobilePosition:"center",data:{filters:this.filterPanelTemplate},maxWidth:"90%"}),this.filterButton.nativeElement.classList.add("active"),this.filterPanelRef.afterClosed().subscribe(function(){e.filterPanelRef=null,e.filterButton.nativeElement.classList.remove("active")})}}},{key:"isModel",value:function(e){return"object"==typeof e&&e.id}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(Zo.x),d.Y36(d.sBO),d.Y36(dr.T))},e.\u0275cmp=d.Xpm({type:e,selectors:[["datatable-header"]],contentQueries:function(e,t,n){var i;(1&e&&d.Suo(n,fr,5),2&e)&&(d.iGM(i=d.CRH())&&(t.filterPanelTemplate=i.first))},viewQuery:function(e,t){var n;(1&e&&d.Gf(mr,5,d.SBq),2&e)&&(d.iGM(n=d.CRH())&&(t.filterButton=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&d.ekj("rows-selected",t.numberOfRowsSelected)},inputs:{pluralResourceName:"pluralResourceName",showSelectedActions:"showSelectedActions"},ngContentSelectors:Tr,decls:8,vars:7,consts:[["mode","indeterminate","color","accent",4,"ngIf"],[1,"left-column"],["class","default-left-content",4,"ngIf"],["class","selected-left-content capitalize",4,"ngIf"],[1,"right-column"],["class","default-right-content",4,"ngIf"],["class","selected-right-actions",4,"ngIf"],["mode","indeterminate","color","accent"],[1,"default-left-content"],[1,"selected-left-content","capitalize"],[1,"default-right-content"],[4,"ngIf"],[3,"placeholder"],["aria-label","Active Filters",1,"filter-chip-list"],[3,"removable","selectable","removed",4,"ngFor","ngForOf"],["mat-icon-button","",1,"filter-button",3,"click"],["filterButton",""],["svgIcon","filter-list"],[3,"removable","selectable","removed"],["matChipRemove","","svgIcon","cancel"],[1,"selected-right-actions"]],template:function(e,t){1&e&&(d.F$t(wr),d.YNc(0,vr,1,0,"mat-progress-bar",0),d.ALo(1,"async"),d.TgZ(2,"div",1),d.YNc(3,br,2,0,"div",2),d.YNc(4,Zr,3,7,"div",3),d.qZA(),d.TgZ(5,"div",4),d.YNc(6,kr,3,2,"div",5),d.YNc(7,Ar,2,0,"div",6),d.qZA()),2&e&&(d.Q6J("ngIf",d.lcZ(1,5,t.datatable.paginator&&t.datatable.paginator.loading$)),d.xp6(3),d.Q6J("ngIf",!t.showSelectedActions||!t.numberOfRowsSelected),d.xp6(1),d.Q6J("ngIf",t.showSelectedActions&&t.numberOfRowsSelected),d.xp6(2),d.Q6J("ngIf",!t.showSelectedActions||!t.numberOfRowsSelected),d.xp6(1),d.Q6J("ngIf",t.showSelectedActions&&t.numberOfRowsSelected))},directives:[l.O5,J.pW,gr,x.qn,l.sg,Z.lW,F.Hw,x.HS,x.qH],pipes:[l.Ov,ft.R,l.Nd,hr],styles:[".rows-selected[_nghost-%COMP%], .rows-selected   [_nghost-%COMP%]{background-color:var(--be-accent-emphasis);color:var(--be-secondary-text);font-size:1.5rem;border-color:var(--be-divider-default)}[_nghost-%COMP%]{display:flex;align-items:center;height:85px;padding:15px;border-bottom:1px solid transparent;position:relative}.mat-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0}.left-column[_ngcontent-%COMP%]{margin-right:auto}.right-column[_ngcontent-%COMP%]{margin-left:25px}.default-right-content[_ngcontent-%COMP%]{display:flex;align-items:center}.filter-button[_ngcontent-%COMP%]{margin-right:10px}.active[_ngcontent-%COMP%]{color:var(--be-accent-default)}.mat-chip[_ngcontent-%COMP%]{text-transform:capitalize}  datatable-header info-popover{margin-left:10px}"],changeDetection:0}),e}();function qr(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",15),d.NdJ("click",function(){return d.CHM(n),d.oxw().showCrupdateRoleModal()}),d._uU(1," New Role "),d.qZA()}}function Ur(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",22),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(2).selectRole(e)}),d.ALo(1,"async"),d._uU(2),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw(2);d.ekj("selected",d.lcZ(1,3,a.selectedRole$).id===i.id),d.xp6(2),d.hij(" ",i.name," ")}}function Ir(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"button",16),d.TgZ(2,"span",17),d._uU(3),d.ALo(4,"async"),d.qZA(),d._UZ(5,"mat-icon",18),d.qZA(),d.TgZ(6,"mat-menu",19,20),d.YNc(8,Ur,3,5,"button",21),d.ALo(9,"async"),d.qZA(),d.BQk()),2&e){var n=d.MAs(7),i=d.oxw();d.xp6(1),d.Q6J("matMenuTriggerFor",n),d.xp6(2),d.Oqu(d.lcZ(4,3,i.selectedRole$).name),d.xp6(5),d.Q6J("ngForOf",d.lcZ(9,5,i.roles$))}}function Mr(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",32),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw(2).showCrupdateRoleModal(e)}),d._uU(1," Edit "),d.qZA()}}function Or(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",32),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw(2).maybeDeleteRole(e)}),d._uU(1," Delete "),d.qZA()}}function Jr(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",25),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(2).selectRole(e)}),d.ALo(1,"async"),d.TgZ(2,"div",17),d.TgZ(3,"div"),d._uU(4),d.qZA(),d.TgZ(5,"div",26),d._uU(6),d.qZA(),d.qZA(),d.TgZ(7,"div",27),d.TgZ(8,"button",28),d.NdJ("click",function(e){return e.stopPropagation()}),d._UZ(9,"mat-icon",29),d.qZA(),d.TgZ(10,"mat-menu",null,30),d.YNc(12,Mr,2,0,"div",31),d.YNc(13,Or,2,0,"div",31),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit,a=d.MAs(11),o=d.oxw(2);d.ekj("selected",d.lcZ(1,7,o.selectedRole$).id===i.id),d.xp6(4),d.Oqu(i.name),d.xp6(2),d.Oqu(i.type),d.xp6(2),d.Q6J("matMenuTriggerFor",a),d.xp6(4),d.Q6J("ngIf",o.currentUser.hasPermission("roles.update")),d.xp6(1),d.Q6J("ngIf",!i.internal&&o.currentUser.hasPermission("roles.delete"))}}function Pr(e,t){if(1&e&&(d.TgZ(0,"aside",23),d.YNc(1,Jr,14,9,"div",24),d.ALo(2,"async"),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Q6J("ngForOf",d.lcZ(2,1,n.roles$))}}function Nr(e,t){if(1&e){var n=d.EpF();d.ynx(0,33),d.TgZ(1,"button",34),d.NdJ("click",function(){return d.CHM(n),d.oxw().showAssignUsersModal()}),d._uU(2," Assign Users "),d.qZA(),d.TgZ(3,"button",35),d.NdJ("click",function(){return d.CHM(n),d.oxw().maybeDetachUsers()}),d.ALo(4,"async"),d._uU(5," Unassign Users "),d.qZA(),d.BQk()}if(2&e){var i=d.oxw();d.xp6(1),d.Q6J("disabled",!i.canAssignUsers()),d.xp6(2),d.Q6J("disabled",!d.lcZ(4,2,i.datatable.selectedRows$).length)}}function Sr(e,t){if(1&e&&(d.TgZ(0,"tr"),d._UZ(1,"td",36),d.TgZ(2,"td",37),d._UZ(3,"user-column",38),d.qZA(),d.TgZ(4,"td",39),d._uU(5),d.qZA(),d.TgZ(6,"td",40),d._uU(7),d.qZA(),d.TgZ(8,"td",41),d._uU(9),d.ALo(10,"formattedDate"),d.qZA(),d.qZA()),2&e){var n=t.$implicit;d.xp6(1),d.Q6J("table-body-checkbox",n.id),d.xp6(2),d.Q6J("user",n),d.xp6(2),d.Oqu(n.first_name||"-"),d.xp6(2),d.Oqu(n.last_name||"-"),d.xp6(2),d.Oqu(d.lcZ(10,5,n.created_at))}}function Dr(e,t){1&e&&(d.TgZ(0,"no-results-message",44),d.TgZ(1,"span",45),d._uU(2,"This role can't be assigned to users."),d.qZA(),d.qZA())}function Qr(e,t){1&e&&(d.TgZ(0,"no-results-message",44),d.TgZ(1,"span",45),d._uU(2,"No users are assigned this role yet."),d.qZA(),d.qZA())}function Yr(e,t){if(1&e&&(d.YNc(0,Qr,3,0,"no-results-message",46),d.ALo(1,"async"),d.ALo(2,"async")),2&e){var n=d.oxw(2);d.Q6J("ngIf",d.lcZ(1,1,n.datatable.paginator.noResults$)&&!d.lcZ(2,3,n.datatable.paginator.loading$))}}function Lr(e,t){if(1&e&&(d.ynx(0),d.YNc(1,Dr,3,0,"no-results-message",42),d.YNc(2,Yr,3,5,"ng-template",null,43,d.W1O),d.BQk()),2&e){var n=t.ngIf,i=d.MAs(3);d.xp6(1),d.Q6J("ngIf",n.guests||"sitewide"!==n.type)("ngIfElse",i)}}function Er(e,t){1&e&&(d.TgZ(0,"no-results-message",44),d.TgZ(1,"span",45),d._uU(2,"No role selected."),d.qZA(),d.qZA())}var Fr=function(){var e=function(){function e(t,n,i,a,o,r){p(this,e),this.roleApi=t,this.toast=n,this.modal=i,this.currentUser=a,this.breakpoints=o,this.datatable=r,this.roles$=new v.X([]),this.users$=this.datatable.data$,this.selectedRole$=new v.X(new Ro)}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.refreshRoles().then(function(){var t;e.datatable.init({uri:ka.Q.BASE_URI,staticParams:{role_id:null===(t=e.selectedRole$.value)||void 0===t?void 0:t.id}})})}},{key:"selectRole",value:function(e){this.selectedRole$.value.id!==e.id&&(this.selectedRole$.next(e),this.refreshRoleUsers(e))}},{key:"refreshRoles",value:function(){var e=this;return new Promise(function(t){e.roleApi.getRoles().subscribe(function(n){if(e.roles$.next(n.pagination.data),e.roles$.value.length)if(e.selectedRole$.value.id){var i=e.roles$.value.find(function(t){return t.id===e.selectedRole$.value.id});i&&e.selectedRole$.next(i)}else e.selectRole(e.roles$.value[0]);t()})})}},{key:"refreshRoleUsers",value:function(e){this.datatable.reset("sitewide"!==e.type||e.guests?{role_id:999}:{role_id:e.id})}},{key:"showAssignUsersModal",value:function(){var e=this;this.modal.open(ar.y).afterClosed().subscribe(function(t){t&&e.roleApi.addUsers(e.selectedRole$.value.id,[t.id]).subscribe(function(){e.toast.open("User assigned to role"),e.refreshRoleUsers(e.selectedRole$.value)})})}},{key:"showCrupdateRoleModal",value:function(e){var t=this;this.modal.show(ir,{role:e}).afterClosed().subscribe(function(e){e&&t.refreshRoles()})}},{key:"maybeDeleteRole",value:function(e){var t=this;this.modal.open($o.z,{title:"Delete Role",body:"Are you sure you want to delete this role?",ok:"Delete"}).afterClosed().subscribe(function(n){n&&t.deleteRole(e)})}},{key:"deleteRole",value:function(e){var t=this;this.roleApi.delete(e.id).subscribe(function(){t.selectedRole$.next(new Ro),t.refreshRoles().then(function(){t.refreshRoleUsers(t.selectedRole$.value)})})}},{key:"maybeDetachUsers",value:function(){var e=this;this.modal.show($o.z,{title:"Remove users from role",body:"Are you sure you want to remove selected users from this role?",ok:"Remove"}).afterClosed().subscribe(function(t){t&&e.removeUsersFromSelectedRole()})}},{key:"removeUsersFromSelectedRole",value:function(){var e=this;this.roleApi.removeUsers(this.selectedRole$.value.id,this.datatable.selectedRows$.value).subscribe(function(){e.refreshRoleUsers(e.selectedRole$.value),e.datatable.selectedRows$.next([]),e.toast.open("Users removed from role.")})}},{key:"canAssignUsers",value:function(){return this.selectedRole$.value.id&&!this.datatable.selectedRows$.value.length&&!this.selectedRole$.value.guests}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(Ia),d.Y36(Ut.F),d.Y36(It.u),d.Y36(Aa.I),d.Y36(Gt.S),d.Y36(Zo.x))},e.\u0275cmp=d.Xpm({type:e,selectors:[["role-index"]],features:[d._Bn([Zo.x])],decls:30,vars:14,consts:[[1,"admin-pill-nav"],[1,"new-role"],["mat-flat-button","","color","accent","class","new-role-button","trans","",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["desktopNav",""],[1,"datatable","responsive-table"],["pluralResourceName","roles",3,"showSelectedActions"],["leftContent","",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","email","trans",""],["table-sort-header","","trans",""],["table-sort-header","created_at","trans",""],[4,"ngFor","ngForOf"],["noRoleSelected",""],["mat-flat-button","","color","accent","trans","",1,"new-role-button",3,"click"],[1,"no-style","admin-pill-nav-mobile-selector",3,"matMenuTriggerFor"],["trans","",1,"name"],["svgIcon","keyboard-arrow-down"],[1,"admin-pill-nav-menu"],["navMenu","matMenu"],["mat-menu-item","",3,"selected","click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[1,"admin-pill-nav","rounded"],["class","nav-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"nav-item",3,"click"],[1,"role-type"],[1,"actions"],["mat-icon-button","",3,"matMenuTriggerFor","click"],["svgIcon","settings"],["actionsMenu",""],["mat-menu-item","","trans","",3,"click",4,"ngIf"],["mat-menu-item","","trans","",3,"click"],["leftContent",""],["mat-raised-button","","color","accent","trans","",1,"assign-users-button",3,"disabled","click"],["mat-raised-button","","color","accent","trans","",3,"disabled","click"],[3,"table-body-checkbox"],[1,"mobile-no-label"],[3,"user"],["data-label","First Name"],["data-label","Last Name"],["data-label","Assigned At"],["svgImage","people.svg",4,"ngIf","ngIfElse"],["regularRole",""],["svgImage","people.svg"],["primary-text","","trans",""],["svgImage","people.svg",4,"ngIf"]],template:function(e,t){if(1&e&&(d.TgZ(0,"section",0),d.TgZ(1,"div",1),d.YNc(2,qr,2,0,"button",2),d.qZA(),d.YNc(3,Ir,10,7,"ng-container",3),d.ALo(4,"async"),d.YNc(5,Pr,3,3,"ng-template",null,4,d.W1O),d.qZA(),d.TgZ(7,"div",5),d.TgZ(8,"datatable-header",6),d.YNc(9,Nr,6,4,"ng-container",7),d.qZA(),d.TgZ(10,"table",8),d.TgZ(11,"thead"),d.TgZ(12,"tr"),d._UZ(13,"th",9),d.TgZ(14,"th",10),d._uU(15,"User"),d.qZA(),d.TgZ(16,"th",11),d._uU(17,"First Name"),d.qZA(),d.TgZ(18,"th",11),d._uU(19,"Last Name"),d.qZA(),d.TgZ(20,"th",12),d._uU(21,"Assigned At"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(22,"tbody"),d.YNc(23,Sr,11,7,"tr",13),d.ALo(24,"async"),d.qZA(),d.qZA(),d.YNc(25,Lr,4,2,"ng-container",3),d.ALo(26,"async"),d.YNc(27,Er,3,0,"ng-template",null,14,d.W1O),d._UZ(29,"datatable-footer"),d.qZA()),2&e){var n=d.MAs(6),i=d.MAs(28);d.xp6(2),d.Q6J("ngIf",t.currentUser.hasPermission("roles.create")),d.xp6(1),d.Q6J("ngIf",d.lcZ(4,8,t.breakpoints.isMobile$))("ngIfElse",n),d.xp6(5),d.Q6J("showSelectedActions",!1),d.xp6(1),d.Q6J("ngIf",t.currentUser.hasPermission("roles.update")),d.xp6(14),d.Q6J("ngForOf",d.lcZ(24,10,t.users$)),d.xp6(2),d.Q6J("ngIf",d.lcZ(26,12,t.selectedRole$))("ngIfElse",i)}},directives:[l.O5,Cr,To.e,Co.p,Nt.P,l.sg,qo.V,Z.lW,O.p6,F.Hw,O.VK,O.OP,Uo.O,Io.r,Mo.U],pipes:[l.Ov,En.l],styles:["[_nghost-%COMP%]{display:block}@media screen and (min-width:768px){[_nghost-%COMP%]{display:flex}.new-role[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default);margin-bottom:10px;padding-bottom:10px}}.datatable[_ngcontent-%COMP%]{flex:1 1 auto}.role-type[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--be-secondary-text)}@media screen and (max-width:768px){.admin-pill-nav[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;margin-bottom:20px}.admin-pill-nav-mobile-selector[_ngcontent-%COMP%]{margin-left:15px}.new-role-button[_ngcontent-%COMP%]{height:56px}}.assign-users-button[_ngcontent-%COMP%]{margin-right:5px}"],changeDetection:0}),e}(),Rr=o(70941);function $r(e,t){1&e&&(d.TgZ(0,"span",6),d._uU(1,"Update Localization"),d.qZA())}function Vr(e,t){1&e&&(d.TgZ(0,"span",6),d._uU(1,"Create Localization"),d.qZA())}function Br(e,t){if(1&e&&(d.TgZ(0,"div",18),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.name)}}function Hr(e,t){if(1&e&&(d.TgZ(0,"option",19),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.code),d.xp6(1),d.Oqu(n.name)}}function zr(e,t){1&e&&(d.TgZ(0,"span",6),d._uU(1,"Update"),d.qZA())}function Gr(e,t){1&e&&(d.TgZ(0,"span",6),d._uU(1,"Create"),d.qZA())}function jr(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",7),d.NdJ("ngSubmit",function(){return d.CHM(n),d.oxw().confirm()}),d.TgZ(1,"mat-dialog-content",8),d.TgZ(2,"div",9),d.TgZ(3,"label",10),d._uU(4,"Name"),d.qZA(),d._UZ(5,"input",11),d.YNc(6,Br,2,1,"div",12),d.qZA(),d.TgZ(7,"div",9),d.TgZ(8,"label",13),d._uU(9,"Language"),d.qZA(),d.TgZ(10,"select",14),d.YNc(11,Hr,2,2,"option",15),d.ALo(12,"async"),d.qZA(),d.qZA(),d.qZA(),d.TgZ(13,"mat-dialog-actions"),d.TgZ(14,"button",16),d.NdJ("click",function(){return d.CHM(n),d.oxw().close()}),d._uU(15,"Cancel"),d.qZA(),d.TgZ(16,"button",17),d.ALo(17,"async"),d.YNc(18,zr,2,0,"span",2),d.YNc(19,Gr,2,0,"span",2),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.Q6J("formGroup",a.form),d.xp6(6),d.Q6J("ngIf",i.name),d.xp6(5),d.Q6J("ngForOf",d.lcZ(12,6,a.languages$)),d.xp6(5),d.Q6J("disabled",d.lcZ(17,8,a.loading$)),d.xp6(2),d.Q6J("ngIf",a.data.localization),d.xp6(1),d.Q6J("ngIf",!a.data.localization)}}var Xr=function(){var e=function(){function e(t,n,i,a,o,r){p(this,e),this.fb=t,this.localizations=n,this.dialogRef=i,this.data=a,this.toast=o,this.lists=r,this.loading$=new v.X(!1),this.errors$=new v.X({}),this.languages$=new v.X([]),this.form=this.fb.group({name:[""],language:[""]})}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.lists.get(["languages"]).subscribe(function(t){e.languages$.next(t.languages)}),this.data.localization&&this.form.patchValue(this.data.localization.model)}},{key:"confirm",value:function(){var e=this;this.loading$.next(!0),(this.data.localization?this.updateLocalization():this.createNewLocalization()).pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.close(t.localization),e.toast.open("Localization "+(e.data.localization?"updated":"created"))},function(t){return e.errors$.next(t.errors)})}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"createNewLocalization",value:function(){return this.localizations.create(this.form.value)}},{key:"updateLocalization",value:function(){return this.localizations.update(this.data.localization.model.id,this.form.value)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(u.qu),d.Y36(Rr.v),d.Y36(k.so),d.Y36(k.WI),d.Y36(Ut.F),d.Y36(Ot.l))},e.\u0275cmp=d.Xpm({type:e,selectors:[["crupdate-localization-modal"]],decls:8,vars:5,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["class","modal-content","ngNativeValidate","",3,"formGroup","ngSubmit",4,"ngIf"],["trans",""],["ngNativeValidate","",1,"modal-content",3,"formGroup","ngSubmit"],[1,"many-inputs"],[1,"input-container"],["for","name","trans",""],["type","text","formControlName","name","id","name","pattern","[A-Za-z0-9_-]+","required",""],["class","error",4,"ngIf"],["for","language","trans",""],["id","language","formControlName","language"],["trans","",3,"value",4,"ngFor","ngForOf"],["mat-button","","type","button","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled"],[1,"error"],["trans","",3,"value"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h2",1),d.YNc(2,$r,2,0,"span",2),d.YNc(3,Vr,2,0,"span",2),d.qZA(),d.TgZ(4,"button",3),d.NdJ("click",function(){return t.close()}),d._UZ(5,"mat-icon",4),d.qZA(),d.qZA(),d.YNc(6,jr,20,10,"form",5),d.ALo(7,"async")),2&e&&(d.xp6(2),d.Q6J("ngIf",t.data.localization),d.xp6(1),d.Q6J("ngIf",!t.data.localization),d.xp6(3),d.Q6J("ngIf",d.lcZ(7,3,t.errors$)))},directives:[k.uh,l.O5,F.Hw,Nt.P,u.JL,u.sg,k.xY,u.Fj,u.JJ,u.u,u.c5,u.Q7,u.EJ,l.sg,k.H8,Z.lW,u.YN,u.Kr],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),e}(),Wr=o(98720),Kr=function(){var e=function(){function e(t){p(this,e),this.dialogRef=t,this.form=new u.cw({key:new u.NI,value:new u.NI})}return h(e,[{key:"confirm",value:function(){this.close(this.form.value)}},{key:"close",value:function(e){this.dialogRef.close(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(k.so))},e.\u0275cmp=d.Xpm({type:e,selectors:[["new-line-modal"]],decls:24,vars:1,consts:[[1,"modal-header"],["mat-dialog-title","","trans","",1,"mat-dialog-title"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",1,"modal-content",3,"formGroup","ngSubmit"],[1,"many-inputs"],[1,"input-container"],["for","translation-key","trans",""],["type","text","formControlName","key","name","translation-key","id","translation-key","required",""],["trans",""],["for","translation-value","trans",""],["type","text","formControlName","value","name","translation-value","id","translation-value","required",""],["mat-button","","type","button","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h2",1),d._uU(2,"Add New Translation Line"),d.qZA(),d.TgZ(3,"button",2),d.NdJ("click",function(){return t.close()}),d._UZ(4,"mat-icon",3),d.qZA(),d.qZA(),d.TgZ(5,"form",4),d.NdJ("ngSubmit",function(){return t.confirm()}),d.TgZ(6,"mat-dialog-content",5),d.TgZ(7,"div",6),d.TgZ(8,"label",7),d._uU(9,"Translation Key"),d.qZA(),d._UZ(10,"input",8),d.TgZ(11,"p",9),d._uU(12,"Word or sentence you want to translate."),d.qZA(),d.qZA(),d.TgZ(13,"div",6),d.TgZ(14,"label",10),d._uU(15,"Translation Value"),d.qZA(),d._UZ(16,"input",11),d.TgZ(17,"p",9),d._uU(18,"What word or sentence should be translated to."),d.qZA(),d.qZA(),d.qZA(),d.TgZ(19,"mat-dialog-actions"),d.TgZ(20,"button",12),d.NdJ("click",function(){return t.close()}),d._uU(21,"Cancel"),d.qZA(),d.TgZ(22,"button",13),d._uU(23,"Add"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(5),d.Q6J("formGroup",t.form))},directives:[k.uh,Nt.P,F.Hw,u.JL,u.sg,k.xY,u.Fj,u.JJ,u.u,u.Q7,k.H8,Z.lW],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),e}(),es=o(26437),ts=o(3950),ns=o(88798);function is(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",18),d.NdJ("click",function(){return d.CHM(n),d.oxw().showCrupdateLocalizationModal()}),d._UZ(1,"mat-icon",19),d.TgZ(2,"span",15),d._uU(3,"New Localization"),d.qZA(),d.qZA()}}function as(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",26),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(2).setSelectedLocalization(e)}),d._uU(1),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw(2);d.ekj("selected",(null==a.selectedLocalization?null:a.selectedLocalization.model.id)==i.model.id),d.xp6(1),d.Oqu(i.model.name)}}function os(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"button",20),d.TgZ(2,"span",21),d._uU(3),d.qZA(),d._UZ(4,"mat-icon",22),d.qZA(),d.TgZ(5,"mat-menu",23,24),d.YNc(7,as,2,3,"button",25),d.ALo(8,"async"),d.qZA(),d.BQk()),2&e){var n=d.MAs(6),i=d.oxw();d.xp6(1),d.Q6J("matMenuTriggerFor",n),d.xp6(2),d.Oqu(null==i.selectedLocalization?null:i.selectedLocalization.model.name),d.xp6(4),d.Q6J("ngForOf",d.lcZ(8,3,i.localizations$))}}function rs(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",35),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw(2).setDefaultLocalization(e)}),d._uU(1,"Set as Default"),d.qZA()}}function ss(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",35),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw(2).showCrupdateLocalizationModal(e)}),d._uU(1,"Update"),d.qZA()}}function ls(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",35),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw(2).confirmLocalizationDeletion(e)}),d._uU(1,"Delete"),d.qZA()}}function cs(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",28),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(2).setSelectedLocalization(e)}),d.TgZ(1,"div",29),d._uU(2),d.qZA(),d.TgZ(3,"div",30),d.TgZ(4,"button",31),d.NdJ("click",function(e){return e.stopPropagation()}),d._UZ(5,"mat-icon",32),d.qZA(),d.TgZ(6,"mat-menu",null,33),d.YNc(8,rs,2,0,"div",34),d.YNc(9,ss,2,0,"div",34),d.YNc(10,ls,2,0,"div",34),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit,a=d.MAs(7),o=d.oxw(2);d.ekj("selected",(null==o.selectedLocalization?null:o.selectedLocalization.model.id)==i.model.id),d.Q6J("@fadeIn",void 0),d.xp6(2),d.Oqu(i.model.name.replace("-"," ")),d.xp6(2),d.Q6J("matMenuTriggerFor",a),d.xp6(4),d.Q6J("ngIf",o.currentUser.hasPermission("settings.update")),d.xp6(1),d.Q6J("ngIf","English"!==i.name&&o.currentUser.hasPermission("localizations.update")),d.xp6(1),d.Q6J("ngIf","English"!==i.name&&o.currentUser.hasPermission("localizations.delete"))}}function us(e,t){1&e&&(d.TgZ(0,"div",37),d._UZ(1,"skeleton",38),d.qZA())}var ds=function(){return[1,2,3,4,5]};function ps(e,t){1&e&&(d.TgZ(0,"div"),d.YNc(1,us,2,0,"div",36),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngForOf",d.DdM(1,ds)))}function gs(e,t){if(1&e&&(d.YNc(0,cs,11,8,"div",27),d.ALo(1,"async"),d.YNc(2,ps,2,2,"div",16),d.ALo(3,"async")),2&e){var n=d.oxw();d.Q6J("ngForOf",d.lcZ(1,3,n.localizations$))("ngForTrackBy",n.trackByFn),d.xp6(2),d.Q6J("ngIf",d.lcZ(3,5,!n.selectedLocalization&&n.loading$))}}function hs(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",39),d.NdJ("click",function(){return d.CHM(n),d.oxw().updateLocalization()}),d.ALo(1,"async"),d._uU(2,"Update"),d.qZA()}if(2&e){var i=d.oxw();d.Q6J("disabled",d.lcZ(1,1,i.loading$))}}function fs(e,t){1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._UZ(2,"skeleton",40),d.qZA(),d.TgZ(3,"td"),d._UZ(4,"skeleton",40),d.qZA(),d.qZA())}var ms=function(){return[1,2,3,4,5,6,7,8,9,10]};function vs(e,t){1&e&&(d.ynx(0),d.YNc(1,fs,5,0,"tr",17),d.BQk()),2&e&&(d.xp6(1),d.Q6J("ngForOf",d.DdM(1,ms)))}function bs(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td",41),d._uU(2),d.qZA(),d.TgZ(3,"td",42),d.TgZ(4,"input",43),d.NdJ("ngModelChange",function(e){var t=d.CHM(n).$implicit;return d.oxw().selectedLocalization.lines[t.key]=e}),d.qZA(),d.qZA(),d.TgZ(5,"td",44),d.TgZ(6,"button",45),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw().removeLine(e)}),d.ALo(7,"trans"),d._UZ(8,"mat-icon",46),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw();d.Q6J("@fadeIn",void 0),d.xp6(2),d.Oqu(i.key),d.xp6(2),d.s9C("id",i.key),d.Q6J("ngModel",a.selectedLocalization.lines[i.key]),d.xp6(2),d.Q6J("matTooltip",d.lcZ(7,5,"Remove"))}}var _s=function(){var e=function(){function e(t,n,i,a,o,r,s,l){p(this,e),this.toast=t,this.modal=n,this.settings=i,this.i18n=a,this.route=o,this.currentUser=r,this.localizationsApi=s,this.breakpoints=l,this.loading$=new v.X(!1),this.loadingLines$=new v.X(!1),this.searchQuery=new u.NI,this.localizations$=new v.X([]),this.lines$=new v.X([]),this.trackByFn=function(e,t){return t.model.id}}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.loading$.next(!0),this.localizationsApi.all().pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.setLocalizations(t.localizations),e.bindSearchQuery()})}},{key:"setLocalizations",value:function(e){var t=this;this.localizations$.next(e);var n=e.find(function(e){return e.model.language===t.settings.get("i18n.default_localization")})||e[0];n&&this.setSelectedLocalization(n)}},{key:"setSelectedLocalization",value:function(e){var t,n=this;(null===(t=this.selectedLocalization)||void 0===t?void 0:t.model.id)!==e.model.id&&(this.selectedLocalization=e,this.searchQuery.setValue(null),e.lines?this.lines$.next(this.originalLines()):(this.selectedLocalization.lines={},this.loadingLines$.next(!0),this.localizationsApi.get(this.selectedLocalization.model.name).pipe((0,Ct.x)(function(){return n.loadingLines$.next(!1)})).subscribe(function(t){n.selectedLocalization=t.localization;var i=c(n.localizations$.value),a=i.findIndex(function(t){return t.model.id===e.model.id});i[a]=t.localization,n.localizations$.next(i),n.lines$.next(n.originalLines())})))}},{key:"addLine",value:function(){var e=this;this.modal.open(Kr).beforeClosed().subscribe(function(t){t&&(e.selectedLocalization.lines[t.key]=t.value,e.lines$.next(e.originalLines()))})}},{key:"setDefaultLocalization",value:function(e){var t=this;this.selectedLocalization.model.id||this.setSelectedLocalization(e),this.localizationsApi.setDefault(e.model).subscribe(function(){t.toast.open("Default Localization Changed")},function(){t.toast.open(xa.v.Default)})}},{key:"updateLocalization",value:function(){var e=this;this.loading$.next(!0),this.localizationsApi.update(this.selectedLocalization.model.id,this.selectedLocalization).pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(){e.toast.open("Localizations updated"),e.i18n.isActive(e.selectedLocalization.model)&&e.i18n.setLocalization(e.selectedLocalization)})}},{key:"showCrupdateLocalizationModal",value:function(e){var t=this;this.modal.show(Xr,{localization:e}).afterClosed().subscribe(function(n){if(n){var i=c(t.localizations$.value);e?i=i.map(function(e){return e.model.id===n.model.id?n:e}):(i.push(n),t.setSelectedLocalization(n)),t.localizations$.next(i)}})}},{key:"confirmLocalizationDeletion",value:function(e){var t=this;this.localizations$.value.length<2?this.toast.open("There must be at least one localization."):this.modal.open($o.z,{title:"Delete Localization",body:"Are you sure you want to delete this localization?",ok:"Delete"}).afterClosed().subscribe(function(n){n&&t.deleteLocalization(e)})}},{key:"deleteLocalization",value:function(e){var t=this;this.localizationsApi.delete(e.model.id).subscribe(function(){t.toast.open("Localization deleted");var n=c(t.localizations$.value);n.splice(n.indexOf(e),1),t.localizations$.next(n),t.selectedLocalization.model.id===e.model.id&&t.setSelectedLocalization(n[0])})}},{key:"bindSearchQuery",value:function(){var e=this;this.searchQuery.valueChanges.pipe((0,Wr.x)()).subscribe(function(t){var n=e.originalLines();e.lines$.next(t?n.filter(function(n){return e.filterPredicate(n,t)}):n)})}},{key:"filterPredicate",value:function(e,t){var n=Object.keys(e).reduce(function(t,n){return t+e[n]+"\u25ec"},"").toLowerCase(),i=t.trim().toLowerCase();return-1!=n.indexOf(i)}},{key:"linesToArray",value:function(e){var t=[];for(var n in e)t.push({key:n,translation:e[n]});return t}},{key:"originalLines",value:function(){return this.selectedLocalization.lines?this.linesToArray(this.selectedLocalization.lines):[]}},{key:"removeLine",value:function(e){delete this.selectedLocalization.lines[e.key],this.lines$.next(this.originalLines())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(Ut.F),d.Y36(It.u),d.Y36(pt.Z),d.Y36(ts.Z),d.Y36(f.gz),d.Y36(Aa.I),d.Y36(Rr.v),d.Y36(Gt.S))},e.\u0275cmp=d.Xpm({type:e,selectors:[["localization-index"]],decls:29,vars:13,consts:[[1,"admin-pill-nav"],[1,"new-localization"],["mat-button","",3,"click",4,"ngIf"],[4,"ngIf","ngIfElse"],["desktopNav",""],[1,"update-translations"],["mat-raised-button","","color","accent","trans","",3,"disabled","click",4,"ngIf"],[1,"datatable","responsive-table"],[1,"datatable-header","localizations-datatable-header"],["mat-raised-button","","color","accent","trans","",1,"new-translation-button",3,"click"],[1,"input-container","search-input-container"],["type","text","placeholder","Search Translations","trans-placeholder","",1,"search",3,"formControl"],["svgIcon","search"],[1,"material-table"],["trans","",1,"source-column"],["trans",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-button","",3,"click"],["svgIcon","add"],[1,"no-style","admin-pill-nav-mobile-selector",3,"matMenuTriggerFor"],["trans","",1,"name"],["svgIcon","keyboard-arrow-down"],[1,"admin-pill-nav-menu"],["navMenu","matMenu"],["mat-menu-item","",3,"selected","click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],["class","nav-item",3,"selected","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"nav-item",3,"click"],[1,"name"],[1,"actions"],["mat-icon-button","",3,"matMenuTriggerFor","click"],["svgIcon","settings",1,"size-22"],["actionsMenu",""],["mat-menu-item","","trans","",3,"click",4,"ngIf"],["mat-menu-item","","trans","",3,"click"],["class","nav-item skeleton-nav-item",4,"ngFor","ngForOf"],[1,"nav-item","skeleton-nav-item"],["variant","text"],["mat-raised-button","","color","accent","trans","",3,"disabled","click"],["variant","text",1,"table-skeleton"],[1,"mobile-no-label","source-column"],[1,"mobile-no-label"],["type","text",1,"translation-input",3,"id","ngModel","ngModelChange"],[1,"edit-column"],["type","button","mat-icon-button","",3,"matTooltip","click"],["svgIcon","close"]],template:function(e,t){if(1&e&&(d.TgZ(0,"aside",0),d.TgZ(1,"div",1),d.YNc(2,is,4,0,"button",2),d.qZA(),d.YNc(3,os,9,5,"ng-container",3),d.ALo(4,"async"),d.YNc(5,gs,4,7,"ng-template",null,4,d.W1O),d.TgZ(7,"div",5),d.YNc(8,hs,3,3,"button",6),d.qZA(),d.qZA(),d.TgZ(9,"div",7),d.TgZ(10,"div",8),d.TgZ(11,"button",9),d.NdJ("click",function(){return t.addLine()}),d._uU(12,"Add New Translation"),d.qZA(),d.TgZ(13,"div",10),d._UZ(14,"input",11),d._UZ(15,"mat-icon",12),d.qZA(),d.qZA(),d.TgZ(16,"table",13),d.TgZ(17,"thead"),d.TgZ(18,"tr"),d.TgZ(19,"th",14),d._uU(20,"Source Text"),d.qZA(),d.TgZ(21,"th",15),d._uU(22,"Translation"),d.qZA(),d._UZ(23,"th"),d.qZA(),d.qZA(),d.TgZ(24,"tbody"),d.YNc(25,vs,2,2,"ng-container",16),d.ALo(26,"async"),d.YNc(27,bs,9,7,"tr",17),d.ALo(28,"async"),d.qZA(),d.qZA(),d.qZA()),2&e){var n=d.MAs(6);d.xp6(2),d.Q6J("ngIf",t.currentUser.hasPermission("localizations.create")),d.xp6(1),d.Q6J("ngIf",d.lcZ(4,7,t.breakpoints.isMobile$))("ngIfElse",n),d.xp6(5),d.Q6J("ngIf",t.currentUser.hasPermission("localizations.update")),d.xp6(6),d.Q6J("formControl",t.searchQuery),d.xp6(11),d.Q6J("ngIf",d.lcZ(26,9,t.loadingLines$)),d.xp6(2),d.Q6J("ngForOf",d.lcZ(28,11,t.lines$))}},directives:[l.O5,Z.lW,Nt.P,u.Fj,u.JJ,u.oH,F.Hw,l.sg,O.p6,O.VK,O.OP,ns._,u.On,S.gM],pipes:[l.Ov,ft.R],styles:["[_nghost-%COMP%]{display:flex}  .localizations-datatable-header{display:flex;align-items:center;height:85px;padding:15px;border-bottom:1px solid transparent;position:relative}.search-input-container[_ngcontent-%COMP%]{margin-left:auto;max-width:300px;position:relative}.search-input-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px}.search-input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-left:1px}.datatable[_ngcontent-%COMP%]{flex:1 1 auto}.datatable[_ngcontent-%COMP%]   .translation-input[_ngcontent-%COMP%]{position:relative;z-index:1;min-height:40px;border:none;background-color:transparent;padding:0 10px;margin-left:1px;color:inherit;width:98%}.datatable[_ngcontent-%COMP%]   .translation-input[_ngcontent-%COMP%]:focus, .datatable[_ngcontent-%COMP%]   .translation-input[_ngcontent-%COMP%]:hover{outline:var(--be-accent-default) auto 1px}.datatable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:not(.edit-column){width:50%}.table-skeleton[_ngcontent-%COMP%]{vertical-align:middle;max-width:99%}.skeleton-nav-item[_ngcontent-%COMP%]{pointer-events:none}@media screen and (min-width:768px){.update-translations[_ngcontent-%COMP%]{margin-top:10px;padding-top:10px;border-top:1px solid var(--be-divider-default)}.new-localization[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default);margin-bottom:10px;padding-bottom:10px}}@media screen and (max-width:768px){[_nghost-%COMP%]{display:block}.admin-pill-nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;width:100%;margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid var(--be-divider-lighter);position:relative}.source-column[_ngcontent-%COMP%]{margin-left:10px}.new-localization[_ngcontent-%COMP%]{margin-bottom:5px}.update-translations[_ngcontent-%COMP%]{position:absolute;top:-5px;right:0}.datatable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:auto!important}}"],data:{animation:es.B},changeDetection:0}),e}(),Zs=o(340),ys=[new yo.XQ({type:yo.Bq.Select,key:"type",description:"Type of the file",defaultValue:"text",options:[{key:"Text",value:"text"},{key:"Audio",value:"audio"},{key:"Video",value:"video"},{key:"Image",value:"image"},{key:"PDF",value:"pdf"},{key:"Spreadsheet",value:"spreadsheet"},{key:"Word Document",value:"word"},{key:"Photoshop",value:"photoshop"},{key:"Archive",value:"archive"},{key:"Folder",value:"folder"}]}),new yo.XQ({type:yo.Bq.Select,key:"public",label:"status",defaultValue:!1,description:"Whether file is publicly accessible",options:[{key:"Private",value:!1},{key:"Public",value:!0}]}),new xo.T7({description:"Date file was uploaded"}),new xo.yH({description:"Date file was last changed"}),new yo.XQ({type:yo.Bq.SelectModel,key:"owner_id",label:"Uploader",description:"User that this file was uploaded by",component:ar.y})],xs=o(25079);function ks(e,t){1&e&&d._UZ(0,"mat-progress-bar",15)}function As(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",20),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).maybeDeleteSelectedEntries()}),d._uU(1," Delete "),d.qZA()}}var ws=function(e){return{count:e,resource:"file(s)"}};function Ts(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"th",16),d.TgZ(2,"div",17),d._uU(3," :count :resource selected: "),d.qZA(),d.TgZ(4,"div",18),d.YNc(5,As,2,0,"button",19),d.qZA(),d.qZA(),d.qZA()),2&e){var n=t.ngIf,i=d.oxw();d.xp6(2),d.Q6J("transValues",d.VKq(2,ws,n)),d.xp6(3),d.Q6J("ngIf",i.currentUser.hasPermission("files.delete"))}}function Cs(e,t){if(1&e&&(d.TgZ(0,"tr"),d._UZ(1,"td",21),d.TgZ(2,"td",22),d._uU(3),d.qZA(),d.TgZ(4,"td",23),d._uU(5),d.qZA(),d.TgZ(6,"td"),d._UZ(7,"user-column",24),d.qZA(),d.TgZ(8,"td",25),d._uU(9),d.qZA(),d.TgZ(10,"td",26),d._uU(11),d.qZA(),d.TgZ(12,"td",27),d._uU(13),d.ALo(14,"formattedFileSize"),d.qZA(),d.TgZ(15,"td"),d._uU(16),d.ALo(17,"formattedDate"),d.qZA(),d.qZA()),2&e){var n=t.$implicit;d.xp6(1),d.Q6J("table-body-checkbox",n.id),d.xp6(2),d.Oqu(n.name),d.xp6(2),d.Oqu(n.file_name),d.xp6(2),d.Q6J("user",n.users[0]),d.xp6(2),d.Oqu(n.type),d.xp6(2),d.Oqu(n.public?"Yes":"No"),d.xp6(2),d.hij(" ",n.file_size?d.lcZ(14,8,n.file_size):"-"," "),d.xp6(3),d.Oqu(d.lcZ(17,10,n.created_at))}}function qs(e,t){1&e&&(d.TgZ(0,"no-results-message",28),d.TgZ(1,"span",29),d._uU(2,"No files have been created yet"),d.qZA(),d.qZA())}var Us=function(){var e=function(){function e(t,n,i,a){p(this,e),this.currentUser=t,this.settings=n,this.uploads=i,this.datatable=a,this.files$=this.datatable.data$,this.filters=ys}return h(e,[{key:"ngOnInit",value:function(){this.datatable.init({uri:Zs.f.BASE_URI})}},{key:"maybeDeleteSelectedEntries",value:function(){var e=this;this.datatable.confirmResourceDeletion("files").subscribe(function(){e.uploads.delete({entryIds:e.datatable.selectedRows$.value,deleteForever:!0}).subscribe(function(){e.datatable.reset()})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(Aa.I),d.Y36(pt.Z),d.Y36(Zs.f),d.Y36(Zo.x))},e.\u0275cmp=d.Xpm({type:e,selectors:[["file-entry-index"]],features:[d._Bn([Zo.x])],decls:34,vars:11,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","files",3,"filters"],[1,"action-buttons"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["table-sort-header","user_id","trans",""],["table-sort-header","created_at","trans",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","file-searching.svg",4,"ngIf"],["mode","indeterminate","color","accent",1,"loading-bar"],["colspan","9"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["mat-raised-button","","color","warn","trans","",3,"click",4,"ngIf"],["mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],["data-label","Name"],["data-label","File Name"],[3,"user"],["data-label","Type"],["data-label","Public"],["data-label","File Size"],["svgImage","file-searching.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h1",1),d._uU(2,"Uploaded Files"),d.qZA(),d.TgZ(3,"div",2),d._UZ(4,"datatable-filters",3),d._UZ(5,"div",4),d.qZA(),d.qZA(),d.TgZ(6,"div",5),d.YNc(7,ks,1,0,"mat-progress-bar",6),d.ALo(8,"async"),d.TgZ(9,"table",7),d.TgZ(10,"thead"),d.TgZ(11,"tr"),d._UZ(12,"th",8),d.TgZ(13,"th",9),d._uU(14,"Name"),d.qZA(),d.TgZ(15,"th",9),d._uU(16,"File Name"),d.qZA(),d.TgZ(17,"th",10),d._uU(18,"Owner"),d.qZA(),d.TgZ(19,"th",9),d._uU(20,"Type"),d.qZA(),d.TgZ(21,"th",9),d._uU(22,"Public"),d.qZA(),d.TgZ(23,"th",9),d._uU(24,"File Size"),d.qZA(),d.TgZ(25,"th",11),d._uU(26,"Uploaded At"),d.qZA(),d.qZA(),d.YNc(27,Ts,6,4,"tr",12),d.qZA(),d.TgZ(28,"tbody"),d.YNc(29,Cs,18,12,"tr",13),d.ALo(30,"async"),d.qZA(),d.qZA(),d.YNc(31,qs,3,0,"no-results-message",14),d.ALo(32,"async"),d._UZ(33,"datatable-footer"),d.qZA()),2&e&&(d.xp6(4),d.Q6J("filters",t.filters),d.xp6(3),d.Q6J("ngIf",d.lcZ(8,5,t.datatable.paginator&&t.datatable.paginator.loading$)),d.xp6(20),d.Q6J("ngIf",t.datatable.selectedRows$.value.length),d.xp6(2),d.Q6J("ngForOf",d.lcZ(30,7,t.files$)),d.xp6(2),d.Q6J("ngIf",d.lcZ(32,9,t.datatable.paginator.noResults$)))},directives:[Nt.P,wo.h,l.O5,To.e,Co.p,l.sg,qo.V,J.pW,Z.lW,Uo.O,Io.r,Mo.U],pipes:[l.Ov,xs.y,En.l],styles:[".title[_ngcontent-%COMP%]{font-size:1.8rem;color:var(--be-secondary-text);margin-left:15px}"],changeDetection:0}),e}(),Is=function(){var e=function(){function e(t,n){p(this,e),this.data=t,this.overlayPanelRef=n}return h(e,[{key:"close",value:function(){this.overlayPanelRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(rr.p,8),d.Y36(sr.L))},e.\u0275cmp=d.Xpm({type:e,selectors:[["image-zoom-overlay"]],hostVars:1,hostBindings:function(e,t){2&e&&d.d8E("@dialogContainer","enter")},decls:3,vars:2,consts:[[3,"src","alt"],["mat-mini-fab","","color","accent",1,"close-button",3,"click"],["svgIcon","close"]],template:function(e,t){1&e&&(d._UZ(0,"img",0),d.TgZ(1,"button",1),d.NdJ("click",function(){return t.close()}),d._UZ(2,"mat-icon",2),d.qZA()),2&e&&d.Q6J("src",t.data.src,d.LSH)("alt",t.data.alt)},directives:[Z.lW,F.Hw],styles:[".image-zoom-overlay-container{margin:auto;top:0;left:0;right:0;bottom:0;max-width:calc(100% - 65px);max-height:calc(100% - 65px)}image-zoom-overlay{display:block;width:100%;height:100%;position:relative;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}image-zoom-overlay img{max-height:100%;max-width:100%;border-radius:4px;overflow:hidden;-o-object-fit:cover;object-fit:cover}image-zoom-overlay .close-button{position:absolute;top:-15px;right:-15px}"],encapsulation:2,data:{animation:[k.Nv.dialogContainer]},changeDetection:0}),e}(),Ms=function(){var e=function(){function e(t){p(this,e),this.overlay=t}return h(e,[{key:"zoomImage",value:function(){this.overlay.open(Is,{position:"center",origin:"global",data:{src:this.src,alt:this.alt},panelClass:"image-zoom-overlay-container"})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(dr.T))},e.\u0275cmp=d.Xpm({type:e,selectors:[["image-zoom"]],inputs:{src:"src",alt:"alt"},decls:1,vars:2,consts:[[3,"src","alt","click"]],template:function(e,t){1&e&&(d.TgZ(0,"img",0),d.NdJ("click",function(){return t.zoomImage()}),d.qZA()),2&e&&d.Q6J("src",t.src,d.LSH)("alt",t.alt)},styles:["[_nghost-%COMP%]{display:inline-block;border-radius:4px;overflow:hidden;cursor:zoom-in}img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;-o-object-fit:cover;object-fit:cover}"],changeDetection:0}),e}();function Os(e,t){if(1&e&&(d.TgZ(0,"div",8),d.TgZ(1,"div",9),d.TgZ(2,"label",10),d._uU(3),d.qZA(),d._UZ(4,"textarea",11),d.qZA(),d._UZ(5,"image-zoom",12),d.qZA()),2&e){var n=t.$implicit,i=d.oxw();d.xp6(2),d.Q6J("for",n.slot),d.xp6(1),d.Oqu(n.description),d.xp6(1),d.Q6J("name",n.slot)("id",n.slot)("formControlName",n.slot),d.xp6(1),d.Q6J("src",i.getPreviewUrl(n))}}function Js(e,t){1&e&&d._UZ(0,"mat-progress-bar",13)}var Ps=function(){var e=function(){function e(t,n,i){p(this,e),this.settings=t,this.toast=n,this.fb=i,this.loading$=new v.X(!1),this.form=this.fb.group({"ads.disable":[!1]})}return h(e,[{key:"ngOnInit",value:function(){this.hydrate()}},{key:"saveAds",value:function(){var e=this;this.loading$.next(!0),this.settings.save({client:this.form.value}).pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(){e.toast.open("Ads updated")},function(){e.toast.open(xa.v.Default)})}},{key:"allAds",value:function(){return this.settings.get("vebto.admin.ads",[])}},{key:"getPreviewUrl",value:function(e){return"client/assets/images/verts/".concat(e.slot.replace(/\./g,"-").replace("ads-",""),".png")}},{key:"hydrate",value:function(){var e=this,t=this.settings.getFlat()||{};this.form.patchValue({"ads.disable":t["ads.disable"]}),this.allAds().forEach(function(n){e.form.addControl(n.slot,e.fb.control(t[n.slot]))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(pt.Z),d.Y36(Ut.F),d.Y36(u.qu))},e.\u0275cmp=d.Xpm({type:e,selectors:[["ads-page"]],decls:14,vars:8,consts:[["ngNativeValidate","",1,"panel",3,"formGroup","ngSubmit"],["trans","",1,"header"],["class","vert-row",4,"ngFor","ngForOf"],[1,"setting-toggle-container","margin-top","margin-bottom"],["name","ads.disable","id","ads.disable","formControlName","ads.disable","trans",""],["trans",""],["type","submit","mat-raised-button","","color","accent","trans","",1,"save-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],[1,"vert-row"],[1,"input-container"],["trans","",3,"for"],[3,"name","id","formControlName"],[3,"src"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"form",0),d.NdJ("ngSubmit",function(){return t.saveAds()}),d.TgZ(1,"div",1),d._uU(2,"Predefined AD Slots"),d.qZA(),d.YNc(3,Os,6,6,"div",2),d.TgZ(4,"div",3),d.TgZ(5,"mat-slide-toggle",4),d._uU(6,"Disable Ads"),d.qZA(),d.TgZ(7,"p",5),d._uU(8,"Disable all ad related functionality."),d.qZA(),d.qZA(),d.TgZ(9,"button",6),d.ALo(10,"async"),d._uU(11,"Save"),d.qZA(),d.YNc(12,Js,1,0,"mat-progress-bar",7),d.ALo(13,"async"),d.qZA()),2&e&&(d.Q6J("formGroup",t.form),d.xp6(3),d.Q6J("ngForOf",t.allAds()),d.xp6(6),d.Q6J("disabled",d.lcZ(10,4,t.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(13,6,t.loading$)))},directives:[u.JL,u.sg,Nt.P,l.sg,P.Rr,u.JJ,u.u,Z.lW,l.O5,u.Fj,Ms,J.pW],pipes:[l.Ov],styles:[".panel[_ngcontent-%COMP%]{border:1px solid var(--be-divider-default);box-shadow:none;border-radius:4px;background-color:var(--be-background)}.header[_ngcontent-%COMP%]{background-color:var(--be-background-alternative);border-bottom:1px solid var(--be-divider-lighter);padding:15px;font-weight:500;color:#555}.header[_ngcontent-%COMP%], .vert-row[_ngcontent-%COMP%]{margin-bottom:25px}.vert-row[_ngcontent-%COMP%]{display:flex;align-items:flex-end;padding-left:25px;padding-right:25px}image-zoom[_ngcontent-%COMP%]{margin-left:25px;border:1px solid var(--be-divider-default);height:150px}.input-container[_ngcontent-%COMP%]{max-width:750px}textarea[_ngcontent-%COMP%]{display:block;height:150px}label[_ngcontent-%COMP%]:empty{display:none}.setting-toggle-container[_ngcontent-%COMP%]{margin-left:15px}.save-button[_ngcontent-%COMP%]{margin:0 0 30px 15px}@media only screen and (max-width:768px){.vert-row[_ngcontent-%COMP%]{display:block;border-bottom:1px solid var(--be-divider-lighter);margin-bottom:30px;padding-bottom:25px}image-zoom[_ngcontent-%COMP%]{margin-left:0;margin-top:15px}}"],changeDetection:0}),e}(),Ns=o(33427);function Ss(e,t){1&e&&(d.TgZ(0,"h2",6),d._uU(1,"Update Plan Details"),d.qZA())}function Ds(e,t){1&e&&(d.TgZ(0,"h2",6),d._uU(1,"Create a New Plan"),d.qZA())}function Qs(e,t){if(1&e&&(d.TgZ(0,"div",23),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.name)}}function Ys(e,t){if(1&e&&(d.TgZ(0,"option",24),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("ngValue",n.id),d.xp6(1),d.Oqu(n.name)}}function Ls(e,t){if(1&e&&(d.TgZ(0,"div",23),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.parent_id)}}function Es(e,t){1&e&&(d.ynx(0),d.TgZ(1,"p",17),d._uU(2,"How much subscribers of this plan should be charged. (Dollars, euros etc.)"),d.qZA(),d.TgZ(3,"p",17),d._uU(4,"For example, Amount=100, Interval=Year and Interval Count=1, will charge user 100 dollars every year."),d.qZA(),d.BQk())}function Fs(e,t){1&e&&(d.TgZ(0,"p",17),d._uU(1,"Plan amount can't be changed once plan has already been created, however you can add a new child plan with a different price or delete this plan and create a new one."),d.qZA())}function Rs(e,t){if(1&e&&(d.TgZ(0,"div",23),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(1),d.Oqu(n.amount)}}function $s(e,t){if(1&e&&(d.TgZ(0,"option",24),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("ngValue",n.code),d.xp6(1),d.AsE("",n.code," - ",n.name,"")}}function Vs(e,t){if(1&e&&(d.TgZ(0,"div",23),d._uU(1),d.qZA()),2&e){var n=d.oxw(3).ngIf;d.xp6(1),d.Oqu(n.currency)}}function Bs(e,t){if(1&e&&(d.TgZ(0,"div",9),d.TgZ(1,"label",30),d._uU(2,"Currency"),d.qZA(),d.TgZ(3,"select",31),d.YNc(4,$s,2,3,"option",16),d.ALo(5,"async"),d.qZA(),d.YNc(6,Vs,2,1,"div",12),d.qZA()),2&e){var n=d.oxw(2).ngIf,i=d.oxw();d.xp6(4),d.Q6J("ngForOf",d.lcZ(5,2,i.currencies$)),d.xp6(2),d.Q6J("ngIf",n.currency)}}function Hs(e,t){if(1&e&&(d.TgZ(0,"option",24),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("ngValue",n),d.xp6(1),d.Oqu(n)}}function zs(e,t){if(1&e&&(d.TgZ(0,"div",23),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(1),d.Oqu(n.interval)}}function Gs(e,t){if(1&e&&(d.TgZ(0,"div",23),d._uU(1),d.qZA()),2&e){var n=d.oxw(3).ngIf;d.xp6(1),d.Oqu(n.interval_count)}}function js(e,t){if(1&e&&(d.TgZ(0,"div",9),d.TgZ(1,"label",32),d._uU(2,"Interval Count"),d.qZA(),d._UZ(3,"input",33),d.TgZ(4,"p",17),d._uU(5,"The number of intervals (specified in the interval property above) between each subscription billing. For example, Interval=Month and Interval Count=3 bills every 3 months."),d.qZA(),d.YNc(6,Gs,2,1,"div",12),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(6),d.Q6J("ngIf",n.interval_count)}}function Xs(e,t){if(1&e&&(d.ynx(0),d.TgZ(1,"div",9),d.TgZ(2,"label",25),d._uU(3,"Amount"),d.qZA(),d._UZ(4,"input",26),d.YNc(5,Es,5,0,"ng-container",18),d.YNc(6,Fs,2,0,"p",22),d.YNc(7,Rs,2,1,"div",12),d.qZA(),d.YNc(8,Bs,7,4,"div",27),d.TgZ(9,"div",9),d.TgZ(10,"label",28),d._uU(11,"Interval"),d.qZA(),d.TgZ(12,"select",29),d.YNc(13,Hs,2,2,"option",16),d.qZA(),d.TgZ(14,"p",17),d._uU(15,"The frequency with which a subscription should be billed."),d.qZA(),d.YNc(16,zs,2,1,"div",12),d.qZA(),d.YNc(17,js,7,1,"div",27),d.BQk()),2&e){var n=d.oxw().ngIf,i=d.oxw();d.xp6(4),d.Q6J("min",i.getMinAmount())("max",i.getMaxAmount()),d.xp6(1),d.Q6J("ngIf",!i.data.plan),d.xp6(1),d.Q6J("ngIf",i.data.plan),d.xp6(1),d.Q6J("ngIf",n.amount),d.xp6(1),d.Q6J("ngIf",!i.formValue().parent_id),d.xp6(5),d.Q6J("ngForOf",i.intervals),d.xp6(3),d.Q6J("ngIf",n.interval),d.xp6(1),d.Q6J("ngIf","year"!==i.formValue().interval)}}function Ws(e,t){if(1&e&&(d.TgZ(0,"div",23),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(1),d.Oqu(n.position)}}function Ks(e,t){1&e&&(d.TgZ(0,"div",36),d.TgZ(1,"mat-slide-toggle",53),d._uU(2,"Free"),d.qZA(),d.TgZ(3,"p",17),d._uU(4,"Basic free plan that will be assigned to new users that have not upgraded to other plans."),d.qZA(),d.qZA())}function el(e,t){if(1&e&&(d.TgZ(0,"div",23),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(1),d.Oqu(null==n?null:n.permissions)}}function tl(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"li",54),d.TgZ(1,"button",55),d._UZ(2,"mat-icon",56),d.qZA(),d.TgZ(3,"div",57),d._uU(4),d.qZA(),d.TgZ(5,"button",58),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw(3).removeFeature(e)}),d._UZ(6,"mat-icon",59),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit;d.uIk("data-id",i.id),d.xp6(4),d.Oqu(i.content)}}function nl(e,t){1&e&&(d.TgZ(0,"p",17),d._uU(1,"No custom features yet."),d.qZA())}function il(e,t){if(1&e&&(d.TgZ(0,"div",23),d._uU(1),d.qZA()),2&e){var n=d.oxw(2).ngIf;d.xp6(1),d.Oqu(n.available_space)}}function al(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",9),d.TgZ(2,"label",34),d._uU(3,"Position"),d.qZA(),d.TgZ(4,"select",35),d.TgZ(5,"option",24),d._uU(6,"1"),d.qZA(),d.TgZ(7,"option",24),d._uU(8,"2"),d.qZA(),d.TgZ(9,"option",24),d._uU(10,"3"),d.qZA(),d.TgZ(11,"option",24),d._uU(12,"4"),d.qZA(),d.TgZ(13,"option",24),d._uU(14,"5"),d.qZA(),d.TgZ(15,"option",24),d._uU(16,"6"),d.qZA(),d.TgZ(17,"option",24),d._uU(18,"7"),d.qZA(),d.TgZ(19,"option",24),d._uU(20,"8"),d.qZA(),d.qZA(),d.TgZ(21,"p",17),d._uU(22,"Order of plans. Lower position will appear first."),d.qZA(),d.YNc(23,Ws,2,1,"div",12),d.qZA(),d.TgZ(24,"div",36),d.TgZ(25,"mat-slide-toggle",37),d._uU(26,"Recommended"),d.qZA(),d.TgZ(27,"p",17),d._uU(28,'Plan will be marked as "Most Popular" and emphasized to users.'),d.qZA(),d.qZA(),d.YNc(29,Ks,5,0,"div",38),d.TgZ(30,"div",36),d.TgZ(31,"mat-slide-toggle",39),d._uU(32,"Show Permissions"),d.qZA(),d.TgZ(33,"p",17),d._uU(34,"Whether plan permissions should be displayed as features to users."),d.qZA(),d.qZA(),d.TgZ(35,"div",36),d.TgZ(36,"mat-slide-toggle",40),d._uU(37,"Hidden"),d.qZA(),d.TgZ(38,"p",17),d._uU(39,"Whether this plan should be hidden on upgrade and pricing pages."),d.qZA(),d.qZA(),d._UZ(40,"permission-manager",41),d.YNc(41,el,2,1,"div",12),d.TgZ(42,"div",42),d.TgZ(43,"div",43),d._uU(44,"Custom Features"),d.qZA(),d.TgZ(45,"ul",44),d.NdJ("cdkDropListDropped",function(e){return d.CHM(n),d.oxw(2).reorderPlanFeatures(e)}),d.YNc(46,tl,7,2,"li",45),d.ALo(47,"async"),d.qZA(),d.YNc(48,nl,2,0,"p",22),d.ALo(49,"async"),d.TgZ(50,"form",46),d.NdJ("ngSubmit",function(){return d.CHM(n),d.oxw(2).addFeature()}),d.TgZ(51,"div",9),d.TgZ(52,"div",47),d.TgZ(53,"input",48),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).newFeature=e}),d.qZA(),d.TgZ(54,"button",49),d._uU(55,"Add"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(56,"div",50),d.TgZ(57,"div",43),d._uU(58,"Available Space"),d.qZA(),d.TgZ(59,"space-input",51),d.TgZ(60,"p",52),d._uU(61,"Hard drive space available to users subscribed to this plan."),d.qZA(),d.YNc(62,il,2,1,"div",12),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw().ngIf,a=d.oxw();d.xp6(5),d.Q6J("ngValue",1),d.xp6(2),d.Q6J("ngValue",2),d.xp6(2),d.Q6J("ngValue",3),d.xp6(2),d.Q6J("ngValue",4),d.xp6(2),d.Q6J("ngValue",5),d.xp6(2),d.Q6J("ngValue",6),d.xp6(2),d.Q6J("ngValue",7),d.xp6(2),d.Q6J("ngValue",8),d.xp6(4),d.Q6J("ngIf",i.position),d.xp6(6),d.Q6J("ngIf",!a.data.plan||a.data.plan.free),d.xp6(12),d.Q6J("ngIf",null==i?null:i.permissions),d.xp6(5),d.Q6J("ngForOf",d.lcZ(47,15,a.features$)),d.xp6(2),d.Q6J("ngIf",!d.lcZ(49,17,a.features$).length),d.xp6(5),d.Q6J("ngModel",a.newFeature),d.xp6(9),d.Q6J("ngIf",i.available_space)}}function ol(e,t){1&e&&(d.TgZ(0,"span",17),d._uU(1,"Update Plan"),d.qZA())}function rl(e,t){1&e&&(d.TgZ(0,"span",17),d._uU(1,"Create Plan"),d.qZA())}function sl(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",7),d.NdJ("ngSubmit",function(){return d.CHM(n),d.oxw().confirm()}),d.TgZ(1,"div",8),d.TgZ(2,"div",9),d.TgZ(3,"label",10),d._uU(4,"Name"),d.qZA(),d._UZ(5,"input",11),d.YNc(6,Qs,2,1,"div",12),d.qZA(),d.TgZ(7,"div",9),d.TgZ(8,"label",13),d._uU(9,"Parent Plan"),d.qZA(),d.TgZ(10,"select",14),d.TgZ(11,"option",15),d._uU(12,"None"),d.qZA(),d.YNc(13,Ys,2,2,"option",16),d.qZA(),d.TgZ(14,"p",17),d._uU(15,"Used for creating yearly, weekly etc versions of base plan. Child plans will inherit their parent permissions/features."),d.qZA(),d.YNc(16,Ls,2,1,"div",12),d.qZA(),d.YNc(17,Xs,18,9,"ng-container",18),d.YNc(18,al,63,19,"ng-container",18),d.qZA(),d.TgZ(19,"div",19),d.TgZ(20,"button",20),d.NdJ("click",function(){return d.CHM(n),d.oxw().close()}),d._uU(21,"Cancel"),d.qZA(),d.TgZ(22,"button",21),d.ALo(23,"async"),d.YNc(24,ol,2,0,"span",22),d.YNc(25,rl,2,0,"span",22),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.Q6J("formGroup",a.form),d.xp6(6),d.Q6J("ngIf",i.name),d.xp6(5),d.Q6J("ngValue",null),d.xp6(2),d.Q6J("ngForOf",a.getBasePlans(a.data.plan)),d.xp6(3),d.Q6J("ngIf",i.parent_id),d.xp6(1),d.Q6J("ngIf",!a.formValue().free),d.xp6(1),d.Q6J("ngIf",!a.formValue().parent_id),d.xp6(4),d.Q6J("disabled",d.lcZ(23,10,a.loading$)),d.xp6(2),d.Q6J("ngIf",a.data.plan),d.xp6(1),d.Q6J("ngIf",!a.data.plan)}}var ll=function(){var e=function(){function e(t,n,i,a,o,r){p(this,e),this.dialogRef=t,this.data=n,this.plans=i,this.toast=a,this.valueLists=o,this.fb=r,this.loading$=new v.X(!1),this.features$=new v.X([]),this.errors$=new v.X({}),this.currencies$=new v.X([]),this.intervals=["day","week","month","year"],this.allPlans$=new v.X([]),this.form=this.fb.group({name:[""],parent_id:[],free:[!1],hidden:[!1],recommended:[!1],show_permissions:[!1],amount:[],currency:[],interval:[],interval_count:[],position:[],available_space:[],permissions:[[]]})}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.resetState(),this.allPlans$.next(this.data.plans||[]),this.valueLists.get(["currencies"]).subscribe(function(t){e.currencies$.next(Object.values(t.currencies))}),this.data.plan&&this.hydrateModel(this.data.plan)}},{key:"confirm",value:function(){var e=this;this.loading$.next(!0),(this.data.plan?this.plans.update(this.data.plan.id,this.getPayload()):this.plans.create(this.getPayload())).pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.close(t.plan),e.toast.open("Plan has been "+(e.data.plan?"updated":"created"))},function(t){e.errors$.next(t.errors)})}},{key:"getPayload",value:function(){var e=Object.assign({},this.form.getRawValue());e.features=this.features$.value.map(function(e){return e.content});var t=this.currencies$.value.find(function(t){return t.code===e.currency});return e.currency_symbol=t.symbol,"year"===e.interval&&(e.interval_count=1),e}},{key:"close",value:function(e){this.resetState(),this.dialogRef.close(e)}},{key:"addFeature",value:function(){var e=this;!(this.features$.value.findIndex(function(t){return t.content===e.newFeature})>-1)&&this.newFeature&&(this.features$.next([].concat(c(this.features$.value),[{content:this.newFeature,id:(0,Pi.O)(5)}])),this.newFeature=null)}},{key:"removeFeature",value:function(e){var t=this.features$.value.filter(function(t){return t.id!==e.id});this.features$.next(t)}},{key:"getBasePlans",value:function(e){return this.allPlans$.value.filter(function(t){return!(t.parent_id||t.free||e&&e.id===t.id)})}},{key:"hydrateModel",value:function(e){this.form.patchValue(e);var t=e.features.map(function(e){return{content:e,id:(0,Pi.O)(5)}});this.form.get("amount").disable(),this.features$.next(t)}},{key:"resetState",value:function(){this.form.reset({currency:"USD",interval:"month",interval_count:1,position:1,permissions:[],free:!1,recommended:!1,show_permissions:!1}),this.features$.next([]),this.errors$.next({})}},{key:"reorderPlanFeatures",value:function(e){var t=c(this.features$.value);(0,ut.bA)(t,e.previousIndex,e.currentIndex),this.features$.next(t)}},{key:"formValue",value:function(){return this.form.value}},{key:"getMinAmount",value:function(){return this.form.get("parent_id").value?1:0}},{key:"getMaxAmount",value:function(){return null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(k.so),d.Y36(k.WI),d.Y36(Ns.o),d.Y36(Ut.F),d.Y36(Ot.l),d.Y36(u.qu))},e.\u0275cmp=d.Xpm({type:e,selectors:[["crupdate-plan-modal"]],decls:9,vars:8,consts:[[1,"modal-header"],["class","modal-title","mat-dialog-title","","trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["autocomplete","off","ngNativeValidate","",3,"formGroup","ngSubmit",4,"ngIf"],[1,"overlay",3,"isVisible"],["mat-dialog-title","","trans","",1,"modal-title"],["autocomplete","off","ngNativeValidate","",3,"formGroup","ngSubmit"],["mat-dialog-content","",1,"many-inputs","mat-dialog-content"],[1,"input-container"],["for","plan-modal-name","trans",""],["type","text","id","plan-modal-name","formControlName","name","required",""],["class","error",4,"ngIf"],["for","parent_id","trans",""],["id","parent_id","formControlName","parent_id","required",""],["trans","",3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["trans",""],[4,"ngIf"],["mat-dialog-actions","",1,"buttons","right","mat-dialog-actions"],["type","button","mat-button","","trans","",1,"button","cancel",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary",3,"disabled"],["trans","",4,"ngIf"],[1,"error"],[3,"ngValue"],["for","amount","trans",""],["type","number","step","0.01","id","amount","formControlName","amount","required","",3,"min","max"],["class","input-container",4,"ngIf"],["for","interval","trans",""],["id","interval","formControlName","interval","required","",1,"interval-select"],["for","currency","trans",""],["id","currency","formControlName","currency","required",""],["for","interval_count","trans",""],["type","number","id","interval_count","formControlName","interval_count","required","","min","1","max","12"],["for","position","trans",""],["type","text","id","position","formControlName","position","required",""],[1,"setting-toggle-container"],["id","recommended","formControlName","recommended","trans",""],["class","setting-toggle-container",4,"ngIf"],["id","show_permissions","formControlName","show_permissions","trans",""],["id","plan-modal-hidden","formControlName","hidden","trans",""],["formControlName","permissions"],[1,"plan-features"],["trans","",1,"section-title"],["cdkDropList","",1,"unstyled-list","feature-list",3,"cdkDropListDropped"],["class","feature-list-item","cdkDrag","",4,"ngFor","ngForOf"],["ngNativeValidate","",3,"ngSubmit"],[1,"input-with-action"],["type","text","name","new-feature","placeholder","+New Feature","trans-placeholder","","autocomplete","false","required","",3,"ngModel","ngModelChange"],["type","submit","mat-flat-button","","color","accent","trans",""],[1,"available-space"],["formControlName","available_space"],["trans","",1,"description"],["id","free","formControlName","free","trans",""],["cdkDrag","",1,"feature-list-item"],["cdkDragHandle","","mat-icon-button","",1,"drag-handle"],["svgIcon","drag-handle","matListIcon",""],[1,"text"],["mat-icon-button","",1,"delete-button",3,"click"],["svgIcon","delete","matListIcon",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.YNc(1,Ss,2,0,"h2",1),d.YNc(2,Ds,2,0,"h2",1),d.TgZ(3,"button",2),d.NdJ("click",function(){return t.close()}),d._UZ(4,"mat-icon",3),d.qZA(),d.qZA(),d.YNc(5,sl,26,12,"form",4),d.ALo(6,"async"),d._UZ(7,"loading-indicator",5),d.ALo(8,"async")),2&e&&(d.xp6(1),d.Q6J("ngIf",t.data.plan),d.xp6(1),d.Q6J("ngIf",!t.data.plan),d.xp6(3),d.Q6J("ngIf",d.lcZ(6,4,t.errors$)),d.xp6(2),d.Q6J("isVisible",d.lcZ(8,6,t.loading$)))},directives:[l.O5,F.Hw,Qa.Q,k.uh,Nt.P,u.JL,u.sg,k.xY,u.Fj,u.JJ,u.u,u.Q7,u.EJ,u.YN,u.Kr,l.sg,k.H8,Z.lW,u.wV,u.qQ,u.Fd,P.Rr,eo,ut.Wj,u.F,u.On,Ri,ut.Zt,ut.Bh],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}.section-title[_ngcontent-%COMP%]{font-weight:500;border-bottom:1px solid var(--be-divider-default);padding-bottom:5px;margin-bottom:5px}.feature-list-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 0;font-size:1.6rem}.feature-list-item[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:0 10px;white-space:nowrap;text-overflow:ellipsis}.feature-list-item[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{color:#f44336;margin-left:auto}.feature-list-item[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{cursor:move}.plan-features[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:20px;border-bottom:1px solid var(--be-divider-default)}.interval-select[_ngcontent-%COMP%]{text-transform:capitalize}.available-space[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{border-bottom:none}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%], .cdk-drop-list-dragging[_ngcontent-%COMP%]   .cdk-drag[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}"],changeDetection:0}),e}(),cl=[new yo.XQ({type:yo.Bq.Select,key:"parent_id",label:"Type",description:"Whether plan is a child or not",defaultValue:null,options:[{key:"Any",value:null},{key:"Child",value:{value:null,operator:"!="}},{key:"Parent",value:{value:null,operator:"="}}]}),new yo.XQ({type:yo.Bq.Select,key:"currency",description:"Currency assigned to the plan",defaultValue:"USD",options:[{key:"USD",value:"USD"},{key:"EUR",value:"EUR"},{key:"Pound Sterling",value:"GBP"},{key:"Canadian Dollar",value:"CAD"}]}),new yo.XQ({type:yo.Bq.Select,key:"interval",description:"Currency assigned to the plan",defaultValue:"USD",options:[{key:"Day",value:"day"},{key:"Week",value:"week"},{key:"Month",value:"month"},{key:"Year",value:"yea"}]}),new xo.T7({description:"Date plan was created"}),new xo.yH({description:"Date plan was last updated"})];function ul(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",22),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).maybeDeleteSelectedPlans()}),d._uU(1," Delete "),d.qZA()}}var dl=function(e){return{count:e,resource:"plan(s)"}};function pl(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"th",18),d.TgZ(2,"div",19),d._uU(3," :count :resource selected: "),d.qZA(),d.TgZ(4,"div",20),d.YNc(5,ul,2,0,"button",21),d.qZA(),d.qZA(),d.qZA()),2&e){var n=t.ngIf,i=d.oxw();d.xp6(2),d.Q6J("transValues",d.VKq(2,dl,n)),d.xp6(3),d.Q6J("ngIf",i.currentUser.hasPermission("plans.delete"))}}function gl(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",34),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw().showCrupdatePlanModal(e)}),d.ALo(1,"trans"),d._UZ(2,"mat-icon",35),d.qZA()}2&e&&d.Q6J("matTooltip",d.lcZ(1,1,"Edit plan"))}function hl(e,t){if(1&e&&(d.TgZ(0,"tr"),d._UZ(1,"td",23),d.TgZ(2,"td",24),d._uU(3),d.qZA(),d.TgZ(4,"td",25),d._uU(5),d.qZA(),d.TgZ(6,"td",26),d._uU(7),d.ALo(8,"currency"),d.qZA(),d.TgZ(9,"td",27),d._uU(10),d.qZA(),d.TgZ(11,"td",28),d._uU(12),d.qZA(),d.TgZ(13,"td",29),d._uU(14),d.qZA(),d.TgZ(15,"td",30),d._uU(16),d.qZA(),d.TgZ(17,"td",31),d._uU(18),d.ALo(19,"formattedDate"),d.qZA(),d.TgZ(20,"td",32),d.YNc(21,gl,3,3,"button",33),d.qZA(),d.qZA()),2&e){var n=t.$implicit,i=d.oxw();d.xp6(1),d.Q6J("table-body-checkbox",n.id),d.xp6(2),d.Oqu(n.name),d.xp6(2),d.Oqu(n.parent?n.parent.name:"-"),d.xp6(2),d.hij(" ",n.free?"Free":d.xi3(8,10,n.amount,n.currency)," "),d.xp6(3),d.Oqu(n.free?"Free":n.currency),d.xp6(2),d.Oqu(n.free?"Free":n.interval),d.xp6(2),d.hij(" ",n.parent_id?"-":n.recommended?"Yes":"No"," "),d.xp6(2),d.Oqu(n.parent_id?"-":n.position),d.xp6(2),d.Oqu(d.lcZ(19,13,n.updated_at)),d.xp6(3),d.Q6J("ngIf",i.currentUser.hasPermission("plans.update"))}}function fl(e,t){1&e&&(d.TgZ(0,"no-results-message",36),d.TgZ(1,"span",37),d._uU(2,"No plans have been created yet"),d.qZA(),d.qZA())}var ml=function(){var e=function(){function e(t,n,i,a){p(this,e),this.plans=t,this.currentUser=n,this.toast=i,this.datatable=a,this.filters=cl,this.loading$=new v.X(!1),this.plans$=this.datatable.data$}return h(e,[{key:"ngOnInit",value:function(){this.datatable.init({uri:Ns.o.BASE_URI})}},{key:"maybeDeleteSelectedPlans",value:function(){var e=this;this.datatable.confirmResourceDeletion("plans").subscribe(function(){e.loading$.next(!0),e.plans.delete(e.datatable.selectedRows$.value).pipe((0,Ct.x)(function(){e.loading$.next(!1),e.datatable.reset()})).subscribe()})}},{key:"showCrupdatePlanModal",value:function(e){this.datatable.openCrupdateResourceModal(ll,{plan:e,plans:this.datatable.data$.value}).subscribe()}},{key:"syncPlans",value:function(){var e=this;this.loading$.next(!0),this.plans.sync().pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(){e.toast.open("Synced plans across all enabled payment gateways")})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(Ns.o),d.Y36(Aa.I),d.Y36(Ut.F),d.Y36(Zo.x))},e.\u0275cmp=d.Xpm({type:e,selectors:[["plan-index"]],features:[d._Bn([Zo.x])],decls:44,vars:13,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","plans",3,"filters"],[1,"action-buttons"],["mat-raised-button","",1,"btn-with-dropdown-icon",3,"disabled","matTooltip","click"],["svgIcon","sync"],["mat-raised-button","","color","accent",1,"button-with-icon",3,"disabled","click"],["svgIcon","add"],[1,"datatable","responsive-table"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["table-sort-header","parent_id","trans",""],["table-sort-header","updated_at","trans",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","online-payments.svg",4,"ngIf"],["colspan","10"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["mat-raised-button","","color","warn","trans","",3,"click",4,"ngIf"],["mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],["data-label","Name"],["data-label","Parent Plan"],["data-label","Amount"],["data-label","Currency"],["data-label","Interval"],["data-label","Recommended"],["data-label","Position"],["data-label","Last Updated"],[1,"edit-column"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"],["svgImage","online-payments.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h1",1),d._uU(2,"Subscription Plans"),d.qZA(),d.TgZ(3,"div",2),d._UZ(4,"datatable-filters",3),d.TgZ(5,"div",4),d.TgZ(6,"button",5),d.NdJ("click",function(){return t.syncPlans()}),d.ALo(7,"async"),d.TgZ(8,"span",1),d._uU(9,"Sync"),d.qZA(),d._UZ(10,"mat-icon",6),d.qZA(),d.TgZ(11,"button",7),d.NdJ("click",function(){return t.showCrupdatePlanModal()}),d._UZ(12,"mat-icon",8),d.TgZ(13,"span",1),d._uU(14,"Add New Plan"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div",9),d.TgZ(16,"table",10),d.TgZ(17,"thead"),d.TgZ(18,"tr"),d._UZ(19,"th",11),d.TgZ(20,"th",12),d._uU(21,"Name"),d.qZA(),d.TgZ(22,"th",13),d._uU(23,"Parent Plan"),d.qZA(),d.TgZ(24,"th",12),d._uU(25,"Amount"),d.qZA(),d.TgZ(26,"th",12),d._uU(27,"Currency"),d.qZA(),d.TgZ(28,"th",12),d._uU(29,"Interval"),d.qZA(),d.TgZ(30,"th",12),d._uU(31,"Recommended"),d.qZA(),d.TgZ(32,"th",12),d._uU(33,"Position"),d.qZA(),d.TgZ(34,"th",14),d._uU(35,"Last Updated"),d.qZA(),d._UZ(36,"th"),d.qZA(),d.YNc(37,pl,6,4,"tr",15),d.qZA(),d.TgZ(38,"tbody"),d.YNc(39,hl,22,15,"tr",16),d.ALo(40,"async"),d.qZA(),d.qZA(),d.YNc(41,fl,3,0,"no-results-message",17),d.ALo(42,"async"),d._UZ(43,"datatable-footer"),d.qZA()),2&e&&(d.xp6(4),d.Q6J("filters",t.filters),d.xp6(2),d.Q6J("disabled",d.lcZ(7,7,t.loading$))("matTooltip","Sync if one of payment gateways was enabled after plan has already been created"),d.xp6(5),d.Q6J("disabled",!t.currentUser.hasPermission("plans.create")),d.xp6(26),d.Q6J("ngIf",t.datatable.selectedRows$.value.length),d.xp6(2),d.Q6J("ngForOf",d.lcZ(40,9,t.plans$)),d.xp6(2),d.Q6J("ngIf",d.lcZ(42,11,t.datatable.paginator.noResults$)))},directives:[Nt.P,wo.h,Z.lW,S.gM,F.Hw,To.e,Co.p,l.O5,l.sg,qo.V,Uo.O,Mo.U],pipes:[l.Ov,l.H9,En.l,ft.R],styles:[""],changeDetection:0}),e}(),vl=o(6153),bl=o(47701),_l=o(44689),Zl=o(17455),yl=o(83927);function xl(e,t){1&e&&(d.TgZ(0,"h2",6),d._uU(1,"Update Subscription Details"),d.qZA())}function kl(e,t){1&e&&(d.TgZ(0,"h2",6),d._uU(1,"Create a New Subscription"),d.qZA())}function Al(e,t){if(1&e&&(d.TgZ(0,"div",35),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.user_id)}}function wl(e,t){if(1&e&&(d.TgZ(0,"mat-option",36),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n),d.xp6(1),d.Oqu(n.email)}}function Tl(e,t){if(1&e&&(d.TgZ(0,"option",37),d._UZ(1,"full-plan-name",38),d._uU(2),d.ALo(3,"currency"),d.qZA()),2&e){var n=t.$implicit;d.Q6J("ngValue",n.id),d.xp6(1),d.Q6J("plan",n),d.xp6(1),d.hij(" (",d.xi3(3,3,n.amount,n.currency),") ")}}function Cl(e,t){if(1&e&&(d.TgZ(0,"div",35),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.description)}}function ql(e,t){if(1&e&&(d.TgZ(0,"div",35),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.renews_at)}}function Ul(e,t){if(1&e&&(d.TgZ(0,"div",35),d._uU(1),d.qZA()),2&e){var n=d.oxw().ngIf;d.xp6(1),d.Oqu(n.ends_at)}}function Il(e,t){1&e&&(d.TgZ(0,"span",26),d._uU(1,"Update"),d.qZA())}function Ml(e,t){1&e&&(d.TgZ(0,"span",26),d._uU(1,"Create"),d.qZA())}function Ol(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"form",7),d.NdJ("ngSubmit",function(){return d.CHM(n),d.oxw().confirm()}),d.TgZ(1,"div",8),d.TgZ(2,"div",9),d.TgZ(3,"label",10),d._uU(4,"User"),d.qZA(),d._UZ(5,"input",11),d.YNc(6,Al,2,1,"div",12),d.TgZ(7,"mat-autocomplete",13,14),d.YNc(9,wl,2,2,"mat-option",15),d.ALo(10,"async"),d.qZA(),d.qZA(),d.ynx(11,16),d.TgZ(12,"div",9),d.TgZ(13,"label",17),d._uU(14,"Plan"),d.qZA(),d.TgZ(15,"select",18),d.YNc(16,Tl,4,6,"option",19),d.qZA(),d.qZA(),d.TgZ(17,"div",9),d.TgZ(18,"label",20),d._uU(19,"Description"),d.qZA(),d._UZ(20,"textarea",21),d.YNc(21,Cl,2,1,"div",12),d.qZA(),d.TgZ(22,"div",22),d.TgZ(23,"label",23),d._uU(24,"Renews At"),d.qZA(),d.TgZ(25,"input",24),d.NdJ("click",function(){d.CHM(n);var e=d.MAs(31);return d.oxw().toggleDatePicker(e)}),d.qZA(),d._UZ(26,"mat-datepicker-toggle",25),d.TgZ(27,"p",26),d._uU(28,"This will only change local records. User will continue to be billed on their original cycle on the payment gateway."),d.qZA(),d.YNc(29,ql,2,1,"div",12),d._UZ(30,"mat-datepicker",null,27),d.qZA(),d.TgZ(32,"div",22),d.TgZ(33,"label",28),d._uU(34,"Ends At"),d.qZA(),d.TgZ(35,"input",29),d.NdJ("click",function(){d.CHM(n);var e=d.MAs(41);return d.oxw().toggleDatePicker(e)}),d.qZA(),d.TgZ(36,"p",26),d._uU(37,"This will only change local records. User will continue to be billed on their original cycle on the payment gateway."),d.qZA(),d.YNc(38,Ul,2,1,"div",12),d._UZ(39,"mat-datepicker-toggle",25),d._UZ(40,"mat-datepicker",null,30),d.qZA(),d.BQk(),d.qZA(),d.TgZ(42,"div",31),d.TgZ(43,"button",32),d.NdJ("click",function(){return d.CHM(n),d.oxw().close()}),d._uU(44,"Cancel"),d.qZA(),d.TgZ(45,"button",33),d.ALo(46,"async"),d.YNc(47,Il,2,0,"span",34),d.YNc(48,Ml,2,0,"span",34),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.ngIf,a=d.MAs(8),o=d.MAs(31),r=d.MAs(41),s=d.oxw();d.xp6(5),d.Q6J("formControl",s.userAutocomplete)("matAutocomplete",a),d.xp6(1),d.Q6J("ngIf",i.user_id),d.xp6(1),d.Q6J("displayWith",s.displayFn),d.xp6(2),d.Q6J("ngForOf",d.lcZ(10,17,s.filteredUsers)),d.xp6(2),d.Q6J("formGroup",s.form),d.xp6(5),d.Q6J("ngForOf",s.plans),d.xp6(5),d.Q6J("ngIf",i.description),d.xp6(4),d.Q6J("matDatepicker",o),d.xp6(1),d.Q6J("for",o),d.xp6(3),d.Q6J("ngIf",i.renews_at),d.xp6(6),d.Q6J("matDatepicker",r),d.xp6(3),d.Q6J("ngIf",i.ends_at),d.xp6(1),d.Q6J("for",r),d.xp6(6),d.Q6J("disabled",d.lcZ(46,19,s.loading$)),d.xp6(2),d.Q6J("ngIf",s.data.subscription),d.xp6(1),d.Q6J("ngIf",!s.data.subscription)}}var Jl=function(){var e=function(){function e(t,n,i,a,o,r,s){p(this,e),this.dialogRef=t,this.data=n,this.subscriptions=i,this.toast=a,this.users=o,this.plansApi=r,this.fb=s,this.loading$=new v.X(!1),this.form=this.fb.group({plan_id:[""],description:[""],renews_at:[""],ends_at:[""]}),this.errors$=new v.X({}),this.userAutocomplete=new u.NI(null),this.filteredUsers=new T.xQ,this.plans=[],this.resetState()}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.resetState(),this.bindToUserAutocomplete(),this.fetchPlans(),this.form.get("ends_at").valueChanges.pipe((0,Wr.x)()).subscribe(function(t){t?e.form.get("renews_at").disable():e.form.get("renews_at").enable()}),this.form.get("renews_at").valueChanges.pipe((0,Wr.x)()).subscribe(function(t){t?e.form.get("ends_at").disable():e.form.get("ends_at").enable()}),this.data.subscription&&this.hydrateModel(this.data.subscription)}},{key:"confirm",value:function(){var e=this;this.loading$.next(!0),(this.data.subscription?this.subscriptions.update(this.data.subscription.id,this.getPayload()):this.subscriptions.create(this.getPayload())).pipe((0,Ct.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.close(t.subscription),e.toast.open("Subscription "+(e.data.subscription?"updated":"created"))},function(t){return e.errors$.next(t.errors)})}},{key:"close",value:function(e){this.resetState(),this.dialogRef.close(e)}},{key:"displayFn",value:function(e){return e?e.email:null}},{key:"hydrateModel",value:function(e){var t=Object.assign({},e);e.user_id&&this.userAutocomplete.setValue(e.user),this.form.patchValue(t)}},{key:"getPayload",value:function(){var e=this.form.value;return!this.data.subscription&&this.userAutocomplete.value&&(e.user_id=this.userAutocomplete.value.id),e}},{key:"resetState",value:function(){this.form.reset(),this.errors$.next({})}},{key:"toggleDatePicker",value:function(e){e.opened?e.close():e.open()}},{key:"bindToUserAutocomplete",value:function(){var e=this;this.filteredUsers=this.userAutocomplete.valueChanges.pipe((0,bl.b)(400),(0,_l.w)(function(t){return t?e.users.getAll({query:t}):(0,ee.of)([])}))}},{key:"fetchPlans",value:function(){var e=this;this.plansApi.all().subscribe(function(t){e.plans=t.pagination.data,!e.form.value.plan_id&&e.plans.length&&e.form.patchValue({plan_id:e.plans[0].id})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(k.so),d.Y36(k.WI),d.Y36(Zl.t),d.Y36(Ut.F),d.Y36(ka.Q),d.Y36(Ns.o),d.Y36(u.qu))},e.\u0275cmp=d.Xpm({type:e,selectors:[["crupdate-subscription-modal"]],decls:9,vars:8,consts:[[1,"modal-header"],["class","modal-title","mat-dialog-title","","trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["autocomplete","off","ngNativeValidate","",3,"ngSubmit",4,"ngIf"],[1,"overlay",3,"isVisible"],["mat-dialog-title","","trans","",1,"modal-title"],["autocomplete","off","ngNativeValidate","",3,"ngSubmit"],["mat-dialog-content","",1,"many-inputs","mat-dialog-content"],[1,"input-container"],["for","user","trans",""],["type","text","id","user","placeholder","Search for user...","required","",3,"formControl","matAutocomplete"],["class","error",4,"ngIf"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"formGroup"],["for","plan","trans",""],["id","plan","formControlName","plan_id","required",""],[3,"ngValue",4,"ngFor","ngForOf"],["for","description","trans",""],["id","description","formControlName","description"],[1,"input-container","date-picker-input-container"],["for","renews_at","trans",""],["id","renews_at","formControlName","renews_at",3,"matDatepicker","click"],[3,"for"],["trans",""],["renewsAtDatePicker",""],["for","ends_at","trans",""],["id","ends_at","formControlName","ends_at",3,"matDatepicker","click"],["endsAtDatePicker",""],["mat-dialog-actions","",1,"buttons","right","mat-dialog-actions"],["type","button","mat-button","","trans","",1,"button","cancel",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary",3,"disabled"],["trans","",4,"ngIf"],[1,"error"],[3,"value"],[3,"ngValue"],[3,"plan"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.YNc(1,xl,2,0,"h2",1),d.YNc(2,kl,2,0,"h2",1),d.TgZ(3,"button",2),d.NdJ("click",function(){return t.close()}),d._UZ(4,"mat-icon",3),d.qZA(),d.qZA(),d.YNc(5,Ol,49,21,"form",4),d.ALo(6,"async"),d._UZ(7,"loading-indicator",5),d.ALo(8,"async")),2&e&&(d.xp6(1),d.Q6J("ngIf",t.data.subscription),d.xp6(1),d.Q6J("ngIf",!t.data.subscription),d.xp6(3),d.Q6J("ngIf",d.lcZ(6,4,t.errors$)),d.xp6(2),d.Q6J("isVisible",d.lcZ(8,6,t.loading$)))},directives:[l.O5,F.Hw,Qa.Q,k.uh,Nt.P,u.JL,u.F,k.xY,u.Fj,_.ZL,u.Q7,u.JJ,u.oH,_.XC,l.sg,u.sg,u.EJ,u.u,nt,at,Xe,k.H8,Z.lW,q.ey,u.YN,u.Kr,yl.T],pipes:[l.Ov,l.H9],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}.date-picker-input-container[_ngcontent-%COMP%]{position:relative}.mat-datepicker-toggle[_ngcontent-%COMP%]{position:absolute;top:29px;right:0}.mat-autocomplete-panel[_ngcontent-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0}"],changeDetection:0}),e}(),Pl=[new yo.XQ({type:yo.Bq.Select,key:"ends_at",label:"Status",description:"Whether subscription is active or cancelled",defaultValue:{value:null,operator:yo.pg.eq},options:[{key:"Active",value:{value:null,operator:yo.pg.eq}},{key:"Cancelled",value:{value:null,operator:yo.pg.ne}}]}),new yo.XQ({type:yo.Bq.Select,key:"gateway_name",label:"Gateway",description:"With which payment provider was subscription created",defaultValue:"stripe",options:[{key:"Stripe",value:"stripe"},{key:"Paypal",value:"paypal"},{key:"None",value:null}]}),new xo.T7({description:"Date subscription was created"}),new xo.yH({description:"Date subscription was last updated"})];function Nl(e,t){1&e&&d._UZ(0,"mat-icon",25)}function Sl(e,t){1&e&&(d.TgZ(0,"span"),d._uU(1,"-"),d.qZA())}function Dl(e,t){1&e&&d._UZ(0,"mat-icon",25)}function Ql(e,t){1&e&&(d.TgZ(0,"span"),d._uU(1,"-"),d.qZA())}function Yl(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"button",26),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw().openCrupdateSubscriptionModal(e)}),d.ALo(2,"trans"),d._UZ(3,"mat-icon",27),d.qZA(),d.TgZ(4,"button",28),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw().maybeCancelSubscription(e)}),d.ALo(5,"trans"),d._UZ(6,"mat-icon",29),d.qZA(),d.TgZ(7,"button",26),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw().maybeDeleteSubscription(e)}),d.ALo(8,"trans"),d._UZ(9,"mat-icon",30),d.qZA(),d.BQk()}if(2&e){var i=d.oxw().$implicit;d.xp6(1),d.Q6J("matTooltip",d.lcZ(2,4,"Edit")),d.xp6(3),d.Q6J("disabled",i.cancelled)("matTooltip",d.lcZ(5,6,"Cancel/Suspend")),d.xp6(3),d.Q6J("matTooltip",d.lcZ(8,8,"Delete"))}}function Ll(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"td"),d._UZ(2,"user-column",15),d.qZA(),d.TgZ(3,"td",16),d._uU(4),d.qZA(),d.TgZ(5,"td",17),d.YNc(6,Nl,1,0,"mat-icon",18),d.YNc(7,Sl,2,0,"span",19),d.qZA(),d.TgZ(8,"td",20),d.YNc(9,Dl,1,0,"mat-icon",18),d.YNc(10,Ql,2,0,"span",19),d.qZA(),d.TgZ(11,"td",21),d._uU(12),d.ALo(13,"formattedDate"),d.qZA(),d.TgZ(14,"td",22),d._uU(15),d.ALo(16,"formattedDate"),d.qZA(),d.TgZ(17,"td",23),d._uU(18),d.ALo(19,"formattedDate"),d.qZA(),d.TgZ(20,"td",24),d.YNc(21,Yl,10,10,"ng-container",19),d.qZA(),d.qZA()),2&e){var n=t.$implicit,i=d.oxw();d.xp6(2),d.Q6J("user",n.user),d.xp6(2),d.Oqu(n.gateway_name),d.xp6(2),d.Q6J("ngIf",n.cancelled),d.xp6(1),d.Q6J("ngIf",!n.cancelled),d.xp6(2),d.Q6J("ngIf",n.on_grace_period),d.xp6(1),d.Q6J("ngIf",!n.on_grace_period),d.xp6(2),d.Oqu(n.renews_at?d.lcZ(13,10,n.renews_at):"-"),d.xp6(3),d.Oqu(n.ends_at?d.lcZ(16,12,n.ends_at):"-"),d.xp6(3),d.Oqu(d.lcZ(19,14,n.created_at)),d.xp6(3),d.Q6J("ngIf",i.currentUser.hasPermission("subscriptions.delete"))}}function El(e,t){1&e&&(d.TgZ(0,"no-results-message",31),d.TgZ(1,"span",32),d._uU(2,"No subscriptions have been created yet"),d.qZA(),d.qZA())}var Fl=function(){var e=function(){function e(t,n,i,a,o){p(this,e),this.modal=t,this.subscriptions=n,this.currentUser=i,this.toast=a,this.datatable=o,this.filters=Pl,this.loading$=new v.X(!1),this.subscriptions$=this.datatable.data$}return h(e,[{key:"ngOnInit",value:function(){this.datatable.init({uri:Zl.t.BASE_URI})}},{key:"maybeCancelSubscription",value:function(e){var t=this;this.modal.open($o.z,{title:"Cancel Subscription",body:"Are you sure you want to cancel this subscription?",bodyBold:"This will cancel or suspend subscription based on its gateway and put user on grace period until their next scheduled renewal date and allow them to renew the subscription.",ok:"Cancel",cancel:"Go Back"}).afterClosed().subscribe(function(n){n&&t.cancelOrDeleteSubscription(e,{delete:!1})})}},{key:"maybeDeleteSubscription",value:function(e){var t=this;this.modal.open($o.z,{title:"Delete Subscription",body:"Are you sure you want to delete this subscription?",bodyBold:"This will permanently delete user subscription and immediately cancel it on billing gateway.",ok:"Delete",cancel:"Go Back"}).afterClosed().subscribe(function(n){n&&t.cancelOrDeleteSubscription(e,{delete:!0})})}},{key:"cancelOrDeleteSubscription",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.loading$.next(!0),this.subscriptions.cancel(e.id,{delete:n.delete}).pipe((0,Ct.x)(function(){return t.loading$.next(!1)})).subscribe(function(){t.datatable.reset(),t.toast.open("Subscription cancelled.")})}},{key:"openCrupdateSubscriptionModal",value:function(e){var t=this;this.modal.open(Jl,{subscription:e}).afterClosed().subscribe(function(e){e&&t.datatable.reset()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(It.u),d.Y36(Zl.t),d.Y36(Aa.I),d.Y36(Ut.F),d.Y36(Zo.x))},e.\u0275cmp=d.Xpm({type:e,selectors:[["subscription-index"]],features:[d._Bn([Zo.x])],decls:35,vars:8,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","subscriptions",3,"filters"],[1,"action-buttons"],["mat-raised-button","","color","accent",1,"button-with-icon",3,"disabled","click"],["svgIcon","add"],[1,"datatable","responsive-table"],[1,"material-table"],["table-sort-header","user_id","trans",""],["table-sort-header","","trans",""],["table-sort-header","ends_at","trans",""],["table-sort-header","created_at","trans",""],[4,"ngFor","ngForOf"],["svgImage","subscriptions.svg",4,"ngIf"],[3,"user"],["data-label","Gateway"],["data-label","Cancelled"],["svgIcon","check",4,"ngIf"],[4,"ngIf"],["data-label","On Grace Period"],["data-label","Renews At"],["data-label","Ends At"],["data-label","Created At"],[1,"edit-column"],["svgIcon","check"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"],["mat-icon-button","",3,"disabled","matTooltip","click"],["svgIcon","pause"],["svgIcon","delete"],["svgImage","subscriptions.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h1",1),d._uU(2,"Subscriptions"),d.qZA(),d.TgZ(3,"div",2),d._UZ(4,"datatable-filters",3),d.TgZ(5,"div",4),d.TgZ(6,"button",5),d.NdJ("click",function(){return t.openCrupdateSubscriptionModal()}),d._UZ(7,"mat-icon",6),d.TgZ(8,"span",1),d._uU(9,"Add New Subscription"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(10,"div",7),d.TgZ(11,"table",8),d.TgZ(12,"thead"),d.TgZ(13,"tr"),d.TgZ(14,"th",9),d._uU(15,"User"),d.qZA(),d.TgZ(16,"th",10),d._uU(17,"Gateway"),d.qZA(),d.TgZ(18,"th",11),d._uU(19,"Cancelled"),d.qZA(),d.TgZ(20,"th",1),d._uU(21,"On Grace Period"),d.qZA(),d.TgZ(22,"th",10),d._uU(23,"Renews At"),d.qZA(),d.TgZ(24,"th",10),d._uU(25,"Ends At"),d.qZA(),d.TgZ(26,"th",12),d._uU(27,"Created At"),d.qZA(),d._UZ(28,"th"),d.qZA(),d.qZA(),d.TgZ(29,"tbody"),d.YNc(30,Ll,22,16,"tr",13),d.ALo(31,"async"),d.qZA(),d.qZA(),d.YNc(32,El,3,0,"no-results-message",14),d.ALo(33,"async"),d._UZ(34,"datatable-footer"),d.qZA()),2&e&&(d.xp6(4),d.Q6J("filters",t.filters),d.xp6(2),d.Q6J("disabled",!t.currentUser.hasPermission("subscriptions.create")),d.xp6(24),d.Q6J("ngForOf",d.lcZ(31,4,t.subscriptions$)),d.xp6(2),d.Q6J("ngIf",d.lcZ(33,6,t.datatable.paginator.noResults$)))},directives:[Nt.P,wo.h,Z.lW,F.Hw,Co.p,l.sg,l.O5,qo.V,Io.r,S.gM,Mo.U],pipes:[l.Ov,En.l,ft.R],styles:[""],changeDetection:0}),e}();function Rl(e,t){if(1&e&&(d.TgZ(0,"option",26),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.action),d.xp6(1),d.hij(" ",n.label," ")}}function $l(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",17),d.TgZ(1,"label",22),d._uU(2,"Learn More Link"),d.qZA(),d.TgZ(3,"select",23),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw(2).state.client["cookie_notice.learn_more"]=e}),d.TgZ(4,"option",24),d._uU(5,"None (Hide learn more link)"),d.qZA(),d.YNc(6,Rl,2,2,"option",25),d.qZA(),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw(2);d.xp6(3),d.Q6J("ngModel",a.state.client["cookie_notice.learn_more"]),d.xp6(3),d.Q6J("ngForOf",i.items)}}function Vl(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",15),d.YNc(1,$l,7,2,"div",16),d.ALo(2,"async"),d.TgZ(3,"div",17),d.TgZ(4,"div",17),d.TgZ(5,"label",18),d._uU(6,"Cookie Notice Position"),d.qZA(),d.TgZ(7,"select",19),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.client["cookie_notice.position"]=e}),d.TgZ(8,"option",20),d._uU(9,"Top"),d.qZA(),d.TgZ(10,"option",21),d._uU(11,"Bottom"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=d.oxw();d.xp6(1),d.Q6J("ngIf",d.lcZ(2,2,i.customPages$)),d.xp6(6),d.Q6J("ngModel",i.state.client["cookie_notice.position"])}}function Bl(e,t){if(1&e&&d._UZ(0,"input",39),2&e){var n=d.oxw().index;d.MGl("id","policy-action-",n,"")}}function Hl(e,t){if(1&e&&(d.TgZ(0,"option",26),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.action),d.xp6(1),d.hij(" ",n.label," ")}}function zl(e,t){if(1&e&&(d.TgZ(0,"select",40),d.YNc(1,Hl,2,2,"option",25),d.ALo(2,"async"),d.qZA()),2&e){var n=d.oxw().index,i=d.oxw();d.MGl("id","policy-action-",n,""),d.xp6(1),d.Q6J("ngForOf",d.lcZ(2,2,i.customPages$).items)}}function Gl(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"li",27),d.TgZ(1,"div",17),d.TgZ(2,"label",28),d.TgZ(3,"span",6),d._uU(4,"Name"),d.qZA(),d.TgZ(5,"button",29),d.NdJ("click",function(){var e=d.CHM(n).index;return d.oxw().removeRegisterPolicy(e)}),d._UZ(6,"mat-icon",30),d.qZA(),d.qZA(),d._UZ(7,"input",31),d.qZA(),d.TgZ(8,"div",17),d.TgZ(9,"label",32),d._uU(10,"Link"),d.qZA(),d.TgZ(11,"div",33),d.TgZ(12,"select",34),d.NdJ("change",function(){var e=d.CHM(n).$implicit;return d.oxw().onPolicyTypeChange(e)}),d.TgZ(13,"option",35),d._uU(14,"Page"),d.qZA(),d.TgZ(15,"option",36),d._uU(16,"Link"),d.qZA(),d.qZA(),d.YNc(17,Bl,1,1,"input",37),d.YNc(18,zl,3,4,"select",38),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit,a=t.index;d.Q6J("formGroup",i),d.xp6(2),d.MGl("for","policy-name-",a,""),d.xp6(3),d.Q6J("disableRipple",!0),d.xp6(2),d.MGl("id","policy-name-",a,""),d.xp6(2),d.MGl("for","policy-action-",a,""),d.xp6(3),d.MGl("id","policy-type-",a,""),d.xp6(5),d.Q6J("ngIf","link"===i.value.type),d.xp6(1),d.Q6J("ngIf","page"===i.value.type)}}function jl(e,t){1&e&&d._UZ(0,"mat-progress-bar",41)}var Xl=function(){var e,i=function(e){n(o,e);var i=a(o);function o(){var e;return p(this,o),(e=i.apply(this,arguments)).customPages$=new v.X({name:"",items:[]}),e.registerPolicies=new u.Oe([]),e}return h(o,[{key:"ngOnInit",value:function(){var e=this;this.valueLists.get(["menuItemCategories"]).subscribe(function(t){e.customPages$.next(t.menuItemCategories.find(function(e){return"Custom Page"===e.name}))}),this.settings.getJson("register_policies",[]).forEach(function(t){e.addRegisterPolicy(t)})}},{key:"saveSettings",value:function(){var e=this.state.getModified();e.client.register_policies=JSON.stringify(this.registerPolicies.value),t(s(o.prototype),"saveSettings",this).call(this,e)}},{key:"addRegisterPolicy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.registerPolicies.push(new u.cw({label:new u.NI(e.label||""),action:new u.NI(e.action||this.getFirstCustomPageAction()),type:new u.NI(e.type||"page")}))}},{key:"removeRegisterPolicy",value:function(e){this.registerPolicies.removeAt(e)}},{key:"onPolicyTypeChange",value:function(e){e.get("action").reset(),"page"===e.get("type").value&&e.get("action").setValue(this.getFirstCustomPageAction())}},{key:"getFirstCustomPageAction",value:function(){return this.customPages$.value.items[0]&&this.customPages$.value.items[0].action}}]),o}(Pt);return i.\u0275fac=function(t){return(e||(e=d.n5z(i)))(t||i)},i.\u0275cmp=d.Xpm({type:i,selectors:[["gdpr-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:27,vars:9,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["ngNativeValidate","",1,"body","many-inputs",3,"ngSubmit"],[1,"setting-toggle-container"],["name","cookie_notice.enable","id","cookie_notice.enable","trans","",3,"ngModel","ngModelChange"],["trans",""],["class","error-group many-inputs",4,"ngIf"],[1,"error-group","no-border-top","no-bottom-border","policies-group"],["type","button","mat-icon-button","","color","accent",1,"add-policy-button",3,"click"],["svgIcon","add"],[1,"unstyled-list"],["class","many-inputs policy-list-item",3,"formGroup",4,"ngFor","ngForOf"],["mat-raised-button","","color","accent","type","submit","trans","",1,"button","primary","update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],[1,"error-group","many-inputs"],["class","input-container",4,"ngIf"],[1,"input-container"],["for","cookie-notice-position","trans",""],["id","cookie-notice-position","name","cookie-notice-position",3,"ngModel","ngModelChange"],["value","top","trans",""],["value","bottom","trans",""],["for","cookie_notice.learn_more"],["id","cookie_notice.learn_more","name","cookie_notice.learn_more",3,"ngModel","ngModelChange"],["value","","trans",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"many-inputs","policy-list-item",3,"formGroup"],[1,"policy-name-label",3,"for"],["mat-icon-button","","color","warn",3,"disableRipple","click"],["svgIcon","remove"],["type","text","formControlName","label","required","",3,"id"],["trans","",3,"for"],[1,"inline-inputs"],["formControlName","type",1,"policy-type-select",3,"id","change"],["value","page","trans",""],["value","link","trans",""],["type","url","class","policy-action-input","formControlName","action","placeholder","Optional...","trans-placeholder","",3,"id",4,"ngIf"],["class","policy-action-input","formControlName","action",3,"id",4,"ngIf"],["type","url","formControlName","action","placeholder","Optional...","trans-placeholder","",1,"policy-action-input",3,"id"],["formControlName","action",1,"policy-action-input",3,"id"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"GDPR"),d.qZA(),d.TgZ(3,"div",2),d._uU(4," Configure settings related to EU General Data Protection Regulation. "),d.qZA(),d.qZA(),d.TgZ(5,"form",3),d.NdJ("ngSubmit",function(){return t.saveSettings()}),d.TgZ(6,"div",4),d.TgZ(7,"mat-slide-toggle",5),d.NdJ("ngModelChange",function(e){return t.state.client["cookie_notice.enable"]=e}),d._uU(8,"Enable Cookie Notice"),d.qZA(),d.TgZ(9,"p",6),d._uU(10," Whether cookie notice should be shown automatically to users from EU until it is accepted. "),d.qZA(),d.qZA(),d.YNc(11,Vl,12,4,"div",7),d.TgZ(12,"div",8),d.TgZ(13,"h2"),d.TgZ(14,"span"),d._uU(15,"Registration Page Policies"),d.qZA(),d.TgZ(16,"button",9),d.NdJ("click",function(){return t.addRegisterPolicy()}),d._UZ(17,"mat-icon",10),d.qZA(),d.qZA(),d.TgZ(18,"p",6),d._uU(19," Here you can create policies that will be shown on registration page and user will be required to accept them by toggling a checkbox. "),d.qZA(),d.TgZ(20,"ul",11),d.YNc(21,Gl,19,8,"li",12),d.qZA(),d.qZA(),d.TgZ(22,"button",13),d.ALo(23,"async"),d._uU(24," Update "),d.qZA(),d.YNc(25,jl,1,0,"mat-progress-bar",14),d.ALo(26,"async"),d.qZA()),2&e&&(d.xp6(7),d.Q6J("ngModel",t.state.client["cookie_notice.enable"]),d.xp6(4),d.Q6J("ngIf",t.state.client["cookie_notice.enable"]),d.xp6(10),d.Q6J("ngForOf",t.registerPolicies.controls),d.xp6(1),d.Q6J("disabled",d.lcZ(23,5,t.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(26,7,t.state.loading$)))},directives:[Nt.P,u.JL,u.F,P.Rr,u.JJ,u.On,l.O5,Z.lW,F.Hw,l.sg,u.EJ,u.YN,u.Kr,u.sg,u.Fj,u.u,u.Q7,J.pW],pipes:[l.Ov],styles:[".error-group[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:0}.add-policy-button[_ngcontent-%COMP%]{flex-shrink:0;margin-left:auto}.inline-inputs[_ngcontent-%COMP%]{display:flex}.input-container[_ngcontent-%COMP%]   .policy-type-select[_ngcontent-%COMP%]{max-width:100px;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.policy-action-input[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-top-left-radius:0}.policy-list-item[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid var(--be-divider-lighter);margin-bottom:20px}.policies-group[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--be-secondary-text);margin:0 0 20px}.policy-name-label[_ngcontent-%COMP%]{display:flex;align-items:center}.policy-name-label[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{margin-left:auto;flex-shrink:0;width:20px;height:20px;line-height:20px}"],changeDetection:0}),i}(),Wl=function(){var e=function(){function e(t){p(this,e),this.http=t}return h(e,[{key:"index",value:function(t){return this.http.get(e.BASE_URI,t)}},{key:"create",value:function(t){return this.http.post(e.BASE_URI,t)}},{key:"update",value:function(t,n){return this.http.put("".concat(e.BASE_URI,"/").concat(t),n)}},{key:"delete",value:function(t){return this.http.delete("".concat(e.BASE_URI,"/").concat(t))}}]),e}();return e.BASE_URI="tags",e.\u0275fac=function(t){return new(t||e)(d.LFG(g.r))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Kl(e,t){1&e&&(d.TgZ(0,"span",10),d._uU(1,"Update Tag"),d.qZA())}function ec(e,t){1&e&&(d.TgZ(0,"span",10),d._uU(1,"Create a New Tag"),d.qZA())}function tc(e,t){if(1&e&&(d.TgZ(0,"div",19),d._uU(1),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Oqu(n.errors.name)}}function nc(e,t){if(1&e&&(d.TgZ(0,"div",19),d._uU(1),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Oqu(n.errors.display_name)}}function ic(e,t){if(1&e&&(d.TgZ(0,"option",20),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("value",n.name),d.xp6(1),d.Oqu(n.name)}}function ac(e,t){if(1&e&&(d.TgZ(0,"div",19),d._uU(1),d.qZA()),2&e){var n=d.oxw();d.xp6(1),d.Oqu(n.errors.type)}}function oc(e,t){1&e&&(d.TgZ(0,"span",10),d._uU(1,"Update"),d.qZA())}function rc(e,t){1&e&&(d.TgZ(0,"span",10),d._uU(1,"Create"),d.qZA())}var sc=function(){var e=function(){function e(t,n,i,a,o){p(this,e),this.dialogRef=t,this.data=n,this.toast=i,this.tags=a,this.settings=o,this.errors={},this.isSystemTag=!1,this.form=new u.cw({name:new u.NI(""),display_name:new u.NI(""),type:new u.NI("")}),this.hydrate()}return h(e,[{key:"close",value:function(e){this.errors={},this.dialogRef.close(e)}},{key:"hydrate",value:function(){var e,t,n;this.tagTypes=this.settings.get("vebto.admin.tagTypes",[]),this.data.tag?this.form.patchValue(this.data.tag):this.form.get("type").patchValue(this.data.forceType||(null===(e=this.tagTypes[0])||void 0===e?void 0:e.name)||"");var i=this.data.forceType||(null===(t=this.data.tag)||void 0===t?void 0:t.type);this.isSystemTag=null===(n=this.tagTypes.find(function(e){return e.name===i}))||void 0===n?void 0:n.system,(this.isSystemTag||this.data.forceType)&&this.form.get("type").disable(),this.isSystemTag&&this.form.get("name").disable()}},{key:"confirm",value:function(){var e=this;(this.data.tag?this.tags.update(this.data.tag.id,this.form.getRawValue()):this.tags.create(this.form.getRawValue())).subscribe(function(t){e.toast.open("Tag "+(e.data.tag?"Updated":"Created")),e.close(t.tag)},function(t){return e.errors=t.errors})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(k.so),d.Y36(k.WI),d.Y36(Ut.F),d.Y36(Wl),d.Y36(pt.Z))},e.\u0275cmp=d.Xpm({type:e,selectors:[["crupdate-tag-modal"]],decls:34,vars:9,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf"],["type","button","mat-icon-button","","tabindex","-1",1,"close-button",3,"click"],["svgIcon","close"],["autocomplete","off","ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"many-inputs"],[1,"input-container"],["for","crupdate-tag-modal-name","trans",""],["type","text","id","crupdate-tag-modal-name","formControlName","name","required",""],["trans",""],["class","error",4,"ngIf"],["for","display_name","trans",""],["type","text","formControlName","display_name","id","display_name"],["for","crupdate_tag_modal_type","trans",""],["formControlName","type","id","crupdate_tag_modal_type","required","",1,"capitalize"],["trans","",3,"value",4,"ngFor","ngForOf"],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"submit-button"],[1,"error"],["trans","",3,"value"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h2",1),d.YNc(2,Kl,2,0,"span",2),d.YNc(3,ec,2,0,"span",2),d.qZA(),d.TgZ(4,"button",3),d.NdJ("click",function(){return t.close()}),d._UZ(5,"mat-icon",4),d.qZA(),d.qZA(),d.TgZ(6,"form",5),d.NdJ("ngSubmit",function(){return t.confirm()}),d.TgZ(7,"mat-dialog-content",6),d.TgZ(8,"div",7),d.TgZ(9,"label",8),d._uU(10,"Name"),d.qZA(),d._UZ(11,"input",9),d.TgZ(12,"p",10),d._uU(13,"Unique tag identifier."),d.qZA(),d.YNc(14,tc,2,1,"div",11),d.qZA(),d.TgZ(15,"div",7),d.TgZ(16,"label",12),d._uU(17,"Display Name"),d.qZA(),d._UZ(18,"input",13),d.TgZ(19,"p",10),d._uU(20,"User friendly tag name."),d.qZA(),d.YNc(21,nc,2,1,"div",11),d.qZA(),d.TgZ(22,"div",7),d.TgZ(23,"label",14),d._uU(24,"Type"),d.qZA(),d.TgZ(25,"select",15),d.YNc(26,ic,2,2,"option",16),d.qZA(),d.YNc(27,ac,2,1,"div",11),d.qZA(),d.qZA(),d.TgZ(28,"mat-dialog-actions"),d.TgZ(29,"button",17),d.NdJ("click",function(){return t.close()}),d._uU(30,"Cancel"),d.qZA(),d.TgZ(31,"button",18),d.YNc(32,oc,2,0,"span",2),d.YNc(33,rc,2,0,"span",2),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("ngIf",t.data.tag),d.xp6(1),d.Q6J("ngIf",!t.data.tag),d.xp6(3),d.Q6J("formGroup",t.form),d.xp6(8),d.Q6J("ngIf",t.errors.name),d.xp6(7),d.Q6J("ngIf",t.errors.display_name),d.xp6(5),d.Q6J("ngForOf",t.tagTypes),d.xp6(1),d.Q6J("ngIf",t.errors.type),d.xp6(5),d.Q6J("ngIf",t.data.tag),d.xp6(1),d.Q6J("ngIf",!t.data.tag))},directives:[k.uh,l.O5,Z.lW,F.Hw,u.JL,u.sg,k.xY,Nt.P,u.Fj,u.JJ,u.u,u.Q7,u.EJ,l.sg,k.H8,u.YN,u.Kr],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}.capitalize[_ngcontent-%COMP%]{text-transform:capitalize}"]}),e}();function lc(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",15),d.NdJ("click",function(){return d.CHM(n),d.oxw().showCrupdateTagModal()}),d._UZ(1,"mat-icon",16),d.TgZ(2,"span",1),d._uU(3,"Add New Tag"),d.qZA(),d.qZA()}}function cc(e,t){1&e&&d._UZ(0,"mat-progress-bar",17)}var uc=function(e){return{count:e,resource:"tag(s)"}};function dc(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"th",18),d.TgZ(2,"div",19),d._uU(3," :count :resource selected: "),d.qZA(),d.TgZ(4,"div",20),d.TgZ(5,"button",21),d.NdJ("click",function(){return d.CHM(n),d.oxw().maybeDeleteSelectedTags()}),d._uU(6," Delete "),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.ngIf,a=d.oxw();d.xp6(2),d.Q6J("transValues",d.VKq(2,uc,i)),d.xp6(3),d.Q6J("disabled",!a.currentUser.hasPermission("tags.delete"))}}function pc(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",29),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw().showCrupdateTagModal(e)}),d.ALo(1,"trans"),d._UZ(2,"mat-icon",30),d.qZA()}2&e&&d.Q6J("matTooltip",d.lcZ(1,1,"Edit tag"))}function gc(e,t){if(1&e&&(d.TgZ(0,"tr"),d._UZ(1,"td",22),d.TgZ(2,"td",23),d._uU(3),d.qZA(),d.TgZ(4,"td",24),d._uU(5),d.qZA(),d.TgZ(6,"td",25),d._uU(7),d.qZA(),d.TgZ(8,"td",26),d._uU(9),d.ALo(10,"formattedDate"),d.qZA(),d.TgZ(11,"td",27),d.YNc(12,pc,3,3,"button",28),d.qZA(),d.qZA()),2&e){var n=t.$implicit,i=d.oxw();d.xp6(1),d.Q6J("table-body-checkbox",n.id),d.xp6(2),d.Oqu(n.name),d.xp6(2),d.Oqu(n.type),d.xp6(2),d.Oqu(n.display_name),d.xp6(2),d.hij(" ",n.updated_at?d.lcZ(10,6,n.updated_at):"-"," "),d.xp6(3),d.Q6J("ngIf",i.currentUser.hasPermission("tags.update"))}}function hc(e,t){1&e&&(d.TgZ(0,"no-results-message",31),d.TgZ(1,"span",32),d._uU(2,"No tags have been created yet"),d.qZA(),d.qZA())}var fc=function(){var e=function(){function e(t,n,i,a){var o;p(this,e),this.tags=t,this.currentUser=n,this.datatable=i,this.settings=a,this.filters=(o=this.settings.get("vebto.admin.tagTypes"),[new yo.XQ({type:yo.Bq.Select,key:"type",description:"Type of the link",defaultValue:o[0].name,options:o.map(function(e){return{key:e.name,value:e.name}})}),new xo.T7({description:"Date tag was created"}),new xo.yH({description:"Date tag was last updated"})]),this.tags$=this.datatable.data$}return h(e,[{key:"ngOnInit",value:function(){this.datatable.init({uri:Wl.BASE_URI})}},{key:"maybeDeleteSelectedTags",value:function(){var e=this;this.datatable.confirmResourceDeletion("tags").subscribe(function(){e.tags.delete(e.datatable.selectedRows$.value).subscribe(function(){e.datatable.reset()})})}},{key:"showCrupdateTagModal",value:function(e){this.datatable.openCrupdateResourceModal(sc,{tag:e}).subscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(Wl),d.Y36(Aa.I),d.Y36(Zo.x),d.Y36(pt.Z))},e.\u0275cmp=d.Xpm({type:e,selectors:[["tags"]],features:[d._Bn([Zo.x])],decls:31,vars:12,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","tags",3,"filters"],[1,"action-buttons"],["mat-raised-button","","color","accent","class","button-with-icon",3,"click",4,"ngIf"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["table-sort-header","updated_at","trans",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","folder.svg",4,"ngIf"],["mat-raised-button","","color","accent",1,"button-with-icon",3,"click"],["svgIcon","add"],["mode","indeterminate","color","accent",1,"loading-bar"],["colspan","6"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["type","button","mat-raised-button","","color","warn","trans","",3,"disabled","click"],[3,"table-body-checkbox"],["data-label","Name"],["data-label","Type"],["data-label","Display Name"],["data-label","Last Updated"],[1,"edit-column"],["mat-icon-button","",3,"matTooltip","click",4,"ngIf"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"],["svgImage","folder.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h1",1),d.TgZ(2,"span",1),d._uU(3,"Tags"),d.qZA(),d.qZA(),d.TgZ(4,"div",2),d._UZ(5,"datatable-filters",3),d.TgZ(6,"div",4),d.YNc(7,lc,4,0,"button",5),d.qZA(),d.qZA(),d.qZA(),d.TgZ(8,"div",6),d.YNc(9,cc,1,0,"mat-progress-bar",7),d.ALo(10,"async"),d.TgZ(11,"table",8),d.TgZ(12,"thead"),d.TgZ(13,"tr"),d._UZ(14,"th",9),d.TgZ(15,"th",10),d._uU(16,"Name"),d.qZA(),d.TgZ(17,"th",10),d._uU(18,"Type"),d.qZA(),d.TgZ(19,"th",10),d._uU(20,"Display Name"),d.qZA(),d.TgZ(21,"th",11),d._uU(22,"Last Updated"),d.qZA(),d._UZ(23,"th"),d.qZA(),d.YNc(24,dc,7,4,"tr",12),d.qZA(),d.TgZ(25,"tbody"),d.YNc(26,gc,13,8,"tr",13),d.ALo(27,"async"),d.qZA(),d.qZA(),d.YNc(28,hc,3,0,"no-results-message",14),d.ALo(29,"async"),d._UZ(30,"datatable-footer"),d.qZA()),2&e&&(d.xp6(5),d.Q6J("filters",t.filters),d.xp6(2),d.Q6J("ngIf",t.currentUser.hasPermission("tags.create")),d.xp6(2),d.Q6J("ngIf",d.lcZ(10,6,t.datatable.paginator&&t.datatable.paginator.loading$)),d.xp6(15),d.Q6J("ngIf",t.datatable.selectedRows$.value.length),d.xp6(2),d.Q6J("ngForOf",d.lcZ(27,8,t.tags$)),d.xp6(2),d.Q6J("ngIf",d.lcZ(29,10,t.datatable.paginator.noResults$)))},directives:[Nt.P,wo.h,l.O5,To.e,Co.p,l.sg,qo.V,Z.lW,F.Hw,J.pW,Uo.O,S.gM,Mo.U],pipes:[l.Ov,En.l,ft.R],encapsulation:2}),e}(),mc=o(98034),vc=o(99208);function bc(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"div",5),d.TgZ(1,"label",27),d._uU(2,"Mysql Mode"),d.qZA(),d.TgZ(3,"select",28),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.server.scout_mysql_mode=e})("ngModelChange",function(){return d.CHM(n),d.oxw().clearErrors()}),d.TgZ(4,"option",29),d._uU(5,"Basic"),d.qZA(),d.TgZ(6,"option",30),d._uU(7,"Extended"),d.qZA(),d.TgZ(8,"option",31),d._uU(9,"Fulltext"),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=d.oxw();d.xp6(3),d.Q6J("ngModel",i.state.server.scout_mysql_mode)}}function _c(e,t){if(1&e){var n=d.EpF();d.ynx(0),d.TgZ(1,"div",5),d.TgZ(2,"label",32),d._uU(3,"Algolia App ID"),d.qZA(),d.TgZ(4,"input",33),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.server.algolia_app_id=e}),d.qZA(),d.qZA(),d.TgZ(5,"div",5),d.TgZ(6,"label",34),d._uU(7,"Algolia Secret"),d.qZA(),d.TgZ(8,"input",35),d.NdJ("ngModelChange",function(e){return d.CHM(n),d.oxw().state.server.algolia_secret=e}),d.qZA(),d.qZA(),d.BQk()}if(2&e){var i=d.oxw();d.xp6(4),d.Q6J("ngModel",i.state.server.algolia_app_id),d.xp6(4),d.Q6J("ngModel",i.state.server.algolia_secret)}}function Zc(e,t){1&e&&d._UZ(0,"p",36),2&e&&d.Q6J("innerHTML",t.ngIf,d.oJD)}function yc(e,t){1&e&&(d.TgZ(0,"div",37),d.TgZ(1,"div",1),d._uU(2,"Important!"),d.qZA(),d.TgZ(3,"p",13),d.TgZ(4,"a",38),d._uU(5,'"Meilisearch"'),d.qZA(),d._uU(6," needs to be installed and running for this method to work. "),d.qZA(),d.qZA())}function xc(e,t){1&e&&(d.TgZ(0,"div",37),d.TgZ(1,"div",1),d._uU(2,"Important!"),d.qZA(),d.TgZ(3,"p",13),d.TgZ(4,"a",39),d._uU(5,'"Elasticsearch"'),d.qZA(),d._uU(6," needs to be installed and running for this method to work. "),d.qZA(),d.qZA())}function kc(e,t){if(1&e&&(d.TgZ(0,"option",22),d._uU(1),d.qZA()),2&e){var n=t.$implicit;d.Q6J("ngValue",n.model),d.xp6(1),d.hij(" ",n.name," ")}}function Ac(e,t){1&e&&d._UZ(0,"mat-progress-bar",40)}var wc=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).models$=new v.X([]),e.searchableModelControl=new u.NI(null),e}return h(i,[{key:"importRecords",value:function(){var e=this;this.state.loading$.next(!0),this.http.post("admin/search/import",{model:this.searchableModelControl.value,driver:this.state.server.scout_driver}).pipe((0,Ct.x)(function(){return e.state.loading$.next(!1)})).subscribe(function(){e.toast.open("Records imported")},function(t){e.state.errors$.next({search_group:"Could not import records: "+t.message}),qt(e.state.errors$.value)})}},{key:"ngOnInit",value:function(){var e=this;this.http.get("admin/search/models").subscribe(function(t){e.models$.next(t.models)})}}]),i}(Pt);return t.\u0275fac=function(n){return(e||(e=d.n5z(t)))(n||t)},t.\u0275cmp=d.Xpm({type:t,selectors:[["search-settings"]],hostAttrs:[1,"settings-panel"],features:[d.qOj],decls:53,vars:22,consts:[[1,"header"],["trans","",1,"title"],["trans","",1,"subtitle"],["ngNativeValidate","",1,"body","many-inputs",3,"submit"],["id","search_group",1,"error-group","many-inputs","no-border-top"],[1,"input-container"],["for","scout.driver","trans",""],["name","scout.driver","id","scout.driver",3,"ngModel","ngModelChange"],["value","mysql"],["value","meilisearch"],["value","tntsearch"],["value","Matchish\\ScoutElasticSearch\\Engines\\ElasticSearchEngine"],["value","algolia"],["trans",""],["class","input-container",4,"ngIf"],[4,"ngIf"],["class","error",3,"innerHTML",4,"ngIf"],["class","widget widget-info widget-important",4,"ngIf"],[1,"widget","widget-flat"],[1,"import-flex"],["for","searchable-model","trans","",1,"hidden"],["id","searchable-model",3,"formControl"],["trans","",3,"ngValue"],["trans","",3,"ngValue",4,"ngFor","ngForOf"],["type","button","mat-stroked-button","","color","accent","trans","",3,"disabled","click"],["mat-raised-button","","color","accent","type","submit","trans","",1,"update-button",3,"disabled"],["mode","indeterminate","color","accent",4,"ngIf"],["for","mysql-mode","trans",""],["name","mysql-mode","id","mysql-mode",3,"ngModel","ngModelChange"],["value","basic"],["value","extended"],["value","fulltext"],["for","scout.algolia_app_id","trans",""],["name","scout.algolia_app_id","id","scout.algolia_app_id","required","",3,"ngModel","ngModelChange"],["for","scout.algolia_secret","trans",""],["name","scout.algolia_secret","id","scout.algolia_secret","required","",3,"ngModel","ngModelChange"],[1,"error",3,"innerHTML"],[1,"widget","widget-info","widget-important"],["href","https://www.meilisearch.com","target","_blank"],["href","https://www.elastic.co/elasticsearch","target","_blank"],["mode","indeterminate","color","accent"]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d._uU(2,"Search"),d.qZA(),d.TgZ(3,"div",2),d._uU(4," Configure search method used on the site as well as related 3rd party integrations. "),d.qZA(),d.qZA(),d.TgZ(5,"form",3),d.NdJ("submit",function(){return t.saveSettings()}),d.TgZ(6,"div",4),d.TgZ(7,"div",5),d.TgZ(8,"label",6),d._uU(9,"Search Method"),d.qZA(),d.TgZ(10,"select",7),d.NdJ("ngModelChange",function(e){return t.state.server.scout_driver=e})("ngModelChange",function(){return t.clearErrors()}),d.TgZ(11,"option",8),d._uU(12,"Mysql"),d.qZA(),d.TgZ(13,"option",9),d._uU(14,"Meilisearch"),d.qZA(),d.TgZ(15,"option",10),d._uU(16,"TNTSearch"),d.qZA(),d.TgZ(17,"option",11),d._uU(18," Elasticsearch "),d.qZA(),d.TgZ(19,"option",12),d._uU(20,"Algolia"),d.qZA(),d.qZA(),d.TgZ(21,"p",13),d._uU(22,"Which method should be used for search related functionality across the site."),d.qZA(),d.qZA(),d.YNc(23,bc,10,1,"div",14),d.YNc(24,_c,9,2,"ng-container",15),d.YNc(25,Zc,1,1,"p",16),d.ALo(26,"async"),d.qZA(),d.YNc(27,yc,7,0,"div",17),d.YNc(28,xc,7,0,"div",17),d.TgZ(29,"div",18),d.TgZ(30,"div",1),d._uU(31,"Import Records"),d.qZA(),d.TgZ(32,"p",13),d._uU(33," Whenever a new search method is enabled, records that already exist in database need to be imported into the index. All records created after search method is enabled will be imported automatically. "),d.qZA(),d.TgZ(34,"p"),d._uU(35," Depending on number of records in database, importing could take some time. Don't close this window while it is in progress. "),d.qZA(),d.TgZ(36,"div",19),d.TgZ(37,"div",5),d.TgZ(38,"label",20),d._uU(39,"Record Type"),d.qZA(),d.TgZ(40,"select",21),d.TgZ(41,"option",22),d._uU(42,"All"),d.qZA(),d.YNc(43,kc,2,2,"option",23),d.ALo(44,"async"),d.qZA(),d.qZA(),d.TgZ(45,"button",24),d.NdJ("click",function(){return t.importRecords()}),d.ALo(46,"async"),d._uU(47," Import Now "),d.qZA(),d.qZA(),d.qZA(),d.TgZ(48,"button",25),d.ALo(49,"async"),d._uU(50," Update "),d.qZA(),d.YNc(51,Ac,1,0,"mat-progress-bar",26),d.ALo(52,"async"),d.qZA()),2&e&&(d.xp6(10),d.Q6J("ngModel",t.state.server.scout_driver),d.xp6(13),d.Q6J("ngIf","mysql"===t.state.server.scout_driver),d.xp6(1),d.Q6J("ngIf","algolia"===t.state.server.scout_driver),d.xp6(1),d.Q6J("ngIf",d.lcZ(26,12,t.state.errors$).search_group),d.xp6(2),d.Q6J("ngIf","meilisearch"===t.state.server.scout_driver),d.xp6(1),d.Q6J("ngIf","elastic"===t.state.server.scout_driver),d.xp6(12),d.Q6J("formControl",t.searchableModelControl),d.xp6(1),d.Q6J("ngValue",null),d.xp6(2),d.Q6J("ngForOf",d.lcZ(44,14,t.models$)),d.xp6(2),d.Q6J("disabled",d.lcZ(46,16,t.state.loading$)),d.xp6(3),d.Q6J("disabled",d.lcZ(49,18,t.state.loading$)),d.xp6(3),d.Q6J("ngIf",d.lcZ(52,20,t.state.loading$)))},directives:[Nt.P,u.JL,u.F,u.EJ,u.JJ,u.On,u.YN,u.Kr,l.O5,u.oH,l.sg,Z.lW,u.Fj,u.Q7,J.pW],pipes:[l.Ov],styles:[".import-flex[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:15px}.import-flex[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{max-width:100px}.import-flex[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{line-height:46px;margin-top:0;margin-left:10px}"]}),t}(),Tc=function(){var e=function(){function e(t){p(this,e),this.http=t}return h(e,[{key:"all",value:function(t){return this.http.get(e.BASE_URI,t)}},{key:"forCommentable",value:function(e){return this.http.get("commentable/comments",e)}},{key:"get",value:function(t){return this.http.get("".concat(e.BASE_URI,"/").concat(t))}},{key:"create",value:function(t){return this.http.post(e.BASE_URI,t)}},{key:"update",value:function(t,n){return this.http.put("".concat(e.BASE_URI,"/").concat(t),n)}},{key:"delete",value:function(t){return this.http.delete("".concat(e.BASE_URI,"/").concat(t))}},{key:"restore",value:function(t){return this.http.post("".concat(e.BASE_URI,"/restore"),{commentIds:t})}}]),e}();return e.BASE_URI="comment",e.\u0275fac=function(t){return new(t||e)(d.LFG(g.r))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Cc=[new yo.XQ({type:yo.Bq.Select,key:"deleted",label:"Type",defaultValue:!1,description:"Whether comment is active or deleted.",options:[{key:"Active",value:!1},{key:"Deleted",value:!0}]}),new yo.XQ({type:yo.Bq.SelectModel,key:"user_id",label:"User",description:"User comment was created by",component:ar.y}),new xo.T7({description:"Date comment was created"}),new xo.yH({description:"Date comment was last updated"})],qc=o(60994);function Uc(e,t){1&e&&d._UZ(0,"mat-progress-bar",13)}function Ic(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",18),d.NdJ("click",function(){return d.CHM(n),d.oxw(2).maybeDeleteComments()}),d._uU(1," Delete "),d.qZA()}}var Mc=function(e){return{count:e,resource:"comment(s)"}};function Oc(e,t){if(1&e&&(d.TgZ(0,"tr"),d.TgZ(1,"th",14),d.TgZ(2,"div",15),d._uU(3," :count :resource selected: "),d.qZA(),d.TgZ(4,"div",16),d.YNc(5,Ic,2,0,"button",17),d.qZA(),d.qZA(),d.qZA()),2&e){var n=t.ngIf,i=d.oxw();d.xp6(2),d.Q6J("transValues",d.VKq(2,Mc,n)),d.xp6(3),d.Q6J("ngIf",i.currentUser.hasPermission("comments.delete"))}}function Jc(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",30),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw().maybeDeleteComments(e)}),d._uU(1," Delete "),d.qZA()}}function Pc(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"button",31),d.NdJ("click",function(){d.CHM(n);var e=d.oxw().$implicit;return d.oxw().restoreComment(e)}),d._uU(1," Restore "),d.qZA()}}function Nc(e,t){if(1&e&&(d.TgZ(0,"tr"),d._UZ(1,"td",19),d.TgZ(2,"td",20),d._uU(3),d.qZA(),d.TgZ(4,"td"),d.TgZ(5,"div",21),d._UZ(6,"img",22),d.TgZ(7,"a",23),d.TgZ(8,"div"),d._uU(9),d.qZA(),d.TgZ(10,"div",24),d._uU(11),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(12,"td"),d._UZ(13,"user-column",25),d.qZA(),d.TgZ(14,"td",26),d._uU(15),d.ALo(16,"formattedDate"),d.qZA(),d.TgZ(17,"td",27),d.YNc(18,Jc,2,0,"button",28),d.YNc(19,Pc,2,0,"button",29),d.qZA(),d.qZA()),2&e){var n=t.$implicit,i=d.oxw();d.xp6(1),d.Q6J("table-body-checkbox",n.id),d.xp6(2),d.Oqu(n.content),d.xp6(3),d.Q6J("src",n.commentable.image,d.LSH),d.xp6(1),d.Q6J("routerLink",i.url.generate(n.commentable)),d.xp6(2),d.Oqu(n.commentable.name),d.xp6(2),d.Oqu(n.commentable.model_type),d.xp6(2),d.Q6J("user",n.user),d.xp6(2),d.Oqu(d.lcZ(16,10,n.created_at)),d.xp6(3),d.Q6J("ngIf",!n.deleted),d.xp6(1),d.Q6J("ngIf",n.deleted)}}function Sc(e,t){1&e&&(d.TgZ(0,"no-results-message",32),d.TgZ(1,"span",33),d._uU(2,"No comments have been created yet"),d.qZA(),d.qZA())}var Dc,Qc,Yc=[{path:"",component:mt,canActivate:[vt.a,bt.d],canActivateChild:[vt.a,bt.d],data:{permissions:["admin.access"],adminRoot:!0},children:[{path:"",redirectTo:"analytics",pathMatch:"full"},{path:"analytics",loadChildren:function(){return o.e(817).then(o.bind(o,11817)).then(function(e){return e.AnalyticsModule})},canActivate:[vt.a],canActivateChild:[vt.a],data:{permissions:["reports.view"]}},{path:"users",component:Fo,data:{permissions:["users.view"]}},{path:"roles",component:Fr,data:{permissions:["roles.view"]}},{path:"translations",component:_s,data:{permissions:["localizations.view"]}},{path:"tags",component:fc,data:{permissions:["tags.view"]}},{path:"files",component:Us,data:{permissions:["files.view"]}},{path:"comments",component:(Dc=function(){function e(t,n,i,a,o,r){p(this,e),this.comments=t,this.currentUser=n,this.settings=i,this.toast=a,this.datatable=o,this.url=r,this.comments$=this.datatable.data$,this.filters=Cc}return h(e,[{key:"ngOnInit",value:function(){this.datatable.init({uri:Tc.BASE_URI,staticParams:{with:["commentable"]}})}},{key:"ngOnDestroy",value:function(){this.datatable.destroy()}},{key:"makeRolesList",value:function(e){return e.slice(0,3).map(function(e){return e.name}).join(", ")}},{key:"maybeDeleteComments",value:function(e){var t=this;this.datatable.confirmResourceDeletion("comments").subscribe(function(){t.comments.delete(e?[e.id]:t.datatable.selectedRows$.value).subscribe(function(){t.datatable.reset(),t.toast.open("Comments deleted")},function(e){t.toast.open(e.message||xa.v.Default)})})}},{key:"restoreComment",value:function(e){var t=this;this.comments.restore([e.id]).subscribe(function(){t.datatable.reset(),t.toast.open("Comment restored")})}}]),e}(),Dc.\u0275fac=function(e){return new(e||Dc)(d.Y36(Tc),d.Y36(Aa.I),d.Y36(pt.Z),d.Y36(Ut.F),d.Y36(Zo.x),d.Y36(qc.o))},Dc.\u0275cmp=d.Xpm({type:Dc,selectors:[["user-index"]],features:[d._Bn([Zo.x])],decls:28,vars:11,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","comments",3,"filters"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","user_id","trans",""],["table-sort-header","","trans",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","public-discussion.svg",4,"ngIf"],["mode","indeterminate","color","accent",1,"loading-bar"],["colspan","6"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["mat-raised-button","","color","warn","trans","",3,"click",4,"ngIf"],["mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],["data-label","Content"],[1,"column-with-image"],["alt","",3,"src"],["target","_blank",1,"link",3,"routerLink"],[1,"secondary","capitalize"],[3,"user"],["data-label","Created At"],[1,"edit-column"],["mat-button","","color","warn","trans","",3,"click",4,"ngIf"],["mat-button","","color","accent","trans","",3,"click",4,"ngIf"],["mat-button","","color","warn","trans","",3,"click"],["mat-button","","color","accent","trans","",3,"click"],["svgImage","public-discussion.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h1",1),d._uU(2,"Comments"),d.qZA(),d.TgZ(3,"div",2),d._UZ(4,"datatable-filters",3),d.qZA(),d.qZA(),d.TgZ(5,"div",4),d.YNc(6,Uc,1,0,"mat-progress-bar",5),d.ALo(7,"async"),d.TgZ(8,"table",6),d.TgZ(9,"thead"),d.TgZ(10,"tr"),d._UZ(11,"th",7),d.TgZ(12,"th",1),d._uU(13,"Content"),d.qZA(),d.TgZ(14,"th",1),d._uU(15,"Commentable"),d.qZA(),d.TgZ(16,"th",8),d._uU(17,"User"),d.qZA(),d.TgZ(18,"th",9),d._uU(19,"Created At"),d.qZA(),d._UZ(20,"th"),d.qZA(),d.YNc(21,Oc,6,4,"tr",10),d.qZA(),d.TgZ(22,"tbody"),d.YNc(23,Nc,20,12,"tr",11),d.ALo(24,"async"),d.qZA(),d.qZA(),d.YNc(25,Sc,3,0,"no-results-message",12),d.ALo(26,"async"),d._UZ(27,"datatable-footer"),d.qZA()),2&e&&(d.xp6(4),d.Q6J("filters",t.filters),d.xp6(2),d.Q6J("ngIf",d.lcZ(7,5,t.datatable.paginator&&t.datatable.paginator.loading$)),d.xp6(15),d.Q6J("ngIf",t.datatable.selectedRows$.value.length),d.xp6(2),d.Q6J("ngForOf",d.lcZ(24,7,t.comments$)),d.xp6(2),d.Q6J("ngIf",d.lcZ(26,9,t.datatable.paginator.noResults$)))},directives:[Nt.P,wo.h,l.O5,To.e,Co.p,l.sg,qo.V,J.pW,Z.lW,Uo.O,f.yS,Io.r,Mo.U],pipes:[l.Ov,En.l],styles:[".mat-column-email[_ngcontent-%COMP%]{margin-right:15px}"],changeDetection:0}),Dc),data:{permissions:["comments.view"]}},{path:"ads",component:Ps,data:{permissions:["ads.update"]}},{path:"custom-pages",component:mc.c,data:{permissions:["custom_pages.view"],name:"Custom Pages"}},{path:"custom-pages/new",component:vc.e,data:{permissions:["custom_pages.create"],name:"Add New Page"}},{path:"custom-pages/:id/edit",component:vc.e,data:{permissions:["custom_pages.update"],name:"Edit Page"}},{path:"plans",component:ml,canActivate:[vl.Y],data:{permissions:["plans.view"]}},{path:"subscriptions",component:Fl,canActivate:[vl.Y],data:{permissions:["subscriptions.view"]}}].concat(Ht,[{path:"settings",component:sn,resolve:{settings:m},data:{permissions:["settings.view"]},children:[{path:"",redirectTo:"general",pathMatch:"full"},{path:"general",component:bn,pathMatch:"full"},{path:"authentication",component:In},{path:"cache",component:Nn},{path:"analytics",component:Ln},{path:"localization",component:Hn},{path:"mail",component:pi},{path:"logging",component:mi},{path:"queue",component:yi},{path:"billing",component:Ji},{path:"uploading",component:da},{path:"recaptcha",component:Za},{path:"gdpr",component:Xl},{path:"search",component:wc}].concat(zt)}])},{path:"appearance",loadChildren:function(){return o.e(540).then(o.bind(o,35540)).then(function(e){return e.AppAppearanceModule})},canActivate:[vt.a],canActivateChild:[vt.a],data:{permissions:["appearance.update"]}}],Lc=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[f.Bz.forChild(Yc)],f.Bz]}),e}(),Ec=o(99808),Fc=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[l.ez,u.UX,D.N,Ec.p,F.Ps,k.Is]]}),e}(),Rc=o(20673),$c=o(29779),Vc=o(58666),Bc=o(90723),Hc=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[l.ez,k.Is,Z.ot,F.Ps],F.Ps]}),e}(),zc=o(29828),Gc=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[l.ez,D.N,Z.ot,F.Ps,x.Hi]]}),e}(),jc=o(47878),Xc=o(68692),Wc=o(4182),Kc=o(15595),eu=o(51685),tu=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[l.ez,D.N,u.u5,u.UX],l.ez]}),e}(),nu=o(85786),iu=o(63380),au=function(){var e=function e(t){p(this,e),this.settings=t,this.settings.merge({vebto:st})};return e.\u0275fac=function(t){return new(t||e)(d.LFG(pt.Z))},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({providers:[It.u],imports:[[f.Bz,l.ez,u.u5,u.UX,H.y,B,Rc.l,$c.N,lt.J,Q,eu.x,R.X,D.N,Vc.u,Ec.p,Bc.a,Hc,zc.I,Gc,Lc,jc.k,tu,nu.c,iu.M,Z.ot,F.Ps,S.AV,k.Is,O.Tx,P.rP,x.Hi,_.Bb,ut._t,J.Cv,rt.To,q.us,ot,q.XK,Xc.X,Wc.S,ct,q.si,Fc,Kc.m],f.Bz,l.ez,u.u5,u.UX,H.y,B,D.N,R.X,Hc,eu.x,Z.ot,F.Ps,N.ZX,y.p9,S.AV,k.Is,O.Tx,P.rP,x.Hi]}),e}(),ou=o(66445),ru=((Qc=function e(){p(this,e)}).\u0275fac=function(e){return new(e||Qc)},Qc.\u0275mod=d.oAB({type:Qc}),Qc.\u0275inj=d.cJS({providers:[{provide:$,multi:!0,useValue:[{name:"Link Creation",key:"recaptcha.enable_for_link_creation",description:"Enable recaptcha integration when creating links from homepage or user dashboard."}]}],imports:[[l.ez,u.UX,au,Hc,ou.DashboardModule,Y.G,J.Cv,L.Nh]]}),Qc)},38193:function(t,n,i){"use strict";i.d(n,{w:function(){return Sn}});var a=i(56238),o=i(78512),r=i(11520),s=i(66599),u=i(87829),d=i(4694),g=i(35366),f=i(76512),m=i(73234),v=i(31041),b=i(68515),_=function(){var e=function(){function e(t){p(this,e),this.http=t}return h(e,[{key:"create",value:function(e,t,n,i){return this.http.post("biolink/".concat(e,"/widget"),{type:t,position:n,config:i})}},{key:"update",value:function(e,t,n){return this.http.put("biolink/".concat(e,"/widget/").concat(t),{config:n})}},{key:"delete",value:function(e,t){return this.http.delete("biolink/".concat(e,"/widget/").concat(t))}}]),e}();return e.BASE_URI="biolink-widgets",e.\u0275fac=function(t){return new(t||e)(g.LFG(b.r))},e.\u0275prov=g.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Z=i(24859),y={links:0,appearance:1,settings:2},x=function(){var t=function(){function t(e,n,i,a,r){p(this,t),this.biolinks=e,this.toast=n,this.fb=i,this.widgets=a,this.modal=r,this.biolink$=new o.X(null),this.loading$=new o.X(!1),this.activeTab$=new o.X(y.links),this.appearanceForm=this.fb.group({fontConfig:{},btnConfig:this.fb.group({color:this.fb.control(""),variant:this.fb.control(""),type:this.fb.control("")}),bgConfig:{}})}return h(t,[{key:"saveAppearance",value:function(){var e=this;return this.loading$.next(!0),this.biolinks.saveAppearance(this.biolink$.value.id,this.appearanceForm.value).pipe((0,r.x)(function(){return e.loading$.next(!1)})).subscribe(function(){e.toast.open("Appearance saved")})}},{key:"reloadBiolink",value:function(e){var t=this;e=e||this.biolink$.value.id,this.loading$.next(!0),this.biolinks.get(e,{with:["appearance","rules","pixels","domain"]}).pipe((0,r.x)(function(){return t.loading$.next(!1)})).subscribe(function(e){var n;t.biolink$.next(e.biolink),t.appearanceForm.patchValue(null===(n=e.biolink.appearance)||void 0===n?void 0:n.config)})}},{key:"crupdateWidget",value:function(e,t,n){var i=this;return this.loading$.next(!0),(e?this.widgets.update(this.biolink$.value.id,e,n):this.widgets.create(this.biolink$.value.id,t,this.biolink$.value.content.length+1,n)).pipe((0,r.x)(function(){return i.loading$.next(!1)}),(0,s.b)(function(){return i.reloadBiolink()}))}},{key:"openCrupdateLinkDialog",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.modal.open(u.P,Object.assign(Object.assign({},{groups:e({},this.biolink$.value.id,t?{}:{position:this.biolink$.value.content.length+1}),link:t,featuresToHide:{alias:!0,domain:!0,linkGroups:!0,tags:!0}}),i)).afterClosed().subscribe(function(e){e&&n.reloadBiolink()})}},{key:"maybeDeleteContentItem",value:function(e){var t=this;this.modal.open(d.z,{title:"Delete Widget",body:"Are you sure you want to delete this ".concat(e.model_type,"?"),ok:"Delete"}).afterClosed().subscribe(function(n){n&&(t.loading$.next(!0),t.biolinks.detach(t.biolink$.value.id,e).pipe((0,r.x)(function(){return t.loading$.next(!1)})).subscribe(function(){t.reloadBiolink(t.biolink$.value.id)}))})}},{key:"updateContentItemConfig",value:function(e,t){var n=this;this.loading$.next(!0),this.biolinks.updateContentItemConfig(this.biolink$.value.id,e,t).pipe((0,r.x)(function(){return n.loading$.next(!1)})).subscribe(function(){n.reloadBiolink()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.LFG(f.n),g.LFG(m.F),g.LFG(v.qu),g.LFG(_),g.LFG(Z.u))},t.\u0275prov=g.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),k=i(63337),A=i(88195),w=i(57173),T=i(61116),C=i(24637),q=i(92935),U=i(77307),I=i(6006),M=i(38116),O=i(84369);function J(e,t){1&e&&(g.TgZ(0,"span",19),g._uU(1,"Update image widget"),g.qZA())}function P(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"Add image widget"),g.qZA())}function N(e,t){1&e&&(g.TgZ(0,"span",19),g._uU(1,"Update"),g.qZA())}function S(e,t){1&e&&(g.TgZ(0,"span",19),g._uU(1,"Add"),g.qZA())}var D=function(){var e=function(){function e(t,n,i){p(this,e),this.dialogRef=t,this.data=n,this.editor=i,this.form=new v.cw({url:new v.NI,destinationUrl:new v.NI,type:new v.NI("default")}),n.config&&this.form.patchValue(n.config)}return h(e,[{key:"createOrUpdate",value:function(){var e=this;this.editor.crupdateWidget(this.data.widgetId,"image",this.form.value).subscribe(function(t){e.dialogRef.close(t.widget)})}},{key:"close",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(q.so),g.Y36(q.WI),g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["image-widget-modal"]],decls:28,vars:8,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["trans","",4,"ngIf"],[4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["mat-dialog-content","",1,"many-inputs"],["formControlName","url"],[1,"input-container"],["for","image-widget-type","trans","",1,"capitalize"],["id","image-widget-type","formControlName","type"],["value","default","trans",""],["value","avatar","trans",""],["for","image-widget-link","cdkFocusInitial","","trans","",1,"capitalize"],["type","url","id","image-widget-link","placeholder","Optional...","trans-placeholder","","formControlName","destinationUrl"],["mat-dialog-actions","",1,"buttons","right"],["type","button","mat-button","","trans","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary","submit-button",3,"disabled"],["trans",""]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g.YNc(2,J,2,0,"span",2),g.YNc(3,P,2,0,"span",3),g.qZA(),g.TgZ(4,"button",4),g.NdJ("click",function(){return t.close()}),g._UZ(5,"mat-icon",5),g.qZA(),g.qZA(),g.TgZ(6,"form",6),g.NdJ("ngSubmit",function(){return t.createOrUpdate()}),g.TgZ(7,"div",7),g._UZ(8,"upload-image-control",8),g.TgZ(9,"div",9),g.TgZ(10,"label",10),g._uU(11,"Type"),g.qZA(),g.TgZ(12,"select",11),g.TgZ(13,"option",12),g._uU(14,"Default"),g.qZA(),g.TgZ(15,"option",13),g._uU(16,"Avatar"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"div",9),g.TgZ(18,"label",14),g._uU(19,"Destination Url"),g.qZA(),g._UZ(20,"input",15),g.qZA(),g.qZA(),g.TgZ(21,"div",16),g.TgZ(22,"button",17),g.NdJ("click",function(){return t.close()}),g._uU(23," Cancel "),g.qZA(),g.TgZ(24,"button",18),g.ALo(25,"async"),g.YNc(26,N,2,0,"span",2),g.YNc(27,S,2,0,"span",2),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config),g.xp6(3),g.Q6J("formGroup",t.form),g.xp6(18),g.Q6J("disabled",g.lcZ(25,6,t.editor.loading$)),g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config))},directives:[q.uh,T.O5,U.Hw,v.JL,v.sg,q.xY,I.V,v.JJ,v.u,M.P,v.EJ,v.YN,v.Kr,v.Fj,q.H8,O.lW],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}upload-image-control[_ngcontent-%COMP%]{margin:0 auto 25px}"],changeDetection:0}),e}(),Q=i(10487);function Y(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update youtube widget"),g.qZA())}function L(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"Add youtube widget"),g.qZA())}function E(e,t){if(1&e&&(g.TgZ(0,"div",16),g._uU(1),g.qZA()),2&e){var n=t.ngIf;g.xp6(1),g.Oqu(n)}}function F(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update"),g.qZA())}function R(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Add"),g.qZA())}var $=function(){var e=function(){function e(t,n,i){var a,r;p(this,e),this.dialogRef=t,this.data=n,this.editor=i,this.errors$=new o.X({}),this.form=new v.cw({url:new v.NI("")}),(null===(a=n.config)||void 0===a?void 0:a.url)&&this.form.patchValue({url:null===(r=n.config)||void 0===r?void 0:r.url})}return h(e,[{key:"createOrUpdate",value:function(){var t=this;if(!(0,Q.Z)(this.form.value.url).id)return this.errors$.next({url:"This is not a valid youtube url."});this.editor.crupdateWidget(this.data.widgetId,e.type,this.form.value).subscribe(function(e){t.dialogRef.close(e.widget)})}},{key:"close",value:function(){this.dialogRef.close()}}]),e}();return e.type="youtubeEmbed",e.\u0275fac=function(t){return new(t||e)(g.Y36(q.so),g.Y36(q.WI),g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["youtube-widget-modal"]],decls:21,vars:11,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["trans","",4,"ngIf"],[4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"input-container"],["for","youtube-widget-url","trans",""],["type","url","id","youtube-widget-url","formControlName","url","placeholder","https://www.youtube.com/watch?v=YE7VzlLtp-4","cdkFocusInitial","","required",""],["class","error","trans","",4,"ngIf"],["mat-dialog-actions","",1,"buttons","right"],["type","button","mat-button","","trans","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary","submit-button",3,"disabled"],["trans",""],["trans","",1,"error"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g.YNc(2,Y,2,0,"span",2),g.YNc(3,L,2,0,"span",3),g.qZA(),g.TgZ(4,"button",4),g.NdJ("click",function(){return t.close()}),g._UZ(5,"mat-icon",5),g.qZA(),g.qZA(),g.TgZ(6,"form",6),g.NdJ("ngSubmit",function(){return t.createOrUpdate()}),g.TgZ(7,"div",7),g.TgZ(8,"div",8),g.TgZ(9,"label",9),g._uU(10,"Youtube Url"),g.qZA(),g._UZ(11,"input",10),g.YNc(12,E,2,1,"div",11),g.ALo(13,"async"),g.qZA(),g.qZA(),g.TgZ(14,"div",12),g.TgZ(15,"button",13),g.NdJ("click",function(){return t.close()}),g._uU(16," Cancel "),g.qZA(),g.TgZ(17,"button",14),g.ALo(18,"async"),g.YNc(19,F,2,0,"span",2),g.YNc(20,R,2,0,"span",2),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config),g.xp6(3),g.Q6J("formGroup",t.form),g.xp6(6),g.Q6J("ngIf",g.lcZ(13,7,t.errors$).url),g.xp6(5),g.Q6J("disabled",g.lcZ(18,9,t.editor.loading$)),g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config))},directives:[q.uh,T.O5,U.Hw,v.JL,v.sg,q.xY,M.P,v.Fj,v.JJ,v.u,v.Q7,q.H8,O.lW],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}upload-image-control[_ngcontent-%COMP%]{margin:0 auto 25px}"],changeDetection:0}),e}();function V(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update soundcloud widget"),g.qZA())}function B(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"Add soundcloud widget"),g.qZA())}function H(e,t){if(1&e&&(g.TgZ(0,"div",16),g._uU(1),g.qZA()),2&e){var n=t.ngIf;g.xp6(1),g.Oqu(n)}}function z(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update"),g.qZA())}function G(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Add"),g.qZA())}var j=function(){var e=function(){function e(t,n,i,a){p(this,e),this.dialogRef=t,this.data=n,this.http=i,this.editor=a,this.errors$=new o.X({}),this.form=new v.cw({url:new v.NI("")}),n.config&&this.form.patchValue(n.config)}return h(e,[{key:"createOrUpdate",value:function(){var t=this;this.editor.loading$.next(!0);var n=encodeURIComponent(this.form.value.url);this.http.get("https://soundcloud.com/oembed?format=json&url="+n).subscribe(function(n){var i=n.html;if(!i)return t.editor.loading$.next(!1),t.errors$.next({url:"This is not a valid soundcloud url."});i=i.replace('height="400"','height="180"'),t.editor.crupdateWidget(t.data.widgetId,e.type,{embedCode:i,url:t.form.value.url}).subscribe(function(e){t.dialogRef.close(e.widget)})},function(){t.editor.loading$.next(!1),t.errors$.next({url:"Could not get soundcloud embed code, try again later."})})}},{key:"close",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(q.so),g.Y36(q.WI),g.Y36(b.r),g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["soundcloud-widget-modal"]],decls:21,vars:11,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["trans","",4,"ngIf"],[4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"input-container"],["for","soundcloud-widget-url","trans",""],["type","url","id","soundcloud-widget-url","formControlName","url","placeholder","https://soundcloud.com/arianagrande/ariana-grande-test-drive","cdkFocusInitial","","required",""],["class","error","trans","",4,"ngIf"],["mat-dialog-actions","",1,"buttons","right"],["type","button","mat-button","","trans","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary","submit-button",3,"disabled"],["trans",""],["trans","",1,"error"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g.YNc(2,V,2,0,"span",2),g.YNc(3,B,2,0,"span",3),g.qZA(),g.TgZ(4,"button",4),g.NdJ("click",function(){return t.close()}),g._UZ(5,"mat-icon",5),g.qZA(),g.qZA(),g.TgZ(6,"form",6),g.NdJ("ngSubmit",function(){return t.createOrUpdate()}),g.TgZ(7,"div",7),g.TgZ(8,"div",8),g.TgZ(9,"label",9),g._uU(10,"Soundcloud Url"),g.qZA(),g._UZ(11,"input",10),g.YNc(12,H,2,1,"div",11),g.ALo(13,"async"),g.qZA(),g.qZA(),g.TgZ(14,"div",12),g.TgZ(15,"button",13),g.NdJ("click",function(){return t.close()}),g._uU(16," Cancel "),g.qZA(),g.TgZ(17,"button",14),g.ALo(18,"async"),g.YNc(19,z,2,0,"span",2),g.YNc(20,G,2,0,"span",2),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config),g.xp6(3),g.Q6J("formGroup",t.form),g.xp6(6),g.Q6J("ngIf",g.lcZ(13,7,t.errors$).url),g.xp6(5),g.Q6J("disabled",g.lcZ(18,9,t.editor.loading$)),g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config))},directives:[q.uh,T.O5,U.Hw,v.JL,v.sg,q.xY,M.P,v.Fj,v.JJ,v.u,v.Q7,q.H8,O.lW],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}upload-image-control[_ngcontent-%COMP%]{margin:0 auto 25px}"],changeDetection:0}),e}();function X(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update vimeo widget"),g.qZA())}function W(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"Add vimeo widget"),g.qZA())}function K(e,t){if(1&e&&(g.TgZ(0,"div",16),g._uU(1),g.qZA()),2&e){var n=t.ngIf;g.xp6(1),g.Oqu(n)}}function ee(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update"),g.qZA())}function te(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Add"),g.qZA())}var ne=function(){var e=function(){function e(t,n,i){var a,r;p(this,e),this.dialogRef=t,this.data=n,this.editor=i,this.errors$=new o.X({}),this.form=new v.cw({url:new v.NI("")}),(null===(a=n.config)||void 0===a?void 0:a.url)&&this.form.patchValue({url:null===(r=n.config)||void 0===r?void 0:r.url})}return h(e,[{key:"createOrUpdate",value:function(){var t=this;if(!(0,Q.Z)(this.form.value.url).id)return this.errors$.next({url:"This is not a valid vimeo url."});this.editor.crupdateWidget(this.data.widgetId,e.widgetType,this.form.value).subscribe(function(e){t.dialogRef.close(e.widget)})}},{key:"close",value:function(){this.dialogRef.close()}}]),e}();return e.widgetType="vimeoEmbed",e.\u0275fac=function(t){return new(t||e)(g.Y36(q.so),g.Y36(q.WI),g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["vimeo-widget-modal"]],decls:21,vars:11,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["trans","",4,"ngIf"],[4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"input-container"],["for","youtube-widget-url","trans",""],["type","url","id","youtube-widget-url","formControlName","url","placeholder","https://vimeo.com/1084537","cdkFocusInitial","","required",""],["class","error","trans","",4,"ngIf"],["mat-dialog-actions","",1,"buttons","right"],["type","button","mat-button","","trans","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary","submit-button",3,"disabled"],["trans",""],["trans","",1,"error"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g.YNc(2,X,2,0,"span",2),g.YNc(3,W,2,0,"span",3),g.qZA(),g.TgZ(4,"button",4),g.NdJ("click",function(){return t.close()}),g._UZ(5,"mat-icon",5),g.qZA(),g.qZA(),g.TgZ(6,"form",6),g.NdJ("ngSubmit",function(){return t.createOrUpdate()}),g.TgZ(7,"div",7),g.TgZ(8,"div",8),g.TgZ(9,"label",9),g._uU(10,"Vimeo Url"),g.qZA(),g._UZ(11,"input",10),g.YNc(12,K,2,1,"div",11),g.ALo(13,"async"),g.qZA(),g.qZA(),g.TgZ(14,"div",12),g.TgZ(15,"button",13),g.NdJ("click",function(){return t.close()}),g._uU(16," Cancel "),g.qZA(),g.TgZ(17,"button",14),g.ALo(18,"async"),g.YNc(19,ee,2,0,"span",2),g.YNc(20,te,2,0,"span",2),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config),g.xp6(3),g.Q6J("formGroup",t.form),g.xp6(6),g.Q6J("ngIf",g.lcZ(13,7,t.errors$).url),g.xp6(5),g.Q6J("disabled",g.lcZ(18,9,t.editor.loading$)),g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config))},directives:[q.uh,T.O5,U.Hw,v.JL,v.sg,q.xY,M.P,v.Fj,v.JJ,v.u,v.Q7,q.H8,O.lW],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}upload-image-control[_ngcontent-%COMP%]{margin:0 auto 25px}"],changeDetection:0}),e}(),ie=i(70110);function ae(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update spotify widget"),g.qZA())}function oe(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"Add spotify widget"),g.qZA())}function re(e,t){if(1&e&&(g.TgZ(0,"div",16),g._uU(1),g.qZA()),2&e){var n=t.ngIf;g.xp6(1),g.Oqu(n)}}function se(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update"),g.qZA())}function le(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Add"),g.qZA())}var ce=function(){var e=function(){function e(t,n,i){var a,r;p(this,e),this.dialogRef=t,this.data=n,this.editor=i,this.errors$=new o.X({}),this.form=new v.cw({url:new v.NI("")}),(null===(a=n.config)||void 0===a?void 0:a.url)&&this.form.patchValue({url:null===(r=n.config)||void 0===r?void 0:r.url})}return h(e,[{key:"createOrUpdate",value:function(){var t=this;if(!("id"in ie(this.form.value.url)))return this.errors$.next({url:"This is not a valid spotify url."});this.editor.crupdateWidget(this.data.widgetId,e.type,this.form.value).subscribe(function(e){t.dialogRef.close(e.widget)})}},{key:"close",value:function(){this.dialogRef.close()}}]),e}();return e.type="spotifyEmbed",e.\u0275fac=function(t){return new(t||e)(g.Y36(q.so),g.Y36(q.WI),g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["spotify-widget-modal"]],decls:21,vars:11,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["trans","",4,"ngIf"],[4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"input-container"],["for","spotify-widget-url","trans",""],["type","url","id","spotify-widget-url","formControlName","url","placeholder","https://open.spotify.com/track/2sqfLwGKXDw1nGjFhH3GGX?si=f329040f45804ec5","cdkFocusInitial","","required",""],["class","error","trans","",4,"ngIf"],["mat-dialog-actions","",1,"buttons","right"],["type","button","mat-button","","trans","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary","submit-button",3,"disabled"],["trans",""],["trans","",1,"error"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g.YNc(2,ae,2,0,"span",2),g.YNc(3,oe,2,0,"span",3),g.qZA(),g.TgZ(4,"button",4),g.NdJ("click",function(){return t.close()}),g._UZ(5,"mat-icon",5),g.qZA(),g.qZA(),g.TgZ(6,"form",6),g.NdJ("ngSubmit",function(){return t.createOrUpdate()}),g.TgZ(7,"div",7),g.TgZ(8,"div",8),g.TgZ(9,"label",9),g._uU(10,"Spotify Url"),g.qZA(),g._UZ(11,"input",10),g.YNc(12,re,2,1,"div",11),g.ALo(13,"async"),g.qZA(),g.qZA(),g.TgZ(14,"div",12),g.TgZ(15,"button",13),g.NdJ("click",function(){return t.close()}),g._uU(16," Cancel "),g.qZA(),g.TgZ(17,"button",14),g.ALo(18,"async"),g.YNc(19,se,2,0,"span",2),g.YNc(20,le,2,0,"span",2),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config),g.xp6(3),g.Q6J("formGroup",t.form),g.xp6(6),g.Q6J("ngIf",g.lcZ(13,7,t.errors$).url),g.xp6(5),g.Q6J("disabled",g.lcZ(18,9,t.editor.loading$)),g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config))},directives:[q.uh,T.O5,U.Hw,v.JL,v.sg,q.xY,M.P,v.Fj,v.JJ,v.u,v.Q7,q.H8,O.lW],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}upload-image-control[_ngcontent-%COMP%]{margin:0 auto 25px}"],changeDetection:0}),e}();function ue(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update twitch widget"),g.qZA())}function de(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"Add twitch widget"),g.qZA())}function pe(e,t){if(1&e&&(g.TgZ(0,"div",16),g._uU(1),g.qZA()),2&e){var n=t.ngIf;g.xp6(1),g.Oqu(n)}}function ge(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update"),g.qZA())}function he(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Add"),g.qZA())}var fe=function(){var e=function(){function e(t,n,i){var a,r;p(this,e),this.dialogRef=t,this.data=n,this.editor=i,this.errors$=new o.X({}),this.form=new v.cw({url:new v.NI("")}),(null===(a=n.config)||void 0===a?void 0:a.url)&&this.form.patchValue({url:null===(r=n.config)||void 0===r?void 0:r.url})}return h(e,[{key:"createOrUpdate",value:function(){var t=this;if(!this.form.value.url.includes("twitch.tv/"))return this.errors$.next({url:"This is not a valid twitch url."});this.editor.crupdateWidget(this.data.widgetId,e.type,this.form.value).subscribe(function(e){t.dialogRef.close(e.widget)})}},{key:"close",value:function(){this.dialogRef.close()}}]),e}();return e.type="twitchEmbed",e.\u0275fac=function(t){return new(t||e)(g.Y36(q.so),g.Y36(q.WI),g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["twitch-widget-modal"]],decls:21,vars:11,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["trans","",4,"ngIf"],[4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"input-container"],["for","twitch-widget-url","trans",""],["type","url","id","twitch-widget-url","formControlName","url","placeholder","https://www.twitch.tv/kasparovchess","cdkFocusInitial","","required",""],["class","error","trans","",4,"ngIf"],["mat-dialog-actions","",1,"buttons","right"],["type","button","mat-button","","trans","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary","submit-button",3,"disabled"],["trans",""],["trans","",1,"error"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g.YNc(2,ue,2,0,"span",2),g.YNc(3,de,2,0,"span",3),g.qZA(),g.TgZ(4,"button",4),g.NdJ("click",function(){return t.close()}),g._UZ(5,"mat-icon",5),g.qZA(),g.qZA(),g.TgZ(6,"form",6),g.NdJ("ngSubmit",function(){return t.createOrUpdate()}),g.TgZ(7,"div",7),g.TgZ(8,"div",8),g.TgZ(9,"label",9),g._uU(10,"Twitch Url"),g.qZA(),g._UZ(11,"input",10),g.YNc(12,pe,2,1,"div",11),g.ALo(13,"async"),g.qZA(),g.qZA(),g.TgZ(14,"div",12),g.TgZ(15,"button",13),g.NdJ("click",function(){return t.close()}),g._uU(16," Cancel "),g.qZA(),g.TgZ(17,"button",14),g.ALo(18,"async"),g.YNc(19,ge,2,0,"span",2),g.YNc(20,he,2,0,"span",2),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config),g.xp6(3),g.Q6J("formGroup",t.form),g.xp6(6),g.Q6J("ngIf",g.lcZ(13,7,t.errors$).url),g.xp6(5),g.Q6J("disabled",g.lcZ(18,9,t.editor.loading$)),g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config))},directives:[q.uh,T.O5,U.Hw,v.JL,v.sg,q.xY,M.P,v.Fj,v.JJ,v.u,v.Q7,q.H8,O.lW],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}upload-image-control[_ngcontent-%COMP%]{margin:0 auto 25px}"],changeDetection:0}),e}();function me(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update tiktok widget"),g.qZA())}function ve(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"Add tiktok widget"),g.qZA())}function be(e,t){if(1&e&&(g.TgZ(0,"div",16),g._uU(1),g.qZA()),2&e){var n=t.ngIf;g.xp6(1),g.Oqu(n)}}function _e(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Update"),g.qZA())}function Ze(e,t){1&e&&(g.TgZ(0,"span",15),g._uU(1,"Add"),g.qZA())}var ye=function(){var e=function(){function e(t,n,i){var a,r;p(this,e),this.dialogRef=t,this.data=n,this.editor=i,this.errors$=new o.X({}),this.form=new v.cw({url:new v.NI("")}),(null===(a=n.config)||void 0===a?void 0:a.url)&&this.form.patchValue({url:null===(r=n.config)||void 0===r?void 0:r.url})}return h(e,[{key:"createOrUpdate",value:function(){var t=this;if(!this.form.value.url.includes("tiktok.com/"))return this.errors$.next({url:"This is not a valid tiktok url."});this.editor.crupdateWidget(this.data.widgetId,e.type,this.form.value).subscribe(function(e){t.dialogRef.close(e.widget)})}},{key:"close",value:function(){this.dialogRef.close()}}]),e}();return e.type="tiktokEmbed",e.\u0275fac=function(t){return new(t||e)(g.Y36(q.so),g.Y36(q.WI),g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["tiktok-widget-modal"]],decls:21,vars:11,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["trans","",4,"ngIf"],[4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["mat-dialog-content",""],[1,"input-container"],["for","tiktok-widget-url","trans",""],["type","url","id","tiktok-widget-url","formControlName","url","placeholder","https://www.tiktok.com/@bts_official_bighit/video/6964945720885464322","cdkFocusInitial","","required",""],["class","error","trans","",4,"ngIf"],["mat-dialog-actions","",1,"buttons","right"],["type","button","mat-button","","trans","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary","submit-button",3,"disabled"],["trans",""],["trans","",1,"error"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g.YNc(2,me,2,0,"span",2),g.YNc(3,ve,2,0,"span",3),g.qZA(),g.TgZ(4,"button",4),g.NdJ("click",function(){return t.close()}),g._UZ(5,"mat-icon",5),g.qZA(),g.qZA(),g.TgZ(6,"form",6),g.NdJ("ngSubmit",function(){return t.createOrUpdate()}),g.TgZ(7,"div",7),g.TgZ(8,"div",8),g.TgZ(9,"label",9),g._uU(10,"TikTok Url"),g.qZA(),g._UZ(11,"input",10),g.YNc(12,be,2,1,"div",11),g.ALo(13,"async"),g.qZA(),g.qZA(),g.TgZ(14,"div",12),g.TgZ(15,"button",13),g.NdJ("click",function(){return t.close()}),g._uU(16," Cancel "),g.qZA(),g.TgZ(17,"button",14),g.ALo(18,"async"),g.YNc(19,_e,2,0,"span",2),g.YNc(20,Ze,2,0,"span",2),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config),g.xp6(3),g.Q6J("formGroup",t.form),g.xp6(6),g.Q6J("ngIf",g.lcZ(13,7,t.errors$).url),g.xp6(5),g.Q6J("disabled",g.lcZ(18,9,t.editor.loading$)),g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config))},directives:[q.uh,T.O5,U.Hw,v.JL,v.sg,q.xY,M.P,v.Fj,v.JJ,v.u,v.Q7,q.H8,O.lW],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}upload-image-control[_ngcontent-%COMP%]{margin:0 auto 25px}"],changeDetection:0}),e}();function xe(e,t){1&e&&(g.TgZ(0,"span",16),g._uU(1,"Update text widget"),g.qZA())}function ke(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"Add text widget"),g.qZA())}function Ae(e,t){1&e&&(g.TgZ(0,"span",16),g._uU(1,"Update"),g.qZA())}function we(e,t){1&e&&(g.TgZ(0,"span",16),g._uU(1,"Add"),g.qZA())}var Te=[{name:"Email",type:"mail",placeholder:"your@email.com",inputType:"email"},{name:"Facebook Url",type:"facebook",placeholder:"https://facebook.com/username",pattern:"https://facebook.com/[a-zA-Z0-9._]+$",inputType:"url"},{name:"Twitter Handle",type:"twitter",placeholder:"@yourtwitterhandle",pattern:"^@[A-Za-z0-9_]{1,15}$"},{name:"Instagram Username",type:"instagram",placeholder:"@instagramusername",pattern:"^@[a-zA-Z0-9._]+$"},{name:"TikTok Username",type:"tiktok",placeholder:"@tiktokusername",pattern:"^@[a-zA-Z0-9._]+$"},{name:"Youtube Channel Url",type:"youtube",placeholder:"https://youtube.com/channel/youtubechannelurl",inputType:"url",pattern:"https://youtube.com/channel/[a-zA-Z0-9._]+$"},{name:"SoundCloud Url",type:"soundcloud",placeholder:"https://soundcloud.com/username",inputType:"url",pattern:"https://soundcloud.com/[a-zA-Z0-9._]+$"},{name:"Bandcamp Url",type:"bandcamp",placeholder:"https://you.bandcamp.com",inputType:"url",pattern:"https://[a-zA-Z0-9._]+.bandcamp.com$"},{name:"LinkedIn Url",type:"linkedin",placeholder:"https://linkedin.com/in/username",inputType:"url",pattern:"https://linkedin.com/in/[a-zA-Z0-9._]+$"},{name:"WhatsApp",type:"whatsapp",placeholder:"+00000000000",pattern:"^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\\s\\./0-9]*$"},{name:"Telegram Url",type:"telegram",placeholder:"https://t.me/",inputType:"url",pattern:"https://t.me/[a-zA-Z0-9._]+$"},{name:"Twitch Url",type:"twitch",placeholder:"https://twitch.tv/username",inputType:"url",pattern:"https://twitch.tv/[a-zA-Z0-9._]+$"},{name:"Patreon Url",type:"patreon",placeholder:"https://patreon.com/username",inputType:"url",pattern:"https://patreon.com/[a-zA-Z0-9._]+$"},{name:"Pinterest Url",type:"pinterest",placeholder:"https://pinterest.com/",inputType:"url",pattern:"https://pinterest.com/.+"},{name:"Spotify Artist Url",type:"spotify",placeholder:"https://open.spotify.com/artist/artistname",inputType:"url",pattern:"https://open.spotify.com/artist/[a-zA-Z0-9._]+$"},{name:"Amazon Shop Url",type:"amazon",placeholder:"https://amazon.com/shop/yourshopname",inputType:"url",pattern:"https://amazon.com/shop/[a-zA-Z0-9._]+$"},{name:"Snapchat Url",type:"snapchat",placeholder:"https://www.snapchat.com/add/yourusername",inputType:"url",pattern:"https://www.snapchat.com/add/[a-zA-Z0-9._]+$"},{name:"Apple Music Url",type:"apple",placeholder:"https://music.apple.com/us/album/youralbum",inputType:"url",pattern:"https://music.apple.com/.+"}];function Ce(e,t){1&e&&(g.TgZ(0,"span",12),g._uU(1,"Update social links"),g.qZA())}function qe(e,t){1&e&&(g.TgZ(0,"span"),g._uU(1,"Add social links"),g.qZA())}function Ue(e,t){if(1&e&&(g.TgZ(0,"div",13),g.TgZ(1,"label",14),g._uU(2),g.qZA(),g._UZ(3,"input",15),g.qZA()),2&e){var n=t.$implicit;g.xp6(1),g.Q6J("for",n.name),g.xp6(1),g.Oqu(n.name),g.xp6(1),g.Q6J("type",n.inputType||"text")("pattern",n.pattern)("placeholder",n.placeholder)("id",n.name)("formControlName",n.type)}}function Ie(e,t){1&e&&(g.TgZ(0,"span",12),g._uU(1,"Update"),g.qZA())}function Me(e,t){1&e&&(g.TgZ(0,"span",12),g._uU(1,"Add"),g.qZA())}var Oe,Je,Pe=[{type:"image",image:"image.png",description:"Upload an image and optionally add a link it will redirect to when clicked.",component:D},{type:"text",image:"text.png",description:"Add title and optional description. Can be used as a header for the whole biolink or a group of multiple widgets.",component:(Je=function(){function e(t,n,i){p(this,e),this.dialogRef=t,this.data=n,this.editor=i,this.form=new v.cw({title:new v.NI,description:new v.NI}),n.config&&this.form.patchValue(n.config)}return h(e,[{key:"createOrUpdate",value:function(){var e=this;this.editor.crupdateWidget(this.data.widgetId,"text",this.form.value).subscribe(function(t){e.dialogRef.close(t.widget)})}},{key:"close",value:function(){this.dialogRef.close()}}]),e}(),Je.\u0275fac=function(e){return new(e||Je)(g.Y36(q.so),g.Y36(q.WI),g.Y36(x))},Je.\u0275cmp=g.Xpm({type:Je,selectors:[["text-widget-modal"]],decls:23,vars:8,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["trans","",4,"ngIf"],[4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["mat-dialog-content","",1,"many-inputs"],[1,"input-container"],["for","text-widget-title","trans","",1,"capitalize"],["cdkFocusInitial","","type","text","id","text-widget-title","formControlName","title","required",""],["for","text-widget-description","trans","",1,"capitalize"],["type","text","id","text-widget-description","formControlName","description"],["mat-dialog-actions","",1,"buttons","right"],["type","button","mat-button","","trans","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary","submit-button",3,"disabled"],["trans",""]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g.YNc(2,xe,2,0,"span",2),g.YNc(3,ke,2,0,"span",3),g.qZA(),g.TgZ(4,"button",4),g.NdJ("click",function(){return t.close()}),g._UZ(5,"mat-icon",5),g.qZA(),g.qZA(),g.TgZ(6,"form",6),g.NdJ("ngSubmit",function(){return t.createOrUpdate()}),g.TgZ(7,"div",7),g.TgZ(8,"div",8),g.TgZ(9,"label",9),g._uU(10,"Title"),g.qZA(),g._UZ(11,"input",10),g.qZA(),g.qZA(),g.TgZ(12,"div",8),g.TgZ(13,"label",11),g._uU(14,"Description"),g.qZA(),g._UZ(15,"input",12),g.qZA(),g.TgZ(16,"div",13),g.TgZ(17,"button",14),g.NdJ("click",function(){return t.close()}),g._uU(18," Cancel "),g.qZA(),g.TgZ(19,"button",15),g.ALo(20,"async"),g.YNc(21,Ae,2,0,"span",2),g.YNc(22,we,2,0,"span",2),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config),g.xp6(3),g.Q6J("formGroup",t.form),g.xp6(13),g.Q6J("disabled",g.lcZ(20,6,t.editor.loading$)),g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config))},directives:[q.uh,T.O5,U.Hw,v.JL,v.sg,q.xY,M.P,v.Fj,v.JJ,v.u,v.Q7,q.H8,O.lW],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}upload-image-control[_ngcontent-%COMP%]{margin:0 auto 25px}"],changeDetection:0}),Je)},{type:"socials",name:"Social Links",image:"socials.png",description:"Add your socials links to display them as icon buttons.",component:(Oe=function(){function e(t,n,i){var a=this;p(this,e),this.dialogRef=t,this.data=n,this.editor=i,this.services=Te,this.form=new v.cw({}),this.services.forEach(function(e){a.form.addControl(e.type,new v.NI)}),n.config&&this.form.patchValue(n.config)}return h(e,[{key:"createOrUpdate",value:function(){var e=this;this.editor.crupdateWidget(this.data.widgetId,"socials",this.form.value).subscribe(function(t){e.dialogRef.close(t.widget)})}},{key:"close",value:function(){this.dialogRef.close()}}]),e}(),Oe.\u0275fac=function(e){return new(e||Oe)(g.Y36(q.so),g.Y36(q.WI),g.Y36(x))},Oe.\u0275cmp=g.Xpm({type:Oe,selectors:[["socials-widget-modal"]],decls:16,vars:9,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["trans","",4,"ngIf"],[4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["mat-dialog-content","",1,"many-inputs"],["class","input-container",4,"ngFor","ngForOf"],["mat-dialog-actions","",1,"buttons","right"],["type","button","mat-button","","trans","",1,"button","cancel","cancel-button",3,"click"],["type","submit","mat-raised-button","","color","accent",1,"button","primary","submit-button",3,"disabled"],["trans",""],[1,"input-container"],["trans","",1,"capitalize",3,"for"],["autocomplete","false",3,"type","pattern","placeholder","id","formControlName"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g.YNc(2,Ce,2,0,"span",2),g.YNc(3,qe,2,0,"span",3),g.qZA(),g.TgZ(4,"button",4),g.NdJ("click",function(){return t.close()}),g._UZ(5,"mat-icon",5),g.qZA(),g.qZA(),g.TgZ(6,"form",6),g.NdJ("ngSubmit",function(){return t.createOrUpdate()}),g.TgZ(7,"div",7),g.YNc(8,Ue,4,7,"div",8),g.qZA(),g.TgZ(9,"div",9),g.TgZ(10,"button",10),g.NdJ("click",function(){return t.close()}),g._uU(11," Cancel "),g.qZA(),g.TgZ(12,"button",11),g.ALo(13,"async"),g.YNc(14,Ie,2,0,"span",2),g.YNc(15,Me,2,0,"span",2),g.qZA(),g.qZA(),g.qZA()),2&e&&(g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config),g.xp6(3),g.Q6J("formGroup",t.form),g.xp6(2),g.Q6J("ngForOf",t.services),g.xp6(4),g.Q6J("disabled",g.lcZ(13,7,t.editor.loading$)),g.xp6(2),g.Q6J("ngIf",t.data.config),g.xp6(1),g.Q6J("ngIf",!t.data.config))},directives:[q.uh,T.O5,U.Hw,v.JL,v.sg,q.xY,T.sg,q.H8,O.lW,M.P,v.Fj,v.c5,v.JJ,v.u],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}upload-image-control[_ngcontent-%COMP%]{margin:0 auto 25px}"],changeDetection:0}),Oe)},{name:"Youtube Video",type:"youtubeEmbed",image:"youtube.png",description:"Paste a YouTube video URL to show it as a video embed in your profile.",component:$},{name:"Soundcloud Video",type:"soundcloudEmbed",image:"soundcloud.png",description:"Paste a SoundCloud URL to show it as a playable song in your profile.",component:j},{name:"Vimeo Video",type:"vimeoEmbed",image:"vimeo.jpeg",description:"Paste a vimeo URL to show it as a video embed in your profile.",component:ne},{name:"Spotify Embed",type:"spotifyEmbed",image:"spotify.png",description:"Paste a spotify song, album, artist, playlist, podcast or episode url to show it as an embed in your profile.",component:ce},{name:"Twitch Embed",type:"twitchEmbed",image:"twitch.svg",description:"Paste twitch profile or clip url to show it as an embed in your profile.",component:fe},{name:"TikTok Embed",type:"tiktokEmbed",image:"tiktok.png",description:"Paste TikTok video url to show it as an embed in your profile.",component:ye}],Ne=i(87064);function Se(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",7),g.NdJ("click",function(){var e=g.CHM(n).$implicit;return g.oxw().openWidgetDialog(e.component)}),g._UZ(1,"img",8),g.TgZ(2,"div",9),g._uU(3),g.qZA(),g.TgZ(4,"div",10),g._uU(5),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit,a=g.oxw();g.xp6(1),g.Q6J("src",a.settings.getAssetUrl("images/widgets/"+i.image),g.LSH),g.xp6(2),g.Oqu(i.name||i.type),g.xp6(2),g.Oqu(i.description)}}var De=function(){var e=function(){function e(t,n,i,a){p(this,e),this.dialogRef=t,this.data=n,this.settings=i,this.modal=a,this.widgets=Pe}return h(e,[{key:"openWidgetDialog",value:function(e){this.close(),this.modal.open(e,this.data)}},{key:"close",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(q.so),g.Y36(q.WI),g.Y36(A.Z),g.Y36(Z.u))},e.\u0275cmp=g.Xpm({type:e,selectors:[["widget-list-modal"]],decls:8,vars:1,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["mat-dialog-content",""],[1,"widgets"],["class","widget","mat-ripple","",3,"click",4,"ngFor","ngForOf"],["mat-ripple","",1,"widget",3,"click"],["alt","",1,"widget-img",3,"src"],["trans","",1,"name"],["trans","",1,"description"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g._uU(2,"Add New Widget"),g.qZA(),g.TgZ(3,"button",2),g.NdJ("click",function(){return t.close()}),g._UZ(4,"mat-icon",3),g.qZA(),g.qZA(),g.TgZ(5,"div",4),g.TgZ(6,"div",5),g.YNc(7,Se,6,3,"div",6),g.qZA(),g.qZA()),2&e&&(g.xp6(7),g.Q6J("ngForOf",t.widgets))},directives:[q.uh,U.Hw,q.xY,T.sg,Ne.wG,M.P],styles:["[_nghost-%COMP%]{display:block;width:700px;max-width:100%;background-color:var(--be-background-alternative)}.widgets[_ngcontent-%COMP%]{display:grid;grid-column-gap:10px;grid-row-gap:10px;grid-template-columns:repeat(3,1fr)}.widget[_ngcontent-%COMP%]{cursor:pointer;border:1px solid #ececec;border-radius:4px;padding:10px;background-color:var(--be-background);box-shadow:0 2px 4px 0 #ececec}.widget[_ngcontent-%COMP%]:hover{background-color:var(--be-hover)}.widget-img[_ngcontent-%COMP%]{width:55px;height:55px;margin-bottom:20px;margin-right:auto}.name[_ngcontent-%COMP%]{text-transform:capitalize;font-size:2rem;font-weight:500;color:var(--be-accent-default);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.description[_ngcontent-%COMP%]{color:var(--be-secondary-text)}"],changeDetection:0}),e}(),Qe=i(69244),Ye=i(26437),Le=i(24311),Ee=i(3080),Fe=i(99713),Re=i(47701),$e=i(79996),Ve=i(48865),Be=i(79572),He=i(40450),ze=["*"],Ge=function(){var e=function e(){p(this,e),this.closed=new g.vpe,this.visible$=new o.X(!1)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Xpm({type:e,selectors:[["biolink-slideout-panel"]],inputs:{title:"title"},outputs:{closed:"closed"},ngContentSelectors:ze,decls:8,vars:3,consts:[[1,"header"],[1,"title"],["type","button","mat-icon-button","",3,"click"],["svgIcon","close"],[1,"body"]],template:function(e,t){1&e&&(g.F$t(),g.TgZ(0,"div",0),g.TgZ(1,"div",1),g._uU(2),g.ALo(3,"trans"),g.qZA(),g.TgZ(4,"button",2),g.NdJ("click",function(){return t.closed.emit()}),g._UZ(5,"mat-icon",3),g.qZA(),g.qZA(),g.TgZ(6,"div",4),g.Hsn(7),g.qZA()),2&e&&(g.xp6(2),g.Oqu(g.lcZ(3,1,t.title)))},directives:[O.lW,U.Hw],pipes:[He.R],styles:["[_nghost-%COMP%]{display:block;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12);border-bottom-left-radius:4px;border-bottom-right-radius:4px;overflow:hidden}.header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 20px;background-color:var(--be-background-alternative);border-top:1px solid var(--be-divider-lighter);border-bottom:1px solid var(--be-divider-lighter)}.header[_ngcontent-%COMP%]   .mat-icon-button[_ngcontent-%COMP%]{margin-left:15px}.title[_ngcontent-%COMP%]{flex:1 1 auto;margin-right:auto;font-weight:500}.body[_ngcontent-%COMP%]{background-color:var(--be-background);padding:15px}"],changeDetection:0}),e}(),je=["bounce","flash","pulse","rubberBand","shakeX","shakeY","headShake","swing","tada","wobble","jello","heartBeat"],Xe=i(78733);function We(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"button",5),g.NdJ("mouseenter",function(e){var t=g.CHM(n).$implicit;return g.oxw().onMouseEnter(e,t)})("mouseleave",function(e){var t=g.CHM(n).$implicit;return g.oxw().onMouseLeave(e,t)})("click",function(){var e=g.CHM(n).$implicit;return g.oxw().selectAnimation(e)}),g.ALo(1,"async"),g._uU(2),g.qZA()}if(2&e){var i=t.$implicit,a=g.oxw();g.ekj("selected",g.lcZ(1,3,a.selectedAnimation$)===i),g.xp6(2),g.hij(" ",i," ")}}var Ke=function(){var e=function(){function e(t){p(this,e),this.lazyLoader=t,this.animationList=je,this.selectedAnimation$=new o.X(null)}return h(e,[{key:"ngOnInit",value:function(){this.lazyLoader.loadAsset("https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css",{type:"css",id:"animate.css"})}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"writeValue",value:function(e){this.selectedAnimation$.next(e)}},{key:"registerOnTouched",value:function(e){}},{key:"selectAnimation",value:function(e){this.propagateChange(e),this.selectedAnimation$.next(e)}},{key:"onMouseEnter",value:function(e,t){e.target.classList.add("animate__".concat(t))}},{key:"onMouseLeave",value:function(e,t){e.target.classList.remove("animate__".concat(t))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(Xe.j))},e.\u0275cmp=g.Xpm({type:e,selectors:[["animation-selector"]],features:[g._Bn([{provide:v.JU,useExisting:e,multi:!0}])],decls:10,vars:5,consts:[[1,"description"],["trans",""],[1,"animation-list"],["type","button","mat-stroked-button","","trans","",3,"click"],["type","button","mat-stroked-button","","class","animate__animated","trans","",3,"selected","mouseenter","mouseleave","click",4,"ngFor","ngForOf"],["type","button","mat-stroked-button","","trans","",1,"animate__animated",3,"mouseenter","mouseleave","click"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g._uU(2,"Add an animation to draw attention to this link."),g.qZA(),g.TgZ(3,"div",1),g._uU(4,"Selected animation will repeat five times by default."),g.qZA(),g.qZA(),g.TgZ(5,"div",2),g.TgZ(6,"button",3),g.NdJ("click",function(){return t.selectAnimation(null)}),g.ALo(7,"async"),g._uU(8," None "),g.qZA(),g.YNc(9,We,3,5,"button",4),g.qZA()),2&e&&(g.xp6(6),g.ekj("selected",!g.lcZ(7,3,t.selectedAnimation$)),g.xp6(3),g.Q6J("ngForOf",t.animationList))},directives:[M.P,O.lW,T.sg],pipes:[T.Ov],styles:[".description[_ngcontent-%COMP%]{text-align:center;margin-bottom:18px}button[_ngcontent-%COMP%]{line-height:60px;text-transform:uppercase;border-width:2px;font-size:1.3rem;padding:0 5px}button.selected[_ngcontent-%COMP%]{border-color:var(--be-accent-default)}.animation-list[_ngcontent-%COMP%]{display:grid;grid-gap:15px;grid-template-columns:repeat(auto-fill,minmax(95px,1fr))}"],changeDetection:0}),e}(),et=i(98720),tt=i(98081);function nt(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",1),g.TgZ(1,"div",2),g._uU(2,"Temporarily send all visitors directly to this link."),g.qZA(),g.TgZ(3,"div",2),g._uU(4,"You can only have one active Leap Link at a time."),g.qZA(),g.TgZ(5,"button",3),g.NdJ("click",function(){return g.CHM(n),g.oxw().enableLeapLink()}),g._uU(6," Enable Leap Link "),g.qZA(),g.qZA()}}function it(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",1),g.TgZ(1,"div",4),g._uU(2,"Set an end time for the Leap Link. Your Biolink will automatically restore when the Leap Link expires."),g.qZA(),g._UZ(3,"datetime-input",5),g.TgZ(4,"button",3),g.NdJ("click",function(){return g.CHM(n),g.oxw().disableLeapLink()}),g._uU(5," Disable Leap Link "),g.qZA(),g.qZA()}if(2&e){var i=g.oxw();g.xp6(3),g.Q6J("formControl",i.leapUntilControl)}}var at=function(){var e=function(){function e(){var t=this;p(this,e),this.leapUntilControl=new v.NI(null),this.leapIsActive$=new o.X(!1),this.sub=this.leapUntilControl.valueChanges.pipe((0,a.O)(null),(0,$e.U)(function(e){return!!e})).subscribe(function(e){t.leapIsActive$.next(e)})}return h(e,[{key:"ngAfterViewInit",value:function(){var e=this;this.leapUntilControl.valueChanges.pipe((0,et.x)()).subscribe(function(t){e.propagateChange(t)})}},{key:"ngOnDestroy",value:function(){this.sub.unsubscribe()}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"writeValue",value:function(e){this.leapUntilControl.setValue(e)}},{key:"registerOnTouched",value:function(e){}},{key:"enableLeapLink",value:function(){var e=new Date;e.setDate(e.getDate()+1),this.leapUntilControl.setValue(e.toISOString())}},{key:"disableLeapLink",value:function(){this.leapUntilControl.setValue(null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=g.Xpm({type:e,selectors:[["leap-link-panel"]],features:[g._Bn([{provide:v.JU,useExisting:e,multi:!0}])],decls:4,vars:6,consts:[["class","enable-panel",4,"ngIf"],[1,"enable-panel"],["trans",""],["type","button","mat-flat-button","","color","accent","trans","",1,"enable-leap-btn",3,"click"],["trans","",1,"description"],[3,"formControl"]],template:function(e,t){1&e&&(g.YNc(0,nt,7,0,"div",0),g.ALo(1,"async"),g.YNc(2,it,6,1,"div",0),g.ALo(3,"async")),2&e&&(g.Q6J("ngIf",!g.lcZ(1,2,t.leapIsActive$)),g.xp6(2),g.Q6J("ngIf",g.lcZ(3,4,t.leapIsActive$)))},directives:[T.O5,M.P,O.lW,tt.k,v.JJ,v.oH],pipes:[T.Ov],styles:["[_nghost-%COMP%]{text-align:center}.enable-leap-btn[_ngcontent-%COMP%]{margin-top:18px;width:100%;min-height:40px}.enable-panel[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-bottom:10px}"],changeDetection:0}),e}(),ot=i(62147),rt=i(66457),st=i(67139),lt=i(35331),ct=i(57125);function ut(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",2),g.TgZ(1,"div",3),g._uU(2,"Upload a thumbnail for this link."),g.qZA(),g.TgZ(3,"button",4),g.NdJ("click",function(){return g.CHM(n),g.oxw().openUploadWindow()}),g._uU(4," Upload Thumbnail "),g.qZA(),g.qZA()}}function dt(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",5),g._UZ(1,"img",6),g.ALo(2,"async"),g.TgZ(3,"div",7),g.TgZ(4,"button",8),g.NdJ("click",function(){return g.CHM(n),g.oxw().openUploadWindow()}),g._uU(5," Change "),g.qZA(),g.TgZ(6,"button",9),g.NdJ("click",function(){return g.CHM(n),g.oxw().removeImage()}),g._uU(7," Remove "),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=g.oxw();g.xp6(1),g.Q6J("src",g.lcZ(2,1,i.src$),g.LSH)}}var pt=function(){var e=function(){function e(t,n){p(this,e),this.uploadQueue=t,this.imageValidator=n,this.src$=new o.X(null)}return h(e,[{key:"ngOnInit",value:function(){}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"writeValue",value:function(e){this.src$.next(e)}},{key:"registerOnTouched",value:function(e){}},{key:"openUploadWindow",value:function(){var e=this;(0,ot.r)({multiple:!1,types:[st.j.image]}).then(function(t){e.uploadQueue.start(t,{httpParams:{diskPrefix:"biolink-thumbnails"},uri:lt.C.Image,validator:e.imageValidator}).subscribe(function(t){e.src$.next(t.fileEntry.url),e.propagateChange(t.fileEntry.url)})})}},{key:"removeImage",value:function(){this.src$.next(null),this.propagateChange(null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(rt.A),g.Y36(ct.G))},e.\u0275cmp=g.Xpm({type:e,selectors:[["link-thumbnail-panel"]],features:[g._Bn([rt.A,{provide:v.JU,useExisting:e,multi:!0}])],decls:4,vars:6,consts:[["class","upload-panel",4,"ngIf"],["class","change-panel",4,"ngIf"],[1,"upload-panel"],["trans","",1,"description"],["type","button","mat-flat-button","","color","accent","trans","",1,"action-button",3,"click"],[1,"change-panel"],["alt","",1,"preview",3,"src"],[1,"upload-buttons"],["type","button","mat-flat-button","","color","accent","trans","",1,"action-button","change-button",3,"click"],["type","button","mat-stroked-button","","color","accent","trans","",1,"action-button",3,"click"]],template:function(e,t){1&e&&(g.YNc(0,ut,5,0,"div",0),g.ALo(1,"async"),g.YNc(2,dt,8,3,"div",1),g.ALo(3,"async")),2&e&&(g.Q6J("ngIf",!g.lcZ(1,2,t.src$)),g.xp6(2),g.Q6J("ngIf",g.lcZ(3,4,t.src$)))},directives:[T.O5,M.P,O.lW],pipes:[T.Ov],styles:[".change-panel[_ngcontent-%COMP%]{display:flex}.description[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}.preview[_ngcontent-%COMP%]{display:block;width:90px;height:90px;-o-object-fit:cover;object-fit:cover;margin-right:10px;border-radius:4px;overflow:hidden;flex-shrink:0}.upload-buttons[_ngcontent-%COMP%]{flex:1 1 auto}.action-button[_ngcontent-%COMP%]{display:block;width:100%;min-height:40px}.change-button[_ngcontent-%COMP%]{margin-bottom:10px}"],changeDetection:0}),e}(),gt=i(77830),ht=i(40985);function ft(e,t){if(1&e&&g._UZ(0,"img",29),2&e){var n=g.oxw();g.Q6J("src",n.link.image,g.LSH)}}function mt(e,t){if(1&e&&(g._UZ(0,"img",29),g.ALo(1,"favicon")),2&e){var n=g.oxw();g.Q6J("src",g.lcZ(1,1,n.link.long_url),g.LSH)}}function vt(e,t){1&e&&(g.TgZ(0,"div",30),g.TgZ(1,"div",31),g._uU(2,"This link is inactive due to its schedule."),g.qZA(),g.qZA())}function bt(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"biolink-slideout-panel",32),g.NdJ("closed",function(){return g.CHM(n),g.oxw().activeSlideOutPanel$.next(null)}),g._UZ(1,"animation-selector",33),g.qZA()}2&e&&g.Q6J("title","Animation")("@slideOutPanelAnimation",void 0)}function _t(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"biolink-slideout-panel",32),g.NdJ("closed",function(){return g.CHM(n),g.oxw().activeSlideOutPanel$.next(null)}),g._UZ(1,"leap-link-panel",34),g.qZA()}2&e&&g.Q6J("title","Leap Link")("@slideOutPanelAnimation",void 0)}function Zt(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"biolink-slideout-panel",35),g.NdJ("closed",function(){return g.CHM(n),g.oxw().activeSlideOutPanel$.next(null)}),g._UZ(1,"link-thumbnail-panel",34),g.qZA()}2&e&&g.Q6J("@slideOutPanelAnimation",void 0)}var yt=function(){return{resource:"link"}};function xt(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"biolink-slideout-panel",36),g.NdJ("closed",function(){return g.CHM(n),g.oxw().activeSlideOutPanel$.next(null)}),g.TgZ(1,"p",37),g._uU(2," Enter a date when :resource should be active. Both start and end dates are optional. "),g.qZA(),g.TgZ(3,"div",38),g.TgZ(4,"div",39),g.TgZ(5,"datetime-input",40),g._uU(6,"Start Date"),g.qZA(),g.qZA(),g.TgZ(7,"div",39),g.TgZ(8,"datetime-input",41),g._uU(9,"End Date"),g.qZA(),g.qZA(),g.qZA(),g.qZA()}2&e&&(g.Q6J("@slideOutPanelAnimation",void 0),g.xp6(1),g.Q6J("transValues",g.DdM(2,yt)))}var kt=function(e,t){return["/",e,"links",t]},At=function(){var t=function(){function t(e,n,i){p(this,t),this.editor=e,this.fb=n,this.section=i,this.activeSlideOutPanel$=new o.X(null),this.form=this.fb.group({active:!0,animation:null,leap_until:null,image:null,expires_at:null,activates_at:null})}return h(t,[{key:"ngOnChanges",value:function(){var e,t,n=this;null===(e=this.formSub)||void 0===e||e.unsubscribe(),null===(t=this.animSub)||void 0===t||t.unsubscribe(),this.form.patchValue(this.link),this.link.active_locked?this.form.get("active").disable():this.form.get("active").enable(),this.formSub=this.form.valueChanges.pipe((0,Re.b)(400)).subscribe(function(){n.editor.updateContentItemConfig(n.link,n.getDirtyFromValues())}),this.animSub=this.form.get("animation").valueChanges.subscribe(function(){n.activeSlideOutPanel$.next(null)})}},{key:"ngOnInit",value:function(){this.leapActive$=this.activeObservable("leap_until"),this.animationActive$=this.activeObservable("animation"),this.imageActive$=this.activeObservable("image"),this.scheduleActive$=(0,Ee.aj)(this.activeObservable("expires_at"),this.activeObservable("activates_at")).pipe((0,$e.U)(function(e){return e[0]||e[1]}))}},{key:"toggleAnimationPanel",value:function(e){this.activeSlideOutPanel$.next(this.activeSlideOutPanel$.value===e?null:e)}},{key:"openEditLinkDialog",value:function(){this.editor.openCrupdateLinkDialog(this.link)}},{key:"getParentRoute",value:function(){return this.section.admin?"admin":"dashboard"}},{key:"enableLeapLink",value:function(){this.form.patchValue({leap_link:!0})}},{key:"clearFormField",value:function(t){this.form.patchValue(e({},t,null))}},{key:"activeObservable",value:function(e){return this.form.get(e).valueChanges.pipe((0,a.O)(this.link[e]),(0,$e.U)(function(e){return!!e}))}},{key:"getDirtyFromValues",value:function(){var e={};return Object.entries(this.form.controls).forEach(function(t){var n=l(t,2),i=n[0],a=n[1];a.dirty&&(e[i]=a.value)}),e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(g.Y36(x),g.Y36(v.qu),g.Y36(Ve.W))},t.\u0275cmp=g.Xpm({type:t,selectors:[["biolink-editor-link"]],inputs:{link:"link"},features:[g.TTD],decls:58,vars:85,consts:[[3,"formGroup"],[1,"content-item-wrapper"],[1,"drag-handle-container"],["type","button","mat-icon-button","","cdkDragHandle",""],["svgIcon","drag-indicator"],[1,"content-item-body"],[1,"header"],[1,"title"],["formControlName","active"],[1,"subheader"],["class","favicon-img","alt","",3,"src",4,"ngIf"],[1,"url"],[1,"actions"],["type","button","mat-icon-button","",1,"action-button",3,"disabled","matTooltip","click"],["svgIcon","edit"],["type","button","mat-icon-button","",1,"action-button","image-action-btn",3,"disabled","matTooltip","click"],["svgIcon","image"],["target","_blank","mat-icon-button","",1,"action-button",3,"routerLink","disabled","matTooltip"],["svgIcon","analytics"],["svgIcon","animation"],["svgIcon","shortcut"],["type","button","mat-icon-button","",1,"action-button","schedule-action-btn",3,"disabled","matTooltip","click"],["svgIcon","more-time"],["type","button","mat-icon-button","",1,"action-button","delete-action",3,"disabled","click"],["svgIcon","delete"],["class","locked-notif",4,"ngIf"],[3,"title","closed",4,"ngIf"],["title","Thumbnail",3,"closed",4,"ngIf"],["title","Schedule Link",3,"closed",4,"ngIf"],["alt","",1,"favicon-img",3,"src"],[1,"locked-notif"],["trans","",1,"locked-notif-msg"],[3,"title","closed"],["formControlName","animation"],["formControlName","image"],["title","Thumbnail",3,"closed"],["title","Schedule Link",3,"closed"],["trans","",1,"schedule-description",3,"transValues"],[1,"inline-inputs-container"],["permission-aware-input-container","expiration",1,"input-container"],["id","bio_exp_at","formControlName","activates_at","trans",""],["id","bio_act_at","formControlName","expires_at"]],template:function(e,t){1&e&&(g.ynx(0,0),g.TgZ(1,"div",1),g.ALo(2,"async"),g.TgZ(3,"div",2),g.TgZ(4,"button",3),g._UZ(5,"mat-icon",4),g.qZA(),g.qZA(),g.TgZ(6,"div",5),g.TgZ(7,"div",6),g.TgZ(8,"div",7),g._uU(9),g.qZA(),g._UZ(10,"mat-slide-toggle",8),g.qZA(),g.TgZ(11,"div",9),g.YNc(12,ft,1,1,"img",10),g.YNc(13,mt,2,3,"img",10),g.TgZ(14,"span",11),g._uU(15),g.qZA(),g.qZA(),g.TgZ(16,"div",12),g.TgZ(17,"button",13),g.NdJ("click",function(){return t.openEditLinkDialog()}),g.ALo(18,"async"),g.ALo(19,"trans"),g._UZ(20,"mat-icon",14),g.qZA(),g.TgZ(21,"button",15),g.NdJ("click",function(){return t.toggleAnimationPanel("image")}),g.ALo(22,"async"),g.ALo(23,"async"),g.ALo(24,"trans"),g._UZ(25,"mat-icon",16),g.qZA(),g.TgZ(26,"a",17),g.ALo(27,"async"),g.ALo(28,"trans"),g._UZ(29,"mat-icon",18),g.qZA(),g.TgZ(30,"button",13),g.NdJ("click",function(){return t.toggleAnimationPanel("animation")}),g.ALo(31,"async"),g.ALo(32,"async"),g.ALo(33,"trans"),g._UZ(34,"mat-icon",19),g.qZA(),g.TgZ(35,"button",13),g.NdJ("click",function(){return t.toggleAnimationPanel("leapLink")}),g.ALo(36,"async"),g.ALo(37,"async"),g.ALo(38,"trans"),g._UZ(39,"mat-icon",20),g.qZA(),g.TgZ(40,"button",21),g.NdJ("click",function(){return t.toggleAnimationPanel("schedule")}),g.ALo(41,"async"),g.ALo(42,"async"),g.ALo(43,"trans"),g._UZ(44,"mat-icon",22),g.qZA(),g.TgZ(45,"button",23),g.NdJ("click",function(){return t.editor.maybeDeleteContentItem(t.link)}),g.ALo(46,"async"),g._UZ(47,"mat-icon",24),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(48,vt,3,0,"div",25),g.ALo(49,"async"),g.YNc(50,bt,2,2,"biolink-slideout-panel",26),g.ALo(51,"async"),g.YNc(52,_t,2,2,"biolink-slideout-panel",26),g.ALo(53,"async"),g.YNc(54,Zt,2,1,"biolink-slideout-panel",27),g.ALo(55,"async"),g.YNc(56,xt,10,3,"biolink-slideout-panel",28),g.ALo(57,"async"),g.BQk()),2&e&&(g.Q6J("formGroup",t.form),g.xp6(1),g.ekj("slide-out-panel-active",g.lcZ(2,36,t.activeSlideOutPanel$))("active-locked",t.link.active_locked),g.xp6(8),g.Oqu(t.link.name),g.xp6(3),g.Q6J("ngIf",t.link.image),g.xp6(1),g.Q6J("ngIf",!t.link.image),g.xp6(2),g.Oqu(t.link.long_url),g.xp6(2),g.Q6J("disabled",g.lcZ(18,38,t.editor.loading$))("matTooltip",g.lcZ(19,40,"Edit")),g.xp6(4),g.ekj("active",g.lcZ(22,42,t.imageActive$)),g.Q6J("disabled",g.lcZ(23,44,t.editor.loading$))("matTooltip",g.lcZ(24,46,"Change Thumbnail")),g.xp6(5),g.Q6J("routerLink",g.WLB(82,kt,t.getParentRoute(),t.link.id))("disabled",g.lcZ(27,48,t.editor.loading$))("matTooltip",g.lcZ(28,50,"Statistics")),g.xp6(4),g.ekj("active",g.lcZ(31,52,t.animationActive$)),g.Q6J("disabled",g.lcZ(32,54,t.editor.loading$))("matTooltip",g.lcZ(33,56,"Animation")),g.xp6(5),g.ekj("active",g.lcZ(36,58,t.leapActive$)),g.Q6J("disabled",g.lcZ(37,60,t.editor.loading$))("matTooltip",g.lcZ(38,62,"Leap Link")),g.xp6(5),g.ekj("active",g.lcZ(41,64,t.scheduleActive$)),g.Q6J("disabled",g.lcZ(42,66,t.editor.loading$))("matTooltip",g.lcZ(43,68,"Schedule")),g.xp6(5),g.Q6J("disabled",g.lcZ(46,70,t.editor.loading$)),g.xp6(3),g.Q6J("ngIf",t.link.active_locked&&!g.lcZ(49,72,t.activeSlideOutPanel$)),g.xp6(2),g.Q6J("ngIf","animation"===g.lcZ(51,74,t.activeSlideOutPanel$)),g.xp6(2),g.Q6J("ngIf","leapLink"===g.lcZ(53,76,t.activeSlideOutPanel$)),g.xp6(2),g.Q6J("ngIf","image"===g.lcZ(55,78,t.activeSlideOutPanel$)),g.xp6(2),g.Q6J("ngIf","schedule"===g.lcZ(57,80,t.activeSlideOutPanel$)))},directives:[v.JL,v.sg,O.lW,Qe.Bh,U.Hw,Be.Rr,v.JJ,v.u,T.O5,Le.gM,O.zs,k.yS,M.P,Ge,Ke,at,pt,gt.o,tt.k],pipes:[T.Ov,He.R,ht.K],styles:[".locked-notif[_ngcontent-%COMP%]{background-color:var(--be-background);border:1px solid var(--be-accent-lighter);border-top:none;border-bottom-right-radius:4px;border-bottom-left-radius:4px}.locked-notif-msg[_ngcontent-%COMP%]{padding:12px 15px;background-color:var(--be-accent-emphasis);font-size:1.5rem}.schedule-description[_ngcontent-%COMP%]{text-align:center;margin:0 0 15px}@media only screen and (max-width:768px){.image-action-btn[_ngcontent-%COMP%], .schedule-action-btn[_ngcontent-%COMP%]{display:none}}"],data:{animation:[(0,Fe.X$)("slideOutPanelAnimation",[(0,Fe.eR)(":enter",[(0,Fe.oB)({height:"0px",opacity:0}),(0,Fe.jt)("225ms cubic-bezier(0.4,0.0,0.2,1)",(0,Fe.oB)({height:"*",opacity:1}))]),(0,Fe.eR)(":leave",[(0,Fe.oB)({height:"*",opacity:1}),(0,Fe.jt)("225ms cubic-bezier(0.4,0.0,0.2,1)",(0,Fe.oB)({height:"0px",opacity:0}))])])]},changeDetection:0}),t}(),wt=i(62181),Tt=i(29476);function Ct(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"div",15),g.TgZ(2,"div",16),g._UZ(3,"image-or-icon",17),g.TgZ(4,"div",18),g._uU(5),g.qZA(),g.qZA(),g._UZ(6,"mat-slide-toggle",19),g.qZA(),g.BQk()),2&e){var n=g.oxw().ngIf,i=g.oxw();g.xp6(3),g.Q6J("src",i.widget.config.url),g.xp6(2),g.Oqu(n.name||n.type)}}function qt(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"div",15),g.TgZ(2,"div",20),g.TgZ(3,"div",21),g._uU(4),g.qZA(),g.TgZ(5,"div",22),g.TgZ(6,"div",23),g._uU(7),g.qZA(),g.TgZ(8,"div",24),g._uU(9),g.qZA(),g.qZA(),g.qZA(),g._UZ(10,"mat-slide-toggle",19),g.qZA(),g.BQk()),2&e){var n=g.oxw().ngIf,i=g.oxw();g.xp6(4),g.Oqu(n.name||n.type),g.xp6(3),g.Oqu(i.widget.config.title),g.xp6(2),g.Oqu(i.widget.config.description)}}function Ut(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"div",15),g.TgZ(2,"div",25),g._uU(3),g.qZA(),g._UZ(4,"mat-slide-toggle",19),g.qZA(),g.TgZ(5,"div",26),g._UZ(6,"social-button-list",27),g.qZA(),g.BQk()),2&e){var n=g.oxw().ngIf,i=g.oxw();g.xp6(3),g.Oqu(n.name||n.type),g.xp6(3),g.Q6J("config",i.widget.config)}}function It(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"div",15),g.TgZ(2,"div",25),g._uU(3),g.qZA(),g._UZ(4,"mat-slide-toggle",19),g.qZA(),g.TgZ(5,"div",26),g._UZ(6,"img",28),g.TgZ(7,"span",29),g._uU(8),g.qZA(),g.qZA(),g.BQk()),2&e){var n=g.oxw().ngIf,i=g.oxw();g.xp6(3),g.Oqu(n.name||n.type),g.xp6(3),g.Q6J("src",i.settings.getAssetUrl("images/widgets/"+n.image),g.LSH),g.xp6(2),g.Oqu(i.widget.config.url)}}function Mt(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",6),g.ynx(1,7),g.YNc(2,Ct,7,2,"ng-container",8),g.YNc(3,qt,11,3,"ng-container",8),g.YNc(4,Ut,7,2,"ng-container",8),g.YNc(5,It,9,3,"ng-container",9),g.BQk(),g.TgZ(6,"div",10),g.TgZ(7,"button",11),g.NdJ("click",function(){g.CHM(n);var e=g.oxw();return e.openEditWidgetDialog(e.widget)}),g.ALo(8,"async"),g.ALo(9,"trans"),g._UZ(10,"mat-icon",12),g.qZA(),g.TgZ(11,"button",13),g.NdJ("click",function(){g.CHM(n);var e=g.oxw();return e.editor.maybeDeleteContentItem(e.widget)}),g.ALo(12,"async"),g._UZ(13,"mat-icon",14),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=t.ngIf,a=g.oxw();g.xp6(1),g.Q6J("ngSwitch",i.type),g.xp6(1),g.Q6J("ngSwitchCase","image"),g.xp6(1),g.Q6J("ngSwitchCase","text"),g.xp6(1),g.Q6J("ngSwitchCase","socials"),g.xp6(3),g.Q6J("disabled",g.lcZ(8,7,a.editor.loading$))("matTooltip",g.lcZ(9,9,"Edit")),g.xp6(4),g.Q6J("disabled",g.lcZ(12,11,a.editor.loading$))}}var Ot=function(){var e=function(){function e(t,n,i,a){p(this,e),this.settings=t,this.fb=n,this.editor=i,this.modal=a,this.form=this.fb.group({active:!0})}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.form.patchValue(this.widget),this.form.valueChanges.subscribe(function(t){e.editor.updateContentItemConfig(e.widget,t)})}},{key:"getWidgetConfig",value:function(e){return Pe.find(function(t){return t.type===e})}},{key:"openEditWidgetDialog",value:function(e){var t=this.getWidgetConfig(e.type);this.modal.open(t.component,{config:e.config,widgetId:e.id})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(A.Z),g.Y36(v.qu),g.Y36(x),g.Y36(Z.u))},e.\u0275cmp=g.Xpm({type:e,selectors:[["biolink-editor-widget"]],inputs:{widget:"widget"},decls:6,vars:2,consts:[[3,"formGroup"],[1,"content-item-wrapper"],[1,"drag-handle-container"],["type","button","mat-icon-button","","cdkDragHandle",""],["svgIcon","drag-indicator"],["class","content-item-body",4,"ngIf"],[1,"content-item-body"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"actions"],["type","button","mat-icon-button","",1,"action-button",3,"disabled","matTooltip","click"],["svgIcon","edit"],["type","button","mat-icon-button","",1,"action-button","delete-action",3,"disabled","click"],["svgIcon","delete"],[1,"header"],[1,"title","image-title"],[1,"inherit-size",3,"src"],["trans","",1,"capitalize"],["formControlName","active"],[1,"title"],["trans","",1,"capitalize","centered"],[1,"text-widget-body"],[1,"text-widget-title","centered"],[1,"text-widget-description","centered"],["trans","",1,"title","capitalize"],[1,"subheader"],[3,"config"],["alt","",1,"favicon-img",3,"src"],[1,"url"]],template:function(e,t){1&e&&(g.ynx(0,0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"button",3),g._UZ(4,"mat-icon",4),g.qZA(),g.qZA(),g.YNc(5,Mt,14,13,"div",5),g.qZA(),g.BQk()),2&e&&(g.Q6J("formGroup",t.form),g.xp6(5),g.Q6J("ngIf",t.getWidgetConfig(t.widget.type)))},directives:[v.JL,v.sg,O.lW,Qe.Bh,U.Hw,T.O5,T.RF,T.n9,T.ED,Le.gM,wt.A,M.P,Be.Rr,v.JJ,v.u,Tt.W],pipes:[T.Ov,He.R],styles:[".centered[_ngcontent-%COMP%]{text-align:center}.image-title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding-top:22px;font-size:1.6rem}.image-title[_ngcontent-%COMP%]   image-or-icon[_ngcontent-%COMP%]{width:25px;height:25px;margin-right:10px;display:block;border-radius:4px;overflow:hidden}.text-widget-body[_ngcontent-%COMP%]{font-weight:400;font-size:1.3rem;margin-top:5px}social-button-list[_ngcontent-%COMP%]{color:var(--be-secondary-text)}"],changeDetection:0}),e}(),Jt=i(47210),Pt=i(88798);function Nt(e,t){if(1&e&&g._UZ(0,"biolink-editor-link",11),2&e){var n=g.oxw().$implicit;g.Q6J("link",n)}}function St(e,t){if(1&e&&g._UZ(0,"biolink-editor-widget",12),2&e){var n=g.oxw().$implicit;g.Q6J("widget",n)}}function Dt(e,t){if(1&e&&(g.ynx(0),g.YNc(1,Nt,1,1,"biolink-editor-link",9),g.YNc(2,St,1,1,"biolink-editor-widget",10),g.BQk()),2&e){var n=t.$implicit;g.xp6(1),g.Q6J("ngIf","link"===n.model_type),g.xp6(1),g.Q6J("ngIf","biolinkWidget"===n.model_type)}}function Qt(e,t){1&e&&(g.TgZ(0,"no-results-message",13),g.TgZ(1,"span",14),g._uU(2,"No links or widgets have been added yet"),g.qZA(),g.qZA())}function Yt(e,t){if(1&e){var n=g.EpF();g.ynx(0),g.TgZ(1,"div",6),g.NdJ("cdkDropListDropped",function(e){return g.CHM(n),g.oxw().reorderContent(e)}),g.ALo(2,"async"),g.YNc(3,Dt,3,2,"ng-container",7),g.YNc(4,Qt,3,0,"no-results-message",8),g.qZA(),g.BQk()}if(2&e){var i=t.ngIf,a=g.oxw();g.xp6(1),g.Q6J("cdkDropListDisabled",g.lcZ(2,5,a.editor.loading$))("@fadeIn",void 0),g.xp6(2),g.Q6J("ngForOf",i.content)("ngForTrackBy",a.trackByFn),g.xp6(1),g.Q6J("ngIf",!i.content.length)}}function Lt(e,t){1&e&&(g.TgZ(0,"div",17),g.TgZ(1,"div",18),g.TgZ(2,"div",19),g._UZ(3,"skeleton",20),g.qZA(),g.TgZ(4,"div",21),g._UZ(5,"skeleton",22),g._UZ(6,"skeleton"),g._UZ(7,"skeleton"),g.qZA(),g.qZA(),g.qZA())}function Et(e,t){if(1&e&&(g.TgZ(0,"div",15),g.YNc(1,Lt,8,0,"div",16),g.qZA()),2&e){var n=g.oxw();g.Q6J("@fadeOut",void 0),g.xp6(1),g.Q6J("ngForOf",n.skeletonIterator)}}var Ft=function(){var e=function(){function e(t,n,i,a,o){p(this,e),this.modal=t,this.editor=n,this.toast=i,this.biolinks=a,this.settings=o,this.skeletonIterator=Array(5),this.trackByFn=function(e,t){return t.id}}return h(e,[{key:"openNewLinkDialog",value:function(){this.editor.openCrupdateLinkDialog(null,{createMsg:"Link added"})}},{key:"openWidgetListDialog",value:function(){this.modal.open(De,{biolinkId:this.editor.biolink$.value.id})}},{key:"reorderContent",value:function(e){var t=this;if(e.previousIndex!==e.currentIndex){var n=c(this.editor.biolink$.value.content);(0,Qe.bA)(n,e.previousIndex,e.currentIndex),this.editor.biolink$.next(Object.assign(Object.assign({},this.editor.biolink$.value),{content:n}));var i=n.map(function(e){return{id:e.id,model_type:e.model_type}});this.editor.loading$.next(!0),this.biolinks.changeOrder(this.editor.biolink$.value.id,i).pipe((0,r.x)(function(){return t.editor.loading$.next(!1)})).subscribe()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(Z.u),g.Y36(x),g.Y36(m.F),g.Y36(f.n),g.Y36(A.Z))},e.\u0275cmp=g.Xpm({type:e,selectors:[["biolink-editor-content"]],decls:10,vars:7,consts:[[1,"links-tab","left-col-spacer"],["type","button","mat-raised-button","","color","accent","trans","",1,"add-new-link-btn",3,"click"],["type","button","mat-raised-button","","color","accent",1,"add-widget-btn",3,"matTooltip","click"],["svgIcon","widgets"],[4,"ngIf","ngIfElse"],["loading",""],["cdkDropList","",1,"link-list",3,"cdkDropListDisabled","cdkDropListDropped"],[4,"ngFor","ngForOf","ngForTrackBy"],["svgImage","share-link.svg",4,"ngIf"],["class","biolink-content-item","cdkDrag","",3,"link",4,"ngIf"],["class","biolink-content-item","cdkDrag","",3,"widget",4,"ngIf"],["cdkDrag","",1,"biolink-content-item",3,"link"],["cdkDrag","",1,"biolink-content-item",3,"widget"],["svgImage","share-link.svg"],["primary-text","","trans",""],[1,"link-list"],["class","biolink-content-item",4,"ngFor","ngForOf"],[1,"biolink-content-item"],[1,"content-item-wrapper"],[1,"drag-handle-container"],["variant","icon"],[1,"content-item-body"],["animation",""]],template:function(e,t){if(1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"button",1),g.NdJ("click",function(){return t.openNewLinkDialog()}),g._uU(2," Add New Link "),g.qZA(),g.TgZ(3,"button",2),g.NdJ("click",function(){return t.openWidgetListDialog()}),g.ALo(4,"trans"),g._UZ(5,"mat-icon",3),g.qZA(),g.YNc(6,Yt,5,7,"ng-container",4),g.ALo(7,"async"),g.YNc(8,Et,2,2,"ng-template",null,5,g.W1O),g.qZA()),2&e){var n=g.MAs(9);g.xp6(3),g.Q6J("matTooltip",g.lcZ(4,3,"Add widget")),g.xp6(3),g.Q6J("ngIf",g.lcZ(7,5,t.editor.biolink$))("ngIfElse",n)}},directives:[O.lW,M.P,Le.gM,U.Hw,T.O5,Qe.Wj,T.sg,At,Qe.Zt,Ot,Jt.U,Pt._],pipes:[He.R,T.Ov],styles:["[_nghost-%COMP%]{display:block}.add-new-link-btn[_ngcontent-%COMP%]{width:calc(100% - 79px);height:48px;margin:auto}.add-widget-btn[_ngcontent-%COMP%]{height:48px;width:48px;margin-left:15px}.link-list[_ngcontent-%COMP%]{margin-top:50px}  .biolink-content-item{display:block;margin-bottom:20px}  .biolink-content-item .content-item-wrapper{display:flex;border-radius:4px;background-color:var(--be-background);border:1px solid transparent;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}  .biolink-content-item .content-item-wrapper.active-locked{border-color:var(--be-accent-lighter)}  .biolink-content-item .content-item-wrapper.active-locked,   .biolink-content-item .content-item-wrapper.slide-out-panel-active{border-bottom-left-radius:0;border-bottom-right-radius:0}  .biolink-content-item .drag-handle-container{display:flex;align-items:center;border-right:1px solid var(--be-divider-default)}  .biolink-content-item .content-item-body{padding:20px 20px 15px;flex:1 1 auto;overflow:hidden}  .biolink-content-item .header{display:flex;align-items:center;margin-bottom:3px}  .biolink-content-item .header .title{flex:1 1 auto;margin-right:auto;font-weight:500;font-size:1.5rem}  .biolink-content-item .header .mat-slide-toggle{flex-shrink:0;margin-left:10px}  .biolink-content-item .subheader{display:flex;align-items:center}  .biolink-content-item .url{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--be-secondary-text)}  .biolink-content-item .favicon-img{margin-right:8px;width:16px;height:16px;border-radius:4px;overflow:hidden}  .biolink-content-item .actions{display:flex;align-items:center;margin-top:5px;color:var(--be-secondary-text)}  .biolink-content-item .action-button.active{color:var(--be-accent-default)}  .biolink-content-item .delete-action{margin-left:auto}"],data:{animation:Ye.B},changeDetection:0}),e}(),Rt=i(64762),$t={configId:"uploadedImg",configLabel:"Image",backgroundSize:"cover",repeat:"no-repeat",position:"center center"},Vt={configId:"flat",configLabel:"Color",backgroundColor:"rgb(209, 246, 255)",color:null},Bt=[$t,Vt,{configId:"gradient",configLabel:"Gradient",backgroundImage:"linear-gradient(43deg, #4158D0 0%, #C850C0 46%, #FFCC70 100%)"},{configId:"img1",backgroundColor:"#ffdd55",backgroundImage:"svg-bgs/Angled-Focus.svg",backgroundAttachment:"fixed",backgroundSize:"cover",color:"#fff"},{configId:"img2",backgroundColor:"#220044",backgroundImage:"svg-bgs/Circular-Focus.svg",backgroundAttachment:"fixed",backgroundSize:"cover",color:"#fff"},{configId:"img3",backgroundColor:"#000000",backgroundImage:"svg-bgs/Farseeing-Eyeball.svg",backgroundAttachment:"fixed",backgroundSize:"cover",color:"#fff"},{configId:"img4",backgroundColor:"#ff0000",backgroundImage:"svg-bgs/Canyon-Funnel.svg",backgroundAttachment:"fixed",backgroundSize:"cover",color:"#fff"},{configId:"img5",backgroundColor:"#11ddaa",backgroundImage:"svg-bgs/Looney-Loops.svg",backgroundAttachment:"fixed",backgroundSize:"cover",color:"#000"},{configId:"img6",backgroundColor:"#070014",backgroundImage:"svg-bgs/Hurricane-Aperture.svg",backgroundAttachment:"fixed",backgroundSize:"cover",color:"#fff"},{configId:"img7",backgroundColor:"#ccffff",backgroundImage:"svg-bgs/Icy-Explosion.svg",backgroundAttachment:"fixed",backgroundSize:"cover",backgroundRepeat:"no-repeat",color:"#000"},{configId:"img8",backgroundColor:"#442233",backgroundImage:"svg-bgs/Nuclear-Focalpoint.svg",backgroundAttachment:"fixed",backgroundSize:"cover",color:"#fff"},{configId:"img9",backgroundColor:"#ee5522;",backgroundImage:"svg-bgs/Protruding-Squares.svg",color:"#fff"},{configId:"img10",backgroundColor:"#fff",backgroundImage:"svg-bgs/Alternating-Triangles.svg",color:"#000"},{configId:"img11",backgroundColor:"#002200",backgroundImage:"svg-bgs/Monstera-Patch.svg",color:"#fff"},{configId:"img11",backgroundColor:"#aa3333",backgroundImage:"svg-bgs/Confetti-Doodles.svg",color:"#fff",backgroundAttachment:"fixed"},{configId:"img12",backgroundColor:"#ffdd99",backgroundImage:"svg-bgs/Threads-Ahead.svg",backgroundAttachment:"fixed",backgroundSize:"cover",color:"#000"},{configId:"img13",backgroundColor:"#00bbff",backgroundImage:"svg-bgs/Launch-Day.svg",backgroundAttachment:"fixed",backgroundSize:"cover",color:"#fff"},{configId:"img14",backgroundImage:"svg-bgs/Sprinkle.svg"},{configId:"img15",backgroundImage:"svg-bgs/Circuit-Board.svg"},{configId:"img15",backgroundImage:"svg-bgs/Snow.svg"}],Ht=i(72674),zt=i(25416),Gt=[{configId:"grd1",backgroundImage:"linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%)"},{configId:"grd2",backgroundImage:"linear-gradient(to right, #ff8177 0%, #ff867a 0%, #ff8c7f 21%, #f99185 52%, #cf556c 78%, #b12a5b 100%)"},{configId:"grd3",backgroundImage:"linear-gradient(to top, #fbc2eb 0%, #a6c1ee 100%)"},{configId:"grd4",backgroundImage:"linear-gradient(to top, #cfd9df 0%, #e2ebf0 100%)"},{configId:"grd5",backgroundImage:"linear-gradient(to top, #30cfd0 0%, #330867 100%)",color:"#fff"},{configId:"grd6",backgroundImage:"linear-gradient(135deg, #FDEB71 10%, #F8D800 100%)"},{configId:"grd7",backgroundImage:"linear-gradient( 135deg, #F05F57 10%, #360940 100%)"},{configId:"grd8",color:"#4158D0",backgroundImage:"linear-gradient(43deg, #4158D0 0%, #C850C0 46%, #FFCC70 100%)"},{configId:"grd9",color:"#FBAB7E",backgroundImage:"linear-gradient(62deg, #FBAB7E 0%, #F7CE68 100%)"},{configId:"grd10",color:"#21D4FD",backgroundImage:"linear-gradient(19deg, #21D4FD 0%, #B721FF 100%)"},{configId:"grd11",backgroundImage:"linear-gradient( 109.5deg,  rgba(76,221,242,1) 11.2%, rgba(92,121,255,1) 91.1% )"},{configId:"grd12",backgroundImage:"linear-gradient( 112.1deg,  rgba(32,38,57,1) 11.4%, rgba(63,76,119,1) 70.2% )",color:"#fff"}],jt=i(7855),Xt=i(80147);function Wt(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",2),g.NdJ("click",function(){var e=g.CHM(n).$implicit;return g.oxw().selectGradient(e)}),g._UZ(1,"div",3),g._UZ(2,"div",4),g.qZA()}if(2&e){var i=t.$implicit,a=g.oxw();g.ekj("active",(null==a.data.active?null:a.data.active.configId)===i.configId),g.xp6(1),g.Udp("background-image",i.backgroundImage)}}var Kt=function(){var e=function(){function e(t,n){p(this,e),this.data=t,this.overlayPanelRef=n,this.gradients=Gt}return h(e,[{key:"selectGradient",value:function(e){this.overlayPanelRef.close(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(jt.p,8),g.Y36(Xt.L))},e.\u0275cmp=g.Xpm({type:e,selectors:[["background-selector-gradient"]],decls:2,vars:1,consts:[[1,"auto-height-grid"],["class","grid-item",3,"active","click",4,"ngFor","ngForOf"],[1,"grid-item",3,"click"],[1,"grid-content"],[1,"grid-label"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.YNc(1,Wt,3,4,"div",1),g.qZA()),2&e&&(g.xp6(1),g.Q6J("ngForOf",t.gradients))},directives:[T.sg],styles:["[_nghost-%COMP%]{display:block;padding:15px;background-color:var(--be-background);width:500px;max-width:95%;border-radius:4px}"],changeDetection:0}),e}(),en=i(98979),tn=i(58901),nn=function(){var e=function(){function e(t,n,i,a){p(this,e),this.uploadQueue=t,this.imgValidator=n,this.el=i,this.bgUrl=a,this.imgUploaded=new g.vpe}return h(e,[{key:"ngOnChanges",value:function(){this.el.nativeElement.style.backgroundImage=this.selectedBg&&"uploadedImg"===this.selectedBg.configId?this.bgUrl.transform(this.selectedBg.backgroundImage):null}},{key:"openUploadDialog",value:function(){var e=this;(0,ot.r)({types:[st.j.image]}).then(function(t){e.uploadQueue.start(t,{validator:e.imgValidator,httpParams:{diskPrefix:"biolink",disk:"public"}}).subscribe(function(t){e.imgUploaded.emit(Object.assign(Object.assign({},$t),{backgroundImage:t.fileEntry.url}))})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(rt.A),g.Y36(ct.G),g.Y36(g.SBq),g.Y36(tn.j))},e.\u0275cmp=g.Xpm({type:e,selectors:[["background-selector-img"]],hostBindings:function(e,t){1&e&&g.NdJ("click",function(e){return t.openUploadDialog(e.target)})},inputs:{selectedBg:"selectedBg"},outputs:{imgUploaded:"imgUploaded"},features:[g.TTD],decls:2,vars:0,consts:[[1,"icon-container"],["svgIcon","add-photo-alternate"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g._UZ(1,"mat-icon",1),g.qZA())},directives:[U.Hw],styles:["[_nghost-%COMP%]{color:#fff;position:relative}.icon-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;background-color:rgba(0,0,0,.3);padding:4px 4px 6px 6px;border-radius:4px;width:50px;height:50px}.mat-icon[_ngcontent-%COMP%]{width:40px;height:40px}"],changeDetection:0}),e}(),an=function(){var e=function(){function e(){p(this,e)}return h(e,[{key:"transform",value:function(e){if(e)return e.split("/").pop().split(".")[0].replace("-"," ")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=g.Yjl({name:"labelFromFilename",type:e,pure:!0}),e}();function on(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"background-selector-img",7),g.NdJ("imgUploaded",function(e){return g.CHM(n),g.oxw(2).selectBackground(e)}),g.ALo(1,"async"),g.qZA()}if(2&e){var i=g.oxw(2);g.Q6J("selectedBg",g.lcZ(1,1,i.selectedBg$))}}function rn(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",8),g.NdJ("click",function(e){g.CHM(n);var t=g.oxw().$implicit;return g.oxw().onBgClick(t,e)}),g.ALo(1,"backgroundUrl"),g.qZA()}if(2&e){var i=g.oxw().$implicit;g.Udp("background-color",i.color)("background-image",g.lcZ(1,4,i.backgroundImage))}}function sn(e,t){if(1&e&&(g.ynx(0),g.TgZ(1,"div"),g.TgZ(2,"div",2),g.ALo(3,"async"),g.ynx(4,3),g.YNc(5,on,2,3,"background-selector-img",4),g.YNc(6,rn,2,6,"div",5),g.BQk(),g.qZA(),g.TgZ(7,"div",6),g._uU(8),g.ALo(9,"trans"),g.ALo(10,"labelFromFilename"),g.qZA(),g.qZA(),g.BQk()),2&e){var n,i=t.$implicit,a=g.oxw();g.xp6(2),g.ekj("active",(null==(n=g.lcZ(3,5,a.selectedBg$))?null:n.id)===i.configId),g.xp6(2),g.Q6J("ngSwitch",i.configId),g.xp6(1),g.Q6J("ngSwitchCase","uploadedImg"),g.xp6(3),g.hij(" ",g.lcZ(9,7,i.configLabel||g.lcZ(10,9,i.backgroundImage))," ")}}var ln=function(){var e=function(){function e(t){p(this,e),this.overlay=t,this.backgrounds=Bt,this.selectedBg$=new o.X(null)}return h(e,[{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"writeValue",value:function(e){this.selectedBg$.next(e)}},{key:"registerOnTouched",value:function(e){}},{key:"onBgClick",value:function(e,t){var n,i=this;"flat"===e.configId?(this.setFlatColorBg(null===(n=this.selectedBg$.value)||void 0===n?void 0:n.color),this.openColorPicker(t)):"gradient"===e.configId?this.overlay.open(Kt,{origin:new g.SBq(t.target),position:Ht.Z,data:{active:this.selectedBg$.value}}).afterClosed().subscribe(function(e){e&&i.selectBackground(e)}):this.selectBackground(e)}},{key:"selectBackground",value:function(e){var t,n=null===(t=this.selectedBg$.value)||void 0===t?void 0:t.color,i=Object.assign({},e);!i.color&&n&&(i.color=n),this.propagateChange(i),this.selectedBg$.next(i)}},{key:"setFlatColorBg",value:function(e){this.selectBackground(Object.assign(Object.assign({},Vt),{color:e}))}},{key:"openColorPicker",value:function(e){var t;return(0,Rt.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a,o,r,s=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.e(378).then(i.bind(i,49378));case 2:a=n.sent,o=a.BeColorPickerModule,(r=this.overlay.open(o.components.panel,{origin:new g.SBq(e.target),position:Ht.Z,data:{color:null===(t=this.selectedBg$.value)||void 0===t?void 0:t.color}})).valueChanged().pipe((0,zt.R)(r.afterClosed())).subscribe(function(e){s.setFlatColorBg(e)});case 6:case"end":return n.stop()}},n,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(en.T))},e.\u0275cmp=g.Xpm({type:e,selectors:[["background-selector"]],features:[g._Bn([{provide:v.JU,useExisting:e,multi:!0}])],decls:2,vars:1,consts:[[1,"auto-height-grid"],[4,"ngFor","ngForOf"],[1,"grid-item"],[3,"ngSwitch"],["class","grid-content","matRipple","",3,"selectedBg","imgUploaded",4,"ngSwitchCase"],["class","grid-content","matRipple","",3,"background-color","background-image","click",4,"ngSwitchDefault"],[1,"grid-label"],["matRipple","",1,"grid-content",3,"selectedBg","imgUploaded"],["matRipple","",1,"grid-content",3,"click"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.YNc(1,sn,11,11,"ng-container",1),g.qZA()),2&e&&(g.xp6(1),g.Q6J("ngForOf",t.backgrounds))},directives:[T.sg,T.RF,T.n9,T.ED,nn,Ne.wG],pipes:[T.Ov,He.R,an,tn.j],styles:[".auto-height-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(130px,1fr))}.grid-item[_ngcontent-%COMP%]{padding-top:140%}.grid-content[_ngcontent-%COMP%]{background-size:cover;background-position:50%;border-radius:4px}background-selector-img.grid-content[_ngcontent-%COMP%]{border:1px dashed var(--be-secondary-text)}"],changeDetection:0}),e}(),cn=i(9636),un=[{family:"Impact, Charcoal, sans-serif",category:"sans-serif"},{family:"Arial, Helvetica Neue, Helvetica, sans-serif",category:"serif"},{family:'"Comic Sans MS", cursive, sans-serif',category:"Handwriting"},{family:"Century Gothic, sans-serif",category:"sans-serif"},{family:'"Courier New", Courier, monospace',category:"monospace"},{family:'"Lucida Sans Unicode", "Lucida Grande", sans-serif',category:"sans-serif"},{family:'"Times New Roman", Times, serif',category:"serif"},{family:'"Lucida Console", Monaco, monospace',category:"monospace"},{family:'"Andele Mono", monospace, sans-serif',category:"sans-serif"},{family:"Verdana, Geneva, sans-serif",category:"sans-serif"},{family:'"Helvetica Neue", Helvetica, Arial, sans-serif',category:"sans-serif"}],dn=i(39404),pn=function(){var e=function(){function e(){p(this,e)}return h(e,[{key:"transform",value:function(e){return e?e.split(",")[0].replace(/"/g,"").trim():null}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=g.Yjl({name:"fontDisplayName",type:e,pure:!0}),e}();function gn(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",19),g.NdJ("click",function(){var e=g.CHM(n).$implicit;return g.oxw().selectFamily(e.family)}),g.ALo(1,"async"),g.TgZ(2,"div",20),g.TgZ(3,"div",21),g.O4$(),g.TgZ(4,"svg",22),g.TgZ(5,"text",23),g._uU(6,"Aa"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.kcU(),g.TgZ(7,"div",24),g._uU(8),g.ALo(9,"fontDisplayName"),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit,a=g.oxw();g.ekj("active",g.lcZ(1,5,a.selectedFamily$)===i.family),g.xp6(5),g.Udp("font-family",i.family),g.xp6(3),g.Oqu(g.lcZ(9,7,i.family))}}var hn=function(){var e=function(){function e(t){var n=this;p(this,e),this.googleFonts=t,this.activePage$=new o.X(0),this.chunkedFonts$=new o.X(null),this.selectedFamily$=new o.X(null),this.filters=new v.cw({query:new v.NI,category:new v.NI(null)}),this.from$=this.activePage$.pipe((0,$e.U)(function(e){return e*n.perPage+1})),this.total$=new o.X(1052),this.to$=this.from$.pipe((0,$e.U)(function(e){return Math.min(e+n.perPage-1)},this.total$.value)),this.fonts$=(0,Ee.aj)(this.activePage$,this.chunkedFonts$).pipe((0,$e.U)(function(e){var t=l(e,2),n=t[0],i=t[1];return i?i[n]:[]})),this.perPage=20}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.allFonts=[].concat(un),this.googleFonts.getAll().subscribe(function(t){e.allFonts=[].concat(c(e.allFonts),c(t)),e.chunkFonts(e.allFonts)}),this.fontSub=this.fonts$.subscribe(function(t){e.loadIntoDom(t)}),this.formSub=this.filters.valueChanges.subscribe(function(t){var n,i=(null===(n=t.query)||void 0===n?void 0:n.length)?(0,cn.D)(e.allFonts,t.query):e.allFonts;i=t.category?i.filter(function(e){return e.category.toLowerCase()===t.category.toLowerCase()}):i,e.activePage$.next(0),e.chunkFonts(i)})}},{key:"ngOnDestroy",value:function(){this.formSub.unsubscribe(),this.fontSub.unsubscribe()}},{key:"selectFamily",value:function(e){this.selectedFamily$.next(e),this.propagateChange({family:e})}},{key:"haveNext",value:function(){var e;return(null===(e=this.chunkedFonts$.value)||void 0===e?void 0:e.length)>this.activePage$.value+1}},{key:"havePrev",value:function(){return this.activePage$.value>0}},{key:"nextPage",value:function(){this.activePage$.next(this.activePage$.value+1)}},{key:"prevPage",value:function(){this.activePage$.next(this.activePage$.value-1)}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"writeValue",value:function(e){this.selectedFamily$.next(null==e?void 0:e.family)}},{key:"registerOnTouched",value:function(e){}},{key:"chunkFonts",value:function(e){for(var t=this.perPage,n=[],i=0,a=e.length;i<a;i+=t)n.push(e.slice(i,i+t));this.chunkedFonts$.next(n),this.total$.next(e.length)}},{key:"loadIntoDom",value:function(e){this.googleFonts.loadIntoDom(e,"google-font-selector")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(dn.I))},e.\u0275cmp=g.Xpm({type:e,selectors:[["google-font-selector"]],features:[g._Bn([{provide:v.JU,useExisting:e,multi:!0}])],decls:36,vars:21,consts:[[1,"filters","inline-inputs-container","many-inputs",3,"formGroup"],[1,"input-container"],["for","font-selector-search","trans","",1,"hidden"],["type","text","id","font-selector-search","formControlName","query","placeholder","Search..."],["for","font-selector-category","trans","",1,"hidden"],["id","font-selector-category","formControlName","category"],["trans","",3,"ngValue"],["value","serif","trans",""],["value","sans-serif","trans",""],["value","display","trans",""],["value","handwriting","trans",""],["value","monospace","trans",""],[1,"font-grid"],["class","font",3,"active","click",4,"ngFor","ngForOf"],[1,"range-actions"],[1,"range-label"],["type","button","mat-icon-button","",1,"range-button",3,"disabled","click"],["svgIcon","chevron-left"],["svgIcon","chevron-right"],[1,"font",3,"click"],["role","button","matRipple","",1,"grid-item"],[1,"grid-content"],["viewBox","0 0 100 100"],["x","50%","y","50%"],[1,"label"]],template:function(e,t){1&e&&(g.TgZ(0,"form",0),g.TgZ(1,"div",1),g.TgZ(2,"label",2),g._uU(3,"Search"),g.qZA(),g._UZ(4,"input",3),g.qZA(),g.TgZ(5,"div",1),g.TgZ(6,"label",4),g._uU(7,"Category"),g.qZA(),g.TgZ(8,"select",5),g.TgZ(9,"option",6),g._uU(10,"All Categories"),g.qZA(),g.TgZ(11,"option",7),g._uU(12,"Serif"),g.qZA(),g.TgZ(13,"option",8),g._uU(14,"Sans Serif"),g.qZA(),g.TgZ(15,"option",9),g._uU(16,"Display"),g.qZA(),g.TgZ(17,"option",10),g._uU(18,"Handwriting"),g.qZA(),g.TgZ(19,"option",11),g._uU(20,"monospace"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(21,"div",12),g.YNc(22,gn,10,9,"div",13),g.ALo(23,"async"),g.qZA(),g.TgZ(24,"div",14),g.TgZ(25,"div",15),g._uU(26),g.ALo(27,"async"),g.ALo(28,"async"),g.ALo(29,"trans"),g.ALo(30,"number"),g.ALo(31,"async"),g.qZA(),g.TgZ(32,"button",16),g.NdJ("click",function(){return t.prevPage()}),g._UZ(33,"mat-icon",17),g.qZA(),g.TgZ(34,"button",16),g.NdJ("click",function(){return t.nextPage()}),g._UZ(35,"mat-icon",18),g.qZA(),g.qZA()),2&e&&(g.Q6J("formGroup",t.filters),g.xp6(9),g.Q6J("ngValue",null),g.xp6(13),g.Q6J("ngForOf",g.lcZ(23,9,t.fonts$)),g.xp6(4),g.HOy(" ",g.lcZ(27,11,t.from$)," - ",g.lcZ(28,13,t.to$)," ",g.lcZ(29,15,"of")," ",g.lcZ(30,17,g.lcZ(31,19,t.total$))," "),g.xp6(6),g.Q6J("disabled",!t.havePrev()),g.xp6(2),g.Q6J("disabled",!t.haveNext()))},directives:[v._Y,v.JL,v.sg,M.P,v.Fj,v.JJ,v.u,v.EJ,v.YN,v.Kr,T.sg,O.lW,U.Hw,Ne.wG],pipes:[T.Ov,He.R,T.JJ,pn],styles:["[_nghost-%COMP%]{display:block}.font-grid[_ngcontent-%COMP%]{display:grid;grid-gap:15px;grid-template-columns:repeat(auto-fill,minmax(99px,1fr))}.grid-item[_ngcontent-%COMP%]{padding-top:100%;position:relative;cursor:pointer}.grid-item[_ngcontent-%COMP%]:hover{background-color:var(--be-hover)}.active[_ngcontent-%COMP%]   .grid-content[_ngcontent-%COMP%]{border-color:var(--be-accent-default)}.grid-content[_ngcontent-%COMP%]{border:1px solid var(--be-divider-default);border-radius:4px;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto}.label[_ngcontent-%COMP%]{margin-top:6px;text-align:center;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding:0 5px}.preview[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;font-size:4rem;height:100%}svg[_ngcontent-%COMP%]{width:100%;height:100%}svg[_ngcontent-%COMP%]   text[_ngcontent-%COMP%]{font-size:4rem;dominant-baseline:central;text-anchor:middle}.range-actions[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-end;margin-top:25px}.range-label[_ngcontent-%COMP%]{margin:0 32px 0 24px;font-size:1.2rem}.range-button[_ngcontent-%COMP%], .range-label[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.range-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px}"],changeDetection:0}),e}(),fn=function(){var e=function e(t){p(this,e),this.editor=t};return e.\u0275fac=function(t){return new(t||e)(g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["biolink-editor-fonts"]],decls:4,vars:1,consts:[["trans",""],[1,"material-panel"],[3,"formControl"]],template:function(e,t){1&e&&(g.TgZ(0,"h3",0),g._uU(1,"Fonts"),g.qZA(),g.TgZ(2,"div",1),g._UZ(3,"google-font-selector",2),g.qZA()),2&e&&(g.xp6(3),g.Q6J("formControl",t.editor.appearanceForm.get("fontConfig")))},directives:[M.P,hn,v.JJ,v.oH],styles:[""],changeDetection:0}),e}(),mn=i(69042);function vn(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",2),g.TgZ(1,"h4",0),g._uU(2,"Raised"),g.qZA(),g.TgZ(3,"div",3),g.TgZ(4,"div",4),g.TgZ(5,"button",5),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("raised","square")}),g._uU(6," Square "),g.qZA(),g.qZA(),g.TgZ(7,"div",4),g.TgZ(8,"button",6),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("raised","rounded")}),g._uU(9," Rounded "),g.qZA(),g.qZA(),g.TgZ(10,"div",4),g.TgZ(11,"button",7),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("raised","pill")}),g._uU(12," Pill "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(13,"h4",0),g._uU(14,"Flat"),g.qZA(),g.TgZ(15,"div",3),g.TgZ(16,"div",4),g.TgZ(17,"button",8),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("flat","square")}),g._uU(18," Square "),g.qZA(),g.qZA(),g.TgZ(19,"div",4),g.TgZ(20,"button",9),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("flat","rounded")}),g._uU(21," Rounded "),g.qZA(),g.qZA(),g.TgZ(22,"div",4),g.TgZ(23,"button",10),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("flat","pill")}),g._uU(24," Pill "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(25,"h4",0),g._uU(26,"Outline"),g.qZA(),g.TgZ(27,"div",3),g.TgZ(28,"div",4),g.TgZ(29,"button",11),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("stroked","square")}),g._uU(30," Square "),g.qZA(),g.qZA(),g.TgZ(31,"div",4),g.TgZ(32,"button",12),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("stroked","rounded")}),g._uU(33," Rounded "),g.qZA(),g.qZA(),g.TgZ(34,"div",4),g.TgZ(35,"button",13),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("stroked","pill")}),g._uU(36," Pill "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(37,"h4",0),g._uU(38,"Basic"),g.qZA(),g.TgZ(39,"div",3),g.TgZ(40,"div",4),g.TgZ(41,"button",14),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("basic","square")}),g._uU(42," Square "),g.qZA(),g.qZA(),g.TgZ(43,"div",4),g.TgZ(44,"button",15),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("basic","rounded")}),g._uU(45," Rounded "),g.qZA(),g.qZA(),g.TgZ(46,"div",4),g.TgZ(47,"button",16),g.NdJ("click",function(){return g.CHM(n),g.oxw().changeBtnType("basic","pill")}),g._uU(48," Pill "),g.qZA(),g.qZA(),g.qZA(),g.TgZ(49,"color-picker-input",17),g._uU(50,"Button Color"),g.qZA(),g.qZA()}if(2&e){var i=t.ngIf,a=g.oxw();g.xp6(4),g.ekj("active","raised"===i.type&&"square"===i.variant),g.xp6(3),g.ekj("active","raised"===i.type&&"rounded"===i.variant),g.xp6(3),g.ekj("active","raised"===i.type&&"pill"===i.variant),g.xp6(6),g.ekj("active","flat"===i.type&&"square"===i.variant),g.xp6(3),g.ekj("active","flat"===i.type&&"rounded"===i.variant),g.xp6(3),g.ekj("active","flat"===i.type&&"pill"===i.variant),g.xp6(6),g.ekj("active","stroked"===i.type&&"square"===i.variant),g.xp6(3),g.ekj("active","stroked"===i.type&&"rounded"===i.variant),g.xp6(3),g.ekj("active","stroked"===i.type&&"pill"===i.variant),g.xp6(6),g.ekj("active","basic"===i.type&&"square"===i.variant),g.xp6(3),g.ekj("active","basic"===i.type&&"rounded"===i.variant),g.xp6(3),g.ekj("active","basic"===i.type&&"pill"===i.variant),g.xp6(3),g.Q6J("formControl",a.colorControl)}}var bn=function(){var e=function(){function e(t){p(this,e),this.editor=t,this.colorControl=new v.NI,this.active$=this.editor.appearanceForm.get("btnConfig").valueChanges.pipe((0,a.O)({}),(0,$e.U)(function(e){return null!=e?e:{}}))}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.colorControl.valueChanges.subscribe(function(t){e.editor.appearanceForm.get("btnConfig.color").setValue(t),e.editor.appearanceForm.markAsDirty()})}},{key:"changeBtnType",value:function(e,t){this.editor.appearanceForm.patchValue({btnConfig:{type:e,variant:t}}),this.editor.appearanceForm.markAsDirty()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["biolink-editor-buttons"]],decls:4,vars:3,consts:[["trans",""],["class","material-panel",4,"ngIf"],[1,"material-panel"],[1,"row"],[1,"border"],["type","button","color","accent","mat-raised-button","","trans","",1,"btn-square",3,"click"],["type","button","color","accent","mat-raised-button","","trans","",3,"click"],["type","button","color","accent","mat-raised-button","","trans","",1,"btn-pill",3,"click"],["type","button","color","accent","mat-flat-button","","trans","",1,"btn-square",3,"click"],["type","button","color","accent","mat-flat-button","","trans","",3,"click"],["type","button","color","accent","mat-flat-button","","trans","",1,"btn-pill",3,"click"],["type","button","color","accent","mat-stroked-button","","trans","",1,"btn-square",3,"click"],["type","button","color","accent","mat-stroked-button","","trans","",3,"click"],["type","button","color","accent","mat-stroked-button","","trans","",1,"btn-pill",3,"click"],["type","button","color","accent","mat-button","","trans","",1,"btn-square","basic-btn",3,"click"],["type","button","color","accent","mat-button","","trans","",1,"basic-btn",3,"click"],["type","button","color","accent","mat-button","","trans","",1,"btn-pill","basic-btn",3,"click"],["trans","",3,"formControl"]],template:function(e,t){1&e&&(g.TgZ(0,"h3",0),g._uU(1,"Buttons"),g.qZA(),g.YNc(2,vn,51,25,"div",1),g.ALo(3,"async")),2&e&&(g.xp6(2),g.Q6J("ngIf",g.lcZ(3,1,t.active$)))},directives:[M.P,T.O5,O.lW,mn.M,v.JJ,v.oH],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block}h4[_ngcontent-%COMP%]{font-size:1.4rem;margin:0 0 10px}.row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:24px;margin:0 -10px 20px}button[_ngcontent-%COMP%]{min-height:45px;width:100%}.btn-square[_ngcontent-%COMP%]{border-radius:0}.btn-pill[_ngcontent-%COMP%]{border-radius:30px}.basic-btn[_ngcontent-%COMP%]{border:1px dashed var(--be-divider-lighter)}.border[_ngcontent-%COMP%]{border:4px solid transparent;border-radius:4px;padding:5px}.border.active[_ngcontent-%COMP%]{border-color:var(--be-divider-default)}"],changeDetection:0}),e}(),_n=function(){var e=function e(t){p(this,e),this.editor=t};return e.\u0275fac=function(t){return new(t||e)(g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["biolink-appearance"]],decls:13,vars:4,consts:[["trans",""],["trans","",1,"tab-description"],["mat-raised-button","","type","button","color","accent","trans","",1,"save-button",3,"disabled","click"],[1,"material-panel"],[3,"formControl"]],template:function(e,t){1&e&&(g.TgZ(0,"h2",0),g._uU(1,"Custom Appearance"),g.qZA(),g.TgZ(2,"p",1),g._uU(3," Fully customize your Biolink. Change background color or select gradients and images. Choose button style, text color, typeface and more.\n"),g.qZA(),g.TgZ(4,"button",2),g.NdJ("click",function(){return t.editor.saveAppearance()}),g.ALo(5,"async"),g._uU(6," Save Changes\n"),g.qZA(),g.TgZ(7,"h3",0),g._uU(8,"Background"),g.qZA(),g.TgZ(9,"div",3),g._UZ(10,"background-selector",4),g.qZA(),g._UZ(11,"biolink-editor-fonts"),g._UZ(12,"biolink-editor-buttons")),2&e&&(g.xp6(4),g.Q6J("disabled",g.lcZ(5,2,t.editor.loading$)||t.editor.appearanceForm.pristine),g.xp6(6),g.Q6J("formControl",t.editor.appearanceForm.get("bgConfig")))},directives:[M.P,O.lW,ln,v.JJ,v.oH,fn,bn],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block}h2[_ngcontent-%COMP%]{font-size:2.4rem;margin:0 0 10px}h3[_ngcontent-%COMP%]{font-size:2rem}.tab-description[_ngcontent-%COMP%]{margin:0 0 15px}.save-button[_ngcontent-%COMP%]{margin:0 0 40px}  .mat-tab-label-content{text-transform:capitalize}.material-panel[_ngcontent-%COMP%]{max-height:550px;overflow:auto}"],changeDetection:0}),e}(),Zn=i(32198),yn=i(43835),xn=i(90611),kn=i(25051),An=i(28505),wn=i(53129),Tn=i(29738);function Cn(e,t){if(1&e&&(g.TgZ(0,"div",14),g._uU(1),g.qZA()),2&e){var n=g.oxw().ngIf;g.xp6(1),g.Oqu(n.name)}}function qn(e,t){if(1&e&&(g.TgZ(0,"div",14),g._uU(1),g.qZA()),2&e){var n=g.oxw().ngIf;g.xp6(1),g.Oqu(n.hash)}}function Un(e,t){if(1&e&&(g.TgZ(0,"div",4),g.TgZ(1,"div",5),g.TgZ(2,"label",6),g._uU(3,"Name"),g.qZA(),g._UZ(4,"input",7),g.YNc(5,Cn,2,1,"div",8),g.qZA(),g.TgZ(6,"div",9),g._UZ(7,"slug-control",10),g.ALo(8,"async"),g.YNc(9,qn,2,1,"div",8),g.qZA(),g.TgZ(10,"div",11),g.TgZ(11,"label",12),g._uU(12,"Description"),g.qZA(),g._UZ(13,"textarea",13),g.qZA(),g.qZA()),2&e){var n=t.ngIf,i=g.oxw();g.Q6J("formGroup",i.linkForm.formGroup),g.xp6(5),g.Q6J("ngIf",n.name),g.xp6(2),g.Q6J("baseUri",g.lcZ(8,4,i.slugBaseUri$)),g.xp6(2),g.Q6J("ngIf",n.hash)}}var In=function(){var e=function(){function e(t,n,i,a,r,s,l){p(this,e),this.linkForm=t,this.valueLists=n,this.currentUser=i,this.fb=a,this.settings=r,this.editor=s,this.toast=l,this.hiddenFeatures={alias:!0,linkGroups:!0,details:!0},this.slugBaseUri$=new o.X(null),this.options$=new o.X(null),this.form=this.fb.group({name:""}),this.errors$=new o.X({})}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.valueLists.get(["countries","domains","pixels"],{userId:this.currentUser.get("id")}).subscribe(function(t){e.options$.next(t)}),(0,Ee.aj)(this.linkForm.formGroup.get("domain_id").valueChanges,this.options$.pipe((0,yn.h)(function(e){return!!e}))).subscribe(function(t){var n=l(t,2),i=n[0];n[1];e.setSlugBaseUri(i)}),this.editor.biolink$.pipe((0,yn.h)(function(e){return!!e}),(0,xn.q)(1)).subscribe(function(t){e.linkForm.patchValue(t)})}},{key:"saveSettings",value:function(){var e=this;return this.editor.loading$.next(!0),this.editor.biolinks.update(this.editor.biolink$.value.id,this.linkForm.value()).pipe((0,r.x)(function(){return e.editor.loading$.next(!1)})).subscribe(function(){e.toast.open("Biolink updated")},function(t){return e.errors$.next(t.errors)})}},{key:"setSlugBaseUri",value:function(e){this.slugBaseUri$.next(e?this.options$.value.domains.find(function(t){return t.id===e}).host:this.settings.getBaseUrl())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(Zn.l),g.Y36(kn.l),g.Y36(An.I),g.Y36(v.qu),g.Y36(A.Z),g.Y36(x),g.Y36(m.F))},e.\u0275cmp=g.Xpm({type:e,selectors:[["biolink-settings"]],features:[g._Bn([Zn.l])],decls:8,vars:10,consts:[["ngNativeValidate","",1,"material-panel",3,"ngSubmit"],[3,"formGroup",4,"ngIf"],["resourceName","biolink",3,"featuresToHide","linkOptions"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled"],[3,"formGroup"],[1,"input-container","name-container"],["for","link-group-name","trans",""],["type","text","id","link-group-name","formControlName","name","required","","minlength","3"],["class","error",4,"ngIf"],[1,"input-container","slug-container"],["formControlName","hash",3,"baseUri"],[1,"input-container"],["for","link-group-description","trans",""],["id","link-group-description","formControlName","description"],[1,"error"]],template:function(e,t){1&e&&(g.TgZ(0,"form",0),g.NdJ("ngSubmit",function(){return t.saveSettings()}),g.YNc(1,Un,14,6,"div",1),g.ALo(2,"async"),g._UZ(3,"link-options-form",2),g.ALo(4,"async"),g.TgZ(5,"button",3),g.ALo(6,"async"),g._uU(7," Save "),g.qZA(),g.qZA()),2&e&&(g.xp6(1),g.Q6J("ngIf",g.lcZ(2,4,t.errors$)),g.xp6(2),g.Q6J("featuresToHide",t.hiddenFeatures)("linkOptions",g.lcZ(4,6,t.options$)),g.xp6(2),g.Q6J("disabled",g.lcZ(6,8,t.editor.loading$)))},directives:[v.JL,v.F,T.O5,wn.O,O.lW,M.P,v.sg,v.Fj,v.JJ,v.u,v.Q7,v.wO,Tn.b],pipes:[T.Ov],styles:["[_nghost-%COMP%]{display:block}.slug-container[_ngcontent-%COMP%]{margin:8px 0 20px}link-options-form[_ngcontent-%COMP%]{margin-top:10px}"],changeDetection:0}),e}(),Mn=i(78671);function On(e,t){1&e&&g._UZ(0,"biolink-editor-content",8)}function Jn(e,t){1&e&&g._UZ(0,"biolink-appearance",8)}function Pn(e,t){1&e&&g._UZ(0,"biolink-settings",8)}function Nn(e,t){if(1&e&&(g.TgZ(0,"div",9),g.TgZ(1,"div",10),g.TgZ(2,"a",11),g._uU(3),g.qZA(),g.qZA(),g._UZ(4,"share-link-btns",12),g.qZA()),2&e){var n=t.ngIf;g.xp6(2),g.Q6J("href",n.short_url,g.LSH),g.xp6(1),g.Oqu(n.short_url),g.xp6(1),g.Q6J("showCopyBtn",!0)("colored",!0)("link",n)}}var Sn=function(){var e=function(){function e(t,n,i,o,r,s,l,c){p(this,e),this.modal=t,this.biolinks=n,this.widgets=i,this.route=o,this.toast=r,this.settings=s,this.router=l,this.editor=c,this.appearance$=this.editor.appearanceForm.valueChanges.pipe((0,a.O)({}))}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe(function(t){e.editor.reloadBiolink(t.linkId)}),this.route.queryParams.subscribe(function(t){e.editor.activeTab$.next(y[t.tab||"links"])})}},{key:"tabChanged",value:function(e){this.router.navigate([],{queryParams:{tab:Object.entries(y)[e.index][0]},replaceUrl:!0})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(Z.u),g.Y36(f.n),g.Y36(_),g.Y36(k.gz),g.Y36(m.F),g.Y36(A.Z),g.Y36(k.F0),g.Y36(x))},e.\u0275cmp=g.Xpm({type:e,selectors:[["biolink-editor"]],decls:19,vars:21,consts:[[1,"left-col"],["dynamicHeight","","color","accent","animationDuration","0",3,"selectedIndex","selectedTabChange"],[3,"label"],["matTabContent",""],[1,"right-col"],["class","preview-title",4,"ngIf"],[1,"phone-preview"],[3,"biolink","appearance"],[1,"left-col-spacer"],[1,"preview-title"],[1,"link"],["target","_blank",3,"href"],[3,"showCopyBtn","colored","link"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"mat-tab-group",1),g.NdJ("selectedTabChange",function(e){return t.tabChanged(e)}),g.ALo(2,"async"),g.TgZ(3,"mat-tab",2),g.ALo(4,"trans"),g.YNc(5,On,1,0,"ng-template",3),g.qZA(),g.TgZ(6,"mat-tab",2),g.ALo(7,"trans"),g.YNc(8,Jn,1,0,"ng-template",3),g.qZA(),g.TgZ(9,"mat-tab",2),g.ALo(10,"trans"),g.YNc(11,Pn,1,0,"ng-template",3),g.qZA(),g.qZA(),g.qZA(),g.TgZ(12,"div",4),g.YNc(13,Nn,5,5,"div",5),g.ALo(14,"async"),g.TgZ(15,"div",6),g._UZ(16,"biolink-page",7),g.ALo(17,"async"),g.ALo(18,"async"),g.qZA(),g.qZA()),2&e&&(g.xp6(1),g.Q6J("selectedIndex",g.lcZ(2,7,t.editor.activeTab$)),g.xp6(2),g.Q6J("label",g.lcZ(4,9,"Content")),g.xp6(3),g.Q6J("label",g.lcZ(7,11,"Appearance")),g.xp6(3),g.Q6J("label",g.lcZ(10,13,"Settings")),g.xp6(4),g.Q6J("ngIf",g.lcZ(14,15,t.editor.biolink$)),g.xp6(3),g.Q6J("biolink",g.lcZ(17,17,t.editor.biolink$))("appearance",g.lcZ(18,19,t.appearance$)))},directives:[w.SP,w.uX,w.Vc,T.O5,C.v,Ft,_n,In,Mn.t],pipes:[T.Ov,He.R],styles:["@media only screen and (min-width:768px){[_nghost-%COMP%]{display:flex}}[_nghost-%COMP%]     .mat-tab-label-content{text-transform:capitalize}.left-col[_ngcontent-%COMP%]{flex:1 1 auto}@media only screen and (min-width:768px){.left-col[_ngcontent-%COMP%]{padding-right:40px}}.left-col-spacer[_ngcontent-%COMP%]{max-width:650px;margin:0 auto;position:relative;padding:40px 0}.right-col[_ngcontent-%COMP%]{padding:0 40px 40px;border-left:1px solid var(--be-divider-default);flex-shrink:0}@media only screen and (max-width:768px){.right-col[_ngcontent-%COMP%]{display:none}}.preview-title[_ngcontent-%COMP%]{display:flex;align-items:center;padding-bottom:8px;margin-bottom:55px;border-bottom:1px solid var(--be-divider-default)}.preview-title[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{flex:1 1 auto;margin-right:auto;color:var(--be-link);text-decoration:underline;max-width:175px;overflow:hidden;text-overflow:ellipsis}.preview-title[_ngcontent-%COMP%]   share-link-btns[_ngcontent-%COMP%]{flex-shrink:0;margin-left:15px}.phone-preview[_ngcontent-%COMP%]{width:352px;height:724px;border-radius:64px;box-shadow:0 0 30px rgba(0,0,0,.2);border:12px solid #444546;overflow:hidden;position:sticky;top:135px}biolink-page[_ngcontent-%COMP%]{height:100%;width:100%;min-height:100%}"],changeDetection:0}),e}()},4512:function(e,t,n){"use strict";n.d(t,{o:function(){return j}});var i=n(56515),a=n(36024),o=n(90832),r=n(28577),s=n(76512),l=n(35366),c=n(28505),u=n(73234),d=n(63337),g=n(36501),f=n(48865),m=n(95157),v=n(24859),b=n(38116),_=n(49517),Z=n(34955),y=n(56361),x=n(84369),k=n(77307),A=n(61116),w=n(13536),T=n(80922),C=n(86668),q=n(27701),U=n(54275),I=n(24311),M=n(19708),O=n(71765),J=n(47210),P=n(2406),N=n(40450);function S(e,t){1&e&&l._UZ(0,"mat-progress-bar",22)}function D(e,t){1&e&&(l.TgZ(0,"th",23),l._uU(1,"Owner"),l.qZA())}var Q=function(e){return{count:e,resource:"biolink(s)"}};function Y(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"tr"),l.TgZ(1,"th",24),l.TgZ(2,"div",25),l._uU(3," :count :resource selected: "),l.qZA(),l.TgZ(4,"div",26),l.TgZ(5,"permission-aware-button",27),l.TgZ(6,"button",28),l.NdJ("click",function(){return l.CHM(n),l.oxw().maybeDeleteSelectedBiolinks()}),l._uU(7," Delete "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.ngIf;l.xp6(2),l.Q6J("transValues",l.VKq(1,Q,i))}}function L(e,t){if(1&e&&(l.TgZ(0,"td",48),l._UZ(1,"user-column",49),l.qZA()),2&e){var n=l.oxw().$implicit;l.xp6(1),l.Q6J("user",n.user)}}function E(e,t){1&e&&l._UZ(0,"mat-icon",50)}function F(e,t){1&e&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA())}function R(e,t){1&e&&l._UZ(0,"mat-icon",50)}function $(e,t){1&e&&(l.TgZ(0,"span"),l._uU(1,"-"),l.qZA())}var V=function(e){return["/",e]},B=function(e){return[e,"analytics"]},H=function(e){return[e,"edit"]};function z(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"tr"),l._UZ(1,"td",29),l.TgZ(2,"td",30),l.TgZ(3,"a",31),l._uU(4),l.qZA(),l.qZA(),l.YNc(5,L,2,1,"td",32),l.TgZ(6,"td",33),l._uU(7),l.qZA(),l.TgZ(8,"td",34),l.YNc(9,E,1,0,"mat-icon",35),l.YNc(10,F,2,0,"span",19),l.qZA(),l.TgZ(11,"td",36),l.YNc(12,R,1,0,"mat-icon",35),l.YNc(13,$,2,0,"span",19),l.qZA(),l.TgZ(14,"td",37),l._uU(15),l.ALo(16,"formattedDate"),l.qZA(),l.TgZ(17,"td",38),l.TgZ(18,"button",39),l.ALo(19,"trans"),l._UZ(20,"mat-icon",40),l.qZA(),l.TgZ(21,"permission-aware-button",41),l.TgZ(22,"button",42),l.ALo(23,"trans"),l._UZ(24,"mat-icon",43),l.qZA(),l.qZA(),l._UZ(25,"copy-link-btn",44),l.TgZ(26,"permission-aware-button",45),l.TgZ(27,"button",46),l.NdJ("click",function(){var e=l.CHM(n).$implicit;return l.oxw().maybeDeleteSelectedBiolinks([e.id])}),l._UZ(28,"mat-icon",47),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.$implicit,a=l.oxw();l.xp6(1),l.Q6J("table-body-checkbox",i.id),l.xp6(2),l.Q6J("routerLink",l.VKq(22,V,i.hash)),l.xp6(1),l.Oqu(i.name),l.xp6(1),l.Q6J("ngIf",a.showUserColumn()),l.xp6(2),l.Oqu(i.links_count),l.xp6(2),l.Q6J("ngIf",i.active),l.xp6(1),l.Q6J("ngIf",!i.active),l.xp6(2),l.Q6J("ngIf",i.rotator),l.xp6(1),l.Q6J("ngIf",!i.rotator),l.xp6(2),l.Oqu(l.lcZ(16,16,i.updated_at)),l.xp6(3),l.Q6J("routerLink",l.VKq(24,B,i.id))("matTooltip",l.lcZ(19,18,"Analytics")),l.xp6(3),l.Q6J("userOwnsResource",a.currentUser.get("id")===i.user_id),l.xp6(1),l.Q6J("routerLink",l.VKq(26,H,i.id))("matTooltip",l.lcZ(23,20,"Edit")),l.xp6(3),l.Q6J("model",i)}}function G(e,t){1&e&&(l.TgZ(0,"no-results-message",51),l.TgZ(1,"span",52),l._uU(2,"No biolinks have been created yet"),l.qZA(),l.qZA())}var j=function(){var e=function(){function e(t,n,i,a,r,s,l,c,u,d){p(this,e),this.datatable=t,this.currentUser=n,this.biolinks=i,this.toast=a,this.route=r,this.linkUsage=s,this.activeSection=l,this.workspaces=c,this.modal=u,this.router=d,this.biolinks$=this.datatable.data$,this.filters=o.L}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.workspaceSub=this.workspaces.activeId$.subscribe(function(){e.setFilters()}),this.datatable.init({uri:s.n.BASE_URI,staticParams:{with:["user"],withCount:["links"],userId:this.showUserColumn()?null:this.currentUser.get("id")}})}},{key:"ngOnDestroy",value:function(){this.workspaceSub.unsubscribe()}},{key:"maybeDeleteSelectedBiolinks",value:function(e){var t=this;this.datatable.confirmResourceDeletion("biolinks").subscribe(function(){t.biolinks.delete(e||t.datatable.selectedRows$.value).subscribe(function(){t.datatable.reset(),t.toast.open("Biolink deleted")},function(e){t.toast.open(e.message||a.v.Default)})})}},{key:"showUserColumn",value:function(){return this.activeSection.admin||!!this.workspaces.activeId$.value}},{key:"setFilters",value:function(){var e=this;this.filters=o.L.filter(function(t){return"user_id"!==t.key||e.showUserColumn()})}},{key:"openCreateBiolinkModal",value:function(){var e=this;this.modal.open(r.L,{type:"biolink"}).afterClosed().subscribe(function(t){t&&e.router.navigate(["/",e.activeSection.admin?"admin":"dashboard","biolinks",t.id,"edit"])})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(i.x),l.Y36(c.I),l.Y36(s.n),l.Y36(u.F),l.Y36(d.gz),l.Y36(g.F),l.Y36(f.W),l.Y36(m.b),l.Y36(v.u),l.Y36(d.F0))},e.\u0275cmp=l.Xpm({type:e,selectors:[["biolink-index"]],features:[l._Bn([i.x])],decls:43,vars:12,consts:[[1,"datatable-page-header"],["trans",""],["trans","",1,"title"],[1,"header"],["pluralName","biolinks",3,"filters"],[1,"action-buttons"],["permission","biolinks.create"],["mat-raised-button","","color","accent","trans","",1,"button-with-icon",3,"click"],["svgIcon","add"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["table-sort-header","user_id","trans","",4,"ngIf"],["table-sort-header","links_count","trans",""],["table-sort-header","public","trans",""],["table-sort-header","rotator","trans",""],["table-sort-header","updated_at","trans",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","marketing.svg",4,"ngIf"],["mode","indeterminate","color","accent",1,"loading-bar"],["table-sort-header","user_id","trans",""],["colspan","6"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["permission","biolinks.delete"],["type","button","mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],["data-label","Name"],["target","_blank",1,"link-group-name",3,"routerLink"],["data-label","Owner",4,"ngIf"],["data-label","Link Count"],["data-label","Public"],["svgIcon","check",4,"ngIf"],["data-label","Rotator"],["data-label","Last Updated"],[1,"edit-column"],["type","button","mat-icon-button","",3,"routerLink","matTooltip"],["svgIcon","bar-chart"],["permission","biolinks.update",3,"userOwnsResource"],["mat-icon-button","",3,"routerLink","matTooltip"],["svgIcon","edit"],[3,"model"],["permission","biolinks.delete",1,"visible-on-mobile"],["type","button","mat-icon-button","","trans","",3,"click"],["svgIcon","delete"],["data-label","Owner"],[3,"user"],["svgIcon","check"],["svgImage","marketing.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h1"),l.TgZ(2,"span",1),l._uU(3,"Biolinks"),l.qZA(),l.TgZ(4,"info-popover"),l.TgZ(5,"div",2),l._uU(6,"Link in Bio"),l.qZA(),l.TgZ(7,"div",1),l._uU(8,"Offer multiple choices to your followers when they click on your Biolink. Share all your Social Media profiles, videos, songs, articles and other important links with just one url."),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",3),l._UZ(10,"datatable-filters",4),l.TgZ(11,"div",5),l.TgZ(12,"permission-aware-button",6),l.TgZ(13,"button",7),l.NdJ("click",function(){return t.openCreateBiolinkModal()}),l._UZ(14,"mat-icon",8),l.TgZ(15,"span",1),l._uU(16,"Add New Biolink"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(17,"div",9),l.YNc(18,S,1,0,"mat-progress-bar",10),l.ALo(19,"async"),l.TgZ(20,"table",11),l.TgZ(21,"thead"),l.TgZ(22,"tr"),l._UZ(23,"th",12),l.TgZ(24,"th",13),l._uU(25,"Name"),l.qZA(),l.YNc(26,D,2,0,"th",14),l.TgZ(27,"th",15),l._uU(28,"Links"),l.qZA(),l.TgZ(29,"th",16),l._uU(30,"Public"),l.qZA(),l.TgZ(31,"th",17),l._uU(32,"Rotator"),l.qZA(),l.TgZ(33,"th",18),l._uU(34,"Last Updated"),l.qZA(),l._UZ(35,"th"),l.qZA(),l.YNc(36,Y,8,3,"tr",19),l.qZA(),l.TgZ(37,"tbody"),l.YNc(38,z,29,28,"tr",20),l.ALo(39,"async"),l.qZA(),l.qZA(),l.YNc(40,G,3,0,"no-results-message",21),l.ALo(41,"async"),l._UZ(42,"datatable-footer"),l.qZA()),2&e&&(l.xp6(10),l.Q6J("filters",t.filters),l.xp6(8),l.Q6J("ngIf",l.lcZ(19,6,t.datatable.paginator&&t.datatable.paginator.loading$)),l.xp6(8),l.Q6J("ngIf",t.showUserColumn()),l.xp6(10),l.Q6J("ngIf",t.datatable.selectedRows$.value.length),l.xp6(2),l.Q6J("ngForOf",l.lcZ(39,8,t.biolinks$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(41,10,t.datatable.paginator.noResults$)))},directives:[b.P,_.N,Z.h,y.v,x.lW,k.Hw,A.O5,w.e,T.p,A.sg,C.V,q.pW,U.O,d.yS,d.rH,I.gM,M.b,O.r,J.U],pipes:[A.Ov,P.l,N.R],styles:["h1[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0}),e}()},76512:function(e,t,n){"use strict";n.d(t,{n:function(){return o}});var i=n(35366),a=n(68515),o=function(){var e=function(){function e(t){p(this,e),this.http=t}return h(e,[{key:"get",value:function(t,n){return this.http.get("".concat(e.BASE_URI,"/").concat(t),n)}},{key:"create",value:function(t){return this.http.post(e.BASE_URI,t)}},{key:"update",value:function(t,n){return this.http.put("".concat(e.BASE_URI,"/").concat(t),n)}},{key:"delete",value:function(t){return this.http.delete("".concat(e.BASE_URI,"/").concat(t))}},{key:"detach",value:function(t,n){return this.http.post("".concat(e.BASE_URI,"/").concat(t,"/detach"),{contentItem:n})}},{key:"changeOrder",value:function(t,n){return this.http.post("".concat(e.BASE_URI,"/").concat(t,"/change-order"),{order:n})}},{key:"analytics",value:function(e){return this.http.get(this.analyticsEndpoint(e))}},{key:"analyticsEndpoint",value:function(t){return"".concat(e.BASE_URI,"/").concat(t,"/analytics")}},{key:"saveAppearance",value:function(t,n){return this.http.post("".concat(e.BASE_URI,"/").concat(t,"/appearance"),{config:n})}},{key:"updateContentItemConfig",value:function(t,n,i){return this.http.post("".concat(e.BASE_URI,"/").concat(t,"/update-content-config"),Object.assign({item_id:n.id,item_model_type:n.model_type},i))}}]),e}();return e.BASE_URI="biolink",e.\u0275fac=function(t){return new(t||e)(i.LFG(a.r))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},93836:function(e,t,n){"use strict";n.d(t,{z:function(){return Q}});var i=n(84222),a=n(31041),o=n(43835),r=n(66599),s=n(11520),c=n(79996),u=n(78512),d=n(3080),g=n(83693),f=n(18948),m=n(35366),v=n(78733),b=n(131),_=n(88195),Z=n(3950),y=n(68515),x=n(61116),k=n(42300),A=n(92762),w=n(38116),T=n(92007),C=["*"],q=function(){var e=function(){function e(t){p(this,e),this.fb=t,this.setDefaultDate=!1,this.showLabels=!1,this.datePattern="([12]\\d{3}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))",this.initiated=!1,this.form=this.fb.group({from:[""],to:[""]}),this.defaultFrom=this.getDefaultDate(7),this.defaultTo=this.getDefaultDate()}return h(e,[{key:"writeValue",value:function(e){Array.isArray(e)||(e=(e||"").split(":"));var t=l(e,2),n=t[0],i=t[1];!this.initiated&&this.setDefaultDate&&(n=n||this.defaultFrom,i=i||this.defaultTo),this.initiated=!0,this.form.patchValue({from:n,to:i})}},{key:"registerOnChange",value:function(e){var t=this;this.propagateChange=e,this.form.valueChanges.pipe((0,o.h)(function(e){return e.from&&e.to})).subscribe(function(e){t.propagateChange("".concat(e.from,":").concat(e.to))})}},{key:"registerOnTouched",value:function(){}},{key:"getDefaultDate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=new Date;t.setDate(t.getDate()-e);var n=this.addZero(t.getMonth()+1),i=this.addZero(t.getDate());return"".concat(t.getFullYear(),"-").concat(n,"-").concat(i)}},{key:"addZero",value:function(e){return e<10?"0"+e:""+e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(a.qu))},e.\u0275cmp=m.Xpm({type:e,selectors:[["between-input"]],inputs:{setDefaultDate:"setDefaultDate",showLabels:"showLabels"},features:[m._Bn([{provide:a.JU,useExisting:e,multi:!0}])],ngContentSelectors:C,decls:12,vars:9,consts:[[3,"formGroup"],["trans",""],[1,"inline-inputs-container"],[1,"input-container"],["for","from","trans",""],["type","date","id","from","formControlName","from","required","",3,"placeholder","pattern"],["for","to","trans",""],["type","date","id","to","formControlName","to","required","",3,"placeholder","pattern"]],template:function(e,t){1&e&&(m.F$t(),m.TgZ(0,"fieldset",0),m.TgZ(1,"legend",1),m.Hsn(2),m.qZA(),m.TgZ(3,"div",2),m.TgZ(4,"div",3),m.TgZ(5,"label",4),m._uU(6,"From"),m.qZA(),m._UZ(7,"input",5),m.qZA(),m.TgZ(8,"div",3),m.TgZ(9,"label",6),m._uU(10,"To"),m.qZA(),m._UZ(11,"input",7),m.qZA(),m.qZA(),m.qZA()),2&e&&(m.Q6J("formGroup",t.form),m.xp6(5),m.ekj("hidden",!t.showLabels),m.xp6(2),m.Q6J("placeholder",t.defaultFrom)("pattern",t.datePattern),m.xp6(2),m.ekj("hidden",!t.showLabels),m.xp6(2),m.Q6J("placeholder",t.defaultTo)("pattern",t.datePattern))},directives:[a.JL,a.sg,w.P,a.Fj,a.JJ,a.u,a.Q7,a.c5],styles:["legend[_ngcontent-%COMP%]{text-transform:capitalize}legend[_ngcontent-%COMP%]:empty{display:none}"],changeDetection:0}),e}(),U=n(84369),I=n(40450),M=["countryChartPlaceholder"];function O(e,t){if(1&e){var n=m.EpF();m.TgZ(0,"div",31),m._UZ(1,"between-input",32),m.TgZ(2,"button",33),m.NdJ("click",function(){m.CHM(n);var e=m.oxw(2);return e.customRange$.next(e.customRangeControl.value)}),m.ALo(3,"async"),m._uU(4,"Apply"),m.qZA(),m.qZA()}if(2&e){var i=m.oxw(2);m.xp6(1),m.Q6J("formControl",i.customRangeControl),m.xp6(1),m.Q6J("disabled",!m.lcZ(3,2,i.customRangeControl.valueChanges))}}function J(e,t){if(1&e&&(m.TgZ(0,"a",38),m._uU(1),m.qZA()),2&e){var n=m.oxw().$implicit;m.Q6J("href",n.label,m.LSH),m.xp6(1),m.Oqu(n.label)}}function P(e,t){1&e&&(m.TgZ(0,"div",39),m._uU(1,"Direct, Email, SMS"),m.qZA())}function N(e,t){if(1&e&&(m.TgZ(0,"li",34),m.YNc(1,J,2,2,"a",35),m.YNc(2,P,2,0,"ng-template",null,36,m.W1O),m.TgZ(4,"div",37),m._uU(5),m.qZA(),m.qZA()),2&e){var n=t.$implicit,i=m.MAs(3);m.xp6(1),m.Q6J("ngIf",n.label)("ngIfElse",i),m.xp6(4),m.Oqu(n.count)}}function S(e,t){if(1&e&&(m.TgZ(0,"div",40),m.TgZ(1,"span",41),m._uU(2),m.qZA(),m._uU(3),m.qZA()),2&e){var n=t.$implicit;m.xp6(2),m.Oqu(n.label),m.xp6(1),m.hij(" (",n.percentage,"%) ")}}function D(e,t){if(1&e&&(m.ynx(0),m.TgZ(1,"header",2),m.TgZ(2,"mat-button-toggle-group",3),m.TgZ(3,"mat-button-toggle",4),m._uU(4,"Hourly"),m.qZA(),m.TgZ(5,"mat-button-toggle",5),m._uU(6,"Weekly"),m.qZA(),m.TgZ(7,"mat-button-toggle",6),m._uU(8,"Monthly"),m.qZA(),m.TgZ(9,"mat-button-toggle",7),m._uU(10,"Yearly"),m.qZA(),m.TgZ(11,"mat-button-toggle",8),m._uU(12,"Custom"),m.qZA(),m.qZA(),m.YNc(13,O,5,4,"div",9),m.ALo(14,"async"),m.qZA(),m.TgZ(15,"div",10),m.TgZ(16,"div",11),m.TgZ(17,"chart",12),m.TgZ(18,"div",13),m.TgZ(19,"div",14),m.TgZ(20,"div",15),m._uU(21),m.ALo(22,"trans"),m.qZA(),m.TgZ(23,"div",16),m._uU(24),m.ALo(25,"trans"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(26,"div",17),m.TgZ(27,"chart",18),m.TgZ(28,"div",19),m.TgZ(29,"div",15),m._uU(30,"Top Devices"),m.qZA(),m.TgZ(31,"div",20),m._uU(32,"Click count by device"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(33,"div",10),m.TgZ(34,"div",21),m.TgZ(35,"div",22),m.TgZ(36,"div",19),m.TgZ(37,"div",15),m._uU(38,"Referrers"),m.qZA(),m.TgZ(39,"div",20),m._uU(40,"Click count by referrer"),m.qZA(),m.qZA(),m.TgZ(41,"ul",23),m.YNc(42,N,6,3,"li",24),m.qZA(),m.qZA(),m.qZA(),m.TgZ(43,"div",25),m.TgZ(44,"div",22),m.TgZ(45,"div",19),m.TgZ(46,"div",15),m._uU(47,"Top Locations"),m.qZA(),m.TgZ(48,"div",20),m._uU(49,"Click count by country"),m.qZA(),m.qZA(),m.TgZ(50,"div",26),m._UZ(51,"div",27,28),m.TgZ(53,"div",29),m.YNc(54,S,4,2,"div",30),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(55,"div",10),m.TgZ(56,"div",17),m.TgZ(57,"chart",18),m.TgZ(58,"div",19),m.TgZ(59,"div",15),m._uU(60,"Top Browsers"),m.qZA(),m.TgZ(61,"div",20),m._uU(62,"Click count by browser"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(63,"div",17),m.TgZ(64,"chart",18),m.TgZ(65,"div",19),m.TgZ(66,"div",15),m._uU(67,"Top Platforms"),m.qZA(),m.TgZ(68,"div",20),m._uU(69,"Click count by OS"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.BQk()),2&e){var n=t.ngIf,i=m.oxw();m.xp6(2),m.Q6J("formControl",i.range),m.xp6(11),m.Q6J("ngIf","custom"===m.lcZ(14,11,i.range.valueChanges)),m.xp6(4),m.Q6J("chartConfig",n.clicks),m.xp6(4),m.Oqu(m.lcZ(22,13,"Clicks this "+i.getRangeName())),m.xp6(3),m.AsE("",n.totalClicks," ",m.lcZ(25,15,"Total Clicks"),""),m.xp6(3),m.Q6J("chartConfig",n.devices),m.xp6(15),m.Q6J("ngForOf",n.referrers),m.xp6(12),m.Q6J("ngForOf",n.locations),m.xp6(3),m.Q6J("chartConfig",n.browsers),m.xp6(7),m.Q6J("chartConfig",n.platforms)}}var Q=function(){var e=function(){function e(t,n,o,r,s){p(this,e),this.loader=t,this.theme=n,this.settings=o,this.i18n=r,this.http=s,this.endpoint="".concat(i.M.BASE_URI,"/analytics"),this.transformedReports$=new u.X({}),this.loading$=new u.X(!1),this.range=new a.NI("weekly"),this.customRangeControl=new a.NI,this.customRange$=new u.X("")}return h(e,[{key:"ngOnChanges",value:function(e){e.reports&&e.reports.currentValue&&(this.updateCharts(e.reports.currentValue),this.initGoogleWorldMap())}},{key:"ngOnInit",value:function(){var e=this;(0,d.aj)([this.range.valueChanges,this.customRange$]).pipe((0,o.h)(function(e){var t=l(e,2),n=t[0],i=t[1];return"custom"!==n||!!i}),(0,r.b)(function(){return e.loading$.next(!0)})).subscribe(function(t){var n=l(t,2),i=n[0],a=n[1];e.getUpdateDataRequest(i,a).pipe((0,s.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.updateCharts(t),e.drawGoogleChart()})}),this.theme.selectedTheme$.subscribe(function(){e.googleChart&&e.drawGoogleChart()})}},{key:"getRangeName",value:function(){return"custom"===this.range.value?"period":this.range.value.replace("ly","")}},{key:"getUpdateDataRequest",value:function(e,t){return this.http.get(this.endpoint,{range:e,customRange:t}).pipe((0,c.U)(function(e){return(0,f.w)("mainData",e)?e.mainData:e.analytics}))}},{key:"updateCharts",value:function(e){var t=Object.assign(Object.assign({},e),{browsers:this.transformData(null==e?void 0:e.browsers,g.o.PIE),platforms:this.transformData(null==e?void 0:e.platforms,g.o.PIE),devices:this.transformData(null==e?void 0:e.devices,g.o.PIE,!0),clicks:this.transformData(null==e?void 0:e.clicks,g.o.LINE)});this.transformedReports$.next(t)}},{key:"transformData",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.o.LINE,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e?{type:n,labels:e.map(function(e){return i?t.i18n.t(e.label):e.label}),data:n===g.o.LINE?[e.map(function(e){return e.count})]:e.map(function(e){return e.count}),legend:!1,tooltip:this.i18n.t("Click Count"),options:{showLabel:!0,donut:!0}}:{}}},{key:"initGoogleWorldMap",value:function(){var e=this;this.loader.loadAsset("https://www.gstatic.com/charts/loader.js",{type:"js"}).then(function(){var t=window.google;t.charts.load("current",{packages:["geochart"],mapsApiKey:e.settings.get("links.gchart_api_key")}),t.charts.setOnLoadCallback(function(){e.drawGoogleChart()})})}},{key:"drawGoogleChart",value:function(){var e=window.google,t=this.transformedReports$.value.locations.map(function(e){return[e.label,e.count]});t.unshift(["Country","Popularity"]),t=e.visualization.arrayToDataTable(t);var n={colorAxis:{colors:["#4662fa"]},backgroundColor:this.theme.selectedTheme$.value.is_dark?"#1D1D1D":null,datalessRegionColor:this.theme.selectedTheme$.value.is_dark?"#e9ecfe":null};this.googleChart||(this.googleChart=new e.visualization.GeoChart(this.iframe.nativeElement)),this.googleChart.draw(t,n)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(m.Y36(v.j),m.Y36(b.f),m.Y36(_.Z),m.Y36(Z.Z),m.Y36(y.r))},e.\u0275cmp=m.Xpm({type:e,selectors:[["click-charts"]],viewQuery:function(e,t){var n;(1&e&&m.Gf(M,5),2&e)&&(m.iGM(n=m.CRH())&&(t.iframe=n.first))},inputs:{reports:"reports",endpoint:"endpoint"},features:[m.TTD],decls:4,vars:6,consts:[[4,"ngIf"],[1,"overlay",3,"isVisible"],[1,"date-header"],[1,"right",3,"formControl"],["value","hourly","trans",""],["value","weekly","trans",""],["value","monthly","trans",""],["value","yearly","trans",""],["value","custom","trans",""],["class","custom-date-container",4,"ngIf"],[1,"chart-row"],[1,"chart-wrapper"],["height","400",1,"clicks-chart",3,"chartConfig"],[1,"chart-header","clicks-chart-header"],[1,"left"],["trans","",1,"title"],[1,"subtitle"],[1,"chart-wrapper","pie-wrapper"],["height","385",3,"chartConfig"],[1,"chart-header"],["trans","",1,"subtitle"],[1,"chart-wrapper","referrers-panel"],[1,"chart"],[1,"unstyled-list"],["class","referrer",4,"ngFor","ngForOf"],[1,"chart-wrapper","locations-panel"],[1,"chart-body"],[1,"country-chart-placeholder"],["countryChartPlaceholder",""],[1,"country-list"],["class","country",4,"ngFor","ngForOf"],[1,"custom-date-container"],[1,"click-charts-date-input",3,"formControl"],["type","button","mat-raised-button","","color","accent","trans","",1,"apply-custom-range-button",3,"disabled","click"],[1,"referrer"],["class","url","target","_blank",3,"href",4,"ngIf","ngIfElse"],["direct",""],[1,"count"],["target","_blank",1,"url",3,"href"],["trans",""],[1,"country"],[1,"country-name"]],template:function(e,t){1&e&&(m.YNc(0,D,70,17,"ng-container",0),m.ALo(1,"async"),m._UZ(2,"loading-indicator",1),m.ALo(3,"async")),2&e&&(m.Q6J("ngIf",m.lcZ(1,2,t.transformedReports$)),m.xp6(2),m.Q6J("isVisible",m.lcZ(3,4,t.loading$)))},directives:[x.O5,k.Q,A.A9,a.JJ,a.oH,A.Yi,w.P,T.x,x.sg,q,U.lW],pipes:[x.Ov,I.R],styles:["[_nghost-%COMP%]{display:block;overflow:hidden}.clicks-chart[_ngcontent-%COMP%]   .chart-body[_ngcontent-%COMP%]{padding-right:15px}.date-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:25px}.custom-date-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin-left:auto}@media only screen and (max-width:845px){.date-header[_ngcontent-%COMP%]{display:block;overflow-x:auto}.custom-date-container[_ngcontent-%COMP%]{margin-top:25px}}  .click-charts-date-input input{background-color:var(--be-background)}.apply-custom-range-button[_ngcontent-%COMP%]{margin-left:10px}.title[_ngcontent-%COMP%]{text-transform:capitalize}.referrers-panel[_ngcontent-%COMP%]{overflow:auto}.referrers-panel[_ngcontent-%COMP%]   .chart-header[_ngcontent-%COMP%]{margin-bottom:5px}.referrers-panel[_ngcontent-%COMP%]   .referrer[_ngcontent-%COMP%]{display:flex;align-items:center;padding:5px 20px}.referrers-panel[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{background-color:var(--be-accent-default);color:var(--be-accent-contrast);font-size:1.2rem;padding:5px 10px;border-radius:4px;margin-left:auto;line-height:10px}.referrers-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:85%}.referrers-panel[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.locations-panel[_ngcontent-%COMP%]{max-width:700px}.locations-panel[_ngcontent-%COMP%]   .chart-body[_ngcontent-%COMP%]{display:flex;padding:0 15px}@media only screen and (max-width:768px){.locations-panel[_ngcontent-%COMP%]{height:auto;max-height:none}.locations-panel[_ngcontent-%COMP%]   .chart-body[_ngcontent-%COMP%]{display:block}.locations-panel[_ngcontent-%COMP%]   .country-list[_ngcontent-%COMP%]{padding:10px 0}}.locations-panel[_ngcontent-%COMP%]   .country-chart-placeholder[_ngcontent-%COMP%]{flex:1 1 auto;height:100%}.locations-panel[_ngcontent-%COMP%]   .country[_ngcontent-%COMP%]{padding:4px 0;white-space:nowrap;overflow:hidden;font-size:1.3rem}.locations-panel[_ngcontent-%COMP%]   .country-name[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;max-width:150px;overflow:hidden;text-overflow:ellipsis}iframe[_ngcontent-%COMP%]{border:none;width:100%;height:100%}"],changeDetection:0}),e}()},69193:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var i=n(61116),a=n(20653),o=n(84369),r=n(77307),s=n(92762),l=n(68400),c=n(31041),u=n(99808),d=n(68692),g=n(35366),h=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=g.oAB({type:e}),e.\u0275inj=g.cJS({imports:[[i.ez,a.m,l.N,c.UX,u.p,d.X,o.ot,r.Ps,s.vV]]}),e}()},66445:function(e,t,i){"use strict";i.r(t),i.d(t,{DashboardModule:function(){return Nn}});var o=i(61116),r=i(63337),s=i(84698),l=i(25051),c=i(14926),u=i(35366),d=i(36501),g=i(88195),f=i(70549),m=i(95157),v=i(86655),b=i(97070),_=i(36024),Z=i(4694),y=i(43835),x=i(72798),k=i(24859),A=i(28505),w=i(73234),T=i(38116),C=i(77307),q=i(84369),U=i(40450);function I(e,t){1&e&&(u.TgZ(0,"span",12),u._uU(1,"Personal workspace"),u.qZA())}var M=function(e){return{count:e}};function O(e,t){if(1&e&&(u.TgZ(0,"span",12),u._uU(1),u.ALo(2,"trans"),u.qZA()),2&e){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(u.xi3(2,1,":count members",u.VKq(4,M,(null==n?null:n.members_count)||0)))}}function J(e,t){if(1&e&&(u.TgZ(0,"div",5),u.TgZ(1,"div",6),u.TgZ(2,"div",7),u._uU(3),u.qZA(),u.TgZ(4,"div",8),u.YNc(5,I,2,0,"span",9),u.YNc(6,O,3,6,"span",9),u.qZA(),u.qZA(),u.TgZ(7,"div",10),u._UZ(8,"mat-icon",11),u.qZA(),u.qZA()),2&e){var n=t.ngIf;u.oxw();var i=u.MAs(3);u.Q6J("matMenuTriggerFor",i),u.xp6(3),u.Oqu(n.name),u.xp6(2),u.Q6J("ngIf",n.default),u.xp6(1),u.Q6J("ngIf",!n.default)}}function P(e,t){1&e&&(u.TgZ(0,"span",12),u._uU(1,"Personal workspace"),u.qZA())}function N(e,t){if(1&e&&(u.TgZ(0,"span",12),u._uU(1),u.ALo(2,"trans"),u.qZA()),2&e){var n=u.oxw().$implicit;u.xp6(1),u.Oqu(u.xi3(2,1,":count members",u.VKq(4,M,(null==n?null:n.members_count)||0)))}}function S(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"button",17),u.NdJ("click",function(e){u.CHM(n);var t=u.oxw().$implicit;return u.oxw().openWorkspaceMembersModal(t),e.stopPropagation()}),u._UZ(1,"mat-icon",18),u.qZA()}}function D(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",13),u.NdJ("click",function(){var e=u.CHM(n).$implicit;return u.oxw().selectWorkspace(e)}),u.ALo(1,"async"),u._UZ(2,"mat-icon",14),u.ALo(3,"async"),u.TgZ(4,"div"),u.TgZ(5,"div",15),u._uU(6),u.qZA(),u.TgZ(7,"div",8),u.YNc(8,P,2,0,"span",9),u.YNc(9,N,3,6,"span",9),u.qZA(),u.qZA(),u.YNc(10,S,2,0,"button",16),u.qZA()}if(2&e){var i=t.$implicit,a=u.oxw();u.ekj("active",u.lcZ(1,8,a.workspaces.activeId$)===i.id),u.xp6(2),u.ekj("visually-hidden",u.lcZ(3,10,a.workspaces.activeId$)!==i.id),u.xp6(4),u.Oqu(i.name),u.xp6(2),u.Q6J("ngIf",i.default),u.xp6(1),u.Q6J("ngIf",!i.default),u.xp6(1),u.Q6J("ngIf",!i.default)}}function Q(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",19),u.NdJ("click",function(){return u.CHM(n),u.oxw().openCrupdateWorkspaceModal()}),u._UZ(1,"mat-icon",20),u.TgZ(2,"span",12),u._uU(3,"Create new workspace"),u.qZA(),u.qZA()}}var Y=function(){var e=function(){function e(t,n,i,a,o,r){p(this,e),this.modal=t,this.workspaces=n,this.currentUser=i,this.toast=a,this.vcr=o,this.cd=r}return h(e,[{key:"ngOnInit",value:function(){this.workspaces.indexUserWorkspaces().subscribe()}},{key:"openCrupdateWorkspaceModal",value:function(e){var t=this;Promise.resolve().then(i.bind(i,75428)).then(function(n){t.modal.open(n.WorkspaceModule.components.crupdateModal,{workspace:e},{viewContainerRef:t.vcr}),t.cd.markForCheck()})}},{key:"openWorkspaceMembersModal",value:function(e){var t=this;Promise.resolve().then(i.bind(i,75428)).then(function(n){t.modal.open(n.WorkspaceModule.components.manageMembers,{workspace:e},{viewContainerRef:t.vcr}),t.cd.markForCheck(),t.menuTrigger.closeMenu()})}},{key:"maybeDeleteWorkspace",value:function(e){var t=this,n=Object.assign(Object.assign({},x.M),{replacements:{resource:"workspace"}});this.modal.open(Z.z,n).afterClosed().pipe((0,y.h)(function(e){return e})).subscribe(function(){t.workspaces.delete([e.id]).subscribe(function(){t.toast.open("Workspace deleted.")},function(e){t.toast.open(e.message||_.v.Default)})})}},{key:"selectWorkspace",value:function(e){this.workspaces.select(e.id),this.menuTrigger.closeMenu()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(k.u),u.Y36(m.b),u.Y36(A.I),u.Y36(w.F),u.Y36(u.s_b),u.Y36(u.sBO))},e.\u0275cmp=u.Xpm({type:e,selectors:[["workspace-selector"]],viewQuery:function(e,t){var n;(1&e&&u.Gf(b.p6,5),2&e)&&(u.iGM(n=u.CRH())&&(t.menuTrigger=n.first))},decls:7,vars:7,consts:[[3,"matMenuTriggerFor",4,"ngIf"],[1,"workspace-menu"],["workspaceMenu","matMenu"],["mat-menu-item","","class","workspace-menu-item",3,"active","click",4,"ngFor","ngForOf"],["mat-menu-item","","class","new-workspace-menu-item",3,"click",4,"ngIf"],[3,"matMenuTriggerFor"],[1,"left"],["trans","",1,"role-name"],[1,"member-count"],["trans","",4,"ngIf"],[1,"right"],["svgIcon","unfold-more"],["trans",""],["mat-menu-item","",1,"workspace-menu-item",3,"click"],["svgIcon","check"],["trans","",1,"name"],["type","button","class","settings-button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",1,"settings-button",3,"click"],["svgIcon","settings"],["mat-menu-item","",1,"new-workspace-menu-item",3,"click"],["svgIcon","add"]],template:function(e,t){1&e&&(u.YNc(0,J,9,4,"div",0),u.ALo(1,"async"),u.TgZ(2,"mat-menu",1,2),u.YNc(4,D,11,12,"div",3),u.ALo(5,"async"),u.YNc(6,Q,4,0,"div",4),u.qZA()),2&e&&(u.Q6J("ngIf",u.lcZ(1,3,t.workspaces.activeWorkspace$)),u.xp6(4),u.Q6J("ngForOf",u.lcZ(5,5,t.workspaces.available$)),u.xp6(2),u.Q6J("ngIf",t.currentUser.hasPermission("workspaces.create")))},directives:[o.O5,b.VK,o.sg,b.p6,T.P,C.Hw,b.OP,q.lW],pipes:[o.Ov,U.R],styles:[".mat-menu-trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer;height:100%}.right[_ngcontent-%COMP%]{margin-left:auto;flex-shrink:0}.role-name[_ngcontent-%COMP%]{font-weight:500;text-transform:capitalize}.workspace-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:normal;min-width:248px;line-height:normal;height:52px}.workspace-menu-item.active[_ngcontent-%COMP%]{color:var(--be-accent-default)}.workspace-menu-item.active[_ngcontent-%COMP%]   .member-count[_ngcontent-%COMP%]{color:inherit}.workspace-menu-item[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{flex-shrink:0;color:inherit}.workspace-menu-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-right:10px;flex:1 1 auto;font-size:1.5rem;text-transform:capitalize}.new-workspace-menu-item[_ngcontent-%COMP%]{border-top:1px solid var(--be-divider-default);margin-top:8px;padding-top:4px;font-size:1.5rem}.member-count[_ngcontent-%COMP%]{color:var(--be-secondary-text);font-size:1.3rem}.settings-button[_ngcontent-%COMP%]{margin-left:auto;color:var(--be-secondary-text);width:30px;height:30px;line-height:30px}.settings-button[_ngcontent-%COMP%]:hover{color:var(--be-accent-default)}.settings-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px;margin-right:0}"],changeDetection:0}),e}(),L=i(35944),E=i(2406);function F(e,t){if(1&e&&(u.TgZ(0,"li"),u._uU(1),u.ALo(2,"number"),u.ALo(3,"trans"),u.ALo(4,"trans"),u.ALo(5,"trans"),u.qZA()),2&e){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(u.lcZ(2,1,n.links.used)+" "+u.lcZ(3,3,"out of")+" "+(n.links.total||u.lcZ(4,5,"Unlimited"))+" "+u.lcZ(5,7,"Links"))}}function R(e,t){if(1&e&&(u.TgZ(0,"li"),u._uU(1),u.ALo(2,"number"),u.ALo(3,"trans"),u.ALo(4,"trans"),u.ALo(5,"trans"),u.qZA()),2&e){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(u.lcZ(2,1,n.biolinks.used)+" "+u.lcZ(3,3,"out of")+" "+(n.biolinks.total||u.lcZ(4,5,"Unlimited"))+" "+u.lcZ(5,7,"Biolinks"))}}function $(e,t){if(1&e&&(u.TgZ(0,"li"),u._uU(1),u.ALo(2,"number"),u.ALo(3,"trans"),u.ALo(4,"trans"),u.ALo(5,"trans"),u.qZA()),2&e){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(u.lcZ(2,1,n.link_clicks.used)+" "+u.lcZ(3,3,"out of")+" "+(n.link_clicks.total||u.lcZ(4,5,"Unlimited"))+" "+u.lcZ(5,7,"Visitors"))}}function V(e,t){if(1&e&&(u.TgZ(0,"li"),u._uU(1),u.ALo(2,"trans"),u.ALo(3,"trans"),u.ALo(4,"trans"),u.qZA()),2&e){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(n.link_overlays.used+" "+u.lcZ(2,1,"out of")+" "+(n.link_overlays.total||u.lcZ(3,3,"Unlimited"))+" "+u.lcZ(4,5,"Link Overlays"))}}function B(e,t){if(1&e&&(u.TgZ(0,"li"),u._uU(1),u.ALo(2,"trans"),u.ALo(3,"trans"),u.ALo(4,"trans"),u.qZA()),2&e){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(n.custom_pages.used+" "+u.lcZ(2,1,"out of")+" "+(n.custom_pages.total||u.lcZ(3,3,"Unlimited"))+" "+u.lcZ(4,5,"Custom Link Pages"))}}function H(e,t){if(1&e&&(u.TgZ(0,"li"),u._uU(1),u.ALo(2,"trans"),u.ALo(3,"trans"),u.ALo(4,"trans"),u.qZA()),2&e){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(n.custom_domains.used+" "+u.lcZ(2,1,"out of")+" "+(n.custom_domains.total||u.lcZ(3,3,"Unlimited"))+" "+u.lcZ(4,5,"Custom Domains"))}}function z(e,t){if(1&e&&(u.TgZ(0,"li"),u._uU(1),u.ALo(2,"number"),u.ALo(3,"trans"),u.ALo(4,"trans"),u.ALo(5,"trans"),u.qZA()),2&e){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(u.lcZ(2,1,n.link_groups.used)+" "+u.lcZ(3,3,"out of")+" "+(n.link_groups.total||u.lcZ(4,5,"Unlimited"))+" "+u.lcZ(5,7,"Link Groups"))}}function G(e,t){if(1&e&&(u.TgZ(0,"li"),u._uU(1),u.ALo(2,"trans"),u.ALo(3,"trans"),u.ALo(4,"trans"),u.qZA()),2&e){var n=u.oxw().ngIf;u.xp6(1),u.Oqu(n.tracking_pixels.used+" "+u.lcZ(2,1,"out of")+" "+(n.tracking_pixels.total||u.lcZ(3,3,"Unlimited"))+" "+u.lcZ(4,5,"Tracking Pixels"))}}function j(e,t){if(1&e&&(u.TgZ(0,"ul",4),u.YNc(1,F,6,9,"li",5),u.YNc(2,R,6,9,"li",5),u.YNc(3,$,6,9,"li",5),u.YNc(4,V,5,7,"li",5),u.YNc(5,B,5,7,"li",5),u.YNc(6,H,5,7,"li",5),u.YNc(7,z,6,9,"li",5),u.YNc(8,G,5,7,"li",5),u.qZA()),2&e){var n=t.ngIf;u.xp6(1),u.Q6J("ngIf",n.links.create),u.xp6(1),u.Q6J("ngIf",n.biolinks.create),u.xp6(1),u.Q6J("ngIf",n.link_clicks.create),u.xp6(1),u.Q6J("ngIf",n.link_overlays.create),u.xp6(1),u.Q6J("ngIf",n.custom_pages.create),u.xp6(1),u.Q6J("ngIf",n.custom_domains.create),u.xp6(1),u.Q6J("ngIf",n.link_groups.create),u.xp6(1),u.Q6J("ngIf",n.tracking_pixels.create)}}var X=function(){var e=function e(t,n){p(this,e),this.linkUsage=t,this.currentUser=n};return e.\u0275fac=function(t){return new(t||e)(u.Y36(d.F),u.Y36(A.I))},e.\u0275cmp=u.Xpm({type:e,selectors:[["link-usage-info"]],decls:12,vars:15,consts:[[1,"header"],[1,"current-plan"],[1,"next-payment"],["class","unstyled-list",4,"ngIf"],[1,"unstyled-list"],[4,"ngIf"]],template:function(e,t){var n,i;(1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u._uU(2),u.ALo(3,"trans"),u.ALo(4,"trans"),u.qZA(),u.TgZ(5,"div",2),u._uU(6),u.ALo(7,"trans"),u.ALo(8,"formattedDate"),u.ALo(9,"trans"),u.qZA(),u.qZA(),u.YNc(10,j,9,8,"ul",3),u.ALo(11,"async")),2&e)&&(u.xp6(2),u.hij(" ",u.lcZ(3,3,"Current Plan")+": "+((null==(n=t.currentUser.getSubscription())||null==n.plan?null:n.plan.name)||u.lcZ(4,5,"Free"))," "),u.xp6(4),u.hij(" ",u.lcZ(7,7,"Next Payment")+": "+(u.lcZ(8,9,null==(i=t.currentUser.getSubscription())?null:i.renews_at)||u.lcZ(9,11,"Never"))," "),u.xp6(4),u.Q6J("ngIf",u.lcZ(11,13,t.linkUsage.response$).usage))},directives:[o.O5],pipes:[U.R,E.l,o.Ov,o.JJ],styles:["[_nghost-%COMP%]{display:block;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);border-radius:4px;padding:15px}.header[_ngcontent-%COMP%]{margin-bottom:10px;padding-bottom:10px;border-bottom:1px solid var(--be-divider-lighter)}.current-plan[_ngcontent-%COMP%]{font-weight:500;font-size:1.5rem}.next-payment[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--be-secondary-text)}li[_ngcontent-%COMP%]{padding:5px 0;font-size:1.5rem}"],changeDetection:0}),e}(),W=i(72674),K=i(98979),ee=i(27701),te=["infoIcon"],ne=function(e,t){return{number:e,total:t}};function ie(e,t){if(1&e){var n=u.EpF();u.ynx(0),u._UZ(1,"mat-progress-bar",6),u.TgZ(2,"div",7),u.TgZ(3,"div",8),u.ALo(4,"number"),u.ALo(5,"trans"),u.ALo(6,"number"),u._uU(7," :number of :total links created "),u.qZA(),u.TgZ(8,"mat-icon",9,10),u.NdJ("click",function(){return u.CHM(n),u.oxw(3).togglePopover()})("mouseenter",function(){return u.CHM(n),u.oxw(3).openPopover()})("mouseleave",function(){return u.CHM(n),u.oxw(3).closePopover()}),u.qZA(),u.qZA(),u.BQk()}if(2&e){var i=u.oxw().ngIf;u.xp6(1),u.Q6J("value",i.usage.links.used/i.usage.links.total*100),u.xp6(2),u.Q6J("transValues",u.WLB(8,ne,u.lcZ(4,2,i.usage.links.used),u.lcZ(5,4,u.lcZ(6,6,i.usage.links.total)||"Unlimited")))}}function ae(e,t){1&e&&(u.TgZ(0,"a",11),u._uU(1,"Upgrade Account"),u.qZA())}function oe(e,t){1&e&&(u.TgZ(0,"a",12),u._uU(1,"Upgrade"),u.qZA())}function re(e,t){if(1&e&&(u.TgZ(0,"div",2),u.YNc(1,ie,10,11,"ng-container",0),u.TgZ(2,"div",3),u.YNc(3,ae,2,0,"a",4),u.YNc(4,oe,2,0,"a",5),u.qZA(),u.qZA()),2&e){var n=t.ngIf,i=u.oxw(2);u.xp6(1),u.Q6J("ngIf",n.usage.links),u.xp6(2),u.Q6J("ngIf",!i.compact),u.xp6(1),u.Q6J("ngIf",i.compact)}}function se(e,t){if(1&e&&(u.ynx(0),u.YNc(1,re,5,3,"div",1),u.ALo(2,"async"),u.BQk()),2&e){var n=u.oxw();u.xp6(1),u.Q6J("ngIf",u.lcZ(2,1,n.linkUsage.response$))}}var le=function(){var e=function(){function e(t,n,i,a){p(this,e),this.settings=t,this.linkUsage=n,this.currentUser=i,this.overlay=a,this.compact=!1}return h(e,[{key:"ngOnInit",value:function(){this.linkUsage.reload()}},{key:"openPopover",value:function(){this.overlayRef&&this.closePopover(),Object.assign({},W.Z)[0].offsetY=-15,this.overlayRef=this.overlay.open(X,{origin:this.infoIcon,position:W.Z,hasBackdrop:!1})}},{key:"closePopover",value:function(){this.overlayRef&&this.overlayRef.close(),this.overlayRef=null}},{key:"togglePopover",value:function(){this.overlayRef?this.closePopover():this.openPopover()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(g.Z),u.Y36(d.F),u.Y36(A.I),u.Y36(K.T))},e.\u0275cmp=u.Xpm({type:e,selectors:[["upgrade-panel"]],viewQuery:function(e,t){var n;(1&e&&u.Gf(te,5,u.SBq),2&e)&&(u.iGM(n=u.CRH())&&(t.infoIcon=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&u.ekj("compact",t.compact)},inputs:{compact:"compact"},decls:1,vars:1,consts:[[4,"ngIf"],["class","upgrade-panel",4,"ngIf"],[1,"upgrade-panel"],[1,"upgrade-link-container"],["routerLink","/billing/upgrade","target","_blank","trans","",4,"ngIf"],["routerLink","/billing/upgrade","class","compact-link","target","_blank","trans","",4,"ngIf"],["mode","determinate","color","accent",3,"value"],[1,"usage-info"],["trans","",1,"text",3,"transValues"],["svgIcon","info",1,"info-icon",3,"click","mouseenter","mouseleave"],["infoIcon",""],["routerLink","/billing/upgrade","target","_blank","trans",""],["routerLink","/billing/upgrade","target","_blank","trans","",1,"compact-link"]],template:function(e,t){1&e&&u.YNc(0,se,3,3,"ng-container",0),2&e&&u.Q6J("ngIf",t.settings.get("billing.enable"))},directives:[o.O5,ee.pW,T.P,C.Hw,r.yS],pipes:[o.Ov,o.JJ,U.R],styles:["[_nghost-%COMP%]{margin-top:auto;padding:15px 15px 0}.usage-info[_ngcontent-%COMP%]{display:flex;align-items:center;margin:5px 0;font-size:1.3rem;color:var(--be-secondary-text)}.usage-info[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]{margin-left:auto;flex-shrink:0;width:18px;height:18px}.usage-info[_ngcontent-%COMP%]   .info-icon[_ngcontent-%COMP%]:hover{color:var(--be-primary-default)}.compact[_nghost-%COMP%], .compact   [_nghost-%COMP%]{padding:15px 5px 0}.compact[_nghost-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%], .compact   [_nghost-%COMP%]   .mat-progress-bar[_ngcontent-%COMP%]{display:none}.compact[_nghost-%COMP%]   .text[_ngcontent-%COMP%], .compact   [_nghost-%COMP%]   .text[_ngcontent-%COMP%]{display:none}.compact[_nghost-%COMP%]   .info-icon[_ngcontent-%COMP%], .compact   [_nghost-%COMP%]   .info-icon[_ngcontent-%COMP%]{margin-right:auto}.compact[_nghost-%COMP%]   .link-container[_ngcontent-%COMP%], .compact   [_nghost-%COMP%]   .link-container[_ngcontent-%COMP%]{text-align:center;font-size:1.3rem}"],changeDetection:0}),e}(),ce=i(60467),ue=i(30307);function de(e,t){1&e&&u._UZ(0,"app-footer")}var pe=function(){var e=function(){function e(t,n,i,a){p(this,e),this.linkUsage=t,this.settings=n,this.notifications=i,this.workspaces=a,this.subscriptions=[]}return h(e,[{key:"ngOnInit",value:function(){this.bindToNotificationClick(),this.bindToWorkspaceChange()}},{key:"ngOnDestroy",value:function(){this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=[]}},{key:"onPageChange",value:function(e){this.activePage=e}},{key:"bindToWorkspaceChange",value:function(){var e=this,t=this.workspaces.activeId$.pipe((0,s.T)(1)).subscribe(function(){var t;null===(t=e.activePage.datatable)||void 0===t||t.reset(),e.linkUsage.reload()});this.subscriptions.push(t)}},{key:"bindToNotificationClick",value:function(){var e=this.workspaces.bindToNotificationClick();this.subscriptions.push(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(d.F),u.Y36(g.Z),u.Y36(f.g),u.Y36(m.b))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dashboard-host"]],viewQuery:function(e,t){var n;(1&e&&u.Gf(c._,7),2&e)&&(u.iGM(n=u.CRH())&&(t.sidenav=n.first))},features:[u._Bn([l.l])],decls:13,vars:9,consts:[["menuPosition","dashboard-navbar",3,"showToggleButton","toggleButtonClick"],["position","dashboard-sidebar",1,"vertical",3,"vertical","compact"],[3,"compact"],["slot","ads.dashboard.top"],[1,"dashboard-page"],[3,"activate"],[4,"ngIf"]],template:function(e,t){1&e&&(u.TgZ(0,"material-navbar",0),u.NdJ("toggleButtonClick",function(){return t.sidenav.toggleSidebarMode()}),u._UZ(1,"workspace-selector"),u.qZA(),u.TgZ(2,"sidenav"),u.TgZ(3,"nav"),u._UZ(4,"custom-menu",1),u.ALo(5,"async"),u._UZ(6,"upgrade-panel",2),u.ALo(7,"async"),u.qZA(),u.TgZ(8,"main"),u._UZ(9,"ad-host",3),u.TgZ(10,"div",4),u.TgZ(11,"router-outlet",5),u.NdJ("activate",function(e){return t.onPageChange(e)}),u.qZA(),u.qZA(),u.YNc(12,de,1,0,"app-footer",6),u.qZA(),u.qZA()),2&e&&(u.Q6J("showToggleButton",!0),u.xp6(4),u.Q6J("vertical",!0)("compact",u.lcZ(5,5,t.sidenav.isCompact$)),u.xp6(2),u.Q6J("compact",u.lcZ(7,7,t.sidenav.isCompact$)),u.xp6(6),u.Q6J("ngIf",t.settings.get("links.dash_footer")))},directives:[v.e,Y,c._,L.K,le,ce.i,r.lC,o.O5,ue.q],pipes:[o.Ov],styles:["material-navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:2}workspace-selector[_ngcontent-%COMP%]{min-width:200px;height:100%;margin-left:5px;margin-right:auto;border-left:1px solid hsla(0,0%,100%,.12);border-right:1px solid hsla(0,0%,100%,.12);padding:0 15px}workspace-selector[_ngcontent-%COMP%]     .member-count{color:hsla(0,0%,100%,.7)}@media only screen and (max-width:768px){workspace-selector[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width:768px){material-navbar[_ngcontent-%COMP%]     .right-side-actions{margin-left:0}}.ads-dashboard-top-host[_ngcontent-%COMP%]{margin-bottom:25px}.dashboard-page[_ngcontent-%COMP%]{flex:1 1 auto;padding:25px}@media only screen and (max-width:768px){.dashboard-page[_ngcontent-%COMP%]{padding:15px}}app-footer[_ngcontent-%COMP%]{background-color:var(--be-background);padding:30px;border-top:1px solid var(--be-divider-default)}"],changeDetection:0}),e}(),ge=i(32656),he=i(4886),fe=i(92890),me=i(47727),ve=i(73982),be=i(34056),_e=i(40878),Ze=i(68515),ye=i(84222),xe=function(){var e=function(){function e(t,n,i){p(this,e),this.router=t,this.http=n,this.link=i}return h(e,[{key:"resolve",value:function(e,t){var n=this;return this.link.getCurrentUserReports().pipe((0,me.K)(function(){return n.router.navigate(["/dashboard"]),be.E}),(0,ve.zg)(function(e){return e?(0,_e.of)(e.analytics):(n.router.navigate(["/dashboard"]),be.E)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.LFG(r.F0),u.LFG(Ze.r),u.LFG(ye.M))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ke=i(78512),Ae=i(93836),we=function(){var e=function(){function e(t,n,i){p(this,e),this.route=t,this.workspaces=n,this.links=i,this.reports$=new ke.X(null)}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.subscribe(function(t){e.reports$.next(t.reports)}),this.workspaceSub=this.workspaces.activeId$.pipe((0,s.T)(1)).subscribe(function(){e.links.getCurrentUserReports().subscribe(function(t){e.reports$.next(t.analytics)})})}},{key:"ngOnDestroy",value:function(){this.workspaceSub.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(r.gz),u.Y36(m.b),u.Y36(ye.M))},e.\u0275cmp=u.Xpm({type:e,selectors:[["dashboard-home"]],decls:2,vars:3,consts:[[3,"reports"]],template:function(e,t){1&e&&(u._UZ(0,"click-charts",0),u.ALo(1,"async")),2&e&&u.Q6J("reports",u.lcZ(1,1,t.reports$))},directives:[Ae.z],pipes:[o.Ov],styles:[""],changeDetection:0}),e}(),Te=i(45905),Ce=i(80773),qe=i(75950),Ue=i(45362),Ie=i(99208),Me=i(71453),Oe=i(56515),Je=i(14732),Pe=i(83381),Ne=i(48865),Se=i(34955),De=i(56361),Qe=i(13536),Ye=i(80922),Le=i(86668),Ee=i(54275),Fe=i(24311),Re=i(71765),$e=i(47210),Ve=i(40985);function Be(e,t){1&e&&u._UZ(0,"mat-progress-bar",18)}function He(e,t){1&e&&(u.TgZ(0,"th",19),u._uU(1,"Owner"),u.qZA())}var ze=function(e){return{count:e,resource:"domain(s)"}};function Ge(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"th",20),u.TgZ(2,"div",21),u._uU(3," :count :resource selected: "),u.qZA(),u.TgZ(4,"div",22),u.TgZ(5,"permission-aware-button",23),u.TgZ(6,"button",24),u.NdJ("click",function(){return u.CHM(n),u.oxw().maybeDeleteSelectedDomains()}),u._uU(7," Delete "),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=t.ngIf;u.xp6(2),u.Q6J("transValues",u.VKq(1,ze,i))}}function je(e,t){if(1&e&&(u.TgZ(0,"td",37),u._UZ(1,"user-column",38),u.qZA()),2&e){var n=u.oxw().$implicit;u.xp6(1),u.Q6J("user",n.user)}}function Xe(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"tr"),u._UZ(1,"td",25),u.TgZ(2,"td",26),u._UZ(3,"img",27),u.ALo(4,"favicon"),u.TgZ(5,"span"),u._uU(6),u.qZA(),u.qZA(),u.YNc(7,je,2,1,"td",28),u.TgZ(8,"td",29),u._uU(9),u.ALo(10,"formattedDate"),u.qZA(),u.TgZ(11,"td",30),u.TgZ(12,"permission-aware-button",31),u.TgZ(13,"button",32),u.NdJ("click",function(){var e=u.CHM(n).$implicit;return u.oxw().showCrupdateDomainModal(e)}),u.ALo(14,"trans"),u._UZ(15,"mat-icon",33),u.qZA(),u.qZA(),u.TgZ(16,"permission-aware-button",34),u.TgZ(17,"button",35),u.NdJ("click",function(){var e=u.CHM(n).$implicit;return u.oxw().maybeDeleteSelectedDomains([e.id])}),u._UZ(18,"mat-icon",36),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=t.$implicit,a=u.oxw();u.xp6(1),u.Q6J("table-body-checkbox",i.id),u.xp6(2),u.Q6J("src",u.lcZ(4,7,i.host),u.LSH),u.xp6(3),u.Oqu(i.host),u.xp6(1),u.Q6J("ngIf",a.showUserColumn()),u.xp6(2),u.Oqu(u.lcZ(10,9,i.updated_at)),u.xp6(3),u.Q6J("userOwnsResource",a.currentUser.get("id")===i.user_id),u.xp6(1),u.Q6J("matTooltip",u.lcZ(14,11,"Edit domain"))}}function We(e,t){1&e&&(u.TgZ(0,"no-results-message",39),u.TgZ(1,"span",40),u._uU(2,"No custom domains have been added yet"),u.qZA(),u.qZA())}var Ke=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,o,r,s,l,c){var u;return p(this,i),(u=t.call(this,e,n,a,o,r)).datatable=e,u.currentUser=n,u.customDomains=a,u.toast=o,u.router=r,u.route=s,u.workspaces=l,u.activeSection=c,u}return h(i,[{key:"ngOnInit",value:function(){var e=this;this.workspaceSub=this.workspaces.activeId$.subscribe(function(){e.setFilters()}),this.datatable.init({uri:Je.c.BASE_URI,staticParams:{userId:this.showUserColumn()?null:this.currentUser.get("id")}})}},{key:"ngOnDestroy",value:function(){this.workspaceSub.unsubscribe()}},{key:"showUserColumn",value:function(){return this.activeSection.admin||!!this.workspaces.activeId$.value}},{key:"setFilters",value:function(){var e=this;this.filters=Pe.r.filter(function(t){return("user_id"!==t.key||e.showUserColumn())&&"global"!==t.key})}}]),i}(Me.T);return e.\u0275fac=function(t){return new(t||e)(u.Y36(Oe.x),u.Y36(A.I),u.Y36(Je.c),u.Y36(w.F),u.Y36(r.F0),u.Y36(r.gz),u.Y36(m.b),u.Y36(Ne.W))},e.\u0275cmp=u.Xpm({type:e,selectors:[["link-domain"]],features:[u._Bn([Oe.x]),u.qOj],decls:31,vars:12,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","domains",3,"filters"],[1,"action-buttons"],["permission","custom_domains.create"],["mat-raised-button","","color","accent",1,"button-with-icon",3,"click"],["svgIcon","add"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["table-sort-header","user_id","trans","",4,"ngIf"],["table-sort-header","updated_at","trans",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","custom-domain.svg",4,"ngIf"],["mode","indeterminate","color","accent",1,"loading-bar"],["table-sort-header","user_id","trans",""],["colspan","5"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["permission","custom_domains.delete"],["type","button","mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],["data-label","Host"],["alt","",1,"favicon-img",3,"src"],["data-label","Owner",4,"ngIf"],["data-label","Updated At"],[1,"edit-column"],["permission","custom_domains.update",3,"userOwnsResource"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"],["permission","custom_domains.delete",1,"visible-on-mobile"],["type","button","mat-icon-button","","trans","",3,"click"],["svgIcon","delete"],["data-label","Owner"],[3,"user"],["svgImage","custom-domain.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h1",1),u._uU(2,"Custom Domains"),u.qZA(),u.TgZ(3,"div",2),u._UZ(4,"datatable-filters",3),u.TgZ(5,"div",4),u.TgZ(6,"permission-aware-button",5),u.TgZ(7,"button",6),u.NdJ("click",function(){return t.showCrupdateDomainModal()}),u._UZ(8,"mat-icon",7),u.TgZ(9,"span",1),u._uU(10,"Connect New Domain"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(11,"div",8),u.YNc(12,Be,1,0,"mat-progress-bar",9),u.ALo(13,"async"),u.TgZ(14,"table",10),u.TgZ(15,"thead"),u.TgZ(16,"tr"),u._UZ(17,"th",11),u.TgZ(18,"th",12),u._uU(19,"Host"),u.qZA(),u.YNc(20,He,2,0,"th",13),u.TgZ(21,"th",14),u._uU(22,"Last Updated"),u.qZA(),u._UZ(23,"th"),u.qZA(),u.YNc(24,Ge,8,3,"tr",15),u.qZA(),u.TgZ(25,"tbody"),u.YNc(26,Xe,19,13,"tr",16),u.ALo(27,"async"),u.qZA(),u.qZA(),u.YNc(28,We,3,0,"no-results-message",17),u.ALo(29,"async"),u._UZ(30,"datatable-footer"),u.qZA()),2&e&&(u.xp6(4),u.Q6J("filters",t.filters),u.xp6(8),u.Q6J("ngIf",u.lcZ(13,6,t.datatable.paginator&&t.datatable.paginator.loading$)),u.xp6(8),u.Q6J("ngIf",t.showUserColumn()),u.xp6(4),u.Q6J("ngIf",t.datatable.selectedRows$.value.length),u.xp6(2),u.Q6J("ngForOf",u.lcZ(27,8,t.domains$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(29,10,t.datatable.paginator.noResults$)))},directives:[T.P,Se.h,De.v,q.lW,C.Hw,o.O5,Qe.e,Ye.p,o.sg,Le.V,ee.pW,Ee.O,Fe.gM,Re.r,$e.U],pipes:[o.Ov,Ve.K,E.l,U.R],styles:[".favicon-img[_ngcontent-%COMP%]{display:inline-block;margin-right:5px;vertical-align:middle;flex-shrink:0}"],changeDetection:0}),e}(),et=i(34384),tt=i(8889),nt=i(98034),it=i(4954),at=i(38053);function ot(e,t){1&e&&u._UZ(0,"mat-progress-bar",19)}function rt(e,t){1&e&&(u.TgZ(0,"th",12),u._uU(1,"Owner"),u.qZA())}function st(e,t){1&e&&(u.TgZ(0,"th",20),u._uU(1,"Type"),u.qZA())}var lt=function(e){return{count:e,resource:"page(s)"}};function ct(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"th",21),u.TgZ(2,"div",22),u._uU(3," :count :resource selected: "),u.qZA(),u.TgZ(4,"div",23),u.TgZ(5,"button",24),u.NdJ("click",function(){return u.CHM(n),u.oxw().maybeDeleteSelectedPages()}),u._uU(6," Delete "),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=t.ngIf;u.xp6(2),u.Q6J("transValues",u.VKq(1,lt,i))}}function ut(e,t){if(1&e&&(u.TgZ(0,"td",39),u._UZ(1,"user-column",40),u.qZA()),2&e){var n=u.oxw().$implicit;u.xp6(1),u.Q6J("user",n.user)}}function dt(e,t){if(1&e&&(u.TgZ(0,"td",41),u._uU(1),u.qZA()),2&e){var n=u.oxw().$implicit,i=u.oxw();u.xp6(1),u.hij(" ",n.type?i.viewName(n.type):"default"," ")}}var pt=function(e){return[e,"edit"]};function gt(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"tr"),u._UZ(1,"td",25),u.TgZ(2,"td",26),u.TgZ(3,"a",27),u._uU(4),u.qZA(),u.qZA(),u.YNc(5,ut,2,1,"td",28),u.TgZ(6,"td",29),u._uU(7),u.qZA(),u.YNc(8,dt,2,1,"td",30),u.TgZ(9,"td",31),u._uU(10),u.ALo(11,"formattedDate"),u.qZA(),u.TgZ(12,"td",32),u.TgZ(13,"permission-aware-button",33),u.TgZ(14,"button",34),u.ALo(15,"trans"),u._UZ(16,"mat-icon",35),u.qZA(),u.qZA(),u.TgZ(17,"permission-aware-button",36),u.TgZ(18,"button",37),u.NdJ("click",function(){var e=u.CHM(n).$implicit;return u.oxw().maybeDeleteSelectedPages([e.id])}),u._UZ(19,"mat-icon",38),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=t.$implicit,a=u.oxw();u.xp6(1),u.Q6J("table-body-checkbox",i.id),u.xp6(2),u.Q6J("href",a.getPageUrl(i),u.LSH),u.xp6(1),u.Oqu(i.slug),u.xp6(1),u.Q6J("ngIf",a.showUserColumn()),u.xp6(2),u.Oqu(i.body),u.xp6(1),u.Q6J("ngIf",!a.endpoint),u.xp6(2),u.Oqu(u.lcZ(11,10,i.updated_at)),u.xp6(3),u.Q6J("userOwnsResource",i.user_id===a.currentUser.get("id")),u.xp6(1),u.Q6J("routerLink",u.VKq(14,pt,i.id))("matTooltip",u.lcZ(15,12,"Edit page"))}}function ht(e,t){1&e&&(u.TgZ(0,"no-results-message",42),u.TgZ(1,"span",43),u._uU(2,"No pages have been created yet"),u.qZA(),u.qZA())}var ft=function(){var e=function(e){n(i,e);var t=a(i);function i(e,n,a,o,r,s,l,c,u){var d;return p(this,i),(d=t.call(this,e,n,a,o,r,s,l)).settings=e,d.datatable=n,d.currentUser=a,d.customPages=o,d.toast=r,d.router=s,d.route=l,d.workspaces=c,d.activeSection=u,d}return h(i,[{key:"ngOnInit",value:function(){var e=this;this.workspaceSub=this.workspaces.activeId$.subscribe(function(){e.setFilters()}),this.datatable.init({uri:"link-page",staticParams:{with:["user"],userId:this.showUserColumn()?null:this.currentUser.get("id")}})}},{key:"ngOnDestroy",value:function(){this.workspaceSub.unsubscribe()}},{key:"showUserColumn",value:function(){return this.activeSection.admin||!!this.workspaces.activeId$.value}},{key:"setFilters",value:function(){var e=this;this.filters=it.I.filter(function(t){return"user_id"!==t.key||e.showUserColumn()})}}]),i}(nt.c);return e.\u0275fac=function(t){return new(t||e)(u.Y36(g.Z),u.Y36(Oe.x),u.Y36(A.I),u.Y36(at.i),u.Y36(w.F),u.Y36(r.F0),u.Y36(r.gz),u.Y36(m.b),u.Y36(Ne.W))},e.\u0275cmp=u.Xpm({type:e,selectors:[["link-page-index"]],features:[u._Bn([Oe.x]),u.qOj],decls:35,vars:13,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","pages",3,"filters"],[1,"action-buttons"],["permission","custom_pages.create"],["mat-raised-button","","color","accent","routerLink","new",1,"button-with-icon"],["svgIcon","add"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["table-sort-header","","trans","",4,"ngIf"],["trans","",1,"body-column"],["class","type-column","table-sort-header","","trans","",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","custom-page.svg",4,"ngIf"],["mode","indeterminate","color","accent",1,"loading-bar"],["table-sort-header","","trans","",1,"type-column"],["colspan","7"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["type","button","mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],["data-label","Slug"],["target","_blank",3,"href"],["data-label","Owner",4,"ngIf"],["data-label","Body",1,"body-column"],["data-label","Type","class","type-column",4,"ngIf"],["data-label","Last Updated"],[1,"edit-column"],["permission","custom_pages.update",3,"userOwnsResource"],["mat-icon-button","",3,"routerLink","matTooltip"],["svgIcon","edit"],["permission","custom_pages.delete",1,"visible-on-mobile"],["type","button","mat-icon-button","","trans","",3,"click"],["svgIcon","delete"],["data-label","Owner"],[3,"user"],["data-label","Type",1,"type-column"],["svgImage","custom-page.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h1",1),u.TgZ(2,"span",1),u._uU(3,"Link Pages"),u.qZA(),u.qZA(),u.TgZ(4,"div",2),u._UZ(5,"datatable-filters",3),u.TgZ(6,"div",4),u.TgZ(7,"permission-aware-button",5),u.TgZ(8,"button",6),u._UZ(9,"mat-icon",7),u.TgZ(10,"span",1),u._uU(11,"Add New Page"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",8),u.YNc(13,ot,1,0,"mat-progress-bar",9),u.ALo(14,"async"),u.TgZ(15,"table",10),u.TgZ(16,"thead"),u.TgZ(17,"tr"),u._UZ(18,"th",11),u.TgZ(19,"th",12),u._uU(20,"Slug"),u.qZA(),u.YNc(21,rt,2,0,"th",13),u.TgZ(22,"th",14),u._uU(23,"Body"),u.qZA(),u.YNc(24,st,2,0,"th",15),u.TgZ(25,"th",1),u._uU(26,"Last Updated"),u.qZA(),u._UZ(27,"th"),u.qZA(),u.YNc(28,ct,7,3,"tr",16),u.qZA(),u.TgZ(29,"tbody"),u.YNc(30,gt,20,16,"tr",17),u.ALo(31,"async"),u.qZA(),u.qZA(),u.YNc(32,ht,3,0,"no-results-message",18),u.ALo(33,"async"),u._UZ(34,"datatable-footer"),u.qZA()),2&e&&(u.xp6(5),u.Q6J("filters",t.filters),u.xp6(8),u.Q6J("ngIf",u.lcZ(14,7,t.datatable.paginator&&t.datatable.paginator.loading$)),u.xp6(8),u.Q6J("ngIf",t.showUserColumn()),u.xp6(3),u.Q6J("ngIf",!t.endpoint),u.xp6(4),u.Q6J("ngIf",t.datatable.selectedRows$.value.length),u.xp6(2),u.Q6J("ngForOf",u.lcZ(31,9,t.pages$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(33,11,t.datatable.paginator.noResults$)))},directives:[T.P,Se.h,De.v,q.lW,r.rH,C.Hw,o.O5,Qe.e,Ye.p,o.sg,Le.V,ee.pW,Ee.O,Fe.gM,Re.r,$e.U],pipes:[o.Ov,E.l,U.R],styles:[".body-column[_ngcontent-%COMP%]{margin-right:25px;overflow:hidden}.type-column[_ngcontent-%COMP%]{text-transform:capitalize}"],changeDetection:0}),e}(),mt=i(20237),vt=i(36957),bt=i(36402),_t=function(){var e=function(){function e(t,n,i,a){p(this,e),this.currentUser=t,this.router=n,this.workspaces=i,this.localStorage=a}return h(e,[{key:"canActivate",value:function(e,t){return this.handle()}},{key:"canActivateChild",value:function(e,t){return this.handle()}},{key:"canLoad",value:function(e){return this.handle()}},{key:"handle",value:function(){return!(this.currentUser.isLoggedIn()&&!this.currentUser.isSubscribed()&&!this.workspaces.activeId$.value&&this.localStorage.get(vt.b)&&(this.localStorage.remove(vt.b),this.router.navigate(["/billing/upgrade"]),1))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.LFG(A.I),u.LFG(r.F0),u.LFG(m.b),u.LFG(bt.m))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Zt=i(12440),yt=i(77044),xt=i(75183),kt=new u.OlP("WORKSPACE_CONFIG"),At=i(49517);function wt(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"button",13),u.NdJ("click",function(){return u.CHM(n),u.oxw().showCrupdateWorkspaceModal()}),u._UZ(1,"mat-icon",14),u.TgZ(2,"span",1),u._uU(3,"Add New Workspace"),u.qZA(),u.qZA()}}function Tt(e,t){if(1&e){var n=u.EpF();u.ynx(0),u.TgZ(1,"button",22),u.NdJ("click",function(){u.CHM(n);var e=u.oxw().$implicit;return u.oxw().showCrupdateWorkspaceModal(e)}),u.ALo(2,"trans"),u._UZ(3,"mat-icon",25),u.qZA(),u.TgZ(4,"button",22),u.NdJ("click",function(){u.CHM(n);var e=u.oxw().$implicit;return u.oxw().maybeDeleteWorkspace(e)}),u.ALo(5,"trans"),u._UZ(6,"mat-icon",26),u.qZA(),u.BQk()}2&e&&(u.xp6(1),u.Q6J("matTooltip",u.lcZ(2,2,"Edit workspace")),u.xp6(3),u.Q6J("matTooltip",u.lcZ(5,4,"Delete workspace")))}function Ct(e,t){if(1&e){var n=u.EpF();u.ynx(0),u.TgZ(1,"button",22),u.NdJ("click",function(){u.CHM(n);var e=u.oxw().$implicit;return u.oxw().maybeLeaveWorkspace(e)}),u.ALo(2,"trans"),u._UZ(3,"mat-icon",27),u.qZA(),u.BQk()}2&e&&(u.xp6(1),u.Q6J("matTooltip",u.lcZ(2,1,"Leave workspace")))}function qt(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td",15),u._uU(2),u.qZA(),u.TgZ(3,"td",16),u._UZ(4,"user-column",17),u.qZA(),u.TgZ(5,"td",18),u._uU(6),u.qZA(),u.TgZ(7,"td",19),u._uU(8),u.qZA(),u.TgZ(9,"td",20),u._uU(10),u.ALo(11,"formattedDate"),u.qZA(),u.TgZ(12,"td",21),u.TgZ(13,"button",22),u.NdJ("click",function(){var e=u.CHM(n).$implicit;return u.oxw().openWorkspaceMembersModal(e)}),u.ALo(14,"trans"),u._UZ(15,"mat-icon",23),u.qZA(),u.YNc(16,Tt,7,6,"ng-container",24),u.YNc(17,Ct,4,3,"ng-container",24),u.qZA(),u.qZA()}if(2&e){var i=t.$implicit,a=u.oxw();u.xp6(2),u.Oqu(i.name),u.xp6(2),u.Q6J("user",i.owner),u.xp6(2),u.Oqu((null==i.currentUser?null:i.currentUser.role_name)||"-"),u.xp6(2),u.Oqu(i.members_count||"-"),u.xp6(2),u.Oqu(u.lcZ(11,8,i.updated_at)),u.xp6(3),u.Q6J("matTooltip",u.lcZ(14,10,"Manage Members")),u.xp6(3),u.Q6J("ngIf",i.owner_id===a.currentUser.get("id")),u.xp6(1),u.Q6J("ngIf",i.owner_id!==a.currentUser.get("id"))}}function Ut(e,t){1&e&&(u.TgZ(0,"no-results-message",28),u.TgZ(1,"span",29),u._uU(2,"No workspaces have been created yet"),u.qZA(),u.qZA())}var It=function(){var e=function(){function e(t,n,i,a,o,r,s){p(this,e),this.datatable=t,this.currentUser=n,this.workspaces=i,this.toast=a,this.router=o,this.modal=r,this.workspaceConfig=s,this.workspaces$=this.datatable.data$}return h(e,[{key:"ngOnInit",value:function(){this.datatable.init({uri:m.b.BASE_URI,staticParams:{userId:this.currentUser.get("id")}})}},{key:"maybeDeleteWorkspace",value:function(e){var t=this;this.datatable.confirmResourceDeletion("workspace").subscribe(function(){t.workspaces.delete([e.id]).subscribe(function(){t.datatable.reset(),t.toast.open("Workspace deleted.")},function(e){t.toast.open(e.message||_.v.Default)})})}},{key:"showCrupdateWorkspaceModal",value:function(e){this.datatable.openCrupdateResourceModal(Zt.Z,{workspace:e}).subscribe()}},{key:"openWorkspaceMembersModal",value:function(e){this.modal.open(yt.t,{workspace:e})}},{key:"filterByUser",value:function(){return-1===this.router.url.indexOf("admin")}},{key:"maybeLeaveWorkspace",value:function(e){var t=this;this.modal.open(Z.z,xt.W).afterClosed().subscribe(function(n){n&&t.workspaces.deleteMember(e.id,t.currentUser.get("id")).subscribe(function(){return t.datatable.reset()})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(Oe.x),u.Y36(A.I),u.Y36(m.b),u.Y36(w.F),u.Y36(r.F0),u.Y36(k.u),u.Y36(kt))},e.\u0275cmp=u.Xpm({type:e,selectors:[["workspace-index"]],features:[u._Bn([Oe.x])],decls:34,vars:8,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","workspaces"],[1,"action-buttons"],["mat-raised-button","","color","accent","class","button-with-icon",3,"click",4,"ngIf"],[1,"datatable","responsive-table"],[1,"material-table"],["table-sort-header","","trans",""],["table-sort-header","owner_id","trans",""],["table-sort-header","members_count","trans",""],[4,"ngFor","ngForOf"],["svgImage","shared-workspace.svg",4,"ngIf"],["mat-raised-button","","color","accent",1,"button-with-icon",3,"click"],["svgIcon","add"],["data-label","Name"],["data-label","Owner"],[3,"user"],["data-label","Your Role","trans",""],["data-label","Members"],["data-label","Last Updated"],[1,"edit-column"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","group-add"],[4,"ngIf"],["svgIcon","edit"],["svgIcon","delete"],["svgIcon","exit-to-app"],["svgImage","shared-workspace.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h1",1),u.TgZ(2,"span",1),u._uU(3,"Workspaces"),u.qZA(),u.TgZ(4,"info-popover"),u.TgZ(5,"strong",1),u._uU(6,"Workspaces and Teammates"),u.qZA(),u.TgZ(7,"p",1),u._uU(8),u.qZA(),u.qZA(),u.qZA(),u.TgZ(9,"div",2),u._UZ(10,"datatable-filters",3),u.TgZ(11,"div",4),u.YNc(12,wt,4,0,"button",5),u.qZA(),u.qZA(),u.qZA(),u.TgZ(13,"div",6),u.TgZ(14,"table",7),u.TgZ(15,"thead"),u.TgZ(16,"tr"),u.TgZ(17,"th",8),u._uU(18,"Name"),u.qZA(),u.TgZ(19,"th",9),u._uU(20,"Owner"),u.qZA(),u.TgZ(21,"th",1),u._uU(22,"Your Role"),u.qZA(),u.TgZ(23,"th",10),u._uU(24,"Members"),u.qZA(),u.TgZ(25,"th",1),u._uU(26,"Last Updated"),u.qZA(),u._UZ(27,"th"),u.qZA(),u.qZA(),u.TgZ(28,"tbody"),u.YNc(29,qt,18,12,"tr",11),u.ALo(30,"async"),u.qZA(),u.qZA(),u.YNc(31,Ut,3,0,"no-results-message",12),u.ALo(32,"async"),u._UZ(33,"datatable-footer"),u.qZA()),2&e&&(u.xp6(8),u.Oqu(t.workspaceConfig.description),u.xp6(4),u.Q6J("ngIf",t.currentUser.hasPermission("workspaces.create")),u.xp6(17),u.Q6J("ngForOf",u.lcZ(30,4,t.workspaces$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(32,6,t.datatable.paginator.noResults$)))},directives:[T.P,At.N,Se.h,o.O5,Ye.p,o.sg,Le.V,q.lW,C.Hw,Re.r,Fe.gM,$e.U],pipes:[o.Ov,E.l,U.R],styles:["h1[_ngcontent-%COMP%]{display:flex;align-items:center}"],changeDetection:0}),e}(),Mt=i(4512),Ot=i(38193),Jt=[{path:"",component:pe,canActivate:[_t],children:[{path:"",resolve:{reports:xe},component:we,data:{name:"Dashboard"}},{path:"links",component:ge.g},{path:"links/:linkId",resolve:{api:fe.F},component:he.G,data:{name:"Link Statistics"}},{path:"biolinks",component:Mt.o},{path:"biolinks/:linkId/edit",component:Ot.w,data:{name:"Edit Bio Link"}},{path:"biolinks/:biolinkId/analytics",component:Ce.x,data:{name:"Biolink Statistics"}},{path:"link-groups",component:Te.o},{path:"link-groups/:groupId/links",component:tt.Z},{path:"link-groups/:groupId/analytics",component:Ce.x,data:{name:"Link Group Statistics"}},{path:"custom-domains",component:Ke,data:{name:"Custom Domains"}},{path:"link-overlays",component:qe.m,data:{name:"Link Overlays"}},{path:"link-overlays/new",component:et.O,canDeactivate:[mt.w]},{path:"link-overlays/edit/:id",component:et.O,canDeactivate:[mt.w]},{path:"pixels",component:Ue.V,data:{name:"Tracking Pixels"}},{path:"workspaces",component:It,data:{name:"Workspaces"}},{path:"link-pages",component:ft,data:{name:"Link Pages",endpoint:"link-page"}},{path:"link-pages/new",component:Ie.e,data:{name:"Add New Page",hideSlug:!0,endpoint:"link-page"}},{path:"link-pages/:id/edit",component:Ie.e,data:{name:"Edit Page",hideSlug:!0,endpoint:"link-page"}}]}],Pt=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[r.Bz.forChild(Jt)],r.Bz]}),e}(),Nt=i(92762),St=i(92935),Dt=i(56160),Qt=i(87829),Yt=i(20653),Lt=i(75425),Et=i(79572),Ft=i(68400),Rt=i(58666),$t=i(50615),Vt=i(31041),Bt=i(51685),Ht=i(99808),zt=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,Ft.N,Rt.u,$t.X,Vt.u5,Vt.UX,Bt.x,Ht.p,C.Ps,q.ot,Fe.AV,St.Is,Et.rP,ee.Cv]]}),e}(),Gt=i(57173),jt=["rootMenu"];function Xt(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(){var e=u.CHM(n).$implicit;return u.oxw().selectValue("page:"+e.id)}),u._uU(1),u.qZA()}if(2&e){var i=t.$implicit,a=u.oxw();u.ekj("active",a.value==="page:"+i.id),u.xp6(1),u.Oqu(i.title)}}function Wt(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"button",9),u.NdJ("click",function(){var e=u.CHM(n).$implicit;return u.oxw().selectValue("overlay:"+e.id)}),u._uU(1),u.qZA()}if(2&e){var i=t.$implicit,a=u.oxw();u.ekj("active",a.value==="overlay:"+i.id),u.xp6(1),u.Oqu(i.name)}}var Kt,en=function(e){return{siteName:e}},tn=function(){var e=function(){function e(t,n){p(this,e),this.cd=t,this.settings=n}return h(e,[{key:"writeValue",value:function(e){this.value=e,this.cd.detectChanges()}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}},{key:"selectValue",value:function(e){this.value=e,this.propagateChange(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.sBO),u.Y36(g.Z))},e.\u0275cmp=u.Xpm({type:e,selectors:[["link-type-menu"]],viewQuery:function(e,t){var n;(1&e&&u.Gf(jt,7),2&e)&&(u.iGM(n=u.CRH())&&(t.matMenu=n.first))},inputs:{linkOptions:"linkOptions"},features:[u._Bn([{provide:Vt.JU,useExisting:e,multi:!0}])],decls:33,vars:24,consts:[["rootMenu",""],["mat-menu-item","",1,"multiline-mat-menu-item",3,"click"],["trans","",1,"title"],["trans","",1,"description"],["trans","",1,"description",3,"transValues"],["mat-menu-item","",1,"multiline-mat-menu-item",3,"matMenuTriggerFor"],["customPagesMenu",""],["mat-menu-item","",3,"active","click",4,"ngFor","ngForOf"],["overlayMenu",""],["mat-menu-item","",3,"click"]],template:function(e,t){if(1&e&&(u.TgZ(0,"mat-menu",null,0),u.TgZ(2,"div",1),u.NdJ("click",function(){return t.selectValue("direct")}),u.TgZ(3,"div",2),u._uU(4,"Direct"),u.qZA(),u.TgZ(5,"div",3),u._uU(6,"Redirect user to url instantly."),u.qZA(),u.qZA(),u.TgZ(7,"div",1),u.NdJ("click",function(){return t.selectValue("frame")}),u.TgZ(8,"div",2),u._uU(9,"Frame"),u.qZA(),u.TgZ(10,"div",4),u._uU(11,"Show url inside iframe with :siteName navigation bar."),u.qZA(),u.qZA(),u.TgZ(12,"div",1),u.NdJ("click",function(){return t.selectValue("splash")}),u.TgZ(13,"div",2),u._uU(14,"Splash"),u.qZA(),u.TgZ(15,"div",3),u._uU(16,"Show splash page with optional ads and redirect user to url after a delay."),u.qZA(),u.qZA(),u.TgZ(17,"div",5),u.TgZ(18,"div",2),u._uU(19,"Link Page"),u.qZA(),u.TgZ(20,"div",4),u._uU(21,"Show specified link page with :siteName navigation bar and button to open long url."),u.qZA(),u.qZA(),u.TgZ(22,"div",5),u.TgZ(23,"div",2),u._uU(24,"Overlay"),u.qZA(),u.TgZ(25,"div",3),u._uU(26,"Redirect user instantly and show specified overlay over the link."),u.qZA(),u.qZA(),u.qZA(),u.TgZ(27,"mat-menu",null,6),u.YNc(29,Xt,2,3,"button",7),u.qZA(),u.TgZ(30,"mat-menu",null,8),u.YNc(32,Wt,2,3,"button",7),u.qZA()),2&e){var n=u.MAs(28),i=u.MAs(31);u.xp6(2),u.ekj("active","direct"===t.value),u.xp6(5),u.ekj("active","frame"===t.value),u.xp6(3),u.Q6J("transValues",u.VKq(20,en,t.settings.get("branding.site_name"))),u.xp6(2),u.ekj("active","splash"===t.value),u.xp6(5),u.ekj("hidden",!(null!=t.linkOptions&&t.linkOptions.pages.length))("active",t.value.includes("page")),u.Q6J("matMenuTriggerFor",n),u.xp6(3),u.Q6J("transValues",u.VKq(22,en,t.settings.get("branding.site_name"))),u.xp6(2),u.ekj("hidden",!(null!=t.linkOptions&&t.linkOptions.overlays.length))("active",t.value.includes("overlay")),u.Q6J("matMenuTriggerFor",i),u.xp6(7),u.Q6J("ngForOf",null==t.linkOptions?null:t.linkOptions.pages),u.xp6(3),u.Q6J("ngForOf",null==t.linkOptions?null:t.linkOptions.overlays)}},directives:[b.VK,b.OP,T.P,b.p6,o.sg],styles:[""],changeDetection:0}),e}(),nn=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,Vt.UX,Ft.N,q.ot]]}),e}(),an=i(69193),on=i(37604),rn=i(86013),sn=i(20673),ln=i(12188),cn=i(29828),un=i(7436),dn=i(4182),pn=i(15595),gn=i(47878),hn=i(63380),fn=i(90723),mn=i(87254),vn=function(){var e=function(){function e(t){p(this,e),this.el=t,this.enterPressed=new u.vpe}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=(0,mn.R)(this.el.nativeElement,"keydown").subscribe(function(t){13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),e.el.nativeElement.blur(),e.enterPressed.emit(t))})}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(u.SBq))},e.\u0275dir=u.lG2({type:e,selectors:[["","enterKeybind",""]],outputs:{enterPressed:"enterPressed"}}),e}(),bn=i(59447),_n=i(75428),Zn=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,Ft.N,b.Tx,q.ot,C.Ps]]}),e}(),yn=i(41816),xn=i(45052),kn=i(87064),An=i(8424),wn=i(69244),Tn=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,Ft.N,Vt.UX,Vt.u5,kn.si,q.ot,C.Ps]]}),e}(),Cn=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,Ft.N,kn.si,$t.X,q.ot,C.Ps,Vt.UX,un.Fk,Nt.vV]]}),e}(),qn=i(13070),Un=i(13841),In=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,Vt.UX,Ft.N,nn,fn.a,Dt.G,q.ot,C.Ps,qn.lN,Un.LD]]}),e}(),Mn=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[o.ez,Vt.u5,Vt.UX,r.Bz,$t.X,Ft.N,Rt.u,pn.m,An._,fn.a,on.x,Tn,Cn,In,cn.I,Lt.m,nn,xn.T,C.Ps,q.ot,Fe.AV,St.Is,wn._t,Gt.Nh,kn.si,Et.rP]]}),e}(),On=i(85786),Jn=i(53129),Pn=i(78671),Nn=((Kt=function e(){p(this,e)}).\u0275fac=function(e){return new(e||Kt)},Kt.\u0275mod=u.oAB({type:Kt}),Kt.\u0275inj=u.cJS({providers:[k.u,{provide:kt,useValue:{description:"Workspaces are like folders for your links, domains, groups and other resources. They're great for organising your campaigns, collaborating with teammates and managing different projects."}}],imports:[[o.ez,r.Bz,Pt,Ft.N,$t.X,an.a,Vt.u5,Vt.UX,on.x,Ht.p,Rt.u,rn.b,sn.l,ln.v,cn.I,hn.M,fn.a,bn.a,yn.J,_n.WorkspaceModule,Zn,In,On.c,pn.m,Bt.x,dn.S,Lt.m,Yt.m,zt,gn.k,Dt.G,nn,Mn,q.ot,C.Ps,Fe.AV,St.Is,Nt.vV,Gt.Nh,b.Tx,ee.Cv,Et.rP,un.Fk,xn.T,kn.si]]}),Kt);u.B6R(Qt.P,[St.uh,o.O5,T.P,C.Hw,Vt.JL,Vt.F,St.xY,Vt.sg,Vt.Fj,Vt.JJ,Vt.u,vn,Vt.Q7,Vt.wO,Vt.nD,q.lW,b.p6,tn,Jn.O,St.H8,Pn.t],[o.Ov])},28577:function(e,t,n){"use strict";n.d(t,{L:function(){return M}});var i=n(78512),a=n(92935),o=n(31041),r=n(11520),s=n(24831),l=n(35366),c=n(16980),u=n(76512),d=n(73234),g=n(25051),f=n(88195),m=n(61116),v=n(77307),b=n(38116),_=n(29738),Z=n(13571),y=n(79572),x=n(84369);function k(e,t){if(1&e&&(l.TgZ(0,"span",6),l._uU(1),l.qZA()),2&e){var n=l.oxw();l.xp6(1),l.hij("Create ",n.resourceName,"")}}function A(e,t){if(1&e&&(l.TgZ(0,"span",6),l._uU(1),l.qZA()),2&e){var n=l.oxw();l.xp6(1),l.hij("Update ",n.resourceName,"")}}function w(e,t){if(1&e&&(l.TgZ(0,"div",25),l._uU(1),l.qZA()),2&e){var n=l.oxw().ngIf;l.xp6(1),l.Oqu(n.name)}}function T(e,t){if(1&e&&(l.TgZ(0,"div",25),l._uU(1),l.qZA()),2&e){var n=l.oxw().ngIf;l.xp6(1),l.Oqu(n.hash)}}function C(e,t){1&e&&(l.TgZ(0,"div",18),l.TgZ(1,"mat-slide-toggle",26),l._uU(2,"Rotator"),l.qZA(),l.TgZ(3,"p",6),l._uU(4," When checked, url above will redirect to random link from the group, instead of showing all links belonging to group. "),l.qZA(),l.qZA())}function q(e,t){1&e&&(l.TgZ(0,"span"),l._uU(1,"Update"),l.qZA())}function U(e,t){1&e&&(l.TgZ(0,"span"),l._uU(1,"Create"),l.qZA())}function I(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"form",7),l.NdJ("ngSubmit",function(){return l.CHM(n),l.oxw().confirm()}),l.TgZ(1,"mat-dialog-content",8),l.TgZ(2,"div",9),l.TgZ(3,"label",10),l._uU(4,"Name"),l.qZA(),l._UZ(5,"input",11),l.YNc(6,w,2,1,"div",12),l.qZA(),l.TgZ(7,"div",13),l._UZ(8,"slug-control",14),l.ALo(9,"async"),l.YNc(10,T,2,1,"div",12),l.qZA(),l._UZ(11,"domain-form-control",15),l.ALo(12,"async"),l.TgZ(13,"div",13),l.TgZ(14,"label",16),l._uU(15,"Description"),l.qZA(),l._UZ(16,"textarea",17),l.qZA(),l.TgZ(17,"div",18),l.TgZ(18,"mat-slide-toggle",19),l._uU(19,"Active"),l.qZA(),l.TgZ(20,"p",6),l._uU(21),l.qZA(),l.qZA(),l.YNc(22,C,5,0,"div",20),l.qZA(),l.TgZ(23,"mat-dialog-actions"),l.TgZ(24,"button",21),l.NdJ("click",function(){return l.CHM(n),l.oxw().close()}),l._uU(25,"Cancel"),l.qZA(),l.TgZ(26,"button",22),l.ALo(27,"async"),l.YNc(28,q,2,0,"span",23),l.ALo(29,"async"),l.YNc(30,U,2,0,"ng-template",null,24,l.W1O),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=t.ngIf,a=l.MAs(31),o=l.oxw();l.Q6J("formGroup",o.form),l.xp6(6),l.Q6J("ngIf",i.name),l.xp6(2),l.Q6J("baseUri",l.lcZ(9,10,o.slugBaseUri$)),l.xp6(2),l.Q6J("ngIf",i.hash),l.xp6(1),l.Q6J("domains",l.lcZ(12,12,o.domains$)),l.xp6(10),l.hij("Whether this ",o.resourceName," is viewable publicly."),l.xp6(1),l.Q6J("ngIf","biolink"!==o.data.type),l.xp6(4),l.Q6J("disabled",l.lcZ(27,14,o.loading$)),l.xp6(2),l.Q6J("ngIf",l.lcZ(29,16,o.updating$))("ngIfElse",a)}}var M=function(){var e=function(){function e(t,n,a,r,l,c,u){p(this,e),this.dialogRef=t,this.data=n,this.groups=a,this.biolinks=r,this.toast=l,this.valueLists=c,this.settings=u,this.loading$=new i.X(!1),this.updating$=new i.X(!1),this.errors$=new i.X({}),this.form=new o.cw({name:new o.NI,active:new o.NI(!0),description:new o.NI(""),hash:new o.NI((0,s.O)(6)),rotator:new o.NI(!1),domain_id:new o.NI(null)}),this.slugBaseUri$=new i.X(null),this.domains$=new i.X([])}return h(e,[{key:"resourceName",get:function(){return"biolink"===this.data.type?"biolink":"link group"}},{key:"ngOnInit",value:function(){var e=this;this.updating$.next(!!this.data.linkGroup),this.data.linkGroup&&this.form.patchValue(this.data.linkGroup),this.valueLists.get(["domains"]).subscribe(function(t){e.domains$.next(t.domains),e.setSlugBaseUri(e.form.value.domain_id)}),this.form.get("domain_id").valueChanges.subscribe(function(t){e.setSlugBaseUri(t)})}},{key:"confirm",value:function(){var e=this;this.loading$.next(!0),(this.updating$.value?this.api().update(this.data.linkGroup.id,this.form.value):this.api().create(this.form.value)).pipe((0,r.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.toast.open(e.updating$.value?"".concat(e.resourceName," updated"):"".concat(e.resourceName," created")),e.close(t.linkGroup||t.biolink)},function(t){return e.errors$.next(t.errors)})}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"api",value:function(){return"biolink"===this.data.type?this.biolinks:this.groups}},{key:"setSlugBaseUri",value:function(e){this.slugBaseUri$.next(e?this.domains$.value.find(function(t){return t.id===e}).host:this.settings.getBaseUrl())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(a.so),l.Y36(a.WI),l.Y36(c.L),l.Y36(u.n),l.Y36(d.F),l.Y36(g.l),l.Y36(f.Z))},e.\u0275cmp=l.Xpm({type:e,selectors:[["crupdate-link-group-modal"]],decls:8,vars:5,consts:[[1,"modal-header"],["mat-dialog-title","",1,"capitalize"],["trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit",4,"ngIf"],["trans",""],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"many-inputs"],[1,"input-container","name-container"],["for","link-group-name","trans",""],["type","text","id","link-group-name","formControlName","name","required","","minlength","3"],["class","error",4,"ngIf"],[1,"input-container"],["formControlName","hash",3,"baseUri"],["controlName","domain_id",1,"many-inputs",3,"domains"],["for","link-group-description","trans",""],["id","link-group-description","formControlName","description"],[1,"setting-toggle-container"],["formControlName","active","id","link-group-active","trans","",1,"capitalize"],["class","setting-toggle-container",4,"ngIf"],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled"],[4,"ngIf","ngIfElse"],["creating",""],[1,"error"],["formControlName","rotator","id","link-group-rotator","trans",""]],template:function(e,t){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h2",1),l.YNc(2,k,2,1,"span",2),l.YNc(3,A,2,1,"span",2),l.qZA(),l.TgZ(4,"button",3),l.NdJ("click",function(){return t.close()}),l._UZ(5,"mat-icon",4),l.qZA(),l.qZA(),l.YNc(6,I,32,18,"form",5),l.ALo(7,"async")),2&e&&(l.xp6(2),l.Q6J("ngIf",!t.data.linkGroup),l.xp6(1),l.Q6J("ngIf",t.data.linkGroup),l.xp6(3),l.Q6J("ngIf",l.lcZ(7,3,t.errors$)))},directives:[a.uh,m.O5,v.Hw,b.P,o.JL,o.sg,a.xY,o.Fj,o.JJ,o.u,o.Q7,o.wO,_.b,Z.z,y.Rr,a.H8,x.lW],pipes:[m.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}.name-container[_ngcontent-%COMP%]{margin-bottom:8px}"],changeDetection:0}),e}()},80773:function(e,t,n){"use strict";n.d(t,{x:function(){return Z}});var i=n(55959),a=n(26437),o=n(35366),r=n(63337),s=n(24859),l=n(16980),c=n(76512),u=n(61116),d=n(93836),g=n(84369),f=n(77307),m=n(88798),v=n(40450);function b(e,t){if(1&e&&(o.TgZ(0,"div"),o.TgZ(1,"h1",2),o.TgZ(2,"a",3),o._UZ(3,"mat-icon",4),o.qZA(),o._uU(4),o.ALo(5,"trans"),o.qZA(),o.qZA()),2&e){var n=t.ngIf;o.Q6J("@fadeIn",void 0),o.xp6(4),o.AsE(" ",n.name," ",o.lcZ(5,3,"Analytics")," ")}}function _(e,t){1&e&&(o.TgZ(0,"h1"),o._UZ(1,"skeleton",5),o.qZA()),2&e&&o.Q6J("@fadeOut",void 0)}var Z=function(){var e=function(){function e(t,n,a,o){p(this,e),this.route=t,this.modal=n,this.groups=a,this.biolinks=o,this.analytics$=new i.xQ,this.linkGroup$=new i.xQ}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe(function(t){var n=t.groupId||t.biolinkId,i=t.groupId?e.groups:e.biolinks;e.analyticsEndpoint=i.analyticsEndpoint(n),i.analytics(n).subscribe(function(t){e.analytics$.next(t.analytics),e.linkGroup$.next(t.linkGroup||t.biolink)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(r.gz),o.Y36(s.u),o.Y36(l.L),o.Y36(c.n))},e.\u0275cmp=o.Xpm({type:e,selectors:[["link-group-analytics-page"]],decls:7,vars:10,consts:[[4,"ngIf"],[3,"reports","endpoint"],[1,"name"],["routerLink","../../","mat-icon-button",""],["svgIcon","arrow-back"],["variant","text"]],template:function(e,t){1&e&&(o.TgZ(0,"header"),o.YNc(1,b,6,5,"div",0),o.ALo(2,"async"),o.YNc(3,_,2,1,"h1",0),o.ALo(4,"async"),o.qZA(),o._UZ(5,"click-charts",1),o.ALo(6,"async")),2&e&&(o.xp6(1),o.Q6J("ngIf",o.lcZ(2,4,t.linkGroup$)),o.xp6(2),o.Q6J("ngIf",!o.lcZ(4,6,t.linkGroup$)),o.xp6(2),o.Q6J("reports",o.lcZ(6,8,t.analytics$))("endpoint",t.analyticsEndpoint))},directives:[u.O5,d.z,r.yS,g.zs,f.Hw,m._],pipes:[u.Ov,v.R],styles:["header[_ngcontent-%COMP%]{position:relative}h1[_ngcontent-%COMP%]{font-size:2rem;text-transform:capitalize;margin:0 0 10px;font-weight:400;height:40px}skeleton[_ngcontent-%COMP%]{max-width:350px}.mat-icon-button[_ngcontent-%COMP%]{color:var(--be-secondary-text);vertical-align:middle}"],data:{animation:a.B},changeDetection:0}),e}()},90832:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var i=n(44415),a=n(59075),o=n(45523),r=[new a.XQ({type:a.Bq.Select,key:"active",label:"status",defaultValue:!1,description:"Whether group is public or not",options:[{key:"Disabled",value:!1},{key:"Active",value:!0}]}),new a.XQ({type:a.Bq.Select,key:"rotator",label:"rotator",defaultValue:!1,description:"Whether group is used as link rotator",options:[{key:"Yes",value:!0},{key:"No",value:!1}]}),new o.T7({description:"Date link group was created"}),new o.yH({description:"Date link group was last updated"}),new a.XQ({type:a.Bq.SelectModel,key:"user_id",label:"User",description:"User group was created by",component:i.y})]},45905:function(e,t,n){"use strict";n.d(t,{o:function(){return j}});var i=n(56515),a=n(36024),o=n(16980),r=n(67455),s=n(28577),l=n(90832),c=n(35366),u=n(28505),d=n(73234),g=n(63337),f=n(36501),m=n(48865),v=n(95157),b=n(38116),_=n(49517),Z=n(34955),y=n(56361),x=n(84369),k=n(77307),A=n(61116),w=n(13536),T=n(80922),C=n(86668),q=n(27701),U=n(54275),I=n(24311),M=n(19708),O=n(71765),J=n(47210),P=n(2406),N=n(40450);function S(e,t){1&e&&c._UZ(0,"mat-progress-bar",23)}function D(e,t){1&e&&(c.TgZ(0,"th",24),c._uU(1,"Owner"),c.qZA())}var Q=function(e){return{count:e,resource:"group(s)"}};function Y(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"th",25),c.TgZ(2,"div",26),c._uU(3," :count :resource selected: "),c.qZA(),c.TgZ(4,"div",27),c.TgZ(5,"permission-aware-button",28),c.TgZ(6,"button",29),c.NdJ("click",function(){return c.CHM(n),c.oxw().maybeDeleteSelectedGroups()}),c._uU(7," Delete "),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.ngIf;c.xp6(2),c.Q6J("transValues",c.VKq(1,Q,i))}}function L(e,t){if(1&e&&(c.TgZ(0,"td",50),c._UZ(1,"user-column",51),c.qZA()),2&e){var n=c.oxw().$implicit;c.xp6(1),c.Q6J("user",n.user)}}function E(e,t){1&e&&c._UZ(0,"mat-icon",52)}function F(e,t){1&e&&(c.TgZ(0,"span"),c._uU(1,"-"),c.qZA())}function R(e,t){1&e&&c._UZ(0,"mat-icon",52)}function $(e,t){1&e&&(c.TgZ(0,"span"),c._uU(1,"-"),c.qZA())}var V=function(e){return["/",e]},B=function(e){return[e,"analytics"]},H=function(e){return[e,"links"]};function z(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"tr"),c._UZ(1,"td",30),c.TgZ(2,"td",31),c.TgZ(3,"a",32),c._uU(4),c.qZA(),c.qZA(),c.YNc(5,L,2,1,"td",33),c.TgZ(6,"td",34),c._uU(7),c.qZA(),c.TgZ(8,"td",35),c.YNc(9,E,1,0,"mat-icon",36),c.YNc(10,F,2,0,"span",20),c.qZA(),c.TgZ(11,"td",37),c.YNc(12,R,1,0,"mat-icon",36),c.YNc(13,$,2,0,"span",20),c.qZA(),c.TgZ(14,"td",38),c._uU(15),c.ALo(16,"formattedDate"),c.qZA(),c.TgZ(17,"td",39),c.TgZ(18,"button",40),c.ALo(19,"trans"),c._UZ(20,"mat-icon",41),c.qZA(),c.TgZ(21,"permission-aware-button",42),c.TgZ(22,"button",40),c.ALo(23,"trans"),c._UZ(24,"mat-icon",43),c.qZA(),c.qZA(),c.TgZ(25,"permission-aware-button",42),c.TgZ(26,"button",44),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw().showCrupdateGroupModal(e)}),c.ALo(27,"trans"),c._UZ(28,"mat-icon",45),c.qZA(),c.qZA(),c._UZ(29,"copy-link-btn",46),c.TgZ(30,"permission-aware-button",47),c.TgZ(31,"button",48),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw().maybeDeleteSelectedGroups([e.id])}),c._UZ(32,"mat-icon",49),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit,a=c.oxw();c.xp6(1),c.Q6J("table-body-checkbox",i.id),c.xp6(2),c.Q6J("routerLink",c.VKq(26,V,i.hash)),c.xp6(1),c.Oqu(i.name),c.xp6(1),c.Q6J("ngIf",a.showUserColumn()),c.xp6(2),c.Oqu(i.links_count),c.xp6(2),c.Q6J("ngIf",i.active),c.xp6(1),c.Q6J("ngIf",!i.active),c.xp6(2),c.Q6J("ngIf",i.rotator),c.xp6(1),c.Q6J("ngIf",!i.rotator),c.xp6(2),c.Oqu(c.lcZ(16,18,i.updated_at)),c.xp6(3),c.Q6J("routerLink",c.VKq(28,B,i.id))("matTooltip",c.lcZ(19,20,"Analytics")),c.xp6(3),c.Q6J("userOwnsResource",a.currentUser.get("id")===i.user_id),c.xp6(1),c.Q6J("routerLink",c.VKq(30,H,i.id))("matTooltip",c.lcZ(23,22,"Manage Links")),c.xp6(3),c.Q6J("userOwnsResource",a.currentUser.get("id")===i.user_id),c.xp6(1),c.Q6J("matTooltip",c.lcZ(27,24,"Edit")),c.xp6(3),c.Q6J("model",i)}}function G(e,t){1&e&&(c.TgZ(0,"no-results-message",53),c.TgZ(1,"span",54),c._uU(2,"No link groups have been created yet"),c.qZA(),c.qZA())}var j=function(){var e=function(){function e(t,n,i,a,o,r,s,c){p(this,e),this.datatable=t,this.currentUser=n,this.linkGroups=i,this.toast=a,this.route=o,this.linkUsage=r,this.activeSection=s,this.workspaces=c,this.groups$=this.datatable.data$,this.filters=l.L}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.workspaceSub=this.workspaces.activeId$.subscribe(function(){e.setFilters()}),this.datatable.init({uri:o.L.BASE_URI,staticParams:{with:["user"],withCount:["links"],userId:this.showUserColumn()?null:this.currentUser.get("id")}})}},{key:"ngOnDestroy",value:function(){this.workspaceSub.unsubscribe()}},{key:"maybeDeleteSelectedGroups",value:function(e){var t=this;this.datatable.confirmResourceDeletion("link groups").subscribe(function(){t.linkGroups.delete(e||t.datatable.selectedRows$.value).subscribe(function(){t.datatable.reset(),t.toast.open(r.V.LINK_GROUP_DELETE_SUCCESS)},function(e){t.toast.open(e.message||a.v.Default)})})}},{key:"showCrupdateGroupModal",value:function(e){var t=this;this.datatable.openCrupdateResourceModal(s.L,{linkGroup:e}).subscribe(function(){return t.linkUsage.reload()})}},{key:"showUserColumn",value:function(){return this.activeSection.admin||!!this.workspaces.activeId$.value}},{key:"setFilters",value:function(){var e=this;this.filters=l.L.filter(function(t){return"user_id"!==t.key||e.showUserColumn()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(i.x),c.Y36(u.I),c.Y36(o.L),c.Y36(d.F),c.Y36(g.gz),c.Y36(f.F),c.Y36(m.W),c.Y36(v.b))},e.\u0275cmp=c.Xpm({type:e,selectors:[["link-group-index"]],features:[c._Bn([i.x])],decls:50,vars:13,consts:[[1,"datatable-page-header"],["trans",""],[3,"wider"],["trans","",1,"title"],[1,"header"],["pluralName","groups",3,"filters"],[1,"action-buttons"],["permission","link_groups.create"],["mat-raised-button","","color","accent","trans","",1,"button-with-icon",3,"click"],["svgIcon","add"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["table-sort-header","user_id","trans","",4,"ngIf"],["table-sort-header","links_count","trans",""],["table-sort-header","active","trans",""],["table-sort-header","rotator","trans",""],["table-sort-header","updated_at","trans",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","marketing.svg",4,"ngIf"],["mode","indeterminate","color","accent",1,"loading-bar"],["table-sort-header","user_id","trans",""],["colspan","6"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["permission","link_groups.delete"],["type","button","mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],["data-label","Name"],["target","_blank",1,"link-group-name",3,"routerLink"],["data-label","Owner",4,"ngIf"],["data-label","Link Count"],["data-label","Active"],["svgIcon","check",4,"ngIf"],["data-label","Rotator"],["data-label","Last Updated"],[1,"edit-column"],["type","button","mat-icon-button","",3,"routerLink","matTooltip"],["svgIcon","bar-chart"],["permission","link_groups.update",3,"userOwnsResource"],["svgIcon","list-alt"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"],[3,"model"],["permission","link_groups.delete",1,"visible-on-mobile"],["type","button","mat-icon-button","","trans","",3,"click"],["svgIcon","delete"],["data-label","Owner"],[3,"user"],["svgIcon","check"],["svgImage","marketing.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"h1"),c.TgZ(2,"span",1),c._uU(3,"Link Groups"),c.qZA(),c.TgZ(4,"info-popover",2),c.TgZ(5,"div",3),c._uU(6,"Group links together to:"),c.qZA(),c.TgZ(7,"ul"),c.TgZ(8,"li",1),c._uU(9,"Simplify multiple link management."),c.qZA(),c.TgZ(10,"li",1),c._uU(11,"View statistics for a whole group instead of individual links."),c.qZA(),c.TgZ(12,"li",1),c._uU(13,"Share all links in the group with one link."),c.qZA(),c.TgZ(14,"li",1),c._uU(15,"And more."),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(16,"div",4),c._UZ(17,"datatable-filters",5),c.TgZ(18,"div",6),c.TgZ(19,"permission-aware-button",7),c.TgZ(20,"button",8),c.NdJ("click",function(){return t.showCrupdateGroupModal()}),c._UZ(21,"mat-icon",9),c.TgZ(22,"span",1),c._uU(23,"Add New Group"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"div",10),c.YNc(25,S,1,0,"mat-progress-bar",11),c.ALo(26,"async"),c.TgZ(27,"table",12),c.TgZ(28,"thead"),c.TgZ(29,"tr"),c._UZ(30,"th",13),c.TgZ(31,"th",14),c._uU(32,"Name"),c.qZA(),c.YNc(33,D,2,0,"th",15),c.TgZ(34,"th",16),c._uU(35,"Links"),c.qZA(),c.TgZ(36,"th",17),c._uU(37,"Active"),c.qZA(),c.TgZ(38,"th",18),c._uU(39,"Rotator"),c.qZA(),c.TgZ(40,"th",19),c._uU(41,"Last Updated"),c.qZA(),c._UZ(42,"th"),c.qZA(),c.YNc(43,Y,8,3,"tr",20),c.qZA(),c.TgZ(44,"tbody"),c.YNc(45,z,33,32,"tr",21),c.ALo(46,"async"),c.qZA(),c.qZA(),c.YNc(47,G,3,0,"no-results-message",22),c.ALo(48,"async"),c._UZ(49,"datatable-footer"),c.qZA()),2&e&&(c.xp6(4),c.Q6J("wider",!0),c.xp6(13),c.Q6J("filters",t.filters),c.xp6(8),c.Q6J("ngIf",c.lcZ(26,7,t.datatable.paginator&&t.datatable.paginator.loading$)),c.xp6(8),c.Q6J("ngIf",t.showUserColumn()),c.xp6(10),c.Q6J("ngIf",t.datatable.selectedRows$.value.length),c.xp6(2),c.Q6J("ngForOf",c.lcZ(46,9,t.groups$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(48,11,t.datatable.paginator.noResults$)))},directives:[b.P,_.N,Z.h,y.v,x.lW,k.Hw,A.O5,w.e,T.p,A.sg,C.V,q.pW,U.O,g.yS,g.rH,I.gM,M.b,O.r,J.U],pipes:[A.Ov,P.l,N.R],styles:["h1[_ngcontent-%COMP%]{display:flex;align-items:center}.link-group-name[_ngcontent-%COMP%]{color:inherit}.link-group-name[_ngcontent-%COMP%]:hover{text-decoration:underline}info-popover[_ngcontent-%COMP%]  .info-popover-panel{max-width:450px!important}"],changeDetection:0}),e}()},8889:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var i=n(78512),a=n(56515),o=n(26437),r=n(85706),s=n(35366),l=n(63337),c=n(24859),u=n(36501),d=n(16980),g=n(84222),f=n(73234),m=n(28505),v=n(32656),b=function(){var e=function(){function e(t,n,a,o,r,s,l,c,u){p(this,e),this.route=t,this.modal=n,this.datatable=a,this.linkUsage=o,this.linkGroups=r,this.links=s,this.toast=l,this.router=c,this.currentUser=u,this.loading$=new i.X(!1),this.groupId$=new i.X(null)}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe(function(t){e.groupId$.next(t.groupId)})}},{key:"filterByUser",value:function(){return-1===this.router.url.indexOf("admin")}},{key:"setFilters",value:function(){var e=this;this.filters=r.f.filter(function(t){return"user_id"!==t.key||!e.filterByUser()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(l.gz),s.Y36(c.u),s.Y36(a.x),s.Y36(u.F),s.Y36(d.L),s.Y36(g.M),s.Y36(f.F),s.Y36(l.F0),s.Y36(m.I))},e.\u0275cmp=s.Xpm({type:e,selectors:[["link-group-links-index"]],features:[s._Bn([a.x])],decls:1,vars:1,consts:[[3,"groupId"]],template:function(e,t){1&e&&s._UZ(0,"link-index",0),2&e&&s.Q6J("groupId",t.route.snapshot.params.groupId)},directives:[v.g],styles:["header[_ngcontent-%COMP%]{position:relative}h1[_ngcontent-%COMP%]{font-size:2rem;text-transform:capitalize;margin:0 0 10px;font-weight:400;line-height:40px}skeleton[_ngcontent-%COMP%]{max-width:350px}.mat-icon-button[_ngcontent-%COMP%]{color:var(--be-secondary-text);vertical-align:middle}"],data:{animation:o.B},changeDetection:0}),e}()},34384:function(e,t,n){"use strict";n.d(t,{O:function(){return M}});var i=n(34500),a=n(67455),o=n(11520),r=n(78512),s=n(35366),l=n(31041),c=n(72686),u=n(73234),d=n(3950),g=n(63337),f=n(61116),m=n(57173),v=n(38116),b=n(84369),_=n(6006),Z=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["generic-page-preview"]],decls:31,vars:0,consts:[[1,"navbar"],[1,"os-button"],[1,"page-body"],[1,"top-row"],[1,"circle"],[1,"line"],[1,"middle-row"],[1,"flex-container"],[1,"left"],[1,"rect"],[1,"line","fat-line"],[1,"separator"],[1,"right"],[1,"fat-line","line"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"div",1),s._UZ(2,"div",1),s._UZ(3,"div",1),s.qZA(),s.TgZ(4,"div",2),s.TgZ(5,"div",3),s._UZ(6,"div",4),s._UZ(7,"div",5),s._UZ(8,"div",5),s._UZ(9,"div",5),s.qZA(),s.TgZ(10,"div",6),s._UZ(11,"div",5),s._UZ(12,"div",5),s._UZ(13,"div",5),s._UZ(14,"div",5),s.qZA(),s.TgZ(15,"div",7),s.TgZ(16,"div",8),s._UZ(17,"div",9),s._UZ(18,"div",10),s._UZ(19,"div",5),s._UZ(20,"div",5),s._UZ(21,"div",11),s._UZ(22,"div",9),s._UZ(23,"div",5),s.qZA(),s.TgZ(24,"div",12),s._UZ(25,"div",9),s._UZ(26,"div",5),s._UZ(27,"div",13),s._UZ(28,"div",5),s._UZ(29,"div",11),s._UZ(30,"div",5),s.qZA(),s.qZA(),s.qZA())},styles:["[_nghost-%COMP%]{display:block;background-color:var(--be-background);height:100%;overflow:hidden}.navbar[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--be-background-alternative);height:40px;width:100%}.os-button[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;margin-left:15px}.os-button[_ngcontent-%COMP%]:first-child{background-color:#d7665d}.os-button[_ngcontent-%COMP%]:nth-child(2){background-color:#deab54}.os-button[_ngcontent-%COMP%]:nth-child(3){background-color:#6fb54c}.page-body[_ngcontent-%COMP%]{padding:25px}.top-row[_ngcontent-%COMP%]{display:flex;align-items:center;height:60px;background-color:var(--be-background-alternative);padding:10px;margin-bottom:25px}.top-row[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{width:15%;margin-left:15px}.circle[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:auto}.circle[_ngcontent-%COMP%], .line[_ngcontent-%COMP%]{background-color:var(--be-disabled-button)}.line[_ngcontent-%COMP%]{height:20px;border-radius:4px}.middle-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;height:260px;background-color:var(--be-background-alternative);margin:25px 0}.middle-row[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{height:15px;margin-bottom:5px;width:50%;background-color:var(--be-disabled-toggle)}.middle-row[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:first-child{height:35px;margin-bottom:20px;width:65%;background-color:var(--be-disabled-button)}.flex-container[_ngcontent-%COMP%]{display:flex}.fat-line[_ngcontent-%COMP%]{background-color:var(--be-chip);height:35px;margin-bottom:25px}.separator[_ngcontent-%COMP%]{height:1px;background-color:var(--be-divider-default);margin-bottom:25px;margin-top:25px}.left[_ngcontent-%COMP%]{width:30%}.left[_ngcontent-%COMP%]   .rect[_ngcontent-%COMP%]{height:150px;background-color:var(--be-disabled-toggle);margin-bottom:5px}.left[_ngcontent-%COMP%]   .rect[_ngcontent-%COMP%]:last-of-type{height:250px}.left[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin-bottom:10px}.right[_ngcontent-%COMP%]{width:70%;padding-left:25px}.right[_ngcontent-%COMP%]   .rect[_ngcontent-%COMP%]{height:300px;margin-bottom:35px;background-color:var(--be-chip)}.right[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin-bottom:10px}"],changeDetection:0}),e}(),y=n(27701),x=n(69042),k=n(40450);function A(e,t){1&e&&s._UZ(0,"mat-progress-bar",37)}function w(e,t){if(1&e&&(s.TgZ(0,"div",38),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.Oqu(n.errors.name)}}function T(e,t){if(1&e&&(s.TgZ(0,"div",38),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.Oqu(n.errors.message)}}function C(e,t){if(1&e&&(s.TgZ(0,"div",38),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.Oqu(n.errors.label)}}function q(e,t){if(1&e&&(s.TgZ(0,"div",38),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.Oqu(n.errors.btn_link)}}function U(e,t){if(1&e&&(s.TgZ(0,"div",38),s._uU(1),s.qZA()),2&e){var n=s.oxw();s.xp6(1),s.Oqu(n.errors.btn_text)}}function I(e,t){if(1&e&&(s.TgZ(0,"color-picker-input",39),s._uU(1),s.qZA()),2&e){var n=t.$implicit,i=s.oxw();s.Q6J("formControlName",n.key),s.xp6(1),s.Oqu(i.colorViewName(n.key))}}var M=function(){var e=function(){function e(t,n,i,a,o,s,l){p(this,e),this.fb=t,this.linkOverlays=n,this.toast=i,this.i18n=a,this.cd=o,this.router=s,this.route=l,this.loading$=new r.X(!1),this.errors={},this.form=this.fb.group({name:[""],position:[""],theme:[""],message:[""],label:[""],label_position:[""],btn_link:[""],btn_text:[""],colors:this.fb.group({"bg-image":this.fb.control(null),"bg-color":this.fb.control(""),"text-color":this.fb.control(""),"label-bg-color":this.fb.control(""),"label-color":this.fb.control(""),"btn-bg-color":this.fb.control(""),"btn-text-color":this.fb.control("")})})}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.route.params.subscribe(function(t){t.id&&(e.loading$.next(!0),e.linkOverlays.get(t.id).pipe((0,o.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.overlay=t.linkOverlay,e.form.patchValue(Object.assign({},e.overlay))}))})}},{key:"ngAfterViewInit",value:function(){this.route.snapshot.params.id||this.form.patchValue(Object.assign({},this.getDefaultValue()))}},{key:"canDeactivate",value:function(){return!this.form.dirty}},{key:"confirm",value:function(){var e=this;this.loading$.next(!0);var t=this.overlay?this.linkOverlays.update(this.overlay.id,this.form.value):this.linkOverlays.create(this.form.value),n=this.overlay?a.V.LINK_OVERLAY_UPDATE_SUCCESS:a.V.LINK_OVERLAY_CREATE_SUCCESS;t.pipe((0,o.x)(function(){return e.loading$.next(!1)})).subscribe(function(){e.toast.open(n),e.form.markAsPristine(),e.router.navigate([e.route.snapshot.params.id?"../../":"../"],{relativeTo:e.route})},function(t){e.errors=t.errors,e.cd.markForCheck()})}},{key:"colorControls",value:function(){return this.form.get("colors").controls}},{key:"colorViewName",value:function(e){return e.replace(/-/g," ").replace("bg","background").replace("btn","button")}},{key:"getDefaultValue",value:function(){var e={position:"bottom-left",theme:"default",message:this.i18n.t("Your message here"),label:this.i18n.t("Label"),btn_text:this.i18n.t("Button Text"),btn_link:"https://google.com",colors:{}},t=this.overlayCmp.getComputedStyle();return Object.keys(this.colorControls()).forEach(function(n){e.colors[n]=t.getPropertyValue("--"+n).trim()}),e}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(l.qu),s.Y36(c.S),s.Y36(u.F),s.Y36(d.Z),s.Y36(s.sBO),s.Y36(g.F0),s.Y36(g.gz))},e.\u0275cmp=s.Xpm({type:e,selectors:[["crupdate-link-overlay-page"]],viewQuery:function(e,t){var n;(1&e&&s.Gf(i.a,7),2&e)&&(s.iGM(n=s.CRH())&&(t.overlayCmp=n.first))},decls:74,vars:29,consts:[[1,"left"],["mode","indeterminate","color","accent",4,"ngIf"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["color","accent","animationDuration","200ms"],[3,"label"],[1,"many-inputs","tab-body-wrapper"],[1,"input-container"],["for","name","trans",""],["type","text","id","name","formControlName","name","required",""],["class","error",4,"ngIf"],["for","position","trans",""],["id","position","formControlName","position","required",""],["value","top-left","trans",""],["value","top-right","trans",""],["value","bottom-left","trans",""],["value","bottom-right","trans",""],["for","link-overlay-theme","trans",""],["id","link-overlay-theme","formControlName","theme","required",""],["value","default","trans",""],["value","full-width","trans",""],["value","rounded","trans",""],["value","pill","trans",""],["for","message","trans",""],["id","message","formControlName","message","maxlength","200","required",""],["for","label","trans",""],["type","text","id","label","formControlName","label","maxlength","8"],["for","btn_link","trans",""],["type","url","id","btn_link","formControlName","btn_link"],["for","btn_text","trans",""],["type","text","id","btn_text","formControlName","btn_text","maxlength","30"],["mat-raised-button","","color","accent","trans","",3,"disabled"],["formGroupName","colors",1,"tab-body-wrapper"],["formControlName","bg-image","diskPrefix","link-overlay-images",1,"overlay-bg-input"],[3,"formControlName",4,"ngFor","ngForOf"],[1,"right"],[3,"overlay"],[1,"cdk-overlay-backdrop","cdk-overlay-backdrop-showing","cdk-overlay-dark-backdrop"],["mode","indeterminate","color","accent"],[1,"error"],[3,"formControlName"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.YNc(1,A,1,0,"mat-progress-bar",1),s.ALo(2,"async"),s.TgZ(3,"form",2),s.NdJ("ngSubmit",function(){return t.confirm()}),s.TgZ(4,"mat-tab-group",3),s.TgZ(5,"mat-tab",4),s.ALo(6,"trans"),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"label",7),s._uU(10,"Name"),s.qZA(),s._UZ(11,"input",8),s.YNc(12,w,2,1,"div",9),s.qZA(),s.TgZ(13,"div",6),s.TgZ(14,"label",10),s._uU(15,"Position"),s.qZA(),s.TgZ(16,"select",11),s.TgZ(17,"option",12),s._uU(18,"Top Left"),s.qZA(),s.TgZ(19,"option",13),s._uU(20,"Top Right"),s.qZA(),s.TgZ(21,"option",14),s._uU(22,"Bottom Left"),s.qZA(),s.TgZ(23,"option",15),s._uU(24,"Bottom Right"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(25,"div",6),s.TgZ(26,"label",16),s._uU(27,"Theme"),s.qZA(),s.TgZ(28,"select",17),s.TgZ(29,"option",18),s._uU(30,"Default"),s.qZA(),s.TgZ(31,"option",19),s._uU(32,"Full Width"),s.qZA(),s.TgZ(33,"option",20),s._uU(34,"Rounded"),s.qZA(),s.TgZ(35,"option",21),s._uU(36,"Pill"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(37,"div",6),s.TgZ(38,"label",22),s._uU(39,"Message"),s.qZA(),s._UZ(40,"textarea",23),s.YNc(41,T,2,1,"div",9),s.qZA(),s.TgZ(42,"div",6),s.TgZ(43,"label",24),s._uU(44,"Label"),s.qZA(),s._UZ(45,"input",25),s.YNc(46,C,2,1,"div",9),s.qZA(),s.TgZ(47,"div",6),s.TgZ(48,"label",26),s._uU(49,"Button Link"),s.qZA(),s._UZ(50,"input",27),s.YNc(51,q,2,1,"div",9),s.qZA(),s.TgZ(52,"div",6),s.TgZ(53,"label",28),s._uU(54,"Button Text"),s.qZA(),s._UZ(55,"input",29),s.YNc(56,U,2,1,"div",9),s.qZA(),s.TgZ(57,"button",30),s.ALo(58,"async"),s._uU(59),s.qZA(),s.qZA(),s.qZA(),s.TgZ(60,"mat-tab",4),s.ALo(61,"trans"),s.TgZ(62,"div",31),s._UZ(63,"upload-image-control",32),s.YNc(64,I,2,2,"color-picker-input",33),s.ALo(65,"keyvalue"),s.TgZ(66,"button",30),s.ALo(67,"async"),s._uU(68),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(69,"div",34),s._UZ(70,"generic-page-preview"),s._UZ(71,"link-overlay",35),s.ALo(72,"async"),s._UZ(73,"div",36),s.qZA()),2&e&&(s.xp6(1),s.Q6J("ngIf",s.lcZ(2,15,t.loading$)),s.xp6(2),s.Q6J("formGroup",t.form),s.xp6(2),s.Q6J("label",s.lcZ(6,17,"General")),s.xp6(7),s.Q6J("ngIf",t.errors.name),s.xp6(29),s.Q6J("ngIf",t.errors.message),s.xp6(5),s.Q6J("ngIf",t.errors.label),s.xp6(5),s.Q6J("ngIf",t.errors.btn_link),s.xp6(5),s.Q6J("ngIf",t.errors.btn_text),s.xp6(1),s.Q6J("disabled",s.lcZ(58,19,t.loading$)),s.xp6(2),s.hij(" ",t.overlay?"Update":"Create"," "),s.xp6(1),s.Q6J("label",s.lcZ(61,21,"Design")),s.xp6(4),s.Q6J("ngForOf",s.lcZ(65,23,t.colorControls())),s.xp6(2),s.Q6J("disabled",s.lcZ(67,25,t.loading$)),s.xp6(2),s.hij(" ",t.overlay?"Update":"Create"," "),s.xp6(3),s.Q6J("overlay",s.lcZ(72,27,t.form.valueChanges)))},directives:[f.O5,l.JL,l.sg,m.SP,m.uX,v.P,l.Fj,l.JJ,l.u,l.Q7,l.EJ,l.YN,l.Kr,l.nD,b.lW,l.x0,_.V,f.sg,Z,i.a,y.pW,x.M],pipes:[f.Ov,k.R,f.Nd],styles:["[_nghost-%COMP%]{display:flex;height:calc(100vh - 70px);margin:-25px}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{flex:1 1 auto}.left[_ngcontent-%COMP%]{max-width:300px;padding:10px 20px 20px;background-color:var(--be-background);border-right:1px solid var(--be-divider-default);overflow:auto;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);z-index:1}.left[_ngcontent-%COMP%], .right[_ngcontent-%COMP%]{position:relative}.mat-progress-bar[_ngcontent-%COMP%]{position:absolute;top:0;left:0}  crupdate-link-overlay-page .mat-tab-label{width:50%;min-width:0;min-width:auto}.tab-body-wrapper[_ngcontent-%COMP%]{padding-top:15px}link-overlay[_ngcontent-%COMP%]{z-index:1001}.overlay-bg-input[_ngcontent-%COMP%]{margin-bottom:10px;height:80px;width:100%;border:1px solid var(--be-divider-default)}.overlay-bg-input[_ngcontent-%COMP%] .action-buttons{bottom:23px}"],changeDetection:0}),e}()},75950:function(e,t,n){"use strict";n.d(t,{m:function(){return V}});var i=n(67455),a=n(36024),o=n(72686),r=n(56515),s=n(44415),l=n(59075),c=n(45523),u=[new l.XQ({type:l.Bq.Select,key:"theme",defaultValue:"default",description:"Active theme for link overlay",options:[{key:"default",value:"default"},{key:"full-width",value:"full-width"},{key:"rounded",value:"rounded"},{key:"pill",value:"pill"}]}),new c.T7({description:"Date overlay was created"}),new c.yH({description:"Date overlay was last updated"}),new l.XQ({type:l.Bq.SelectModel,key:"user_id",label:"User",description:"User overlay was created by",component:s.y})],d=n(35366),g=n(28505),f=n(36501),m=n(73234),v=n(63337),b=n(95157),_=n(48865),Z=n(38116),y=n(49517),x=n(34955),k=n(56361),A=n(84369),w=n(77307),T=n(61116),C=n(13536),q=n(80922),U=n(86668),I=n(27701),M=n(54275),O=n(24311),J=n(71765),P=n(47210),N=n(2406),S=n(40450);function D(e,t){1&e&&d._UZ(0,"mat-progress-bar",18)}function Q(e,t){1&e&&(d.TgZ(0,"th",1),d._uU(1,"Owner"),d.qZA())}var Y=function(e){return{count:e,resource:"overlay(s)"}};function L(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"th",19),d.TgZ(2,"div",20),d._uU(3," :count :resource selected: "),d.qZA(),d.TgZ(4,"div",21),d.TgZ(5,"permission-aware-button",22),d.TgZ(6,"button",23),d.NdJ("click",function(){return d.CHM(n),d.oxw().maybeDeleteSelectedOverlays()}),d._uU(7," Delete "),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.ngIf;d.xp6(2),d.Q6J("transValues",d.VKq(1,Y,i))}}function E(e,t){if(1&e&&(d.TgZ(0,"td",39),d._UZ(1,"user-column",40),d.qZA()),2&e){var n=d.oxw().$implicit;d.xp6(1),d.Q6J("user",n.user)}}var F=function(e){return["edit",e]};function R(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"tr"),d._UZ(1,"td",24),d.TgZ(2,"td",25),d._uU(3),d.qZA(),d.YNc(4,E,2,1,"td",26),d.TgZ(5,"td",27),d._uU(6),d.qZA(),d.TgZ(7,"td",28),d._uU(8),d.qZA(),d.TgZ(9,"td",29),d._UZ(10,"mat-icon",30),d.qZA(),d.TgZ(11,"td",31),d._uU(12),d.ALo(13,"formattedDate"),d.qZA(),d.TgZ(14,"td",32),d.TgZ(15,"permission-aware-button",33),d.TgZ(16,"button",34),d.ALo(17,"trans"),d._UZ(18,"mat-icon",35),d.qZA(),d.qZA(),d.TgZ(19,"permission-aware-button",36),d.TgZ(20,"button",37),d.NdJ("click",function(){var e=d.CHM(n).$implicit;return d.oxw().maybeDeleteSelectedOverlays([e.id])}),d._UZ(21,"mat-icon",38),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw();d.xp6(1),d.Q6J("table-body-checkbox",i.id),d.xp6(2),d.Oqu(i.name),d.xp6(1),d.Q6J("ngIf",a.showUserColumn()),d.xp6(2),d.Oqu(i.message),d.xp6(2),d.Oqu(i.btn_text),d.xp6(2),d.Udp("color",i.colors["bg-color"]),d.xp6(2),d.Oqu(d.lcZ(13,11,i.updated_at)),d.xp6(3),d.Q6J("userOwnsResource",a.currentUser.get("id")===i.user_id),d.xp6(1),d.Q6J("routerLink",d.VKq(15,F,i.id))("matTooltip",d.lcZ(17,13,"Edit overlay"))}}function $(e,t){1&e&&(d.TgZ(0,"no-results-message",41),d.TgZ(1,"span",42),d._uU(2,"No link overlays have been created yet"),d.qZA(),d.qZA())}var V=function(){var e=function(){function e(t,n,i,a,o,r,s,l){p(this,e),this.datatable=t,this.currentUser=n,this.linkUsage=i,this.linkOverlays=a,this.toast=o,this.route=r,this.workspaces=s,this.activeSection=l,this.filters=u,this.overlays$=this.datatable.data$}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.workspaceSub=this.workspaces.activeId$.subscribe(function(){e.setFilters()}),this.datatable.init({uri:o.S.BASE_URI,staticParams:{with:["user"],userId:this.showUserColumn()?null:this.currentUser.get("id")}})}},{key:"ngOnDestroy",value:function(){this.workspaceSub.unsubscribe()}},{key:"maybeDeleteSelectedOverlays",value:function(e){var t=this;this.datatable.confirmResourceDeletion("link overlays").subscribe(function(){t.linkOverlays.delete(e||t.datatable.selectedRows$.value).subscribe(function(){t.datatable.reset(),t.linkUsage.reload(),t.toast.open(i.V.LINK_OVERLAY_DELETE_SUCCESS)},function(e){t.toast.open(e.message||a.v.Default)})})}},{key:"showUserColumn",value:function(){return this.activeSection.admin||!!this.workspaces.activeId$.value}},{key:"setFilters",value:function(){var e=this;this.filters=u.filter(function(t){return"user_id"!==t.key||e.showUserColumn()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(r.x),d.Y36(g.I),d.Y36(f.F),d.Y36(o.S),d.Y36(m.F),d.Y36(v.gz),d.Y36(b.b),d.Y36(_.W))},e.\u0275cmp=d.Xpm({type:e,selectors:[["link-overlay-index"]],features:[d._Bn([r.x])],decls:41,vars:12,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","overlays",3,"filters"],[1,"action-buttons"],["permission","link_overlays.create"],["mat-raised-button","","color","accent","routerLink","new",1,"button-with-icon"],["svgIcon","add"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["trans","",4,"ngIf"],["table-sort-header","clicks_count"],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","popular.svg",4,"ngIf"],["mode","indeterminate","color","accent",1,"loading-bar"],["colspan","8"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["permission","link_overlays.delete"],["type","button","mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],["data-label","Name"],["data-label","Owner",4,"ngIf"],["data-label","Message"],["data-label","Action"],["data-label","Color"],["svgIcon","drop-custom",1,"color-icon"],["data-label","Last Updated"],[1,"edit-column"],["permission","link_overlays.update",3,"userOwnsResource"],["mat-icon-button","",3,"routerLink","matTooltip"],["svgIcon","edit"],["permission","link_overlays.delete",1,"visible-on-mobile"],["type","button","mat-icon-button","","trans","",3,"click"],["svgIcon","delete"],["data-label","Owner"],[3,"user"],["svgImage","popular.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"h1",1),d.TgZ(2,"span",1),d._uU(3,"Link Overlays"),d.qZA(),d.TgZ(4,"info-popover"),d.TgZ(5,"span",1),d._uU(6,"Display fully customizable overlay with a message and call-to-action button over destination website."),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"div",2),d._UZ(8,"datatable-filters",3),d.TgZ(9,"div",4),d.TgZ(10,"permission-aware-button",5),d.TgZ(11,"button",6),d._UZ(12,"mat-icon",7),d.TgZ(13,"span",1),d._uU(14,"Add New Overlay"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.TgZ(15,"div",8),d.YNc(16,D,1,0,"mat-progress-bar",9),d.ALo(17,"async"),d.TgZ(18,"table",10),d.TgZ(19,"thead"),d.TgZ(20,"tr"),d._UZ(21,"th",11),d.TgZ(22,"th",12),d._uU(23,"Name"),d.qZA(),d.YNc(24,Q,2,0,"th",13),d.TgZ(25,"th",14),d._uU(26,"Message"),d.qZA(),d.TgZ(27,"th",1),d._uU(28,"Action"),d.qZA(),d.TgZ(29,"th",1),d._uU(30,"Color"),d.qZA(),d.TgZ(31,"th",1),d._uU(32,"Last Updated"),d.qZA(),d._UZ(33,"th"),d.qZA(),d.YNc(34,L,8,3,"tr",15),d.qZA(),d.TgZ(35,"tbody"),d.YNc(36,R,22,17,"tr",16),d.ALo(37,"async"),d.qZA(),d.qZA(),d.YNc(38,$,3,0,"no-results-message",17),d.ALo(39,"async"),d._UZ(40,"datatable-footer"),d.qZA()),2&e&&(d.xp6(8),d.Q6J("filters",t.filters),d.xp6(8),d.Q6J("ngIf",d.lcZ(17,6,t.datatable.paginator&&t.datatable.paginator.loading$)),d.xp6(8),d.Q6J("ngIf",t.showUserColumn()),d.xp6(10),d.Q6J("ngIf",t.datatable.selectedRows$.value.length),d.xp6(2),d.Q6J("ngForOf",d.lcZ(37,8,t.overlays$)),d.xp6(2),d.Q6J("ngIf",d.lcZ(39,10,t.datatable.paginator.noResults$)))},directives:[Z.P,y.N,x.h,k.v,A.lW,v.rH,w.Hw,T.O5,C.e,q.p,T.sg,U.V,I.pW,M.O,O.gM,J.r,P.U],pipes:[T.Ov,N.l,S.R],styles:["h1[_ngcontent-%COMP%]{display:flex;align-items:center}.info-button[_ngcontent-%COMP%]{color:var(--be-secondary-text)}"],changeDetection:0}),e}()},72686:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var i=n(35366),a=n(68515),o=function(){var e=function(){function e(t){p(this,e),this.http=t}return h(e,[{key:"index",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(e.BASE_URI),t)}},{key:"get",value:function(t){return this.http.get("".concat(e.BASE_URI,"/").concat(t))}},{key:"create",value:function(t){return this.http.post(e.BASE_URI,t)}},{key:"update",value:function(t,n){return this.http.put("".concat(e.BASE_URI,"/").concat(t),n)}},{key:"delete",value:function(t){return this.http.delete("".concat(e.BASE_URI,"/").concat(t))}}]),e}();return e.BASE_URI="link-overlay",e.\u0275fac=function(t){return new(t||e)(i.LFG(a.r))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},87829:function(e,t,n){"use strict";n.d(t,{P:function(){return V}});var i,a,o=n(64762),r=n(92935),s=n(78512),l=n(32198),c=n(67455),u=n(99713),d=n(11520),g=n(8839),f="function"==typeof Map?new Map:(i=[],a=[],{has:function(e){return i.indexOf(e)>-1},get:function(e){return a[i.indexOf(e)]},set:function(e,t){-1===i.indexOf(e)&&(i.push(e),a.push(t))},delete:function(e){var t=i.indexOf(e);t>-1&&(i.splice(t,1),a.splice(t,1))}}),m=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(i){m=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function v(e){var t=f.get(e);t&&t.destroy()}function b(e){var t=f.get(e);t&&t.update()}var _=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((_=function(e){return e}).destroy=function(e){return e},_.update=function(e){return e}):((_=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return function(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!f.has(e)){var t,n=null,i=null,a=null,o=function(){e.clientWidth!==i&&c()},r=(function(t){window.removeEventListener("resize",o,!1),e.removeEventListener("input",c,!1),e.removeEventListener("keyup",c,!1),e.removeEventListener("autosize:destroy",r,!1),e.removeEventListener("autosize:update",c,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),f.delete(e)}).bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",r,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",c,!1),window.addEventListener("resize",o,!1),e.addEventListener("input",c,!1),e.addEventListener("autosize:update",c,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",f.set(e,{destroy:r,update:c}),"vertical"===(t=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===t.resize&&(e.style.resize="horizontal"),n="content-box"===t.boxSizing?-(parseFloat(t.paddingTop)+parseFloat(t.paddingBottom)):parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth),isNaN(n)&&(n=0),c()}function s(t){var n=e.style.width;e.style.width="0px",e.style.width=n,e.style.overflowY=t}function l(){if(0!==e.scrollHeight){var t=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),a=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+n+"px",i=e.clientWidth,t.forEach(function(e){e.node.scrollTop=e.scrollTop}),a&&(document.documentElement.scrollTop=a)}}function c(){l();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),i="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(i<t?"hidden"===n.overflowY&&(s("scroll"),l(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(s("hidden"),l(),i="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),a!==i){a=i;var o=m("autosize:resized");try{e.dispatchEvent(o)}catch(e){}}}}(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],v),e},_.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],b),e});var Z=_,y=n(63589),x=n(35366),k=n(38116),A=n(61116),w=n(78671);function T(e,t){if(1&e&&x._UZ(0,"share-link-btns",2),2&e){var n=x.oxw();x.Q6J("showCopyBtn",!0)("link",n.data.link)}}var C=function(){var e=function e(t){p(this,e),this.data=t,this.message=this.data.createMsg||c.V.LINK_CREATE_SUCCESS};return e.\u0275fac=function(t){return new(t||e)(x.Y36(y.qD))},e.\u0275cmp=x.Xpm({type:e,selectors:[["link-created-message"]],decls:3,vars:2,consts:[["trans",""],[3,"showCopyBtn","link",4,"ngIf"],[3,"showCopyBtn","link"]],template:function(e,t){1&e&&(x.TgZ(0,"div",0),x._uU(1),x.qZA(),x.YNc(2,T,1,2,"share-link-btns",1)),2&e&&(x.xp6(1),x.Oqu(t.message),x.xp6(1),x.Q6J("ngIf",t.data.link))},directives:[k.P,A.O5,w.t],styles:["[_nghost-%COMP%]{display:flex;align-items:center}share-link-btns[_ngcontent-%COMP%]{margin-left:auto}  .link-created-snackbar{padding-top:4px;padding-bottom:4px}"],changeDetection:0}),e}(),q=n(84222),U=n(73234),I=n(541),M=n(28505),O=n(88195),J=n(3950),P=n(2862),N=["textarea"];function S(e,t){1&e&&(x.TgZ(0,"span"),x._uU(1,"Edit Link"),x.qZA())}function D(e,t){1&e&&(x.TgZ(0,"span",10),x._uU(1,"New Link"),x.qZA())}function Q(e,t){if(1&e&&(x.TgZ(0,"div",23),x._uU(1),x.qZA()),2&e){var n=x.oxw(2).ngIf;x.xp6(1),x.Oqu(n.long_urls)}}function Y(e,t){if(1&e&&(x.TgZ(0,"div",18),x.TgZ(1,"label",19),x._uU(2,"Multiple URLs (one per line)"),x.qZA(),x._UZ(3,"textarea",20,21),x.YNc(5,Q,2,1,"div",22),x.qZA()),2&e){var n=x.oxw().ngIf;x.xp6(5),x.Q6J("ngIf",n.long_urls)}}function L(e,t){if(1&e&&(x.ynx(0),x.TgZ(1,"button",29),x.TgZ(2,"span",10),x._uU(3),x.qZA(),x._UZ(4,"mat-icon",30),x.qZA(),x._UZ(5,"link-type-menu",31,32),x.ALo(7,"async"),x.BQk()),2&e){var n=x.MAs(6),i=x.oxw(3);x.xp6(1),x.Q6J("matMenuTriggerFor",n.matMenu),x.xp6(2),x.Oqu(i.typeViewName()),x.xp6(2),x.Q6J("linkOptions",x.lcZ(7,3,i.linkOptions$))}}function E(e,t){if(1&e&&(x.TgZ(0,"div",23),x._uU(1),x.qZA()),2&e){var n=x.oxw(2).ngIf;x.xp6(1),x.Oqu(n.long_url)}}function F(e,t){if(1&e){var n=x.EpF();x.TgZ(0,"div",24),x.TgZ(1,"label",25),x._uU(2,"Paste long url"),x.qZA(),x.TgZ(3,"div",26),x.TgZ(4,"textarea",27,21),x.NdJ("enterPressed",function(){return x.CHM(n),x.oxw(2).createOrUpdate()}),x.qZA(),x.YNc(6,L,8,5,"ng-container",28),x.qZA(),x.YNc(7,E,2,1,"div",22),x.qZA()}if(2&e){var i=x.oxw().ngIf,a=x.oxw();x.xp6(4),x.Q6J("minlength",a.minLen)("maxlength",a.maxLen),x.xp6(2),x.Q6J("ngIf",a.settings.get("links.enable_type")),x.xp6(1),x.Q6J("ngIf",i.long_url)}}function R(e,t){if(1&e){var n=x.EpF();x.ynx(0,11),x.YNc(1,Y,6,1,"div",12),x.YNc(2,F,8,4,"ng-template",null,13,x.W1O),x.TgZ(4,"div",14),x.TgZ(5,"button",15),x.NdJ("click",function(){return x.CHM(n),x.oxw().toggleOptions()}),x._UZ(6,"mat-icon",16),x.TgZ(7,"span",10),x._uU(8,"Advanced Options"),x.qZA(),x.qZA(),x.qZA(),x._UZ(9,"link-options-form",17),x.ALo(10,"async"),x.ALo(11,"async"),x.BQk()}if(2&e){var i=x.MAs(3),a=x.oxw();x.Q6J("formGroup",a.linkForm.formGroup),x.xp6(1),x.Q6J("ngIf",a.data.batch)("ngIfElse",i),x.xp6(8),x.Q6J("featuresToHide",a.data.featuresToHide)("@bodyExpansion",x.lcZ(10,7,a.optionsVisible$))("linkOptions",x.lcZ(11,9,a.linkOptions$))("batch",a.data.batch)}}function $(e,t){if(1&e&&x._UZ(0,"share-link-btns",33),2&e){var n=x.oxw();x.Q6J("showCopyBtn",!0)("link",n.data.link)}}var V=function(){var e=function(){function e(t,n,i,a,o,r,l,c,u,d){p(this,e),this.dialogRef=t,this.data=n,this.linkForm=i,this.links=a,this.toast=o,this.selectValues=r,this.currentUser=l,this.settings=c,this.i18n=u,this.recaptcha=d,this.loading$=new s.X(!1),this.updating$=new s.X(!1),this.optionsVisible$=new s.X(!1),this.linkOptions$=new s.X(null),this.minLen=this.settings.get("links.min_len"),this.maxLen=this.settings.get("links.max_len"),n.link&&(this.updating$.next(!0),this.linkForm.patchValue(n.link))}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.selectValues.get().subscribe(function(t){e.linkOptions$.next(t)})}},{key:"ngAfterViewInit",value:function(){Z(this.textarea.nativeElement)}},{key:"createOrUpdate",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getPayload(),!this.urlInvalid(t.long_url)){e.next=5;break}e.t0=this.linkForm.setErrors({long_url:this.i18n.t("This url is invalid.")}),e.next=14;break;case 5:return this.loading$.next(!0),e.next=8,this.recaptcha.verify("link_creation");case 8:if(!e.sent){e.next=12;break}e.t1=void(this.updating$.value?this.links.update(this.data.link.id,t):this.links.create(t)).pipe((0,d.x)(function(){return n.loading$.next(!1)})).subscribe(function(e){n.updating$.value?n.toast.open(c.V.LINK_UPDATE_SUCCESS):n.toast.openComponent(C,{data:{link:e.link,createMsg:n.data.createMsg},duration:6e3,panelClass:"link-created-snackbar"}),n.close(e.link)},function(e){return n.linkForm.setErrors(e.errors)}),e.next=13;break;case 12:e.t1=this.loading$.next(!1);case 13:e.t0=e.t1;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}},e,this)}))}},{key:"shortenBatchUrls",value:function(){return(0,o.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.getPayload()).long_urls.some(function(e){return n.urlInvalid(e)})){e.next=5;break}e.t0=this.linkForm.setErrors({long_urls:this.i18n.t("Some of the urls are not valid.")}),e.next=14;break;case 5:return this.loading$.next(!0),e.next=8,this.recaptcha.verify("link_creation");case 8:if(!e.sent){e.next=12;break}e.t1=void this.links.createBatch(t).pipe((0,d.x)(function(){return n.loading$.next(!1)})).subscribe(function(e){n.toast.open(c.V.MULTIPLE_LINKS_CREATE_SUCCESS),n.close(e.links)},function(e){return n.linkForm.setErrors(e.errors)}),e.next=13;break;case 12:e.t1=this.loading$.next(!1);case 13:e.t0=e.t1;case 14:return e.abrupt("return",e.t0);case 15:case"end":return e.stop()}},e,this)}))}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"toggleOptions",value:function(){this.optionsVisible$.next(!this.optionsVisible$.value)}},{key:"typeViewName",value:function(){return this.linkForm.formGroup.get("type").value.split(":")[0]}},{key:"getPayload",value:function(){var e=this.linkForm.value();return this.data.groups&&(e.groups=Object.assign(Object.assign({},e.groups),this.data.groups)),e}},{key:"urlInvalid",value:function(e){return!g({exact:!0,strict:!1}).test(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.Y36(r.so),x.Y36(r.WI),x.Y36(l.l),x.Y36(q.M),x.Y36(U.F),x.Y36(I.U),x.Y36(M.I),x.Y36(O.Z),x.Y36(J.Z),x.Y36(P.K))},e.\u0275cmp=x.Xpm({type:e,selectors:[["crupdate-link-modal"]],viewQuery:function(e,t){var n;(1&e&&x.Gf(N,5),2&e)&&(x.iGM(n=x.CRH())&&(t.textarea=n.first))},features:[x._Bn([l.l])],decls:18,vars:11,consts:[[1,"modal-header"],["mat-dialog-title",""],[4,"ngIf","ngIfElse"],["creating",""],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"ngSubmit"],[3,"formGroup",4,"ngIf"],["class","colored dialog-actions-left",3,"showCopyBtn","link",4,"ngIf"],["type","submit","mat-raised-button","","color","accent","trans","",1,"submit-button",3,"disabled"],["trans",""],[3,"formGroup"],["class","input-container",4,"ngIf","ngIfElse"],["single",""],[1,"actions"],["type","button","mat-button","",1,"advanced-options-btn",3,"click"],["svgIcon","settings"],[3,"featuresToHide","linkOptions","batch"],[1,"input-container"],["for","link-dialog-multiple-urls","trans",""],["name","link-dialog-multiple-urls","id","link-dialog-multiple-urls","autocomplete","off","spellcheck","false","formControlName","long_urls",1,"multiple-link-textarea"],["textarea",""],["class","error",4,"ngIf"],[1,"error"],[1,"input-container","link-input-container"],["for","link-dialog-long-url","trans","",1,"hidden"],[1,"input-with-action"],["type","text","id","link-dialog-long-url","autocomplete","off","spellcheck","false","enterKeybind","","formControlName","long_url","placeholder","Enter long url...","trans-placeholder","","required","",1,"single-link-textarea",3,"minlength","maxlength","enterPressed"],[4,"ngIf"],["mat-flat-button","","color","gray","type","button",1,"type-button",3,"matMenuTriggerFor"],["svgIcon","arrow-drop-down"],["formControlName","type",3,"linkOptions"],["linkTypeMenu",""],[1,"colored","dialog-actions-left",3,"showCopyBtn","link"]],template:function(e,t){if(1&e&&(x.TgZ(0,"div",0),x.TgZ(1,"h2",1),x.GkF(2),x.YNc(3,S,2,0,"span",2),x.ALo(4,"async"),x.YNc(5,D,2,0,"ng-template",null,3,x.W1O),x.qZA(),x.TgZ(7,"button",4),x.NdJ("click",function(){return t.close()}),x._UZ(8,"mat-icon",5),x.qZA(),x.qZA(),x.TgZ(9,"form",6),x.NdJ("ngSubmit",function(){return t.data.batch?t.shortenBatchUrls():t.createOrUpdate()}),x.TgZ(10,"mat-dialog-content"),x.YNc(11,R,12,11,"ng-container",7),x.ALo(12,"async"),x.qZA(),x.TgZ(13,"mat-dialog-actions"),x.YNc(14,$,1,2,"share-link-btns",8),x.TgZ(15,"button",9),x.ALo(16,"async"),x._uU(17," Confirm "),x.qZA(),x.qZA(),x.qZA()),2&e){var n=x.MAs(6);x.xp6(3),x.Q6J("ngIf",x.lcZ(4,5,t.updating$))("ngIfElse",n),x.xp6(8),x.Q6J("ngIf",x.lcZ(12,7,t.linkForm.errors$)),x.xp6(3),x.Q6J("ngIf",t.data.link),x.xp6(1),x.Q6J("disabled",x.lcZ(16,9,t.loading$))}},styles:["[_nghost-%COMP%]{display:block;width:650px;max-width:100%}.single-link-textarea[_ngcontent-%COMP%]{max-height:130px;height:46px;border-right:1px solid var(--be-divider-default)!important}.multiple-link-textarea[_ngcontent-%COMP%]{height:242px;max-height:300px}textarea[_ngcontent-%COMP%]{resize:vertical;word-break:break-all;font-size:1.5rem;line-height:1.5}.link-input-container[_ngcontent-%COMP%]{margin-bottom:5px}.type-container[_ngcontent-%COMP%]{margin-left:auto;width:auto;min-width:100px}.type-button[_ngcontent-%COMP%]{text-transform:capitalize;max-height:46px}.type-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-bottom:3px}.advanced-options-btn[_ngcontent-%COMP%]{padding:0 6px;margin-left:-6px;overflow:hidden}.advanced-options-btn[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:5px}.dialog-actions-left[_ngcontent-%COMP%]{margin-right:auto}.mat-dialog-actions[_ngcontent-%COMP%]{margin-top:15px}.submit-button[_ngcontent-%COMP%]{width:120px;line-height:40px}@media screen and (max-width:768px){.multiple-toggle[_ngcontent-%COMP%]{display:none}}"],data:{animation:[(0,u.X$)("bodyExpansion",[(0,u.SB)("false",(0,u.oB)({height:"0px",visibility:"hidden"})),(0,u.SB)("true",(0,u.oB)({height:"*",visibility:"visible"})),(0,u.eR)("true <=> false",(0,u.jt)("225ms cubic-bezier(0.4,0.0,0.2,1)"))])]},changeDetection:0}),e}()},541:function(e,t,n){"use strict";n.d(t,{U:function(){return s}});var i=n(25051),a=n(35366),o=n(9823),r=n(28505),s=function(){var e=function(){function e(t,n){p(this,e),this.http=t,this.currentUser=n}return h(e,[{key:"get",value:function(){return this.http.getWithCache("".concat(i.l.BASE_URI,"/").concat(["countries","domains","pages","overlays","pixels","groups"].join(",")),{userId:this.currentUser.get("id"),pageType:"link_page"})}},{key:"clearCache",value:function(){this.http.clearCache()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(o.F),a.LFG(r.I))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},85706:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var i=n(59075),a=n(45523),o=n(44415),r=[new i.XQ({type:i.Bq.Select,key:"type",description:"Type of the link",defaultValue:"direct",options:[{key:"All",value:""},{key:"Direct",value:"direct"},{key:"Overlay",value:"overlay"},{key:"Frame",value:"frame"},{key:"Custom Page",value:"link_page"}]}),new i.XQ({type:i.Bq.Select,key:"active",label:"status",defaultValue:!1,description:"Whether link is disabled or not",options:[{key:"enabled",value:!1},{key:"disabled",value:!0}]}),new i.XQ({type:i.Bq.Select,key:"password",description:"Whether link is password protected",options:[{key:"any",value:""},{key:"does not have password",value:{value:null,operator:i.pg.eq}},{key:"has password",value:{value:null,operator:i.pg.ne}}]}),new i.XQ({type:i.Bq.Input,inputType:"number",key:"clicks_count",label:"Click Count",description:"Total number of clicks for link",defaultValue:1,defaultOperator:i.pg.gte,operators:i.Hi}),new a.k4({key:"clicked_at",label:"Clicked At",description:"Date the link was last clicked"}),new a.k4({key:"expires_at",label:"Expires At",description:"Date the link will expire"}),new a.T7({description:"Date link was created"}),new a.yH({description:"Date link was last updated"}),new i.XQ({type:i.Bq.SelectModel,key:"user_id",label:"User",description:"User link was created by",component:o.y})]},32656:function(t,n,i){"use strict";i.d(n,{g:function(){return ye}});var a=i(36024),o=i(87829),r=i(84222),s=i(56515),l=i(67455),c=i(85706),u=i(16980),d=i(78512),g=i(4694),f=i(92935),m=i(40878),v=i(31041),b=i(56238),_=i(47701),Z=i(98720),y=i(44689),x=i(47727),k=i(11520),A=i(79996),w=i(35366),T=i(28505),C=i(73234),q=i(48865),U=i(95157),I=i(38116),M=i(77307),O=i(61116),J=i(27701),P=i(47210),N=i(40985);function S(e,t){1&e&&w._UZ(0,"mat-progress-bar",8)}function D(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"div",12),w.NdJ("click",function(){var e=w.CHM(n).$implicit;return w.oxw(2).confirm(e)}),w._UZ(1,"img",13),w.ALo(2,"favicon"),w.TgZ(3,"button",14),w.ALo(4,"async"),w.TgZ(5,"span",15),w._uU(6),w.qZA(),w.TgZ(7,"span",16),w._uU(8),w.qZA(),w.qZA(),w.qZA()}if(2&e){var i=t.$implicit,a=w.oxw(2);w.xp6(1),w.Q6J("src",w.lcZ(2,4,i.long_url),w.LSH),w.xp6(2),w.Q6J("disabled",w.lcZ(4,6,a.loading$)),w.xp6(3),w.Oqu(i.long_url),w.xp6(2),w.Oqu(i.short_url)}}function Q(e,t){1&e&&(w.TgZ(0,"div",17),w.TgZ(1,"no-results-message"),w.TgZ(2,"span",18),w._uU(3,"Could not find any links matching this query."),w.qZA(),w.qZA(),w.qZA())}function Y(e,t){if(1&e&&(w.TgZ(0,"div",9),w.YNc(1,D,9,8,"div",10),w.YNc(2,Q,4,0,"div",11),w.qZA()),2&e){var n=t.ngIf;w.xp6(1),w.Q6J("ngForOf",n),w.xp6(1),w.Q6J("ngIf",!n.length)}}var L=function(){var e=function(){function e(t,n,i,a,o,r,s,l){p(this,e),this.dialogRef=t,this.data=n,this.linkGroup=i,this.link=a,this.currentUser=o,this.toast=r,this.activeSection=s,this.workspaces=l,this.loading$=new d.X(!1),this.links$=new d.X(null),this.searchControl=new v.NI}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.searchControl.valueChanges.pipe((0,b.O)(""),(0,_.b)(250),(0,Z.x)(),(0,y.w)(function(t){return e.findLinks(t)}),(0,x.K)(function(){return(0,m.of)([])})).subscribe(function(t){e.links$.next(t),e.loading$.next(!1)})}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"confirm",value:function(e){var t=this;this.loading$.next(!0),this.linkGroup.attach(this.data.groupId,[e.id]).pipe((0,k.x)(function(){return t.loading$.next(!1)})).subscribe(function(){t.toast.open(l.V.LINK_ATTACH_SUCCESS),t.close(e)})}},{key:"findLinks",value:function(e){this.loading$.next(!0);var t="!"+this.data.groupId,n=this.forCurrentUser()?this.currentUser.get("id"):null;return this.link.index({query:e,userId:n,groupId:t,per_page:8}).pipe((0,A.U)(function(e){return e.pagination.data}))}},{key:"forCurrentUser",value:function(){return!this.activeSection.admin&&!this.workspaces.activeId$.value}}]),e}();return e.\u0275fac=function(t){return new(t||e)(w.Y36(f.so),w.Y36(f.WI),w.Y36(u.L),w.Y36(r.M),w.Y36(T.I),w.Y36(C.F),w.Y36(q.W),w.Y36(U.b))},e.\u0275cmp=w.Xpm({type:e,selectors:[["attach-link-modal"]],decls:12,vars:7,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],[1,"input-container"],["type","text","placeholder","Search for links...",3,"formControl"],["mode","indeterminate","color","accent",4,"ngIf"],["class","links",4,"ngIf"],["mode","indeterminate","color","accent"],[1,"links"],["class","link",3,"click",4,"ngFor","ngForOf"],["class","link",4,"ngIf"],[1,"link",3,"click"],[3,"src"],[1,"meta","overflow-hidden","no-style",3,"disabled"],[1,"long-url","overflow-hidden"],[1,"short-url","overflow-hidden"],[1,"link"],["secondary-text","","trans",""]],template:function(e,t){1&e&&(w.TgZ(0,"div",0),w.TgZ(1,"h2",1),w._uU(2,"Add Existing Links to Group"),w.qZA(),w.TgZ(3,"button",2),w.NdJ("click",function(){return t.close()}),w._UZ(4,"mat-icon",3),w.qZA(),w.qZA(),w.TgZ(5,"mat-dialog-content"),w.TgZ(6,"div",4),w._UZ(7,"input",5),w.YNc(8,S,1,0,"mat-progress-bar",6),w.ALo(9,"async"),w.qZA(),w.YNc(10,Y,3,2,"div",7),w.ALo(11,"async"),w.qZA()),2&e&&(w.xp6(7),w.Q6J("formControl",t.searchControl),w.xp6(1),w.Q6J("ngIf",w.lcZ(9,3,t.loading$)),w.xp6(2),w.Q6J("ngIf",w.lcZ(11,5,t.links$)))},directives:[f.uh,I.P,M.Hw,f.xY,v.Fj,v.JJ,v.oH,O.O5,J.pW,O.sg,P.U],pipes:[O.Ov,N.K],styles:["[_nghost-%COMP%]{display:block;width:450px;max-width:100%}.modal-header[_ngcontent-%COMP%]{margin-bottom:15px}.input-container[_ngcontent-%COMP%]{width:100%;margin-bottom:30px;position:relative}.mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:0}.link[_ngcontent-%COMP%]{display:flex;margin-bottom:20px;cursor:pointer}.link[_ngcontent-%COMP%]:hover   .overflow-hidden[_ngcontent-%COMP%]{color:var(--be-primary-default)}.link[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25px;height:25px;flex-shrink:0;margin-right:10px;border-radius:4px;overflow:hidden}.link[_ngcontent-%COMP%]   .long-url[_ngcontent-%COMP%]{color:var(--be-text);font-weight:500;margin-bottom:5px}.link[_ngcontent-%COMP%]   .short-url[_ngcontent-%COMP%]{color:var(--be-secondary-text);font-size:1.3rem}.overflow-hidden[_ngcontent-%COMP%]{display:block;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),e}(),E=i(63337),F=i(36501),R=i(37123),$=i(24859),V=i(34955),B=i(84369),H=i(97070),z=i(56361),G=i(13536),j=i(80922),X=i(86668),W=i(54275),K=i(24311),ee=i(19708),te=i(71765),ne=function(){var e=function(){function e(){p(this,e)}return h(e,[{key:"transform",value:function(e){return e&&e.replace(/(^\w+:|^)\/\//,"")}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=w.Yjl({name:"removeProtocol",type:e,pure:!0}),e}(),ie=i(40450),ae=i(2406),oe=function(e){return{groupName:e}};function re(e,t){1&e&&(w.TgZ(0,"span",30),w._uU(1,' Links for ":groupName" '),w.qZA()),2&e&&w.Q6J("transValues",w.VKq(1,oe,t.ngIf.name))}function se(e,t){if(1&e&&(w.ynx(0),w.TgZ(1,"a",27),w._UZ(2,"mat-icon",28),w.qZA(),w.YNc(3,re,2,3,"span",29),w.ALo(4,"async"),w.BQk()),2&e){var n=w.oxw();w.xp6(3),w.Q6J("ngIf",w.lcZ(4,1,n.group$))}}function le(e,t){1&e&&(w.TgZ(0,"span",7),w._uU(1,"Links"),w.qZA())}function ce(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"permission-aware-button",31),w.TgZ(1,"button",12),w.NdJ("click",function(){return w.CHM(n),w.oxw().showAttachLinksToGroupModal()}),w._UZ(2,"mat-icon",32),w.TgZ(3,"span",7),w._uU(4,"Move existing links to this group"),w.qZA(),w.qZA(),w.qZA()}}function ue(e,t){1&e&&w._UZ(0,"mat-progress-bar",33)}function de(e,t){1&e&&(w.ynx(0),w.TgZ(1,"th",34),w._uU(2,"Owner"),w.qZA(),w.BQk())}function pe(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"button",41),w.NdJ("click",function(){return w.CHM(n),w.oxw(2).maybeDetachLinksFromGroup()}),w._uU(1," Detach from group "),w.qZA()}}var ge=function(e){return{count:e,resource:"link(s)"}};function he(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"tr"),w.TgZ(1,"th",35),w.TgZ(2,"div",36),w._uU(3," :count :resource selected: "),w.qZA(),w.TgZ(4,"div",37),w.YNc(5,pe,2,0,"button",38),w.TgZ(6,"permission-aware-button",39),w.TgZ(7,"button",40),w.NdJ("click",function(){return w.CHM(n),w.oxw().maybeDeleteSelectedLinks()}),w._uU(8," Delete "),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var i=t.ngIf,a=w.oxw();w.xp6(2),w.Q6J("transValues",w.VKq(2,ge,i)),w.xp6(3),w.Q6J("ngIf",a.groupId)}}function fe(e,t){if(1&e&&(w.TgZ(0,"td",65),w._UZ(1,"user-column",66),w.qZA()),2&e){var n=w.oxw().$implicit;w.xp6(1),w.Q6J("user",n.user)}}function me(e,t){1&e&&w._UZ(0,"mat-icon",67)}function ve(e,t){1&e&&(w.TgZ(0,"span"),w._uU(1,"-"),w.qZA())}var be=function(e,t){return["/",e,"links",t]};function _e(e,t){if(1&e){var n=w.EpF();w.TgZ(0,"tr"),w._UZ(1,"td",42),w.TgZ(2,"td",43),w.TgZ(3,"a",44),w._UZ(4,"img",45),w.ALo(5,"favicon"),w.TgZ(6,"span"),w._uU(7),w.ALo(8,"slice"),w.ALo(9,"removeProtocol"),w.qZA(),w.qZA(),w.TgZ(10,"div",46),w.TgZ(11,"a",47),w._uU(12),w.qZA(),w.qZA(),w.qZA(),w.YNc(13,fe,2,1,"td",48),w.TgZ(14,"td",49),w._uU(15),w.ALo(16,"number"),w.qZA(),w.TgZ(17,"td",50),w._uU(18),w.qZA(),w.TgZ(19,"td",51),w.YNc(20,me,1,0,"mat-icon",52),w.YNc(21,ve,2,0,"span",1),w.qZA(),w.TgZ(22,"td",53),w._uU(23),w.ALo(24,"trans"),w.ALo(25,"formattedDate"),w.qZA(),w.TgZ(26,"td",54),w._uU(27),w.ALo(28,"formattedDate"),w.qZA(),w.TgZ(29,"td",55),w.TgZ(30,"a",56),w.ALo(31,"trans"),w._UZ(32,"mat-icon",57),w.qZA(),w._UZ(33,"copy-link-btn",58),w.TgZ(34,"permission-aware-button",59),w.TgZ(35,"button",60),w.NdJ("click",function(){var e=w.CHM(n).$implicit;return w.oxw().showCrupdateLinkModal(e)}),w.ALo(36,"trans"),w._UZ(37,"mat-icon",61),w.qZA(),w.qZA(),w.TgZ(38,"permission-aware-button",62),w.TgZ(39,"button",63),w.NdJ("click",function(){var e=w.CHM(n).$implicit;return w.oxw().maybeDeleteSelectedLinks([e.id])}),w.ALo(40,"trans"),w._UZ(41,"mat-icon",64),w.qZA(),w.qZA(),w.qZA(),w.qZA()}if(2&e){var i=t.$implicit,a=w.oxw();w.xp6(1),w.Q6J("table-body-checkbox",i.id),w.xp6(2),w.Q6J("href",i.long_url,w.LSH),w.xp6(1),w.Q6J("src",w.lcZ(5,20,i.long_url),w.LSH),w.xp6(3),w.Oqu(w.Dn7(8,22,w.lcZ(9,26,i.long_url),0,50)),w.xp6(4),w.Q6J("href",i.short_url,w.LSH),w.xp6(1),w.Oqu(i.short_url),w.xp6(1),w.Q6J("ngIf",a.showUserColumn()),w.xp6(2),w.Oqu(w.lcZ(16,28,i.clicks_count)),w.xp6(3),w.Oqu(i.type),w.xp6(2),w.Q6J("ngIf",i.has_password),w.xp6(1),w.Q6J("ngIf",!i.has_password),w.xp6(2),w.hij(" ",i.deleted_at?w.lcZ(24,30,"Expired"):i.expires_at?w.lcZ(25,32,i.expires_at):"-"," "),w.xp6(4),w.Oqu(i.clicked_at?w.lcZ(28,34,i.clicked_at):"-"),w.xp6(3),w.Q6J("routerLink",w.WLB(42,be,a.getParentRoute(),i.id))("matTooltip",w.lcZ(31,36,"Link Statistics")),w.xp6(3),w.Q6J("model",i),w.xp6(1),w.Q6J("userOwnsResource",i.user_id===a.currentUser.get("id")),w.xp6(1),w.Q6J("matTooltip",w.lcZ(36,38,"Edit link")),w.xp6(3),w.Q6J("userOwnsResource",i.user_id===a.currentUser.get("id")),w.xp6(1),w.Q6J("matTooltip",w.lcZ(40,40,"Delete link"))}}function Ze(e,t){1&e&&(w.TgZ(0,"no-results-message",68),w.TgZ(1,"span",69),w._uU(2,"No links have been added yet"),w.qZA(),w.qZA())}var ye=function(){var t=function(){function t(e,n,i,a,o,r,s,l,c,u,g,h){p(this,t),this.datatable=e,this.currentUser=n,this.links=i,this.toast=a,this.route=o,this.linkUsage=r,this.csv=s,this.router=l,this.modal=c,this.groups=u,this.workspaces=g,this.activeSection=h,this.group$=new d.X(null),this.links$=this.datatable.data$}return h(t,[{key:"ngOnInit",value:function(){var e=this;this.workspaceSub=this.workspaces.activeId$.subscribe(function(){e.setFilters()}),this.datatable.init({uri:this.groupId?"".concat(u.L.BASE_URI,"/").concat(this.groupId,"/links"):r.M.BASE_URI,staticParams:{with:["user"],userId:this.showUserColumn()?null:this.currentUser.get("id")}}),this.groupId&&this.datatable.paginator.response$.subscribe(function(t){e.group$.next(null==t?void 0:t.linkGroup)})}},{key:"ngOnDestroy",value:function(){this.workspaceSub.unsubscribe()}},{key:"maybeDeleteSelectedLinks",value:function(e){var t=this;this.datatable.confirmResourceDeletion("links").subscribe(function(){t.links.delete(e||t.datatable.selectedRows$.value).subscribe(function(){t.datatable.reset(),t.linkUsage.reload(),t.toast.open(l.V.LINK_DELETE_SUCCESS)},function(e){t.toast.open(e.message||a.v.Default)})})}},{key:"showAttachLinksToGroupModal",value:function(){var e=this;this.modal.open(L,{groupId:this.groupId}).beforeClosed().subscribe(function(t){t&&e.datatable.reset()})}},{key:"maybeDetachLinksFromGroup",value:function(){var e=this;this.modal.open(g.z,{title:"Detach Links",body:"Are you sure you want to detach selected links from this group?",ok:"Detach"}).afterClosed().subscribe(function(t){t&&e.groups.detach(e.groupId,e.datatable.selectedRows$.value).subscribe(function(){return e.datatable.reset()},function(t){e.toast.open(t.message||a.v.Default)})})}},{key:"showCrupdateLinkModal",value:function(t,n){var i=this;this.datatable.openCrupdateResourceModal(o.P,{link:t,groups:e({},this.groupId,{}),batch:n}).subscribe(function(){return i.linkUsage.reload()})}},{key:"showUserColumn",value:function(){return this.activeSection.admin||!!this.workspaces.activeId$.value}},{key:"setFilters",value:function(){var e=this;this.filters=c.f.filter(function(t){return"user_id"!==t.key||e.showUserColumn()})}},{key:"exportCsv",value:function(){this.csv.export(r.M.EXPORT_CSV_URI,{type:this.activeSection.admin?"all":null})}},{key:"getParentRoute",value:function(){return this.activeSection.admin?"admin":"dashboard"}}]),t}();return t.\u0275fac=function(e){return new(e||t)(w.Y36(s.x),w.Y36(T.I),w.Y36(r.M),w.Y36(C.F),w.Y36(E.gz),w.Y36(F.F),w.Y36(R.T),w.Y36(E.F0),w.Y36($.u),w.Y36(u.L),w.Y36(U.b),w.Y36(q.W))},t.\u0275cmp=w.Xpm({type:t,selectors:[["link-index"]],inputs:{groupId:"groupId"},features:[w._Bn([s.x])],decls:56,vars:18,consts:[[1,"datatable-page-header"],[4,"ngIf"],["trans","",4,"ngIf"],[1,"header"],["pluralName","links",3,"filters"],[1,"action-buttons"],["mat-raised-button","",1,"btn-with-dropdown-icon",3,"matMenuTriggerFor"],["trans",""],["svgIcon","keyboard-arrow-down"],["menu","matMenu"],["permission","link_groups.update",4,"ngIf"],["permission","links.create"],["mat-menu-item","",3,"click"],["svgIcon","add-link"],["svgIcon","export-csv"],["mat-raised-button","","color","accent",1,"button-with-icon",3,"click"],["svgIcon","add"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","clicks_count"],["table-sort-header","","trans",""],["table-sort-header","expires_at","trans",""],["table-sort-header","clicked_at","trans",""],[4,"ngFor","ngForOf"],["svgImage","share-link.svg",4,"ngIf"],["routerLink","../../","mat-icon-button","",1,"back-button"],["svgIcon","arrow-back"],["trans","",3,"transValues",4,"ngIf"],["trans","",3,"transValues"],["permission","link_groups.update"],["svgIcon","shortcut"],["mode","indeterminate","color","accent",1,"loading-bar"],["table-sort-header","user_id","trans",""],["colspan","9"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["type","button","mat-raised-button","","color","accent","trans","",3,"click",4,"ngIf"],["permission","links.delete"],["type","button","mat-raised-button","","color","warn","trans","",3,"click"],["type","button","mat-raised-button","","color","accent","trans","",3,"click"],[3,"table-body-checkbox"],[1,"link-summary-column","mobile-no-label"],["target","_blank",1,"long-url",3,"href"],["alt","Link favicon",1,"favicon-img",3,"src"],[1,"short-url"],["target","_blank",3,"href"],["data-label","Owner",4,"ngIf"],["data-label","Clicks"],["data-label","Type",1,"capitalize"],["data-label","Password"],["svgIcon","check",4,"ngIf"],["data-label","Expires At"],["data-label","Last Clicked"],[1,"edit-column"],["mat-icon-button","",3,"routerLink","matTooltip"],["svgIcon","analytics"],[3,"model"],["permission","links.update",3,"userOwnsResource"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"],["permission","links.delete",3,"userOwnsResource"],["mat-icon-button","",1,"visible-on-mobile",3,"matTooltip","click"],["svgIcon","delete"],["data-label","Owner"],[3,"user"],["svgIcon","check"],["svgImage","share-link.svg"],["primary-text","","trans",""]],template:function(e,t){if(1&e&&(w.TgZ(0,"div",0),w.TgZ(1,"h1"),w.YNc(2,se,5,3,"ng-container",1),w.YNc(3,le,2,0,"span",2),w.qZA(),w.TgZ(4,"div",3),w._UZ(5,"datatable-filters",4),w.TgZ(6,"div",5),w.TgZ(7,"button",6),w.TgZ(8,"span",7),w._uU(9,"More Actions"),w.qZA(),w._UZ(10,"mat-icon",8),w.qZA(),w.TgZ(11,"mat-menu",null,9),w.YNc(13,ce,5,0,"permission-aware-button",10),w.TgZ(14,"permission-aware-button",11),w.TgZ(15,"button",12),w.NdJ("click",function(){return t.showCrupdateLinkModal(null,!0)}),w._UZ(16,"mat-icon",13),w.TgZ(17,"span",7),w._uU(18),w.qZA(),w.qZA(),w.qZA(),w.TgZ(19,"button",12),w.NdJ("click",function(){return t.exportCsv()}),w._UZ(20,"mat-icon",14),w.TgZ(21,"span",7),w._uU(22,"Export links in CSV"),w.qZA(),w.qZA(),w.qZA(),w.TgZ(23,"permission-aware-button",11),w.TgZ(24,"button",15),w.NdJ("click",function(){return t.showCrupdateLinkModal()}),w._UZ(25,"mat-icon",16),w.TgZ(26,"span",7),w._uU(27),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.qZA(),w.TgZ(28,"div",17),w.YNc(29,ue,1,0,"mat-progress-bar",18),w.ALo(30,"async"),w.TgZ(31,"table",19),w.TgZ(32,"thead"),w.TgZ(33,"tr"),w._UZ(34,"th",20),w.TgZ(35,"th",7),w._uU(36,"Summary"),w.qZA(),w.YNc(37,de,3,0,"ng-container",1),w.TgZ(38,"th",21),w._uU(39,"Clicks"),w.qZA(),w.TgZ(40,"th",22),w._uU(41,"Type"),w.qZA(),w.TgZ(42,"th",22),w._uU(43,"Password"),w.qZA(),w.TgZ(44,"th",23),w._uU(45,"Expires At"),w.qZA(),w.TgZ(46,"th",24),w._uU(47,"Last Clicked"),w.qZA(),w._UZ(48,"th"),w.qZA(),w.YNc(49,he,9,4,"tr",1),w.qZA(),w.TgZ(50,"tbody"),w.YNc(51,_e,42,45,"tr",25),w.ALo(52,"async"),w.qZA(),w.qZA(),w.YNc(53,Ze,3,0,"no-results-message",26),w.ALo(54,"async"),w._UZ(55,"datatable-footer"),w.qZA()),2&e){var n=w.MAs(12);w.xp6(2),w.Q6J("ngIf",t.groupId),w.xp6(1),w.Q6J("ngIf",!t.groupId),w.xp6(2),w.Q6J("filters",t.filters),w.xp6(2),w.Q6J("matMenuTriggerFor",n),w.xp6(6),w.Q6J("ngIf",t.groupId),w.xp6(5),w.Oqu(t.groupId?"Add multiple links":"Shorten multiple links"),w.xp6(9),w.Oqu(t.groupId?"Add Link":"Shorten Link"),w.xp6(2),w.Q6J("ngIf",w.lcZ(30,12,t.datatable.paginator&&t.datatable.paginator.loading$)),w.xp6(8),w.Q6J("ngIf",t.showUserColumn()),w.xp6(12),w.Q6J("ngIf",t.datatable.selectedRows$.value.length),w.xp6(2),w.Q6J("ngForOf",w.lcZ(52,14,t.links$)),w.xp6(2),w.Q6J("ngIf",w.lcZ(54,16,t.datatable.paginator.noResults$))}},directives:[O.O5,V.h,B.lW,H.p6,I.P,M.Hw,H.VK,z.v,H.OP,G.e,j.p,O.sg,X.V,E.yS,B.zs,J.pW,W.O,K.gM,ee.b,te.r,P.U],pipes:[O.Ov,N.K,O.OU,ne,O.JJ,ie.R,ae.l],styles:["h1[_ngcontent-%COMP%]{display:flex;align-items:center}.back-button[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.export-csv-button[_ngcontent-%COMP%]{border-color:var(--be-accent-default);min-width:0;min-width:auto;width:42px;padding:0}.export-csv-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-bottom:4px}.favicon-img[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-right:5px}.long-url[_ngcontent-%COMP%]{display:block;font-weight:500;font-size:1.5rem;color:inherit;max-width:90%;overflow:hidden;text-overflow:ellipsis}.short-url[_ngcontent-%COMP%]{display:block;color:var(--be-secondary-text);font-size:1.3rem;white-space:nowrap}.short-url[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}"],changeDetection:0}),t}()},13571:function(e,t,n){"use strict";n.d(t,{z:function(){return f}});var i=n(78512),a=n(35366),o=n(31041),r=n(25051),s=n(88195),l=n(38116),c=n(61116);function u(e,t){if(1&e&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&e){var n=a.oxw().$implicit;a.Q6J("ngValue",n.id),a.xp6(1),a.hij(" ",n.host," ")}}function d(e,t){if(1&e&&(a.ynx(0),a.YNc(1,u,2,2,"option",7),a.BQk()),2&e){var n=t.$implicit,i=a.oxw().ngIf;a.xp6(1),a.Q6J("ngIf",i!==n.host)}}function g(e,t){if(1&e&&(a.ynx(0),a.TgZ(1,"option",5),a._uU(2),a.qZA(),a.YNc(3,d,2,1,"ng-container",6),a.BQk()),2&e){var n=t.ngIf,i=a.oxw();a.xp6(1),a.Q6J("ngValue",0),a.xp6(1),a.Oqu(n),a.xp6(1),a.Q6J("ngForOf",i.domains)}}var f=function(){var e=function(){function e(t,n,a){p(this,e),this.groupDirective=t,this.valueLists=n,this.settings=a,this.domains=[],this.hideLabel=!1,this.defaultHost$=new i.X(null)}return h(e,[{key:"ngOnChanges",value:function(){this.domains.length&&this.setDefaultHost()}},{key:"ngOnInit",value:function(){this.formControl=this.groupDirective.form.controls[this.controlName]}},{key:"setDefaultHost",value:function(){var e=this.settings.get("custom_domains.default_host");if(e)this.defaultHost$.next(this.domains.find(function(t){return t.host===e}).host);else{var t=this.settings.getBaseUrl().replace(/\/$/,"").replace(/(^\w+:|^)\/\//,"");this.defaultHost$.next(t)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Y36(o.sg),a.Y36(r.l),a.Y36(s.Z))},e.\u0275cmp=a.Xpm({type:e,selectors:[["domain-form-control"]],inputs:{controlName:"controlName",domains:"domains",hideLabel:"hideLabel"},features:[a.TTD],decls:8,vars:7,consts:[[1,"input-container"],["for","crupdate_group_domain_id","trans",""],["id","crupdate_group_domain_id",3,"formControl"],["trans","",3,"ngValue"],[4,"ngIf"],[3,"ngValue"],[4,"ngFor","ngForOf"],[3,"ngValue",4,"ngIf"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"label",1),a._uU(2,"Domain"),a.qZA(),a.TgZ(3,"select",2),a.TgZ(4,"option",3),a._uU(5,"All my domains (including default)"),a.qZA(),a.YNc(6,g,4,3,"ng-container",4),a.ALo(7,"async"),a.qZA(),a.qZA()),2&e&&(a.xp6(1),a.ekj("hidden",t.hideLabel),a.xp6(2),a.Q6J("formControl",t.formControl),a.xp6(1),a.Q6J("ngValue",null),a.xp6(2),a.Q6J("ngIf",a.lcZ(7,5,t.defaultHost$)))},directives:[l.P,o.EJ,o.JJ,o.oH,o.YN,o.Kr,c.O5,c.sg],pipes:[c.Ov],styles:[""],changeDetection:0}),e}()},53129:function(e,t,n){"use strict";n.d(t,{O:function(){return W}});var i=n(74899),a=n(78512),o=n(92935),r=n(73709),s=n(35366),l=n(31041),c=n(38116),u=n(77307),d=n(84369),g=function(){var e=function(){function e(t,n,i){p(this,e),this.dialogRef=t,this.data=n,this.fb=i,this.form=this.fb.group({utm_source:this.fb.control(null),utm_medium:this.fb.control(null),utm_campaign:this.fb.control(null),utm_term:this.fb.control(null),utm_content:this.fb.control(null)})}return h(e,[{key:"ngOnInit",value:function(){this.hydrateForm()}},{key:"save",value:function(){this.dialogRef.close(this.formToUrlParams().toString())}},{key:"close",value:function(){this.dialogRef.close()}},{key:"hydrateForm",value:function(){if(this.data.utmQuery){var e=new URLSearchParams(this.data.utmQuery),t={};e.forEach(function(e,n){t[n]=e}),this.form.patchValue(t)}}},{key:"formToUrlParams",value:function(){return new URLSearchParams((0,r.N)(this.form.value))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.so),s.Y36(o.WI),s.Y36(l.qu))},e.\u0275cmp=s.Xpm({type:e,selectors:[["utm-builder-dialog"]],decls:36,vars:1,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"inline-inputs-container","many-inputs"],[1,"input-container"],["for","utm-source","trans",""],["type","text","id","utm-source","placeholder","e.g: adwords, google, facebook","trans-placeholder","","formControlName","utm_source"],["for","utm-medium","trans",""],["type","text","id","utm-medium","placeholder","e.g: banner, email, social post","trans-placeholder","","formControlName","utm_medium"],["for","utm-campaign","trans",""],["type","text","id","utm-campaign","placeholder","e.g: holiday special, birthday promo","trans-placeholder","","formControlName","utm_campaign"],["for","utm-term","trans",""],["type","text","id","utm-term","placeholder","Use to identify ppc keywords","trans-placeholder","","formControlName","utm_term"],["for","utm-content","trans",""],["type","text","id","utm-content","placeholder","Use to differentiate ads or words on a page","trans-placeholder","","formControlName","utm_content"],[1,"widget","widget-info"],["trans",""],["type","submit","mat-raised-button","","color","accent","trans",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"h2",1),s._uU(2,"UTM Builder"),s.qZA(),s.TgZ(3,"button",2),s.NdJ("click",function(){return t.close()}),s._UZ(4,"mat-icon",3),s.qZA(),s.qZA(),s.TgZ(5,"form",4),s.NdJ("ngSubmit",function(){return t.save()}),s.TgZ(6,"mat-dialog-content"),s.TgZ(7,"div",5),s.TgZ(8,"div",6),s.TgZ(9,"label",7),s._uU(10,"Source"),s.qZA(),s._UZ(11,"input",8),s.qZA(),s.TgZ(12,"div",6),s.TgZ(13,"label",9),s._uU(14,"Medium"),s.qZA(),s._UZ(15,"input",10),s.qZA(),s.qZA(),s.TgZ(16,"div",5),s.TgZ(17,"div",6),s.TgZ(18,"label",11),s._uU(19,"Campaign"),s.qZA(),s._UZ(20,"input",12),s.qZA(),s.TgZ(21,"div",6),s.TgZ(22,"label",13),s._uU(23,"Term"),s.qZA(),s._UZ(24,"input",14),s.qZA(),s.qZA(),s.TgZ(25,"div",5),s.TgZ(26,"div",6),s.TgZ(27,"label",15),s._uU(28,"Content"),s.qZA(),s._UZ(29,"input",16),s.qZA(),s.qZA(),s.TgZ(30,"div",17),s.TgZ(31,"div",18),s._uU(32," UTM codes specified here will be applied to the link automatically when redirecting from short url to destination url. "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(33,"mat-dialog-actions"),s.TgZ(34,"button",19),s._uU(35,"Save"),s.qZA(),s.qZA(),s.qZA()),2&e&&(s.xp6(5),s.Q6J("formGroup",t.form))},directives:[o.uh,c.P,u.Hw,l.JL,l.sg,o.xY,l.Fj,l.JJ,l.u,o.H8,d.lW],styles:["[_nghost-%COMP%]{display:block;width:500px;max-width:100%}.widget[_ngcontent-%COMP%]{background-color:#f3fbf7;max-width:100%;padding:14px;margin:10px 0;border-radius:3px;overflow-wrap:break-word;border-left:5px solid #5ac891}"],changeDetection:0}),e}(),f=n(32198),m=n(88195),v=n(24859),b=n(61116),_=n(77830),Z=n(56361),y=n(98081),x=n(13571),k=n(13070),A=n(13841),w=n(87064),T=n(6006),C=n(77910);function q(e,t){if(1&e&&(s.TgZ(0,"p",35),s._uU(1),s.qZA()),2&e){var n=s.oxw(2).ngIf;s.xp6(1),s.Oqu(n.alias)}}function U(e,t){if(1&e&&(s.TgZ(0,"div",32),s.TgZ(1,"label",33),s._uU(2,"Custom Link ID"),s.qZA(),s._UZ(3,"input",34),s.YNc(4,q,2,1,"p",12),s.qZA()),2&e){var n=s.oxw().ngIf,i=s.oxw();s.xp6(3),s.Q6J("minlength",i.alias.min)("maxlength",i.alias.max)("placeholder",i.linkForm.linkHash.value),s.xp6(1),s.Q6J("ngIf",n.alias)}}function I(e,t){if(1&e&&(s.TgZ(0,"p",35),s._uU(1),s.qZA()),2&e){var n=s.oxw().ngIf;s.xp6(1),s.Oqu(n.password)}}function M(e,t){if(1&e&&(s.TgZ(0,"div",16),s.TgZ(1,"header"),s.TgZ(2,"div",17),s.TgZ(3,"h3",18),s._uU(4,"Domain"),s.qZA(),s.TgZ(5,"p",18),s._uU(6,"Select on which domain should this short link be accessible."),s.qZA(),s.qZA(),s.qZA(),s._UZ(7,"domain-form-control",36),s.qZA()),2&e){var n=s.oxw(2);s.xp6(7),s.Q6J("domains",n.linkOptions.domains)("hideLabel",!0)}}function O(e,t){if(1&e&&(s.TgZ(0,"p",35),s._uU(1),s.qZA()),2&e){var n=s.oxw().ngIf;s.xp6(1),s.Oqu(n.activates_at)}}function J(e,t){if(1&e&&(s.TgZ(0,"p",35),s._uU(1),s.qZA()),2&e){var n=s.oxw().ngIf;s.xp6(1),s.Oqu(n.expires_at)}}function P(e,t){if(1&e&&(s.TgZ(0,"mat-option",40),s._uU(1),s.qZA()),2&e){var n=t.$implicit,i=s.oxw(3);s.Q6J("value",n.id),s.xp6(1),s.Oqu(i.capitalize(n.name))}}function N(e,t){if(1&e&&(s.TgZ(0,"div",16),s.TgZ(1,"header"),s.TgZ(2,"div",17),s.TgZ(3,"h3",18),s._uU(4,"Link Groups"),s.qZA(),s.TgZ(5,"p",18),s._uU(6,"Groups this link should be attached to."),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"mat-form-field",37),s.TgZ(8,"mat-label",18),s._uU(9,"Select Groups"),s.qZA(),s.TgZ(10,"mat-select",38),s.YNc(11,P,2,2,"mat-option",39),s.qZA(),s.qZA(),s.qZA()),2&e){var n=s.oxw(2);s.xp6(11),s.Q6J("ngForOf",n.linkOptions.groups)}}function S(e,t){if(1&e&&(s.TgZ(0,"p",35),s._uU(1),s.qZA()),2&e){var n=s.oxw(2).ngIf;s.xp6(1),s.Oqu(n.name)}}function D(e,t){1&e&&(s.TgZ(0,"div",5),s.TgZ(1,"label",48),s._uU(2,"Tags"),s.qZA(),s._UZ(3,"chip-input",49),s.qZA())}function Q(e,t){if(1&e&&(s.TgZ(0,"p",35),s._uU(1),s.qZA()),2&e){var n=s.oxw(2).ngIf;s.xp6(1),s.Oqu(n.description)}}function Y(e,t){if(1&e&&(s.TgZ(0,"div",41),s.TgZ(1,"header"),s.TgZ(2,"div",17),s.TgZ(3,"h3",18),s._uU(4,"Details"),s.qZA(),s.TgZ(5,"p",18),s._uU(6,"Add title, description and upload an image to personalize the link."),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"div",3),s._UZ(8,"upload-image-control",42),s.TgZ(9,"div",5),s.TgZ(10,"label",43),s._uU(11,"Title"),s.qZA(),s._UZ(12,"input",44),s.YNc(13,S,2,1,"p",12),s.qZA(),s.qZA(),s.YNc(14,D,4,0,"div",45),s.TgZ(15,"div",5),s.TgZ(16,"label",46),s._uU(17,"Description"),s.qZA(),s._UZ(18,"textarea",47),s.YNc(19,Q,2,1,"p",12),s.qZA(),s.qZA()),2&e){var n=s.oxw().ngIf,i=s.oxw();s.xp6(8),s.Q6J("compact",!0),s.xp6(5),s.Q6J("ngIf",n.name),s.xp6(1),s.Q6J("ngIf",!(null!=i.featuresToHide&&i.featuresToHide.tags)),s.xp6(5),s.Q6J("ngIf",n.description)}}function L(e,t){if(1&e&&(s.TgZ(0,"mat-option",40),s._uU(1),s.qZA()),2&e){var n=t.$implicit,i=s.oxw(3);s.Q6J("value",n.id),s.xp6(1),s.Oqu(i.capitalize(n.name))}}function E(e,t){if(1&e&&(s.TgZ(0,"div",16),s.TgZ(1,"header"),s.TgZ(2,"div",17),s.TgZ(3,"h3",18),s._uU(4,"Tracking Pixel"),s.qZA(),s.TgZ(5,"p",18),s._uU(6,"Select tracking pixels that should be used for this link."),s.qZA(),s.qZA(),s.qZA(),s.TgZ(7,"mat-form-field",37),s.TgZ(8,"mat-label",18),s._uU(9,"Select Pixels"),s.qZA(),s.TgZ(10,"mat-select",50),s.YNc(11,L,2,2,"mat-option",39),s.qZA(),s.qZA(),s.qZA()),2&e){var n=s.oxw(2);s.xp6(11),s.Q6J("ngForOf",n.linkOptions.pixels)}}function F(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"button",55),s.NdJ("click",function(){return s.CHM(n),s.oxw(3).linkForm.addNewGeoRule()}),s._UZ(1,"mat-icon",56),s.qZA()}}function R(e,t){if(1&e&&(s.TgZ(0,"option",40),s._uU(1),s.qZA()),2&e){var n=t.$implicit;s.Q6J("value",n.code),s.xp6(1),s.hij(" ",n.name," ")}}function $(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"li",57),s.TgZ(1,"div",58),s.TgZ(2,"label",59),s._uU(3,"Country"),s.qZA(),s.TgZ(4,"select",60),s.YNc(5,R,2,2,"option",39),s.qZA(),s.qZA(),s.TgZ(6,"div",61),s.TgZ(7,"label",59),s._uU(8,"Url"),s.qZA(),s._UZ(9,"input",62),s.qZA(),s.TgZ(10,"button",63),s.NdJ("click",function(){var e=s.CHM(n).index;return s.oxw(3).linkForm.geoRules.removeAt(e)}),s._UZ(11,"mat-icon",64),s.qZA(),s.qZA()}if(2&e){var i=t.$implicit,a=t.index,o=s.oxw(3);s.xp6(1),s.Q6J("formGroup",i),s.xp6(1),s.Q6J("for","link_dialog_country-"+a),s.xp6(2),s.Q6J("id","link_dialog_country-"+a),s.xp6(1),s.Q6J("ngForOf",o.linkOptions.countries),s.xp6(1),s.Q6J("formGroup",i),s.xp6(1),s.Q6J("for","link_dialog_geo_url-"+a),s.xp6(2),s.Q6J("id","link_dialog_geo_url-"+a),s.xp6(1),s.Q6J("disabled",i.disabled)}}function V(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"button",55),s.NdJ("click",function(){return s.CHM(n),s.oxw(3).linkForm.addNewDeviceRule()}),s._UZ(1,"mat-icon",56),s.qZA()}}function B(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"li",57),s.TgZ(1,"div",65),s.TgZ(2,"label",59),s._uU(3,"Device"),s.qZA(),s.TgZ(4,"select",60),s.TgZ(5,"option",66),s._uU(6,"Desktop"),s.qZA(),s.TgZ(7,"option",67),s._uU(8,"Tablet"),s.qZA(),s.TgZ(9,"option",68),s._uU(10,"Mobile"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(11,"div",61),s.TgZ(12,"label",59),s._uU(13,"Url"),s.qZA(),s._UZ(14,"input",62),s.qZA(),s.TgZ(15,"button",69),s.NdJ("click",function(){var e=s.CHM(n).index;return s.oxw(3).linkForm.deviceRules.removeAt(e)}),s._UZ(16,"mat-icon",64),s.qZA(),s.qZA()}if(2&e){var i=t.$implicit,a=t.index;s.xp6(1),s.Q6J("formGroup",i),s.xp6(1),s.Q6J("for","link_dialog_device-"+a),s.xp6(2),s.Q6J("id","link_dialog_device-"+a),s.xp6(7),s.Q6J("formGroup",i),s.xp6(1),s.Q6J("for","link_dialog_device_url-"+a),s.xp6(2),s.Q6J("id","link_dialog_device_url-"+a),s.xp6(1),s.Q6J("disabled",i.disabled)}}function H(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"button",55),s.NdJ("click",function(){return s.CHM(n),s.oxw(3).linkForm.addNewPlatformRule()}),s._UZ(1,"mat-icon",56),s.qZA()}}function z(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"li",57),s.TgZ(1,"div",65),s.TgZ(2,"label",59),s._uU(3,"Platform"),s.qZA(),s.TgZ(4,"select",60),s.TgZ(5,"option",70),s._uU(6,"Windows"),s.qZA(),s.TgZ(7,"option",71),s._uU(8,"Linux"),s.qZA(),s.TgZ(9,"option",72),s._uU(10,"MacOS"),s.qZA(),s.TgZ(11,"option",73),s._uU(12,"iOS"),s.qZA(),s.TgZ(13,"option",74),s._uU(14,"Android"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",61),s.TgZ(16,"label",59),s._uU(17,"Url"),s.qZA(),s._UZ(18,"input",62),s.qZA(),s.TgZ(19,"button",69),s.NdJ("click",function(){var e=s.CHM(n).index;return s.oxw(3).linkForm.platformRules.removeAt(e)}),s._UZ(20,"mat-icon",64),s.qZA(),s.qZA()}if(2&e){var i=t.$implicit,a=t.index;s.xp6(1),s.Q6J("formGroup",i),s.xp6(1),s.Q6J("for","link_dialog_platform-"+a),s.xp6(2),s.Q6J("id","link_dialog_platform-"+a),s.xp6(11),s.Q6J("formGroup",i),s.xp6(1),s.Q6J("for","link_dialog_platform_url-"+a),s.xp6(2),s.Q6J("id","link_dialog_platform_url-"+a),s.xp6(1),s.Q6J("disabled",i.disabled)}}function G(e,t){if(1&e&&(s.ynx(0),s.TgZ(1,"div",51),s.TgZ(2,"header"),s.TgZ(3,"div",17),s.TgZ(4,"h3",18),s._uU(5,"Location Targeting"),s.qZA(),s.TgZ(6,"p",18),s._uU(7,"Redirect users to different url based on their location."),s.qZA(),s.qZA(),s.YNc(8,F,2,0,"button",52),s.qZA(),s.TgZ(9,"ul",53),s.YNc(10,$,12,8,"li",54),s.qZA(),s.qZA(),s.TgZ(11,"div",51),s.TgZ(12,"header"),s.TgZ(13,"div",17),s.TgZ(14,"h3",18),s._uU(15,"Device Targeting"),s.qZA(),s.TgZ(16,"p",18),s._uU(17,"Redirect users to different url based on their device."),s.qZA(),s.qZA(),s.YNc(18,V,2,0,"button",52),s.qZA(),s.TgZ(19,"ul",53),s.YNc(20,B,17,7,"li",54),s.qZA(),s.qZA(),s.TgZ(21,"div",51),s.TgZ(22,"header"),s.TgZ(23,"div",17),s.TgZ(24,"h3",18),s._uU(25,"Platform Targeting"),s.qZA(),s.TgZ(26,"p",18),s._uU(27,"Redirect users to different url based on their platform."),s.qZA(),s.qZA(),s.YNc(28,H,2,0,"button",52),s.qZA(),s.TgZ(29,"ul",53),s.YNc(30,z,21,7,"li",54),s.qZA(),s.qZA(),s.BQk()),2&e){var n=s.oxw(2);s.xp6(1),s.Q6J("controlGroup",n.linkForm.geoRules),s.xp6(7),s.Q6J("ngIf",!n.linkForm.geoRules.disabled),s.xp6(2),s.Q6J("ngForOf",n.linkForm.geoRules.controls),s.xp6(1),s.Q6J("controlGroup",n.linkForm.deviceRules),s.xp6(7),s.Q6J("ngIf",!n.linkForm.geoRules.disabled),s.xp6(2),s.Q6J("ngForOf",n.linkForm.deviceRules.controls),s.xp6(1),s.Q6J("controlGroup",n.linkForm.platformRules),s.xp6(7),s.Q6J("ngIf",!n.linkForm.geoRules.disabled),s.xp6(2),s.Q6J("ngForOf",n.linkForm.platformRules.controls)}}var j=function(e){return{resource:e}};function X(e,t){if(1&e){var n=s.EpF();s.ynx(0,1),s.TgZ(1,"div",2),s.TgZ(2,"div",3),s.YNc(3,U,5,4,"div",4),s.TgZ(4,"div",5),s.TgZ(5,"label",6),s._uU(6,"Status"),s.qZA(),s.TgZ(7,"select",7),s.TgZ(8,"option",8),s._uU(9,"Activate"),s.qZA(),s.TgZ(10,"option",8),s._uU(11,"Disabled"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"div",3),s.TgZ(13,"div",9),s.TgZ(14,"label",10),s._uU(15,"Password"),s.qZA(),s._UZ(16,"input",11),s.YNc(17,I,2,1,"p",12),s.qZA(),s.qZA(),s.TgZ(18,"permission-aware-button",13),s.TgZ(19,"button",14),s.NdJ("click",function(){return s.CHM(n),s.oxw().openUtmBuilder()}),s._uU(20," UTM Builder "),s.qZA(),s.qZA(),s.qZA(),s.YNc(21,M,8,2,"div",15),s.TgZ(22,"div",16),s.TgZ(23,"header"),s.TgZ(24,"div",17),s.TgZ(25,"h3",18),s._uU(26,"Schedule"),s.qZA(),s.TgZ(27,"p",19),s._uU(28," Enter a date when :resource should be active. Both start and end dates are optional. "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(29,"div",3),s.TgZ(30,"div",20),s.TgZ(31,"datetime-input",21),s._uU(32,"Start Date"),s.qZA(),s.YNc(33,O,2,1,"p",12),s.qZA(),s.TgZ(34,"div",20),s.TgZ(35,"datetime-input",22),s._uU(36,"End Date"),s.qZA(),s.YNc(37,J,2,1,"p",12),s.qZA(),s.qZA(),s.qZA(),s.YNc(38,N,12,1,"div",15),s.YNc(39,Y,20,4,"div",23),s.YNc(40,E,12,1,"div",15),s.TgZ(41,"div",24),s.TgZ(42,"header"),s.TgZ(43,"div",17),s.TgZ(44,"h3",18),s._uU(45,"Expiration Clicks"),s.qZA(),s.TgZ(46,"p"),s.TgZ(47,"span",19),s._uU(48,"After :resource is visited specified amount of times, it will no longer be accessible."),s.qZA(),s._UZ(49,"br"),s.TgZ(50,"span",19),s._uU(51,"Optionally, after click amount is reached :resource can redirect to specified url instead."),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(52,"div",25),s.TgZ(53,"div",26),s.TgZ(54,"label",27),s._uU(55,"Max Clicks"),s.qZA(),s._UZ(56,"input",28),s.qZA(),s.TgZ(57,"div",5),s.TgZ(58,"label",29),s._uU(59,"Redirect Url"),s.qZA(),s._UZ(60,"input",30),s.qZA(),s.qZA(),s.qZA(),s.YNc(61,G,31,9,"ng-container",31),s.BQk()}if(2&e){var i=t.ngIf,a=s.oxw();s.Q6J("formGroup",a.linkForm.formGroup),s.xp6(3),s.Q6J("ngIf",!(a.batch||null!=a.featuresToHide&&a.featuresToHide.alias)),s.xp6(5),s.Q6J("ngValue",!0),s.xp6(2),s.Q6J("ngValue",!1),s.xp6(7),s.Q6J("ngIf",i.password),s.xp6(4),s.Q6J("ngIf",(null==a.linkOptions||null==a.linkOptions.domains?null:a.linkOptions.domains.length)&&!(null!=a.featuresToHide&&a.featuresToHide.domain)&&a.settings.get("custom_domains.allow_select")),s.xp6(6),s.Q6J("transValues",s.VKq(16,j,a.resourceName)),s.xp6(6),s.Q6J("ngIf",i.activates_at),s.xp6(4),s.Q6J("ngIf",i.expires_at),s.xp6(1),s.Q6J("ngIf",!(null!=a.featuresToHide&&a.featuresToHide.linkGroups)&&(null==a.linkOptions||null==a.linkOptions.groups?null:a.linkOptions.groups.length)),s.xp6(1),s.Q6J("ngIf",!(null!=a.featuresToHide&&a.featuresToHide.details)),s.xp6(1),s.Q6J("ngIf",(null==a.linkOptions||null==a.linkOptions.pixels?null:a.linkOptions.pixels.length)&&a.settings.get("links.pixels")),s.xp6(1),s.Q6J("controlGroup",a.linkForm.expClicksRule),s.xp6(6),s.Q6J("transValues",s.VKq(18,j,a.resourceName)),s.xp6(3),s.Q6J("transValues",s.VKq(20,j,a.resourceName)),s.xp6(11),s.Q6J("ngIf",a.linkOptions&&a.settings.get("links.retargeting"))}}var W=function(){var e=function(){function e(t,n,i){p(this,e),this.linkForm=t,this.settings=n,this.modal=i,this.batch=!1,this.featuresToHide={},this.resourceName="link",this.defaultHost$=new a.X(null),this.alias={min:this.settings.get("links.alias_min"),max:this.settings.get("links.alias_max")}}return h(e,[{key:"ngOnChanges",value:function(e){if(e.linkOptions.currentValue){var t=this.settings.get("custom_domains.default_host");if(t)this.defaultHost$.next(this.linkOptions.domains.find(function(e){return e.host===t}).host);else{var n=this.settings.getBaseUrl().replace(/\/$/,"").replace(/(^\w+:|^)\/\//,"");this.defaultHost$.next(n)}}}},{key:"capitalize",value:function(e){return(0,i.z)(e)}},{key:"openUtmBuilder",value:function(){var e=this;this.modal.open(g,{utmQuery:this.linkForm.formGroup.get("utm").value}).afterClosed().subscribe(function(t){t&&e.linkForm.formGroup.patchValue({utm:t})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(f.l),s.Y36(m.Z),s.Y36(v.u))},e.\u0275cmp=s.Xpm({type:e,selectors:[["link-options-form"]],inputs:{linkOptions:"linkOptions",batch:"batch",featuresToHide:"featuresToHide",resourceName:"resourceName"},features:[s.TTD],decls:2,vars:3,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"group","first-group"],[1,"inline-inputs-container"],["class","input-container","permission-aware-input-container","alias",4,"ngIf"],[1,"input-container"],["for","link_dialog_active","trans",""],["id","link_dialog_active","formControlName","active"],["trans","",3,"ngValue"],["permission-aware-input-container","password",1,"input-container"],["for","link-dialog-password","trans",""],["type","password","id","link-dialog-password","formControlName","password","autocomplete","new-password"],["class","error",4,"ngIf"],["permission","links.create","restriction","utm"],["type","button","mat-stroked-button","","color","accent","trans","",3,"click"],["class","group",4,"ngIf"],[1,"group"],[1,"header-text"],["trans",""],["trans","",3,"transValues"],["permission-aware-input-container","expiration",1,"input-container"],["id","link_dialog_activates_at","formControlName","activates_at","trans",""],["id","link_dialog_expires_at","formControlName","expires_at","trans",""],["class","group many-inputs",4,"ngIf"],["permission-aware-input-container","expiration",1,"group","retargeting-group",3,"controlGroup"],["formGroupName","exp_clicks_rule",1,"inline-inputs-container","rule-inline-inputs"],[1,"input-container","country-input-container"],["for","link_dialog_exp_clicks","trans",""],["type","number","min","1","id","link_dialog_exp_clicks","formControlName","key"],["for","link_dialog_exp_link","trans",""],["type","url","id","link_dialog_exp_link","formControlName","value","placeholder","(Optional)","trans-placeholder",""],[4,"ngIf"],["permission-aware-input-container","alias",1,"input-container"],["for","link-dialog-alias","trans",""],["type","text","id","link-dialog-alias","formControlName","alias","pattern","[A-Za-z0-9_-]+",3,"minlength","maxlength","placeholder"],[1,"error"],["controlName","domain_id",3,"domains","hideLabel"],["appearance","outline"],["formControlName","groups","multiple",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"group","many-inputs"],["formControlName","image",3,"compact"],["for","link_dialog_title","trans",""],["type","text","id","link_dialog_title","formControlName","name","maxlength","140"],["class","input-container",4,"ngIf"],["for","link_dialog_description","trans",""],["id","link_dialog_description","formControlName","description","maxlength","240"],["for","link_dialog_tags","trans",""],["id","link_dialog_tags","formControlName","tags","placeholder","+New tag","trans-placeholder",""],["formControlName","pixels","multiple",""],["permission-aware-input-container","retargeting",1,"group","retargeting-group",3,"controlGroup"],["mat-icon-button","","color","accent","type","button",3,"click",4,"ngIf"],[1,"unstyled-list"],["class","inline-inputs-container rule-inline-inputs",4,"ngFor","ngForOf"],["mat-icon-button","","color","accent","type","button",3,"click"],["svgIcon","add"],[1,"inline-inputs-container","rule-inline-inputs"],[1,"input-container","country-input-container",3,"formGroup"],["trans","",3,"for"],["formControlName","key",3,"id"],[1,"input-container",3,"formGroup"],["type","url","formControlName","value",3,"id"],["mat-icon-button","","color","warn","type","button",1,"remove-rule-btn",3,"disabled","click"],["svgIcon","close"],[1,"input-container","device-input-container",3,"formGroup"],["value","desktop","trans",""],["value","tablet","trans",""],["value","mobile","trans",""],["mat-icon-button","","type","button","color","warn",1,"remove-rule-btn",3,"disabled","click"],["value","windows","trans",""],["value","linux","trans",""],["value","osx","trans",""],["value","ios","trans",""],["value","androidos","trans",""]],template:function(e,t){1&e&&(s.YNc(0,X,62,22,"ng-container",0),s.ALo(1,"async")),2&e&&s.Q6J("ngIf",s.lcZ(1,1,t.linkForm.errors$))},directives:[b.O5,l.JL,l.sg,c.P,l.EJ,l.JJ,l.u,l.YN,l.Kr,_.o,l.Fj,Z.v,d.lW,y.k,l.x0,l.qQ,l.wV,l.c5,l.wO,l.nD,x.z,k.KE,k.hX,A.gD,b.sg,w.ey,T.V,C.S,u.Hw],pipes:[b.Ov],styles:["[_nghost-%COMP%]{display:block;overflow:hidden}label[_ngcontent-%COMP%]{text-transform:capitalize}.group[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-default);margin-bottom:20px;padding-bottom:20px}.retargeting-group[_ngcontent-%COMP%]     .lock-icon{right:8px;top:5px}.first-group[_ngcontent-%COMP%]{margin-top:15px;padding-top:15px;border-top:1px solid var(--be-divider-default)}header[_ngcontent-%COMP%]{display:flex;align-items:center}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto;align-self:flex-start}h3[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{margin-top:3px;color:var(--be-secondary-text);max-width:650px}.inline-inputs-container[_ngcontent-%COMP%]{margin-bottom:20px;align-items:flex-end}.remove-rule-btn[_ngcontent-%COMP%]{margin-top:29px;margin-left:5px;flex-shrink:0}.input-wrapper[_ngcontent-%COMP%]{position:relative}.host-input[_ngcontent-%COMP%]{font-size:1.6rem}.base-url-prefix[_ngcontent-%COMP%]{position:absolute;top:0;left:0;line-height:46px;text-align:right}.mat-form-field[_ngcontent-%COMP%]{width:100%}upload-image-control[_ngcontent-%COMP%]{width:66px;height:66px;margin-right:15px}@media screen and (max-width:768px){.inline-inputs-container[_ngcontent-%COMP%]{display:block;position:relative}.country-input-container[_ngcontent-%COMP%], .device-input-container[_ngcontent-%COMP%]{margin-bottom:15px}.remove-rule-btn[_ngcontent-%COMP%]{position:absolute;top:-15px;right:-5px;margin:0}.rule-inline-inputs[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:25px;padding-bottom:25px;border-bottom:1px solid var(--be-divider-lighter)}}"],changeDetection:0}),e}()},92890:function(e,t,n){"use strict";n.d(t,{F:function(){return d}});var i=n(47727),a=n(73982),o=n(34056),r=n(40878),s=n(35366),l=n(63337),c=n(68515),u=n(84222),d=function(){var e=function(){function e(t,n,i){p(this,e),this.router=t,this.http=n,this.link=i}return h(e,[{key:"resolve",value:function(e,t){var n=this;return this.link.get(e.params.linkId).pipe((0,i.K)(function(){return n.router.navigate(["/dashboard/links"]),o.E}),(0,a.zg)(function(e){return e?(0,r.of)(e):(n.router.navigate(["/dashboard/links"]),o.E)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.LFG(l.F0),s.LFG(c.r),s.LFG(u.M))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},4886:function(e,t,n){"use strict";n.d(t,{G:function(){return m}});var i=n(84222),a=n(78512),o=n(35366),r=n(63337),s=n(88195),l=n(61116),c=n(19708),u=n(78671),d=n(93836),g=n(40985);function f(e,t){if(1&e&&(o.ynx(0),o.TgZ(1,"header"),o._UZ(2,"img",1),o.ALo(3,"favicon"),o.TgZ(4,"a",2),o._uU(5),o.qZA(),o._UZ(6,"copy-link-btn",3),o._UZ(7,"share-link-btns",4),o.qZA(),o._UZ(8,"click-charts",5),o.BQk()),2&e){var n=t.ngIf,i=o.oxw();o.xp6(2),o.Q6J("src",o.lcZ(3,8,n.link.long_url),o.LSH),o.xp6(2),o.Q6J("href",n.link.long_url,o.LSH),o.xp6(1),o.Oqu(n.link.long_url),o.xp6(1),o.Q6J("model",n.link),o.xp6(1),o.Q6J("colored",!0)("link",n.link),o.xp6(1),o.Q6J("reports",n.analytics)("endpoint",i.analyticsEndpoint)}}var m=function(){var e=function(){function e(t,n){p(this,e),this.route=t,this.settings=n,this.data$=new a.X(null)}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.route.data.subscribe(function(t){e.data$.next(t.api),e.analyticsEndpoint="".concat(i.M.BASE_URI,"/").concat(t.api.link.id)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(r.gz),o.Y36(s.Z))},e.\u0275cmp=o.Xpm({type:e,selectors:[["link-show"]],decls:2,vars:3,consts:[[4,"ngIf"],["alt","link favicon",3,"src"],["target","_blank",1,"long-url",3,"href"],[3,"model"],[3,"colored","link"],[3,"reports","endpoint"]],template:function(e,t){1&e&&(o.YNc(0,f,9,10,"ng-container",0),o.ALo(1,"async")),2&e&&o.Q6J("ngIf",o.lcZ(1,1,t.data$))},directives:[l.O5,c.b,u.t,d.z],pipes:[l.Ov,g.K],styles:["header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:15px;font-size:1.8rem;flex-wrap:wrap}header[_ngcontent-%COMP%]   .long-url[_ngcontent-%COMP%]{max-width:60%;overflow:hidden;text-overflow:ellipsis}@media only screen and (max-width:768px){header[_ngcontent-%COMP%]   .long-url[_ngcontent-%COMP%]{width:calc(100% - 32px)}header[_ngcontent-%COMP%]   .long-url[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-bottom:15px}}@media only screen and (min-width:768px){header[_ngcontent-%COMP%]   share-link-btns[_ngcontent-%COMP%]{margin-left:auto}header[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%]{margin-left:10px}}header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:10px;width:22px;height:22px;flex-shrink:0}header[_ngcontent-%COMP%]   .edit-btn[_ngcontent-%COMP%], header[_ngcontent-%COMP%]   copy-link-btn[_ngcontent-%COMP%]{color:var(--be-secondary-text)}"],changeDetection:0}),e}()},77830:function(e,t,n){"use strict";n.d(t,{o:function(){return _}});var i=n(35366),a=n(31041),o=n(40149),r=n(35096),s=n(78512),l=n(98979),c=n(88195),u=n(28505),d=n(36501),g=n(77307),f=n(61116),m=["lockIcon"],v=["permission-aware-input-container",""],b=["*"],_=function(){var e=function(){function e(t,n,i,a,o,r){p(this,e),this.cd=t,this.overlay=n,this.viewContainerRef=i,this.settings=a,this.currentUser=o,this.usage=r,this.lockIconHidden$=new s.X(!0)}return h(e,[{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){e.usageSub=e.usage.response$.subscribe(function(t){t.usage.links[e.permission]||e.currentUser.isAdmin()||(e.lockIconHidden$.next(!1),e.controlGroup?e.controlGroup.disable():e.controlName&&e.controlName.control.disable(),e.lockIcon&&e.createHoverListener())})})}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.usageSub)||void 0===e||e.unsubscribe()}},{key:"createHoverListener",value:function(){var e=this;this.listeningToHover||(this.lockIcon.nativeElement.addEventListener("mouseenter",function(){e.cd.markForCheck(),e.showMessage()}),this.lockIcon.nativeElement.addEventListener("mouseleave",function(t){var n,i=t.relatedTarget;"upgrade-overlay"!==(null===(n=null==i?void 0:i.nodeName)||void 0===n?void 0:n.toLowerCase())&&e.hideMessage()}),this.listeningToHover=!0)}},{key:"showMessage",value:function(){var e=this;this.overlayRef&&this.hideMessage(),this.overlayRef=this.overlay.open(r.O,{origin:this.lockIcon,position:o.x,hasBackdrop:!1,scrollStrategy:"close",viewContainerRef:this.viewContainerRef,data:{config:{resource:"links",createMsgType:this.permission}}}),this.overlayRef.getPanelEl().addEventListener("mouseleave",function(){e.hideMessage()})}},{key:"hideMessage",value:function(){this.overlayRef&&(this.overlayRef.close(),this.overlayRef=null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.sBO),i.Y36(l.T),i.Y36(i.s_b),i.Y36(c.Z),i.Y36(u.I),i.Y36(d.F))},e.\u0275cmp=i.Xpm({type:e,selectors:[["","permission-aware-input-container",""]],contentQueries:function(e,t,n){var o;(1&e&&i.Suo(n,a.u,5),2&e)&&(i.iGM(o=i.CRH())&&(t.controlName=o.first))},viewQuery:function(e,t){var n;(1&e&&i.Gf(m,5,i.SBq),2&e)&&(i.iGM(n=i.CRH())&&(t.lockIcon=n.first))},inputs:{permission:["permission-aware-input-container","permission"],controlGroup:"controlGroup"},attrs:v,ngContentSelectors:b,decls:4,vars:4,consts:[["svgIcon","lock",1,"lock-icon"],["lockIcon",""]],template:function(e,t){1&e&&(i.F$t(),i.Hsn(0),i.TgZ(1,"mat-icon",0,1),i.ALo(3,"async"),i.qZA()),2&e&&(i.xp6(1),i.ekj("hidden",i.lcZ(3,2,t.lockIconHidden$)))},directives:[g.Hw],pipes:[f.Ov],styles:["[_nghost-%COMP%]{display:block;position:relative;margin-top:8px}.lock-icon[_ngcontent-%COMP%]{position:absolute;right:0;top:-6px;color:var(--be-secondary-text)}"],changeDetection:0}),e}()},56361:function(e,t,n){"use strict";n.d(t,{v:function(){return y}});var i=n(84369),a=n(35096),o=n(40149),r=n(7855),s=n(35366),c=n(77307),u=n(38116),d=function(){var e=function(){function e(t){p(this,e),this.data=t}return h(e,[{key:"ngOnInit",value:function(){this.message=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return"overQuota"===i?"You have created the maximum allowed number of ".concat(e,"."):function(e,t,n){return e=e.replace("_"," "),t?"You are not allowed to ".concat(n," ").concat(e," in this workspace."):"You are not allowed to ".concat(n," ").concat(e,".")}(e,t,n)}(this.data.config.resource,this.data.config.forWorkspace,this.data.config.action,this.data.config.createMsgType)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(r.p))},e.\u0275cmp=s.Xpm({type:e,selectors:[["simple-permission-overlay"]],hostAttrs:[1,"permission-overlay"],decls:4,vars:1,consts:[[1,"overlay"],["svgIcon","lock",1,"lock-icon"],["trans",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s._UZ(1,"mat-icon",1),s.TgZ(2,"span",2),s._uU(3),s.qZA(),s.qZA()),2&e&&(s.xp6(3),s.Oqu(t.message))},directives:[c.Hw,u.P],styles:["[_nghost-%COMP%]{display:block;padding:5px 0}.overlay[_ngcontent-%COMP%]{display:flex;align-items:flex-start;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);border-radius:4px;padding:15px;max-width:350px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.lock-icon[_ngcontent-%COMP%]{width:28px;height:28px;flex-shrink:0;margin-right:10px;color:var(--be-secondary-text)}"],changeDetection:0}),e}(),g=n(97070),f=n(98979),m=n(88195),v=n(28505),b=n(36501),_=["permission-aware-button",""],Z=["*"],y=function(){var e=function(){function e(t,n,i,a,o,r,s){p(this,e),this.cd=t,this.overlay=n,this.viewContainerRef=i,this.settings=a,this.currentUser=o,this.el=r,this.linkUsage=s}return h(e,[{key:"ngAfterViewInit",value:function(){var e=this;setTimeout(function(){e.matButton||e.matMenuItem||(e.regularButton=e.el.nativeElement.querySelector("button")),e.usageSub=e.linkUsage.response$.subscribe(function(t){e.hydrateConfig(t),e.config.hasPermission||e.userOwnsResource?(e.toggleButtonState(!1),e.overlayCmp=null):(e.toggleButtonState(!0),e.setOverlayCmp()),e.cd.markForCheck()}),e.createHoverListener()})}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.usageSub)||void 0===e||e.unsubscribe()}},{key:"hydrateConfig",value:function(e){var t=l(this.permission.split("."),2),n=t[0],i=t[1];this.config={resource:n,action:i,hasPermission:e.usage[n][this.restriction||i]||this.currentUser.isAdmin(),forWorkspace:e.forWorkspace,createMsgType:e.usage[n].createMsgType||this.restriction,userOwnsWorkspace:e.userOwnsWorkspace}}},{key:"setOverlayCmp",value:function(){this.overlayCmp=this.shouldShowUpgradeOverlay()?a.O:d}},{key:"shouldShowUpgradeOverlay",value:function(){return this.settings.get("billing.enable")&&"create"===this.config.action&&!this.config.hasPermission&&"noWorkspacePermission"!==this.config.createMsgType}},{key:"createHoverListener",value:function(){var e=this;this.el.nativeElement.addEventListener("mouseenter",function(){e.overlayCmp&&(e.cd.markForCheck(),e.showMessage())}),this.el.nativeElement.addEventListener("mouseleave",function(t){e.overlayRef&&!t.relatedTarget.classList.contains("permission-overlay")&&e.hideMessage()})}},{key:"toggleButtonState",value:function(e){(this.matButton||this.matMenuItem||this.regularButton).disabled=e}},{key:"showMessage",value:function(){var e=this;this.overlayRef&&this.hideMessage(),this.overlayRef=this.overlay.open(this.overlayCmp,{origin:this.matButton._elementRef,position:o.x,hasBackdrop:!1,scrollStrategy:"close",viewContainerRef:this.viewContainerRef,data:{config:this.config}}),this.overlayRef.getPanelEl().addEventListener("mouseleave",function(){e.hideMessage()})}},{key:"hideMessage",value:function(){this.overlayRef&&(this.overlayRef.close(),this.overlayRef=null)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(s.sBO),s.Y36(f.T),s.Y36(s.s_b),s.Y36(m.Z),s.Y36(v.I),s.Y36(s.SBq),s.Y36(b.F))},e.\u0275cmp=s.Xpm({type:e,selectors:[["","permission-aware-button",""],["permission-aware-button"]],contentQueries:function(e,t,n){var a;(1&e&&(s.Suo(n,i.lW,5),s.Suo(n,g.OP,5)),2&e)&&(s.iGM(a=s.CRH())&&(t.matButton=a.first),s.iGM(a=s.CRH())&&(t.matMenuItem=a.first))},inputs:{permission:"permission",restriction:"restriction",userOwnsResource:"userOwnsResource"},attrs:_,ngContentSelectors:Z,decls:1,vars:0,template:function(e,t){1&e&&(s.F$t(),s.Hsn(0))},styles:[""],changeDetection:0}),e}()},35096:function(e,t,n){"use strict";n.d(t,{O:function(){return g}});var i=n(7855),a=n(35366),o=n(80147),r=n(88195),s=n(38116),l=n(84369),c=n(63337),u=n(92552),d=function(e){return{siteName:e}},g=function(){var e=function(){function e(t,n,i){p(this,e),this.overlayPanelRef=t,this.data=n,this.settings=i}return h(e,[{key:"ngOnInit",value:function(){var e,t;this.message=(t=this.data.config.createMsgType,e=(e=this.data.config.resource).replace("_"," "),"overQuota"===t?"You've reached the maximum number of ".concat(e," allowed for your current plan."):"alias"===t?"Your current plan doesn't allow setting custom link ID.":"expiration"===t?"Your current plan doesn't allow setting link expiration.":"password"===t?"Your current plan doesn't allow setting a password for links.":"utm"===t?"Your current plan doesn't include utm builder functionality.":"retargeting"===t?"Your current plan doesn't include retargeting functionality.":"Your current plan doesn't allow creating ".concat(e,".")),this.siteName=this.settings.get("branding.site_name")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Y36(o.L),a.Y36(i.p),a.Y36(r.Z))},e.\u0275cmp=a.Xpm({type:e,selectors:[["upgrade-overlay"]],hostAttrs:[1,"permission-overlay"],decls:11,vars:4,consts:[[1,"overlay"],[1,"content"],["trans",""],["trans","",3,"transValues"],["mat-raised-button","","color","accent","routerLink","/billing/pricing","trans","",1,"upgrade-button"],["name","upgrade"]],template:function(e,t){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"span",2),a._uU(4),a.qZA(),a._uU(5," "),a.TgZ(6,"span",3),a._uU(7," Upgrade to get more out of :siteName. "),a.qZA(),a.qZA(),a.TgZ(8,"a",4),a._uU(9,"Upgrade Now"),a.qZA(),a.qZA(),a._UZ(10,"svg-image",5),a.qZA()),2&e&&(a.xp6(4),a.Oqu(t.message),a.xp6(2),a.Q6J("transValues",a.VKq(2,d,t.siteName)))},directives:[s.P,l.zs,c.yS,u.L],styles:["[_nghost-%COMP%]{display:block;padding:5px 0}.overlay[_ngcontent-%COMP%]{display:flex;align-items:center;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);border-radius:4px;padding:20px;max-width:350px}.content[_ngcontent-%COMP%]{flex:1 1 auto}svg-image[_ngcontent-%COMP%]{height:80px;width:auto;flex-shrink:0;margin-left:15px}.upgrade-button[_ngcontent-%COMP%]{margin-top:20px}"],changeDetection:0}),e}()},45362:function(e,t,n){"use strict";n.d(t,{V:function(){return se}});var i=n(67455),a=n(36024),o=n(56515),r=n(35366),s=n(68515),l=function(){var e=function(){function e(t){p(this,e),this.http=t}return h(e,[{key:"index",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(e.BASE_URI),t)}},{key:"create",value:function(t){return this.http.post(e.BASE_URI,t)}},{key:"update",value:function(t,n){return this.http.put("".concat(e.BASE_URI,"/").concat(t),n)}},{key:"delete",value:function(t){return this.http.delete("".concat(e.BASE_URI,"/").concat(t))}}]),e}();return e.BASE_URI="pixel",e.\u0275fac=function(t){return new(t||e)(r.LFG(s.r))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),c=n(92935),u=n(11520),d=n(78512),g=[{name:"facebook",type:"number"},{name:"twitter",type:"number"},{name:"google-tag-manager",type:"text",pattern:"GTM-[a-zA-Z0-9]+"},{name:"google-analytics",type:"text"},{name:"adwords",type:"number"},{name:"bing",type:"number"},{name:"pinterest",type:"number"},{name:"linkedin",type:"text"},{name:"quora",type:"text",pattern:"[a-z0-9]+"},{name:"adroll",type:"text"},{name:"nexus-segment",type:"text"},{name:"custom",type:"text"}],f=n(31041),m=n(73234),v=n(61116),b=n(77307),_=n(84369),Z=n(38116);function y(e,t){1&e&&(r.TgZ(0,"span",11),r._uU(1,"Update Pixel"),r.qZA())}function x(e,t){1&e&&(r.TgZ(0,"span",11),r._uU(1,"Create New Pixel"),r.qZA())}function k(e,t){if(1&e&&(r.TgZ(0,"div",20),r._uU(1),r.qZA()),2&e){var n=r.oxw().ngIf;r.xp6(1),r.Oqu(n.name)}}function A(e,t){if(1&e&&(r.TgZ(0,"option",21),r._uU(1),r.qZA()),2&e){var n=t.$implicit,i=r.oxw(2);r.Q6J("value",n.name),r.xp6(1),r.Oqu(i.viewTypeName(n.name))}}function w(e,t){if(1&e&&(r.TgZ(0,"div",20),r._uU(1),r.qZA()),2&e){var n=r.oxw(3).ngIf;r.xp6(1),r.Oqu(n.pixel_id)}}function T(e,t){if(1&e&&(r.TgZ(0,"div",13),r.TgZ(1,"label",23),r._uU(2,"Pixel ID"),r.qZA(),r._UZ(3,"input",24),r.YNc(4,w,2,1,"div",16),r.qZA()),2&e){var n=r.oxw().ngIf,i=r.oxw().ngIf;r.xp6(3),r.Q6J("type",n.type)("pattern",n.pattern),r.xp6(1),r.Q6J("ngIf",i.pixel_id)}}function C(e,t){1&e&&(r.TgZ(0,"div",12),r.TgZ(1,"div",13),r.TgZ(2,"label",25),r._uU(3,"Custom Code for Page Head"),r.qZA(),r._UZ(4,"textarea",26),r.qZA(),r.TgZ(5,"div",13),r.TgZ(6,"label",27),r._uU(7,"Custom Code for Page Body"),r.qZA(),r._UZ(8,"textarea",28),r.qZA(),r.qZA())}function q(e,t){if(1&e&&(r.ynx(0),r.YNc(1,T,5,3,"div",22),r.YNc(2,C,9,0,"div",7),r.BQk()),2&e){var n=t.ngIf;r.xp6(1),r.Q6J("ngIf","custom"!==n.name),r.xp6(1),r.Q6J("ngIf","custom"===n.name)}}function U(e,t){if(1&e&&(r.TgZ(0,"mat-dialog-content",12),r.TgZ(1,"div",13),r.TgZ(2,"label",14),r._uU(3,"Name"),r.qZA(),r._UZ(4,"input",15),r.YNc(5,k,2,1,"div",16),r.qZA(),r.TgZ(6,"div",13),r.TgZ(7,"label",17),r._uU(8,"Type"),r.qZA(),r.TgZ(9,"select",18),r.YNc(10,A,2,2,"option",19),r.qZA(),r.qZA(),r.YNc(11,q,3,2,"ng-container",10),r.ALo(12,"async"),r.qZA()),2&e){var n=t.ngIf,i=r.oxw();r.xp6(5),r.Q6J("ngIf",n.name),r.xp6(5),r.Q6J("ngForOf",i.types),r.xp6(1),r.Q6J("ngIf",r.lcZ(12,3,i.selectedType$))}}function I(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1,"Update"),r.qZA())}function M(e,t){1&e&&(r.TgZ(0,"span"),r._uU(1,"Create"),r.qZA())}var O=function(){var e=function(){function e(t,n,i,a,o){p(this,e),this.dialogRef=t,this.data=n,this.fb=i,this.pixels=a,this.toast=o,this.types=g,this.loading$=new d.X(!1),this.errors$=new d.X({}),this.selectedType$=new d.X(this.types[0]),this.form=this.fb.group({name:[""],type:[this.types[0].name],head_code:[""],body_code:[""],pixel_id:[""]})}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.form.get("type").valueChanges.subscribe(function(t){e.selectedType$.next(e.types.find(function(e){return e.name===t}))}),this.data.pixel&&this.form.patchValue(this.data.pixel)}},{key:"confirm",value:function(){var e=this;this.loading$.next(!0);var t=this.data.pixel?this.pixels.update(this.data.pixel.id,this.getPayload()):this.pixels.create(this.getPayload()),n=this.data.pixel?i.V.TRACKING_PIXEL_UPDATE_SUCCESS:i.V.TRACKING_PIXEL_CREATE_SUCCESS;t.pipe((0,u.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.toast.open(n),e.close(t.pixel)},function(t){return e.errors$.next(t.errors)})}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"getPayload",value:function(){return Object.assign({},this.form.value)}},{key:"viewTypeName",value:function(e){return e.replace(/-/g," ")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(c.so),r.Y36(c.WI),r.Y36(f.qu),r.Y36(l),r.Y36(m.F))},e.\u0275cmp=r.Xpm({type:e,selectors:[["crupdate-tracking-pixel-modal"]],decls:17,vars:11,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf","ngIfElse"],["creating",""],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit"],["class","many-inputs",4,"ngIf"],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled"],[4,"ngIf"],["trans",""],[1,"many-inputs"],[1,"input-container"],["for","name","trans",""],["type","text","id","name","formControlName","name","required",""],["class","error",4,"ngIf"],["for","type","trans",""],["id","type","formControlName","type","required","",1,"type-select"],[3,"value",4,"ngFor","ngForOf"],[1,"error"],[3,"value"],["class","input-container",4,"ngIf"],["for","pixel_id","trans",""],["id","pixel_id","formControlName","pixel_id","required","",3,"type","pattern"],["for","head-code","trans",""],["name","head-code","id","head-code","rows","10","formControlName","head_code"],["for","body-code","trans",""],["name","body-code","id","body-code","rows","10","formControlName","body_code"]],template:function(e,t){if(1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"h2",1),r.YNc(2,y,2,0,"span",2),r.YNc(3,x,2,0,"ng-template",null,3,r.W1O),r.qZA(),r.TgZ(5,"button",4),r.NdJ("click",function(){return t.close()}),r._UZ(6,"mat-icon",5),r.qZA(),r.qZA(),r.TgZ(7,"form",6),r.NdJ("ngSubmit",function(){return t.confirm()}),r.YNc(8,U,13,5,"mat-dialog-content",7),r.ALo(9,"async"),r.TgZ(10,"mat-dialog-actions"),r.TgZ(11,"button",8),r.NdJ("click",function(){return t.close()}),r._uU(12,"Cancel"),r.qZA(),r.TgZ(13,"button",9),r.ALo(14,"async"),r.YNc(15,I,2,0,"span",10),r.YNc(16,M,2,0,"span",10),r.qZA(),r.qZA(),r.qZA()),2&e){var n=r.MAs(4);r.xp6(2),r.Q6J("ngIf",t.data.pixel)("ngIfElse",n),r.xp6(5),r.Q6J("formGroup",t.form),r.xp6(1),r.Q6J("ngIf",r.lcZ(9,7,t.errors$)),r.xp6(5),r.Q6J("disabled",r.lcZ(14,9,t.loading$)),r.xp6(2),r.Q6J("ngIf",t.data.pixel),r.xp6(1),r.Q6J("ngIf",!t.data.pixel)}},directives:[c.uh,v.O5,b.Hw,f.JL,f.sg,c.H8,_.lW,Z.P,c.xY,f.Fj,f.JJ,f.u,f.Q7,f.EJ,v.sg,f.YN,f.Kr,f.c5],pipes:[v.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}.type-select[_ngcontent-%COMP%]{text-transform:capitalize}"],changeDetection:0}),e}(),J=n(59075),P=n(45523),N=n(44415),S=[new J.XQ({type:J.Bq.Select,key:"type",defaultValue:"facebook",description:"Tracking pixel type",options:g.map(function(e){return{key:e.name,value:e.name}})}),new P.T7({description:"Date pixel was created"}),new P.yH({description:"Date pixel was last updated"}),new J.XQ({type:J.Bq.SelectModel,key:"user_id",label:"User",description:"User overlay was created by",component:N.y})],D=n(28505),Q=n(36501),Y=n(63337),L=n(95157),E=n(48865),F=n(34955),R=n(56361),$=n(13536),V=n(80922),B=n(86668),H=n(27701),z=n(54275),G=n(24311),j=n(71765),X=n(47210),W=n(2406),K=n(40450);function ee(e,t){1&e&&r._UZ(0,"mat-progress-bar",17)}function te(e,t){1&e&&(r.TgZ(0,"th",12),r._uU(1,"Owner"),r.qZA())}var ne=function(e){return{count:e,resource:"pixel(s)"}};function ie(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"th",18),r.TgZ(2,"div",19),r._uU(3," :count :resource selected: "),r.qZA(),r.TgZ(4,"div",20),r.TgZ(5,"permission-aware-button",21),r.TgZ(6,"button",22),r.NdJ("click",function(){return r.CHM(n),r.oxw().maybeDeleteSelectedPixels()}),r._uU(7," Delete "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=t.ngIf;r.xp6(2),r.Q6J("transValues",r.VKq(1,ne,i))}}function ae(e,t){if(1&e&&(r.TgZ(0,"td",36),r._UZ(1,"user-column",37),r.qZA()),2&e){var n=r.oxw().$implicit;r.xp6(1),r.Q6J("user",n.user)}}function oe(e,t){if(1&e){var n=r.EpF();r.TgZ(0,"tr"),r._UZ(1,"td",23),r.TgZ(2,"td",24),r._uU(3),r.qZA(),r.YNc(4,ae,2,1,"td",25),r.TgZ(5,"td",26),r._uU(6),r.qZA(),r.TgZ(7,"td",27),r._uU(8),r.qZA(),r.TgZ(9,"td",28),r._uU(10),r.ALo(11,"formattedDate"),r.qZA(),r.TgZ(12,"td",29),r.TgZ(13,"permission-aware-button",30),r.TgZ(14,"button",31),r.NdJ("click",function(){var e=r.CHM(n).$implicit;return r.oxw().showCrupdatePixelModal(e)}),r.ALo(15,"trans"),r._UZ(16,"mat-icon",32),r.qZA(),r.qZA(),r.TgZ(17,"permission-aware-button",33),r.TgZ(18,"button",34),r.NdJ("click",function(){var e=r.CHM(n).$implicit;return r.oxw().maybeDeleteSelectedPixels([e.id])}),r._UZ(19,"mat-icon",35),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){var i=t.$implicit,a=r.oxw();r.xp6(1),r.Q6J("table-body-checkbox",i.id),r.xp6(2),r.Oqu(i.name),r.xp6(1),r.Q6J("ngIf",a.showUserColumn()),r.xp6(2),r.Oqu(i.type),r.xp6(2),r.Oqu(i.pixel_id),r.xp6(2),r.Oqu(r.lcZ(11,8,i.updated_at)),r.xp6(3),r.Q6J("userOwnsResource",a.currentUser.get("id")===i.user_id),r.xp6(1),r.Q6J("matTooltip",r.lcZ(15,10,"Edit tracking pixel"))}}function re(e,t){1&e&&(r.TgZ(0,"no-results-message",38),r.TgZ(1,"span",39),r._uU(2,"No tracking pixels have been created yet"),r.qZA(),r.qZA())}var se=function(){var e=function(){function e(t,n,i,a,o,r,s,l){p(this,e),this.datatable=t,this.currentUser=n,this.linkUsage=i,this.trackingPixels=a,this.toast=o,this.route=r,this.workspaces=s,this.activeSection=l,this.filters=S,this.pixels$=this.datatable.data$}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.workspaceSub=this.workspaces.activeId$.subscribe(function(){e.setFilters()}),this.datatable.init({uri:l.BASE_URI,staticParams:{with:["user"],userId:this.showUserColumn()?null:this.currentUser.get("id")}})}},{key:"ngOnDestroy",value:function(){this.workspaceSub.unsubscribe()}},{key:"maybeDeleteSelectedPixels",value:function(e){var t=this;this.datatable.confirmResourceDeletion("tracking pixels").subscribe(function(){t.trackingPixels.delete(e||t.datatable.selectedRows$.value).subscribe(function(){t.datatable.reset(),t.linkUsage.reload(),t.toast.open(i.V.TRACKING_PIXEL_DELETE_SUCCESS)},function(e){t.toast.open(e.message||a.v.Default)})})}},{key:"showCrupdatePixelModal",value:function(e){var t=this;this.datatable.openCrupdateResourceModal(O,{pixel:e}).subscribe(function(){t.linkUsage.reload()})}},{key:"showUserColumn",value:function(){return this.activeSection.admin||!!this.workspaces.activeId$.value}},{key:"setFilters",value:function(){var e=this;this.filters=S.filter(function(t){return"user_id"!==t.key||e.showUserColumn()})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(o.x),r.Y36(D.I),r.Y36(Q.F),r.Y36(l),r.Y36(m.F),r.Y36(Y.gz),r.Y36(L.b),r.Y36(E.W))},e.\u0275cmp=r.Xpm({type:e,selectors:[["tracking-pixel-index"]],features:[r._Bn([o.x])],decls:35,vars:12,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","pixels",3,"filters"],[1,"action-buttons"],["permission","tracking_pixels.create"],["mat-raised-button","","color","accent",1,"button-with-icon",3,"click"],["svgIcon","add"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["table-sort-header","","trans","",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","location-tracking.svg",4,"ngIf"],["mode","indeterminate","color","accent",1,"loading-bar"],["colspan","7"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["permission","tracking_pixels.delete"],["type","button","mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],["data-label","Name"],["data-label","Owner",4,"ngIf"],["data-label","Type"],["data-label","Pixel ID"],["data-label","Last Updated"],[1,"edit-column"],["permission","tracking_pixels.update",3,"userOwnsResource"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"],["permission","tracking_pixels.delete",1,"visible-on-mobile"],["type","button","mat-icon-button","","trans","",3,"click"],["svgIcon","delete"],["data-label","Owner"],[3,"user"],["svgImage","location-tracking.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"h1",1),r._uU(2,"Tracking Pixels"),r.qZA(),r.TgZ(3,"div",2),r._UZ(4,"datatable-filters",3),r.TgZ(5,"div",4),r.TgZ(6,"permission-aware-button",5),r.TgZ(7,"button",6),r.NdJ("click",function(){return t.showCrupdatePixelModal()}),r._UZ(8,"mat-icon",7),r.TgZ(9,"span",1),r._uU(10,"Add New Pixel"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"div",8),r.YNc(12,ee,1,0,"mat-progress-bar",9),r.ALo(13,"async"),r.TgZ(14,"table",10),r.TgZ(15,"thead"),r.TgZ(16,"tr"),r._UZ(17,"th",11),r.TgZ(18,"th",12),r._uU(19,"Name"),r.qZA(),r.YNc(20,te,2,0,"th",13),r.TgZ(21,"th",12),r._uU(22,"Type"),r.qZA(),r.TgZ(23,"th",1),r._uU(24,"Pixel ID"),r.qZA(),r.TgZ(25,"th",1),r._uU(26,"Last Updated"),r.qZA(),r._UZ(27,"th"),r.qZA(),r.YNc(28,ie,8,3,"tr",14),r.qZA(),r.TgZ(29,"tbody"),r.YNc(30,oe,20,12,"tr",15),r.ALo(31,"async"),r.qZA(),r.qZA(),r.YNc(32,re,3,0,"no-results-message",16),r.ALo(33,"async"),r._UZ(34,"datatable-footer"),r.qZA()),2&e&&(r.xp6(4),r.Q6J("filters",t.filters),r.xp6(8),r.Q6J("ngIf",r.lcZ(13,6,t.datatable.paginator&&t.datatable.paginator.loading$)),r.xp6(8),r.Q6J("ngIf",t.showUserColumn()),r.xp6(8),r.Q6J("ngIf",t.datatable.selectedRows$.value.length),r.xp6(2),r.Q6J("ngForOf",r.lcZ(31,8,t.pixels$)),r.xp6(2),r.Q6J("ngIf",r.lcZ(33,10,t.datatable.paginator.noResults$)))},directives:[Z.P,F.h,R.v,_.lW,b.Hw,v.O5,$.e,V.p,v.sg,B.V,H.pW,z.O,G.gM,j.r,X.U],pipes:[v.Ov,W.l,K.R],styles:[".mat-column-type[_ngcontent-%COMP%]{text-transform:capitalize}"],changeDetection:0}),e}()},36501:function(e,t,n){"use strict";n.d(t,{F:function(){return s}});var i=n(66994),a=n(35366),o=n(68515),r=n(541),s=function(){var e=function(){function e(t,n){p(this,e),this.http=t,this.selectValues=n,this.response$=new i.t(1)}return h(e,[{key:"reload",value:function(){var e=this;this.selectValues.clearCache(),this.http.get("link/usage").subscribe(function(t){e.response$.next(t)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(o.r),a.LFG(r.U))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},32198:function(e,t,n){"use strict";n.d(t,{l:function(){return s}});var i=n(78512),a=n(35366),o=n(31041),r=n(88195),s=function(){var e=function(){function e(t,n){p(this,e),this.fb=t,this.settings=n,this.errors$=new i.X({}),this.build(),this.linkHash=this.formGroup.get("hash")}return h(e,[{key:"value",value:function(){var e=Object.assign({},this.formGroup.value);return e.rules=(e.geo_rules||[]).concat(e.device_rules).concat(e.platform_rules).filter(function(e){return(null==e?void 0:e.key)&&(null==e?void 0:e.value)}),delete e.geo_rules,delete e.device_rules,delete e.platform_rules,e.type.indexOf(":")>-1&&(e.type_id=parseInt(e.type.split(":")[1]),e.type=e.type.split(":")[0]),e.long_urls?(e.long_urls=e.long_urls.split(/\n/g),delete e.long_url,delete e.alias):delete e.long_urls,this.formGroup.get("password").dirty||delete e.password,e}},{key:"build",value:function(){var e=this,t=this.settings.get("links.default_type","direct");this.formGroup=this.fb.group({type:[t],name:[""],long_url:[""],long_urls:[""],domain_id:[null],hash:[""],alias:[""],image:[""],utm:[""],password:[""],active:[!0],expires_at:[""],activates_at:[""],description:[""],tags:[[]],pixels:[[]],groups:[[]],geo_rules:this.fb.array([]),device_rules:this.fb.array([]),platform_rules:this.fb.array([]),exp_clicks_rule:this.fb.group({key:[""],value:[""]})}),this.geoRules=this.formGroup.controls.geo_rules,this.deviceRules=this.formGroup.controls.device_rules,this.platformRules=this.formGroup.controls.platform_rules,this.expClicksRule=this.formGroup.controls.exp_clicks_rule,this.addNewGeoRule(),this.addNewDeviceRule(),this.addNewPlatformRule(),this.formGroup.get("long_urls").valueChanges.subscribe(function(t){t?e.formGroup.get("alias").disable():e.formGroup.get("alias").enable()})}},{key:"patchValue",value:function(e){var t=this;if(e){var n=Object.assign({},e);"type_id"in e&&e.type_id&&(n.type="".concat(e.type,":").concat(e.type_id));var i=e.rules||[];n.geo_rules=i.filter(function(e){return"geo"===e.type}),n.device_rules=i.filter(function(e){return"device"===e.type}),n.platform_rules=i.filter(function(e){return"platform"===e.type}),n.exp_clicks_rule=i.find(function(e){return"exp_clicks"===e.type}),n.tags=(n.tags||[]).map(function(e){return e.name}),n.pixels=(n.pixels||[]).map(function(e){return e.id}),n.groups=(n.groups||[]).map(function(e){return e.id}),e.has_password&&(n.password="******"),this.formGroup.patchValue(n),n.geo_rules.length&&(this.geoRules.clear(),n.geo_rules.forEach(function(e){t.addNewGeoRule(e.key,e.value)})),n.device_rules.length&&(this.deviceRules.clear(),n.device_rules.forEach(function(e){t.addNewDeviceRule(e.key,e.value)})),n.platform_rules.length&&(this.platformRules.clear(),n.platform_rules.forEach(function(e){t.addNewPlatformRule(e.key,e.value)}))}}},{key:"addNewGeoRule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"us",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.geoRules.push(this.fb.group({key:[e],value:[t],type:"geo"}))}},{key:"addNewDeviceRule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mobile",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.deviceRules.push(this.fb.group({key:[e],value:[t],type:"device"}))}},{key:"addNewPlatformRule",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"windows",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.platformRules.push(this.fb.group({key:[e],value:[t],type:"platform"}))}},{key:"setErrors",value:function(e){this.errors$.next(e||{})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(o.qu),a.LFG(r.Z))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},57125:function(e,t,i){"use strict";i.d(t,{G:function(){return u}});var o=i(16930),r=i(20274),s=i(94380),l=i(73033),c=i(35366),u=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).DEFAULT_MAX_SIZE_MB=5,e}return h(i,[{key:"initValidations",value:function(){var e,t=[new r.p({maxSize:(0,s.F)(this.DEFAULT_MAX_SIZE_MB,"MB")},this.i18n),new l.p({types:["image"]},this.i18n)];(e=this.validations).push.apply(e,t)}}]),i}(o.c);return t.\u0275fac=function(n){return(e||(e=c.n5z(t)))(n||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},44415:function(e,t,n){"use strict";n.d(t,{y:function(){return Z}});var i=n(31041),a=n(47701),o=n(98720),r=n(44689),s=n(47727),l=n(78512),c=n(40878),u=n(35366),d=n(92935),g=n(62424),f=n(38116),m=n(77307),v=n(42300),b=n(61116);function _(e,t){if(1&e){var n=u.EpF();u.TgZ(0,"div",9),u.NdJ("click",function(){var e=u.CHM(n).$implicit;return u.oxw().close(e)}),u._UZ(1,"img",10),u.TgZ(2,"div",11),u.TgZ(3,"div",12),u._uU(4),u.qZA(),u.TgZ(5,"div",13),u._uU(6),u.qZA(),u.qZA(),u.qZA()}if(2&e){var i=t.$implicit;u.xp6(1),u.Q6J("src",i.avatar,u.LSH),u.xp6(3),u.Oqu(i.display_name),u.xp6(2),u.Oqu(i.email)}}var Z=function(){var e=function(){function e(t,n){p(this,e),this.dialogRef=t,this.users=n,this.searchFormControl=new i.NI,this.loading$=new l.X(!1),this.users$=new l.X([])}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.searchFormControl.valueChanges.pipe((0,a.b)(250),(0,o.x)(),(0,r.w)(function(t){return e.searchUsers(t)}),(0,s.K)(function(){return(0,c.of)([])})).subscribe(function(t){e.users$.next(t),e.loading$.next(!1)})}},{key:"close",value:function(e){this.dialogRef.close(this.normalizeUser(e))}},{key:"searchUsers",value:function(e){return this.loading$.next(!0),e?this.users.getAll({query:e}):(0,c.of)([])}},{key:"normalizeUser",value:function(e){return e?{id:e.id,name:e.display_name,image:e.avatar,model_type:e.model_type}:null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(d.so),u.Y36(g.Q))},e.\u0275cmp=u.Xpm({type:e,selectors:[["find-user-modal"]],decls:13,vars:7,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","tabindex","-1",1,"no-style","close-button",3,"click"],["svgIcon","close"],[1,"input-container","search-input-container"],["type","text","placeholder","Search for user by name or email...",3,"formControl"],[1,"small",3,"isVisible"],[1,"users"],["class","user",3,"click",4,"ngFor","ngForOf"],[1,"user",3,"click"],[3,"src"],[1,"meta","overflow-hidden"],[1,"name","overflow-hidden"],[1,"email","overflow-hidden"]],template:function(e,t){1&e&&(u.TgZ(0,"div",0),u.TgZ(1,"h2",1),u._uU(2,"Find User"),u.qZA(),u.TgZ(3,"button",2),u.NdJ("click",function(){return t.close()}),u._UZ(4,"mat-icon",3),u.qZA(),u.qZA(),u.TgZ(5,"mat-dialog-content"),u.TgZ(6,"div",4),u._UZ(7,"input",5),u._UZ(8,"loading-indicator",6),u.ALo(9,"async"),u.qZA(),u.TgZ(10,"div",7),u.YNc(11,_,7,3,"div",8),u.ALo(12,"async"),u.qZA(),u.qZA()),2&e&&(u.xp6(7),u.Q6J("formControl",t.searchFormControl),u.xp6(1),u.Q6J("isVisible",u.lcZ(9,3,t.loading$)),u.xp6(3),u.Q6J("ngForOf",u.lcZ(12,5,t.users$)))},directives:[d.uh,f.P,m.Hw,d.xY,i.Fj,i.JJ,i.oH,v.Q,b.sg],pipes:[b.Ov],styles:["[_nghost-%COMP%]{display:block;width:500px;max-width:100%}.modal-header[_ngcontent-%COMP%]{margin-bottom:15px}.search-input-container[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;position:relative}loading-indicator[_ngcontent-%COMP%]{top:12px;right:12px}.users[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between;margin:0 -15px}.user[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(50% - 10px);flex-shrink:0;min-width:0;padding:12px;border-radius:4px;cursor:pointer}.user[_ngcontent-%COMP%]:hover{background-color:var(--be-hover)}.user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px;flex-shrink:0;margin-right:10px;border-radius:4px;overflow:hidden}.user[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:var(--be-text);font-size:1.5rem;margin-bottom:5px}.user[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),e}()},68692:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var i=n(61116),a=n(68400),o=n(31041),r=n(35366),s=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,a.N,o.UX]]}),e}()},77910:function(e,t,n){"use strict";n.d(t,{S:function(){return U}});var i=n(31041),a=n(78512),o=n(40878),r=n(47701),s=n(98720),l=n(44689),u=n(47727),d=n(35366),g=n(95522),f=n(61116),m=n(79961),v=n(77307),b=n(87064),_=n(40450),Z=["auto"],y=["inputEl"],x=["selectModeTemplate"];function k(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"mat-chip",8),d.NdJ("removed",function(){var e=d.CHM(n).index;return d.oxw().remove(e)}),d._uU(1),d._UZ(2,"mat-icon",9),d.qZA()}if(2&e){var i=t.$implicit,a=d.oxw();d.Q6J("selectable",!1)("removable",!a.selectMode),d.xp6(1),d.hij(" ",a.displayChipValue(i)," ")}}var A=function(e){return{elementRef:e}};function w(e,t){if(1&e){var n=d.EpF();d.TgZ(0,"input",10,11),d.NdJ("matChipInputTokenEnd",function(e){return d.CHM(n),d.oxw().addFromChipInput(e.value)}),d.ALo(2,"trans"),d.qZA()}if(2&e){var i=d.oxw(),a=d.MAs(1),o=d.MAs(6);d.Q6J("placeholder",d.lcZ(2,7,i.placeholder))("type",i.type)("matChipInputFor",a)("matChipInputAddOnBlur",!0)("matAutocomplete",o)("matAutocompleteConnectedTo",d.VKq(9,A,i.el))("formControl",i.formControl)}}function T(e,t){if(1&e&&(d.TgZ(0,"mat-option",12),d._uU(1),d.qZA()),2&e){var n=t.$implicit,i=d.oxw();d.Q6J("value",n),d.xp6(1),d.Oqu(i.displayChipValue(n))}}function C(e,t){if(1&e&&(d.TgZ(0,"mat-option",12),d._uU(1),d.qZA()),2&e){var n=t.$implicit,i=d.oxw(2);d.Q6J("value",n),d.xp6(1),d.Oqu(i.displayChipValue(n))}}function q(e,t){1&e&&d.YNc(0,C,2,2,"mat-option",6),2&e&&d.Q6J("ngForOf",t.suggestions)}var U=function(){var e=function(){function e(t){p(this,e),this.el=t,this.type="text",this.emailsInput=!1,this.selectMode=!1,this.formControl=new i.NI,this.items$=new a.X([]),this.suggestedValues$=new a.X([])}return h(e,[{key:"suggestedValues",set:function(e){this.suggestedValues$.next(e)}},{key:"ngOnInit",value:function(){this.suggestFn&&this.bindToSearchControl()}},{key:"ngAfterViewInit",value:function(){this.emailsInput&&this.parseEmailsOnPaste()}},{key:"remove",value:function(e){var t=c(this.items$.value);t.splice(e,1),this.items$.next(t),this.propagateChange(this.items$.value)}},{key:"addFromChipInput",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!e||this.matAutocomplete.isOpen||this.selectMode||this.add(e,t)}},{key:"addFromAutocomplete",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.add(e,t)}},{key:"add",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e="string"==typeof e?e.trim():e;var n=this.findValueIndex(e)>-1;e&&!n&&(this.items$.next([].concat(c(this.items$.value),[e])),t&&this.propagateChange(this.items$.value)),this.inputEl&&(this.inputEl.nativeElement.value=""),this.formControl.setValue(null),this.suggestedValues$.next([])}},{key:"findValueIndex",value:function(e){return"string"==typeof e?this.items$.value.indexOf(e):this.items$.value.findIndex(function(t){return t.id===e.id})}},{key:"writeValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.items$.next(e||[])}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}},{key:"bindToSearchControl",value:function(){var e=this;this.formControl.valueChanges.pipe((0,r.b)(150),(0,s.x)(),(0,l.w)(function(t){return t?e.suggestFn(t):(0,o.of)([])}),(0,u.K)(function(){return(0,o.of)([])})).subscribe(function(t){var n=t.filter(function(t){return-1===e.findValueIndex(t)});e.suggestedValues$.next(n)})}},{key:"displayChipValue",value:function(e){return"object"==typeof e?e.name:e}},{key:"parseEmailsOnPaste",value:function(){var e=this;this.inputEl.nativeElement.addEventListener("paste",function(t){var n=(t.clipboardData||window.clipboardData).getData("text").match(/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi);if(n){t.preventDefault();var i=window.getSelection();i.rangeCount&&(i.deleteFromDocument(),n.forEach(function(t){return e.add(t)}))}})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(d.Y36(d.SBq))},e.\u0275cmp=d.Xpm({type:e,selectors:[["chip-input"]],viewQuery:function(e,t){var n;(1&e&&(d.Gf(Z,5),d.Gf(y,5),d.Gf(x,5)),2&e)&&(d.iGM(n=d.CRH())&&(t.matAutocomplete=n.first),d.iGM(n=d.CRH())&&(t.inputEl=n.first),d.iGM(n=d.CRH())&&(t.selectModeTemplate=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&d.ekj("select-mode",t.selectMode)},inputs:{placeholder:"placeholder",type:"type",emailsInput:"emailsInput",suggestFn:"suggestFn",selectMode:"selectMode",suggestedValues:"suggestedValues"},features:[d._Bn([{provide:i.JU,useExisting:e,multi:!0}])],decls:11,vars:9,consts:[[3,"selectable"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],["class","mat-chip-input mat-input-element",3,"placeholder","type","matChipInputFor","matChipInputAddOnBlur","matAutocomplete","matAutocompleteConnectedTo","formControl","matChipInputTokenEnd",4,"ngIf"],[1,"chip-input-autocomplete-panel",3,"autoActiveFirstOption","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["selectModeTemplate",""],[3,"selectable","removable","removed"],["matChipRemove","","svgIcon","cancel"],[1,"mat-chip-input","mat-input-element",3,"placeholder","type","matChipInputFor","matChipInputAddOnBlur","matAutocomplete","matAutocompleteConnectedTo","formControl","matChipInputTokenEnd"],["inputEl",""],[3,"value"]],template:function(e,t){1&e&&(d.TgZ(0,"mat-chip-list",0,1),d.YNc(2,k,3,3,"mat-chip",2),d.ALo(3,"async"),d.YNc(4,w,3,11,"input",3),d.qZA(),d.TgZ(5,"mat-autocomplete",4,5),d.NdJ("optionSelected",function(e){return t.addFromAutocomplete(e.option.value)}),d.YNc(7,T,2,2,"mat-option",6),d.ALo(8,"async"),d.qZA(),d.YNc(9,q,1,1,"ng-template",null,7,d.W1O)),2&e&&(d.Q6J("selectable",!1),d.xp6(2),d.Q6J("ngForOf",d.lcZ(3,5,t.items$)),d.xp6(2),d.Q6J("ngIf",!t.selectMode),d.xp6(1),d.Q6J("autoActiveFirstOption",!0),d.xp6(2),d.Q6J("ngForOf",d.lcZ(8,7,t.suggestedValues$)))},directives:[g.qn,f.sg,f.O5,m.XC,g.HS,v.Hw,g.qH,g.oH,m.ZL,i.Fj,i.JJ,i.oH,b.ey],pipes:[f.Ov,_.R],styles:["chip-input{display:block;min-height:46px}chip-input .mat-chip-list-wrapper{width:100%;height:100%;color:inherit;border:1px solid var(--be-divider-default);padding:6px;line-height:normal;font-size:1.4rem;font-family:inherit;background-color:inherit;box-sizing:border-box;border-radius:2px;margin:0}chip-input .mat-chip-input{height:24px;font:inherit;background:0 0;color:currentColor;border:none;outline:0;padding:0;margin:0;width:0;max-width:100%;vertical-align:bottom;text-align:inherit}chip-input .mat-chip-input:focus{outline:none;box-shadow:none}.chip-input-select-panel{background-color:var(--be-background);min-width:180px;box-shadow:0 2px 4px -1px rgba(0,0,0,.2),0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12)}"],encapsulation:2,changeDetection:0}),e}()},56160:function(e,t,n){"use strict";n.d(t,{G:function(){return g}});var i=n(61116),a=n(95522),o=n(77307),r=n(31041),s=n(68400),l=n(79961),c=n(84369),u=n(87064),d=n(35366),g=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[i.ez,a.Hi,l.Bb,r.UX,s.N,c.ot,o.Ps,u.si]]}),e}()},69042:function(e,t,n){"use strict";n.d(t,{M:function(){return m}});var i=n(64762),a=n(35366),o=n(31041),r=n(40149),s=n(78512),l=n(98979),c=n(87064),u=n(77307),d=n(38116),g=n(61116),f=["*"],m=function(){var e=function(){function e(t){p(this,e),this.overlayPanel=t,this.color$=new s.X(null)}return h(e,[{key:"ngOnDestroy",value:function(){this.pickerSub&&this.pickerSub.unsubscribe()}},{key:"writeValue",value:function(e){this.color$.next(e)}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}},{key:"openColorPicker",value:function(e){return(0,i.mG)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var i,o,s=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.e(378).then(n.bind(n,49378));case 2:i=t.sent,o=i.BeColorPickerModule,this.pickerSub=this.overlayPanel.open(o.components.panel,{origin:new a.SBq(e.target),position:r.x,data:{color:this.color$.value}}).valueChanged().subscribe(function(e){s.color$.next(e),s.propagateChange(s.color$.value)});case 5:case"end":return t.stop()}},t,this)}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Y36(l.T))},e.\u0275cmp=a.Xpm({type:e,selectors:[["color-picker-input"]],features:[a._Bn([{provide:o.JU,useExisting:e,multi:!0}])],ngContentSelectors:f,decls:7,vars:4,consts:[["type","button","matRipple","",1,"no-style","color-picker-btn",3,"click"],["svgIcon","drop-custom",1,"color-icon"],["trans","",1,"name"],["trans","",1,"change"]],template:function(e,t){1&e&&(a.F$t(),a.TgZ(0,"button",0),a.NdJ("click",function(e){return t.openColorPicker(e)}),a.TgZ(1,"mat-icon",1),a.ALo(2,"async"),a.qZA(),a.TgZ(3,"span",2),a.Hsn(4),a.qZA(),a.TgZ(5,"span",3),a._uU(6,"Change"),a.qZA(),a.qZA()),2&e&&(a.xp6(1),a.Udp("color",a.lcZ(2,2,t.color$)))},directives:[c.wG,u.Hw,d.P],pipes:[g.Ov],styles:[".color-picker-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:0 10px 0 15px;margin-bottom:15px;border-radius:4px;border:1px solid var(--be-divider-default);background-color:var(--be-background);cursor:pointer;height:57px;font-size:1.5rem;overflow:hidden;width:100%}.color-picker-btn[_ngcontent-%COMP%]   .color-icon[_ngcontent-%COMP%]{width:35px;height:35px}.color-picker-btn[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:3px;margin-top:3px;font-size:1.4rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:160px;text-transform:capitalize}.color-picker-btn[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{color:var(--be-link);font-size:1.3rem;margin-left:auto}"],changeDetection:0}),e}()},37604:function(e,t,n){"use strict";n.d(t,{x:function(){return l}});var i=n(61116),a=n(68400),o=n(77307),r=n(87064),s=n(35366),l=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,a.N,o.Ps,r.si]]}),e}()},98081:function(e,t,n){"use strict";n.d(t,{k:function(){return d}});var i=n(31041),a=n(35366),o=n(61116),r=n(38116),s=n(84369);function c(e,t){if(1&e){var n=a.EpF();a.TgZ(0,"button",8),a.NdJ("click",function(){return a.CHM(n),a.oxw().clearValue()}),a._uU(1," Clear "),a.qZA()}}var u=["*"],d=function(){var e=function(){function e(t,n){p(this,e),this.fb=t,this.cd=n,this.currentDateAsDefault=!1,this.initiated=!1,this.form=this.fb.group({date:[""],time:[""]}),this.setCurrentDatetime()}return h(e,[{key:"writeValue",value:function(e){var t=l((e=(e||"").replace("Z","")).includes("T")?e.split("T"):e.split(" "),2),n=t[0],i=t[1];i=i?i.substr(0,5):"",!this.initiated&&this.currentDateAsDefault&&(n=n||this.currentDate,i=i||this.currentTime),this.initiated=!0,this.form.patchValue({date:n,time:i})}},{key:"registerOnChange",value:function(e){var t=this;this.propagateChange=e,this.form.valueChanges.subscribe(function(e){var n;e.date?(e.time||(e.time="00:00"),2===(n="".concat(e.date," ").concat(e.time)).split(":").length&&(n+=":00")):n=null,t.propagateChange(n)})}},{key:"registerOnTouched",value:function(){}},{key:"setDisabledState",value:function(e){e?this.form.disable():this.form.enable(),this.cd.markForCheck()}},{key:"clearValue",value:function(){this.form.patchValue({date:null,time:null})}},{key:"setCurrentDatetime",value:function(){var e=l((new Date).toISOString().replace("Z","").split("T"),2),t=e[0],n=l(e[1].split(":"),2),i=n[0],a=n[1];this.currentDate=t,this.currentTime="".concat(i,":").concat(a)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Y36(i.qu),a.Y36(a.sBO))},e.\u0275cmp=a.Xpm({type:e,selectors:[["datetime-input"]],inputs:{id:"id",currentDateAsDefault:"currentDateAsDefault"},features:[a._Bn([{provide:i.JU,useExisting:e,multi:!0}])],ngContentSelectors:u,decls:14,vars:8,consts:[[3,"formGroup"],[1,"legend-label"],["class","clear-btn","type","button","mat-button","","trans","",3,"click",4,"ngIf"],[1,"inline-inputs-container"],[1,"input-container"],["trans","",1,"hidden",3,"for"],["type","date","formControlName","date",1,"date-input",3,"id","placeholder"],["type","time","formControlName","time",1,"time-input",3,"id","placeholder"],["type","button","mat-button","","trans","",1,"clear-btn",3,"click"]],template:function(e,t){1&e&&(a.F$t(),a.TgZ(0,"fieldset",0),a.TgZ(1,"legend"),a.TgZ(2,"span",1),a.Hsn(3),a.qZA(),a.YNc(4,c,2,0,"button",2),a.qZA(),a.TgZ(5,"div",3),a.TgZ(6,"div",4),a.TgZ(7,"label",5),a._uU(8,"Date"),a.qZA(),a._UZ(9,"input",6),a.qZA(),a.TgZ(10,"div",4),a.TgZ(11,"label",5),a._uU(12,"Time"),a.qZA(),a._UZ(13,"input",7),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Q6J("formGroup",t.form),a.xp6(4),a.Q6J("ngIf",!t.form.disabled),a.xp6(3),a.Q6J("for",t.id+"-date"),a.xp6(2),a.Q6J("id",t.id+"-date")("placeholder",t.currentDate),a.xp6(2),a.Q6J("for",t.id+"-time"),a.xp6(2),a.Q6J("id",t.id+"-time")("placeholder",t.currentTime))},directives:[i.JL,i.sg,o.O5,r.P,i.Fj,i.JJ,i.u,s.lW],styles:[".date-input[_ngcontent-%COMP%]{border-right:none;border-top-right-radius:0;border-bottom-right-radius:0}.time-input[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.input-container[_ngcontent-%COMP%]{margin-right:0}legend[_ngcontent-%COMP%]{display:flex;align-items:center;color:var(--be-label);width:100%}.legend-label[_ngcontent-%COMP%]{margin-right:auto}.clear-btn[_ngcontent-%COMP%]{margin-left:10px;line-height:28px}"],changeDetection:0}),e}()},49517:function(e,t,n){"use strict";n.d(t,{N:function(){return g}});var i=n(35366),a=n(72674),o=n(98979),r=n(84369),s=n(77307),l=["infoIcon"],c=["popoverContent"];function u(e,t){1&e&&i.Hsn(0)}var d=["*"],g=function(){var e=function(){function e(t,n){p(this,e),this.overlay=t,this.viewContainerRef=n}return h(e,[{key:"openPopover",value:function(){var e=this;this.overlayRef&&this.closePopover(),Object.assign({},a.Z)[0].offsetY=-15,this.overlayRef=this.overlay.open(this.content,{origin:this.infoButton,position:a.Z,hasBackdrop:!1,scrollStrategy:"close",viewContainerRef:this.viewContainerRef,panelClass:["info-popover-panel",this.wider?"wider":null]}),this.overlayRef.getPanelEl().addEventListener("mouseleave",function(){e.closePopover()})}},{key:"closePopover",value:function(){this.overlayRef&&(this.overlayRef.close(),this.overlayRef=null)}},{key:"togglePopover",value:function(){this.overlayRef?this.closePopover():this.openPopover()}},{key:"onMouseLeave",value:function(e){var t=e.toElement||e.relatedTarget;t&&t.classList.contains("info-popover-panel")||this.closePopover()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(o.T),i.Y36(i.s_b))},e.\u0275cmp=i.Xpm({type:e,selectors:[["info-popover"]],viewQuery:function(e,t){var n;(1&e&&(i.Gf(l,5,i.SBq),i.Gf(c,5)),2&e)&&(i.iGM(n=i.CRH())&&(t.infoButton=n.first),i.iGM(n=i.CRH())&&(t.content=n.first))},inputs:{wider:"wider"},ngContentSelectors:d,decls:5,vars:0,consts:[["type","button","mat-icon-button","",3,"click","mouseenter","mouseleave"],["svgIcon","info",1,"info-icon"],["infoIcon",""],["popoverContent",""]],template:function(e,t){1&e&&(i.F$t(),i.TgZ(0,"button",0),i.NdJ("click",function(){return t.togglePopover()})("mouseenter",function(){return t.openPopover()})("mouseleave",function(e){return t.onMouseLeave(e)}),i._UZ(1,"mat-icon",1,2),i.qZA(),i.YNc(3,u,1,0,"ng-template",null,3,i.W1O))},directives:[r.lW,s.Hw],styles:["info-popover .mat-icon-button{vertical-align:middle;color:var(--be-secondary-text);cursor:help}.info-popover-panel{display:block;background-color:var(--be-background);box-shadow:0 3px 3px -2px rgba(0,0,0,.2),0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12);border-radius:4px;padding:15px;max-width:350px}.info-popover-panel.wider{max-width:550px}.info-popover-panel .title{font-size:1.6rem;margin-bottom:8px}.info-popover-panel .description{margin-bottom:5px;color:var(--be-secondary-text)}.info-popover-panel .link{margin-top:5px;padding-top:5px;border-top:var(--be-divider-default)}.info-popover-panel .link .mat-icon{vertical-align:middle;margin-right:5px;color:var(--be-link)}.info-popover-panel .link a:hover{text-decoration:underline}.info-popover-panel ol,.info-popover-panel ul{padding-left:15px;margin:0}"],encapsulation:2,changeDetection:0}),e}()},86013:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var i=n(61116),a=n(77307),o=n(84369),r=n(35366),s=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,a.Ps,o.ot]]}),e}()},72674:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var i=[{originX:"end",originY:"center",overlayX:"start",overlayY:"center",offsetX:5},{originX:"start",originY:"center",overlayX:"end",overlayY:"center",offsetX:5}]},4182:function(e,t,n){"use strict";n.d(t,{S:function(){return d}});var i=n(61116),a=n(84369),o=n(77307),r=n(97070),s=n(68400),l=n(31041),c=n(99808),u=n(35366),d=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[i.ez,a.ot,r.Tx,s.N,l.UX,o.Ps,c.p]]}),e}()},26437:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});var i=n(99713),a=[(0,i.X$)("fadeIn",[(0,i.eR)(":enter",[(0,i.oB)({opacity:0}),(0,i.jt)("325ms ease-in",(0,i.oB)({opacity:1}))])]),(0,i.X$)("fadeOut",[(0,i.eR)(":leave",[(0,i.oB)({opacity:1,position:"absolute",left:"0",right:"0"}),(0,i.jt)("325ms ease-out",(0,i.oB)({opacity:0}))])])]},73709:function(e,t,n){"use strict";function i(e){var t=Object.assign({},e);return Object.keys(t).forEach(function(e){null!=t[e]&&""!==t[e]||delete t[e]}),t}n.d(t,{N:function(){return i}})},37123:function(e,t,n){"use strict";n.d(t,{T:function(){return d}});var i=n(35366),a=n(92935),o=n(77307),r=n(38116),s=n(84369),l=function(){var e=function(){function e(t){p(this,e),this.dialogRef=t}return h(e,[{key:"close",value:function(){this.dialogRef.close()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(a.so))},e.\u0275cmp=i.Xpm({type:e,selectors:[["csv-export-info-dialog"]],decls:13,vars:0,consts:[[1,"modal-header"],["mat-dialog-title","",1,"modal-title"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["mat-dialog-content","",1,"mat-dialog-contents"],[1,"message-container"],["svgIcon","check","color","su",1,"success-icon"],["trans",""],["mat-dialog-actions","",1,"buttons","right","mat-dialog-actions"],["mat-raised-button","","color","accent","cdkFocusInitial","","trans","",1,"button","primary","submit-button",3,"click"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h2",1),i._uU(2,"CSV Export"),i.qZA(),i.TgZ(3,"button",2),i.NdJ("click",function(){return t.close()}),i._UZ(4,"mat-icon",3),i.qZA(),i.qZA(),i.TgZ(5,"div",4),i.TgZ(6,"div",5),i._UZ(7,"mat-icon",6),i.TgZ(8,"div",7),i._uU(9," Your request is being processed. We'll email you when the report is ready to download. In certain cases, it might take a little longer, depending on the number of items beings exported and the volume of activity. "),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"div",8),i.TgZ(11,"button",9),i.NdJ("click",function(){return t.close()}),i._uU(12," Got it "),i.qZA(),i.qZA())},directives:[a.uh,o.Hw,a.xY,r.P,a.H8,s.lW],styles:["[_nghost-%COMP%]{display:block;max-width:500px}.modal-header[_ngcontent-%COMP%]{margin-bottom:10px}.message-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;margin-bottom:10px}.success-icon[_ngcontent-%COMP%]{color:#43a047;margin-right:10px;flex-shrink:0}"],changeDetection:0}),e}(),c=n(68515),u=n(24859),d=function(){var e=function(){function e(t,n){p(this,e),this.http=t,this.modal=n}return h(e,[{key:"export",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.http.post(e,n).subscribe(function(e){e.downloadPath?function(e,t){var n=document.createElement("a");n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}(e.downloadPath):t.modal.open(l)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(c.r),i.LFG(u.u))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},63380:function(e,t,n){"use strict";n.d(t,{M:function(){return l}});var i=n(77307),a=n(84369),o=n(92935),r=n(68400),s=n(35366),l=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.N,i.Ps,a.ot,o.Is]]}),e}()},83381:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var i=n(59075),a=n(44415),o=n(45523),r=[new i.XQ({type:i.Bq.Select,key:"global",defaultValue:!1,description:"Whether domain is set as global or not",options:[{key:"No",value:!1},{key:"Yes",value:!0}]}),new o.yH({description:"Date the domain was last updated"}),new o.T7({description:"Date the domain was created"}),new i.XQ({type:i.Bq.SelectModel,key:"user_id",label:"User",description:"User domain was created by",component:a.y})]},71453:function(e,t,n){"use strict";n.d(t,{T:function(){return le}});var i=n(36024),a=n(56515),o=n(78512),r=n(92935),s=n(31041),l=n(11520),c=n(35366),u=n(14732),d=n(73234),g=n(88195),f=n(63337),m=n(28505),v=n(38116),b=n(77307),_=n(61116),Z=n(84369),y=n(79572),x=n(42300),k=n(40450);function A(e,t){if(1&e&&(c.TgZ(0,"div",23),c._uU(1),c.qZA()),2&e){var n=c.oxw(3).ngIf;c.xp6(1),c.Oqu(n.host)}}function w(e,t){1&e&&(c.TgZ(0,"div",24),c.TgZ(1,"mat-slide-toggle",25),c._uU(2,"Global"),c.qZA(),c.TgZ(3,"p",20),c._uU(4,"Whether all users should be able to select this domain."),c.qZA(),c.qZA())}function T(e,t){if(1&e&&(c.TgZ(0,"div",16),c.TgZ(1,"div",17),c.TgZ(2,"label",18),c._uU(3,"Host"),c.qZA(),c._UZ(4,"input",19),c.TgZ(5,"p",20),c._uU(6),c.qZA(),c.YNc(7,A,2,1,"div",21),c.qZA(),c.YNc(8,w,5,0,"div",22),c.qZA()),2&e){var n=c.oxw(2).ngIf,i=c.oxw();c.xp6(6),c.hij(" Enter the exact domain name you want your ",i.data.resourceName||"links"," to be accessible with. It can be a subdomain (example.yourdomain.com) or root domain (yourdomain.com). "),c.xp6(1),c.Q6J("ngIf",n.host),c.xp6(1),c.Q6J("ngIf",i.insideAdmin())}}function C(e,t){if(1&e&&(c.ynx(0),c.TgZ(1,"p",20),c._uU(2," Add this CNAME record to your domain by visiting your DNS provider or registrar. "),c.qZA(),c.TgZ(3,"div",27),c.TgZ(4,"div",28),c.TgZ(5,"strong"),c._uU(6,"CNAME"),c.qZA(),c._uU(7),c.qZA(),c.qZA(),c.BQk()),2&e){var n=c.oxw(4);c.xp6(7),c.hij(" ",n.baseUrl(),"")}}function q(e,t){if(1&e&&(c.ynx(0),c.TgZ(1,"p",20),c._uU(2," Add this A record to your domain by visiting your DNS provider or registrar. "),c.qZA(),c.TgZ(3,"div",27),c.TgZ(4,"div",28),c.TgZ(5,"strong"),c._uU(6,"A"),c.qZA(),c._uU(7),c.qZA(),c.qZA(),c.BQk()),2&e){var n=c.oxw(4);c.xp6(7),c.hij(" ",n.serverIp,"")}}function U(e,t){if(1&e&&(c.TgZ(0,"div",26),c.YNc(1,C,8,1,"ng-container",6),c.ALo(2,"async"),c.YNc(3,q,8,1,"ng-container",6),c.ALo(4,"async"),c.qZA()),2&e){var n=c.oxw(3);c.xp6(1),c.Q6J("ngIf",c.lcZ(2,2,n.isSubdomain$)),c.xp6(2),c.Q6J("ngIf",!c.lcZ(4,4,n.isSubdomain$))}}function I(e,t){1&e&&(c.TgZ(0,"div",27),c._UZ(1,"loading-indicator",32),c.TgZ(2,"div",33),c._uU(3,"Checking DNS configuration..."),c.qZA(),c.qZA()),2&e&&(c.xp6(1),c.Q6J("isVisible",!0))}var M=function(e){return{host:e}};function O(e,t){if(1&e&&(c.TgZ(0,"div",39),c._uU(1,' DNS records for the domain are setup, however it seems that your server is not configured to handle requests from "host" '),c.qZA()),2&e){var n=c.oxw(5);c.Q6J("transValues",c.VKq(1,M,n.form.value.host))}}var J=function(e){return{location:e}};function P(e,t){if(1&e&&(c.TgZ(0,"div",39),c.ALo(1,"async"),c._uU(2),c.ALo(3,"async"),c.qZA()),2&e){var n=c.oxw(5);c.Q6J("transValues",c.VKq(6,J,c.lcZ(1,2,n.isSubdomain$)?n.baseUrl():n.serverIp)),c.xp6(2),c.hij(" The domain is missing ",c.lcZ(3,4,n.isSubdomain$)?"CNAME":"A"," record pointing to :location or the changes haven't propagated yet. ")}}function N(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"div",34),c._UZ(1,"mat-icon",35),c.YNc(2,O,2,3,"div",36),c.ALo(3,"async"),c.YNc(4,P,4,8,"ng-template",null,37,c.W1O),c.qZA(),c.TgZ(6,"p"),c._uU(7),c.ALo(8,"trans"),c.TgZ(9,"button",38),c.NdJ("click",function(){return c.CHM(n),c.oxw(4).validateDnsForDomain()}),c.ALo(10,"async"),c._uU(11," refresh "),c.qZA(),c.qZA()}if(2&e){var i=c.MAs(5),a=c.oxw(4);c.xp6(2),c.Q6J("ngIf","serverNotConfigured"===c.lcZ(3,4,a.validationFailReason$)&&a.currentUserIsAdmin)("ngIfElse",i),c.xp6(5),c.hij(" ",c.lcZ(8,6,"You can wait and try again later or")," "),c.xp6(2),c.Q6J("disabled",c.lcZ(10,8,a.loading$))}}function S(e,t){if(1&e&&(c.TgZ(0,"div",29),c.YNc(1,I,4,1,"div",30),c.ALo(2,"async"),c.YNc(3,N,12,10,"ng-template",null,31,c.W1O),c.qZA()),2&e){var n=c.MAs(4),i=c.oxw(3);c.xp6(1),c.Q6J("ngIf",c.lcZ(2,2,i.loading$))("ngIfElse",n)}}function D(e,t){1&e&&(c.TgZ(0,"div",40),c.TgZ(1,"div",27),c._UZ(2,"loading-indicator",32),c.TgZ(3,"div",33),c._uU(4,"Connecting domain..."),c.qZA(),c.qZA(),c.TgZ(5,"p",20),c._uU(6,"Don't close this window until domain is connected."),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Q6J("isVisible",!0))}function Q(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"button",41),c.NdJ("click",function(){return c.CHM(n),c.oxw(3).previousStep()}),c._UZ(1,"mat-icon",42),c._uU(2," Previous "),c.qZA()}}function Y(e,t){if(1&e){var n=c.EpF();c.ynx(0),c.TgZ(1,"mat-dialog-content"),c.YNc(2,T,9,3,"div",7),c.YNc(3,U,5,6,"div",8),c.YNc(4,S,5,4,"div",9),c.YNc(5,D,7,1,"div",10),c.qZA(),c.TgZ(6,"mat-dialog-actions"),c.TgZ(7,"button",11),c.NdJ("click",function(){return c.CHM(n),c.oxw(2).close()}),c._uU(8," Cancel "),c.qZA(),c.TgZ(9,"div",12),c.YNc(10,Q,3,0,"button",13),c.TgZ(11,"button",14),c.ALo(12,"async"),c.ALo(13,"async"),c._uU(14," Next "),c._UZ(15,"mat-icon",15),c.qZA(),c.qZA(),c.qZA(),c.BQk()}if(2&e){var i=t.ngIf,a=c.oxw(2);c.xp6(2),c.Q6J("ngIf",i===a.Steps.Host),c.xp6(1),c.Q6J("ngIf",i===a.Steps.Info),c.xp6(1),c.Q6J("ngIf",i===a.Steps.Validate),c.xp6(1),c.Q6J("ngIf",i===a.Steps.Finalize),c.xp6(5),c.Q6J("ngIf",i>1),c.xp6(1),c.Q6J("disabled",c.lcZ(12,6,a.loading$)||c.lcZ(13,8,a.disabled$))}}function L(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"form",5),c.NdJ("ngSubmit",function(){return c.CHM(n),c.oxw().nextStep()}),c.YNc(1,Y,16,10,"ng-container",6),c.ALo(2,"async"),c.qZA()}if(2&e){var i=c.oxw();c.Q6J("formGroup",i.form),c.xp6(1),c.Q6J("ngIf",c.lcZ(2,2,i.currentStep$))}}var E=function(e){return e[e.Host=1]="Host",e[e.Info=2]="Info",e[e.Validate=3]="Validate",e[e.Finalize=4]="Finalize",e}({}),F=function(){var e=function(){function e(t,n,i,a,r,l,c){p(this,e),this.dialogRef=t,this.data=n,this.customDomains=i,this.toast=a,this.settings=r,this.router=l,this.currentUser=c,this.Steps=E,this.currentStep$=new o.X(1),this.loading$=new o.X(!1),this.disabled$=new o.X(!1),this.updating$=new o.X(!1),this.errors$=new o.X({}),this.validationFailReason$=new o.X(null),this.isSubdomain$=new o.X(!1),this.form=new s.cw({host:new s.NI,global:new s.NI(!1)}),this.updating$.next(!!n.domain),this.currentUserIsAdmin=this.currentUser.isAdmin(),n.domain&&this.form.patchValue(n.domain)}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.form.get("host").valueChanges.subscribe(function(t){e.isSubdomain$.next((t.replace("www.","").match(/\./g)||[]).length>1)})}},{key:"connectDomain",value:function(){var e=this;this.loading$.next(!0),(this.updating$.value?this.customDomains.update(this.data.domain.id,this.form.value):this.customDomains.create(this.form.value)).pipe((0,l.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.toast.open("Domain connected"),e.close(t.domain)},function(t){e.errors$.next(t.errors)})}},{key:"validateDnsForDomain",value:function(){var e=this;this.disabled$.next(!0),this.loading$.next(!0),this.customDomains.validate(this.form.value.host).pipe((0,l.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){t&&"connected"===t.result&&e.nextStep()},function(t){e.validationFailReason$.next(t.failReason)})}},{key:"authorizeCrupdate",value:function(){var e=this;this.loading$.next(!0);var t=Object.assign({},this.form.value);this.data.domain&&(t.domainId=this.data.domain.id),this.customDomains.authorizeCrupdate(t).pipe((0,l.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.serverIp=t.serverIp,e.nextStep(!0)},function(t){return e.errors$.next(t.errors)})}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"previousStep",value:function(){this.currentStep$.value>E.Host&&this.currentStep$.next(this.currentStep$.value-1)}},{key:"nextStep",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.currentStep$.value===E.Host&&!e)return this.authorizeCrupdate();this.currentStep$.next(this.currentStep$.value+1),this.currentStep$.value===E.Validate?this.data.domain&&this.form.value.host===this.data.domain.host?this.connectDomain():this.validateDnsForDomain():this.currentStep$.value===E.Finalize&&this.connectDomain()}},{key:"baseUrl",value:function(){return this.settings.getBaseUrl().replace(/\/$/,"")}},{key:"insideAdmin",value:function(){return this.router.url.indexOf("admin")>-1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(r.so),c.Y36(r.WI),c.Y36(u.c),c.Y36(d.F),c.Y36(g.Z),c.Y36(f.F0),c.Y36(m.I))},e.\u0275cmp=c.Xpm({type:e,selectors:[["crupdate-custom-domain-modal"]],decls:7,vars:3,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit",4,"ngIf"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[4,"ngIf"],["class","host-step",4,"ngIf"],["class","info-step",4,"ngIf"],["class","validate-step",4,"ngIf"],["class","finalize-step",4,"ngIf"],["type","button","mat-button","","trans","",1,"cancel-button",3,"click"],[1,"submit-btns"],["mat-button","","color","accent","class","step-btn","type","button","trans","",3,"click",4,"ngIf"],["type","submit","mat-raised-button","","color","accent","trans","",1,"step-btn",3,"disabled"],["svgIcon","keyboard-arrow-right",1,"step-icon"],[1,"host-step"],[1,"input-container"],["for","host","trans",""],["type","text","id","host","formControlName","host","placeholder","https://example.com","maxlength","100","required","",1,"host-input"],["trans",""],["class","error",4,"ngIf"],["class","setting-toggle-container global-toggle",4,"ngIf"],[1,"error"],[1,"setting-toggle-container","global-toggle"],["id","global","formControlName","global","trans",""],[1,"info-step"],[1,"message-widget"],[1,"message"],[1,"validate-step"],["class","message-widget",4,"ngIf","ngIfElse"],["notLoading",""],[1,"small","icon",3,"isVisible"],["trans","",1,"message"],[1,"message-widget","warning-color"],["svgIcon","warning",1,"icon"],["class","message","trans","",3,"transValues",4,"ngIf","ngIfElse"],["dnsNotSetup",""],["type","button","trans","",1,"no-style","refresh-btn",3,"disabled","click"],["trans","",1,"message",3,"transValues"],[1,"finalize-step"],["mat-button","","color","accent","type","button","trans","",1,"step-btn",3,"click"],["svgIcon","keyboard-arrow-left",1,"step-icon"]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"h2",1),c._uU(2,"Connect Domain"),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(){return t.close()}),c._UZ(4,"mat-icon",3),c.qZA(),c.qZA(),c.YNc(5,L,3,4,"form",4),c.ALo(6,"async")),2&e&&(c.xp6(5),c.Q6J("ngIf",c.lcZ(6,1,t.errors$)))},directives:[r.uh,v.P,b.Hw,_.O5,s.JL,s.sg,r.xY,r.H8,Z.lW,s.Fj,s.JJ,s.u,s.nD,s.Q7,y.Rr,x.Q],pipes:[_.Ov,k.R],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}.host-input[_ngcontent-%COMP%]{font-size:1.6rem}.mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-top:25px;margin-top:25px;border-top:1px solid var(--be-divider-lighter)}.modal-header[_ngcontent-%COMP%]{border-bottom:1px solid var(--be-divider-lighter);margin-bottom:20px;padding-bottom:25px}.message-widget[_ngcontent-%COMP%]{display:flex;align-items:center;padding:15px;border-radius:4px;background-color:#ecf3ff;color:var(--be-accent-default);font-size:1.6rem}.message-widget[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.message-widget.warning-color[_ngcontent-%COMP%]{background-color:#fef0e2;color:#f77d05}.message-widget[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{flex-shrink:0;position:static;margin-right:15px}p[_ngcontent-%COMP%]{font-size:1.3rem;color:var(--be-secondary-text);margin:8px 0}.mat-button[_ngcontent-%COMP%], .mat-raised-button[_ngcontent-%COMP%]{min-width:105px;line-height:40px}.refresh-btn[_ngcontent-%COMP%]{color:var(--be-accent-default);text-decoration:underline}.step-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:5px}.global-toggle[_ngcontent-%COMP%]{border-top:1px solid var(--be-divider-lighter);margin-top:20px;padding-top:20px;margin-bottom:0}@media only screen and (max-width:768px){.cancel-button[_ngcontent-%COMP%]{display:none}}"],changeDetection:0}),e}(),R=n(83381),$=n(34955),V=n(13536),B=n(80922),H=n(86668),z=n(27701),G=n(54275),j=n(24311),X=n(71765),W=n(47210),K=n(40985),ee=n(2406);function te(e,t){1&e&&c._UZ(0,"mat-progress-bar",17)}function ne(e,t){1&e&&(c.TgZ(0,"th",18),c._uU(1,"Owner"),c.qZA())}var ie=function(e){return{count:e,resource:"domain(s)"}};function ae(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"th",19),c.TgZ(2,"div",20),c._uU(3," :count :resource selected: "),c.qZA(),c.TgZ(4,"div",21),c.TgZ(5,"button",22),c.NdJ("click",function(){return c.CHM(n),c.oxw().maybeDeleteSelectedDomains()}),c._uU(6," Delete "),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.ngIf,a=c.oxw();c.xp6(2),c.Q6J("transValues",c.VKq(2,ie,i)),c.xp6(3),c.Q6J("disabled",!a.currentUser.hasPermission("custom_domains.delete"))}}function oe(e,t){if(1&e&&(c.TgZ(0,"td",34),c._UZ(1,"user-column",35),c.qZA()),2&e){var n=c.oxw().$implicit;c.xp6(1),c.Q6J("user",n.user)}}function re(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"tr"),c._UZ(1,"td",23),c.TgZ(2,"td",24),c._UZ(3,"img",25),c.ALo(4,"favicon"),c.TgZ(5,"span"),c._uU(6),c.qZA(),c.qZA(),c.YNc(7,oe,2,1,"td",26),c.TgZ(8,"td",27),c._uU(9),c.qZA(),c.TgZ(10,"td",28),c._uU(11),c.ALo(12,"formattedDate"),c.qZA(),c.TgZ(13,"td",29),c.TgZ(14,"button",30),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw().showCrupdateDomainModal(e)}),c.ALo(15,"trans"),c._UZ(16,"mat-icon",31),c.qZA(),c.TgZ(17,"button",32),c.NdJ("click",function(){var e=c.CHM(n).$implicit;return c.oxw().maybeDeleteSelectedDomains([e.id])}),c._UZ(18,"mat-icon",33),c.qZA(),c.qZA(),c.qZA()}if(2&e){var i=t.$implicit,a=c.oxw();c.xp6(1),c.Q6J("table-body-checkbox",i.id),c.xp6(2),c.Q6J("src",c.lcZ(4,7,i.host),c.LSH),c.xp6(3),c.Oqu(i.host),c.xp6(1),c.Q6J("ngIf",a.showUserColumn()),c.xp6(2),c.Oqu(i.global?"Yes":"No"),c.xp6(2),c.Oqu(c.lcZ(12,9,i.updated_at)),c.xp6(3),c.Q6J("matTooltip",c.lcZ(15,11,"Edit domain"))}}function se(e,t){1&e&&(c.TgZ(0,"no-results-message",36),c.TgZ(1,"span",37),c._uU(2,"No custom domains have been added yet"),c.qZA(),c.qZA())}var le=function(){var e=function(){function e(t,n,i,a,o){p(this,e),this.datatable=t,this.currentUser=n,this.customDomains=i,this.toast=a,this.router=o,this.filters=R.r,this.domains$=this.datatable.data$}return h(e,[{key:"ngOnInit",value:function(){this.datatable.init({uri:u.c.BASE_URI})}},{key:"maybeDeleteSelectedDomains",value:function(e){var t=this;this.datatable.confirmResourceDeletion("domains").subscribe(function(){t.customDomains.delete(e||t.datatable.selectedRows$.value).subscribe(function(){t.datatable.reset(),t.toast.open("Domains deleted.")},function(e){t.toast.open(e.message||i.v.Default)})})}},{key:"showCrupdateDomainModal",value:function(e){this.datatable.openCrupdateResourceModal(F,{domain:e}).subscribe()}},{key:"showUserColumn",value:function(){return this.router.url.indexOf("admin")>-1}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(a.x),c.Y36(m.I),c.Y36(u.c),c.Y36(d.F),c.Y36(f.F0))},e.\u0275cmp=c.Xpm({type:e,selectors:[["custom-domain-index"]],features:[c._Bn([a.x])],decls:32,vars:13,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","domains",3,"filters"],[1,"action-buttons"],["mat-raised-button","","color","accent",1,"button-with-icon",3,"disabled","click"],["svgIcon","add"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["table-sort-header","user_id","trans","",4,"ngIf"],["table-sort-header","updated_at","trans",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","custom-domain.svg",4,"ngIf"],["mode","indeterminate","color","accent",1,"loading-bar"],["table-sort-header","user_id","trans",""],["colspan","6"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["type","button","mat-raised-button","","color","warn","trans","",3,"disabled","click"],[3,"table-body-checkbox"],["data-label","Host"],["alt","",1,"favicon-img",3,"src"],["data-label","Owner",4,"ngIf"],["data-label","Global"],["data-label","Updated At"],[1,"edit-column"],["mat-icon-button","",3,"matTooltip","click"],["svgIcon","edit"],["type","button","mat-icon-button","","trans","",1,"visible-on-mobile",3,"click"],["svgIcon","delete"],["data-label","Owner"],[3,"user"],["svgImage","custom-domain.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(c.TgZ(0,"div",0),c.TgZ(1,"h1",1),c._uU(2,"Custom Domains"),c.qZA(),c.TgZ(3,"div",2),c._UZ(4,"datatable-filters",3),c.TgZ(5,"div",4),c.TgZ(6,"button",5),c.NdJ("click",function(){return t.showCrupdateDomainModal()}),c._UZ(7,"mat-icon",6),c.TgZ(8,"span",1),c._uU(9,"Connect New Domain"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(10,"div",7),c.YNc(11,te,1,0,"mat-progress-bar",8),c.ALo(12,"async"),c.TgZ(13,"table",9),c.TgZ(14,"thead"),c.TgZ(15,"tr"),c._UZ(16,"th",10),c.TgZ(17,"th",11),c._uU(18,"Host"),c.qZA(),c.YNc(19,ne,2,0,"th",12),c.TgZ(20,"th",11),c._uU(21,"Global"),c.qZA(),c.TgZ(22,"th",13),c._uU(23,"Last Updated"),c.qZA(),c._UZ(24,"th"),c.qZA(),c.YNc(25,ae,7,4,"tr",14),c.qZA(),c.TgZ(26,"tbody"),c.YNc(27,re,19,13,"tr",15),c.ALo(28,"async"),c.qZA(),c.qZA(),c.YNc(29,se,3,0,"no-results-message",16),c.ALo(30,"async"),c._UZ(31,"datatable-footer"),c.qZA()),2&e&&(c.xp6(4),c.Q6J("filters",t.filters),c.xp6(2),c.Q6J("disabled",!t.currentUser.hasPermission("custom_domains.create")),c.xp6(5),c.Q6J("ngIf",c.lcZ(12,7,t.datatable.paginator&&t.datatable.paginator.loading$)),c.xp6(8),c.Q6J("ngIf",t.showUserColumn()),c.xp6(6),c.Q6J("ngIf",t.datatable.selectedRows$.value.length),c.xp6(2),c.Q6J("ngForOf",c.lcZ(28,9,t.domains$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(30,11,t.datatable.paginator.noResults$)))},directives:[v.P,$.h,Z.lW,b.Hw,_.O5,V.e,B.p,_.sg,H.V,z.pW,G.O,j.gM,X.r,W.U],pipes:[_.Ov,K.K,ee.l,k.R],styles:[".favicon-img[_ngcontent-%COMP%]{display:inline-block;margin-right:5px;vertical-align:middle;flex-shrink:0}"],changeDetection:0}),e}()},14732:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var i=n(35366),a=n(68515),o=function(){var e=function(){function e(t){p(this,e),this.http=t}return h(e,[{key:"index",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.http.get("".concat(e.BASE_URI),t)}},{key:"create",value:function(t){return this.http.post(e.BASE_URI,t)}},{key:"update",value:function(t,n){return this.http.put("".concat(e.BASE_URI,"/").concat(t),n)}},{key:"delete",value:function(t){return this.http.delete("".concat(e.BASE_URI,"/").concat(t))}},{key:"validate",value:function(t){return this.http.post("".concat(e.BASE_URI,"/validate/2BrM45vvfS/api"),{host:t})}},{key:"authorizeCrupdate",value:function(t){return this.http.post("".concat(e.BASE_URI,"/authorize/store"),t)}}]),e}();return e.BASE_URI="custom-domain",e.\u0275fac=function(t){return new(t||e)(i.LFG(a.r))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},71765:function(e,t,n){"use strict";n.d(t,{r:function(){return u}});var i=n(35366),a=n(60994),o=n(61116),r=n(63337);function s(e,t){if(1&e&&(i.TgZ(0,"a",4),i.TgZ(1,"div"),i._uU(2),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA(),i.qZA()),2&e){var n=i.oxw(2);i.Q6J("routerLink",n.url.generate(n.user)),i.xp6(2),i.Oqu(n.user.display_name),i.xp6(2),i.Oqu(n.user.email)}}function l(e,t){if(1&e&&(i.TgZ(0,"div",6),i.TgZ(1,"div"),i._uU(2),i.qZA(),i.TgZ(3,"div",5),i._uU(4),i.qZA(),i.qZA()),2&e){var n=i.oxw(2);i.xp6(2),i.Oqu(n.user.display_name),i.xp6(2),i.Oqu(n.user.email)}}function c(e,t){if(1&e&&(i.ynx(0),i._UZ(1,"img",1),i.YNc(2,s,5,3,"a",2),i.YNc(3,l,5,2,"div",3),i.BQk()),2&e){var n=i.oxw();i.xp6(1),i.Q6J("src",n.user.avatar,i.LSH),i.xp6(1),i.Q6J("ngIf",n.haveUrl),i.xp6(1),i.Q6J("ngIf",!n.haveUrl)}}var u=function(){var e=function e(t){p(this,e),this.url=t,this.showEmail=!1,this.haveUrl=!!t.user};return e.\u0275fac=function(t){return new(t||e)(i.Y36(a.o))},e.\u0275cmp=i.Xpm({type:e,selectors:[["user-column"]],hostAttrs:[1,"column-with-image"],inputs:{user:"user",showEmail:"showEmail"},decls:1,vars:1,consts:[[4,"ngIf"],["alt","",3,"src"],["target","_blank","class","link content",3,"routerLink",4,"ngIf"],["class","content",4,"ngIf"],["target","_blank",1,"link","content",3,"routerLink"],[1,"email","secondary"],[1,"content"]],template:function(e,t){1&e&&i.YNc(0,c,4,3,"ng-container",0),2&e&&i.Q6J("ngIf",t.user)},directives:[o.O5,r.yS],styles:[""],changeDetection:0}),e}()},34955:function(e,t,n){"use strict";n.d(t,{h:function(){return se}});var i=n(35366),a=n(56515),o=n(56238),r=n(79996),s=n(98720),c=n(43835),u=n(78512),d=n(3080),g=n(31906),f=n(87254),m=n(38116),v=n(61116),b=n(77307),_=["filterSuggestion"];function Z(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",8,9),i.NdJ("click",function(){var e=i.CHM(n).$implicit;return i.oxw().filterSelected.emit(e.value)}),i.TgZ(2,"div",10),i._uU(3),i.qZA(),i.TgZ(4,"div",2),i._uU(5),i.qZA(),i.qZA()}if(2&e){var a=t.$implicit,o=t.index;i.uIk("data-filter-key",a.key)("data-index",o),i.xp6(3),i.Oqu(a.value.label),i.xp6(2),i.Oqu(a.value.description)}}var y=function(){var e=function(){function e(){p(this,e),this.filterSelected=new i.vpe,this.originalOrder=function(){return 0}}return h(e,[{key:"anyFocused",value:function(){return document.activeElement.classList.contains("filter-suggestion-item")}},{key:"focusItemAt",value:function(e){this.items.get(e).nativeElement.focus()}},{key:"getFocusedFilter",value:function(){if(this.anyFocused()){var e=document.activeElement.dataset.filterKey;return this.filters[e]}}},{key:"getFocusedIndex",value:function(){if(this.anyFocused()){var e=document.activeElement;return parseInt(e.dataset.index)}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["filter-suggestions"]],viewQuery:function(e,t){var n;(1&e&&i.Gf(_,5),2&e)&&(i.iGM(n=i.CRH())&&(t.items=n))},inputs:{filters:"filters"},outputs:{filterSelected:"filterSelected"},decls:13,vars:4,consts:[[1,"table"],[1,"filter-suggestion-header","row"],["trans","",1,"column"],["role","list",1,"body"],["role","listitem","class","row filter-suggestion-item","tabindex","0",3,"click",4,"ngFor","ngForOf"],[1,"help-container"],["svgIcon","info"],["trans",""],["role","listitem","tabindex","0",1,"row","filter-suggestion-item",3,"click"],["filterSuggestion",""],["trans","",1,"column","label-column"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._uU(3,"Field"),i.qZA(),i.TgZ(4,"div",2),i._uU(5,"Description"),i.qZA(),i.qZA(),i.TgZ(6,"div",3),i.YNc(7,Z,6,4,"div",4),i.ALo(8,"keyvalue"),i.qZA(),i.qZA(),i.TgZ(9,"div",5),i._UZ(10,"mat-icon",6),i.TgZ(11,"div",7),i._uU(12," Use arrows, tab or mouse to navigate added filters. Backspace or delete key to remove them. "),i.qZA(),i.qZA()),2&e&&(i.xp6(7),i.Q6J("ngForOf",i.xi3(8,1,t.filters,t.originalOrder)))},directives:[m.P,v.sg,b.Hw],pipes:[v.Nd],styles:["[_nghost-%COMP%]{display:none;position:absolute;left:0;z-index:10;background-color:var(--be-background);width:100%;border-radius:4px;overflow:hidden;color:var(--be-text);box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}.visible[_nghost-%COMP%]{display:block}.filter-suggestion-header[_ngcontent-%COMP%]{background-color:var(--be-background-alternative)}.row[_ngcontent-%COMP%]{display:flex;height:55px;padding:15px;border-bottom:1px solid var(--be-divider-lighter)}.row[_ngcontent-%COMP%]:not(.header){cursor:pointer}.row[_ngcontent-%COMP%]:not(.header):focus, .row[_ngcontent-%COMP%]:not(.header):hover{background-color:var(--be-hover)}.row[_ngcontent-%COMP%]:not(.header):focus{outline:none}.column[_ngcontent-%COMP%]{flex:0 0 48%}.label-column[_ngcontent-%COMP%]{text-transform:capitalize}.help-container[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;background-color:var(--be-accent-emphasis)}.help-container[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:10px;color:var(--be-accent-default)}"],changeDetection:0}),e}(),x=n(24831),k=n(1486),A=n(31041),w=n(24859);function T(e,t){if(1&e&&(i.ynx(0),i._UZ(1,"img",2),i.TgZ(2,"div",3),i._uU(3),i.qZA(),i.BQk()),2&e){var n=t.ngIf;i.xp6(1),i.Q6J("src",n.image,i.LSH),i.xp6(2),i.Oqu(n.name)}}function C(e,t){1&e&&(i.TgZ(0,"div",4),i._uU(1,"Click to select"),i.qZA())}var q=function(){var e=function(){function e(t){p(this,e),this.dialog=t,this.value$=new u.X(null)}return h(e,[{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(e){}},{key:"writeValue",value:function(e){this.value$.next(e)}},{key:"onClick",value:function(){this.openSelectModelDialog()}},{key:"openSelectModelDialog",value:function(){var e=this;this.dialog.open(this.filter.component,this.filter.componentData).afterClosed().subscribe(function(t){t&&(e.value$.next(t),e.propagateChange(t))})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(w.u))},e.\u0275cmp=i.Xpm({type:e,selectors:[["select-model-control"]],hostBindings:function(e,t){1&e&&i.NdJ("click",function(){return t.onClick()})},inputs:{filter:"filter"},features:[i._Bn([{provide:A.JU,useExisting:e,multi:!0}])],decls:4,vars:4,consts:[[4,"ngIf","ngIfElse"],["defaultHint",""],[1,"image",3,"src"],[1,"name"],["trans",""]],template:function(e,t){if(1&e&&(i.YNc(0,T,4,2,"ng-container",0),i.ALo(1,"async"),i.YNc(2,C,2,0,"ng-template",null,1,i.W1O)),2&e){var n=i.MAs(3);i.Q6J("ngIf",i.lcZ(1,2,t.value$))("ngIfElse",n)}},directives:[v.O5,m.P],pipes:[v.Ov],styles:["[_nghost-%COMP%]{display:flex;align-items:center;padding:0 8px;cursor:pointer}img[_ngcontent-%COMP%]{height:22px;width:22px;border-radius:4px;margin-right:8px;flex-shrink:0;-o-object-fit:cover;object-fit:cover}"],changeDetection:0}),e}(),U={"=":"is","!=":"is not",">":"is greater than",">=":"is greater than or equal to","<":"is less than","<=":"is less than or equal to",has:"Include",doesntHave:"Do not include"},I=n(71294),M=function(){var e=function(){function e(t){p(this,e),this.breakpoints=t}return h(e,[{key:"transform",value:function(e,t){return t||this.breakpoints.isMobile$.value?e:U[e]}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(I.S,16))},e.\u0275pipe=i.Yjl({name:"operatorDisplayName",type:e,pure:!0}),e}(),O=["select"];function J(e,t){if(1&e&&(i.TgZ(0,"option",4),i._uU(1),i.ALo(2,"operatorDisplayName"),i.qZA()),2&e){var n=t.$implicit,a=i.oxw();i.Q6J("value",n),i.xp6(1),i.hij(" ",i.xi3(2,2,n,a.compact)," ")}}var P=function(){var e=function(){function e(){p(this,e)}return h(e,[{key:"ngAfterViewInit",value:function(){this.resizeSelect()}},{key:"resizeSelect",value:function(){var e,t=null===(e=this.select)||void 0===e?void 0:e.nativeElement;t&&t.selectedIndex>-1&&(t.style.width="".concat(t.options[t.selectedIndex].label.length+5,"ch"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i.Xpm({type:e,selectors:[["operator-select"]],viewQuery:function(e,t){var n;(1&e&&i.Gf(O,5),2&e)&&(i.iGM(n=i.CRH())&&(t.select=n.first))},inputs:{compact:"compact",formGroup:"formGroup",operators:"operators"},decls:4,vars:2,consts:[[3,"formGroup"],["formControlName","operator",1,"operator-select",3,"ngModelChange"],["select",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(i.ynx(0,0),i.TgZ(1,"select",1,2),i.NdJ("ngModelChange",function(){return t.resizeSelect()}),i.YNc(3,J,3,5,"option",3),i.qZA(),i.BQk()),2&e&&(i.Q6J("formGroup",t.formGroup),i.xp6(3),i.Q6J("ngForOf",t.operators))},directives:[A.JL,A.sg,A.EJ,A.JJ,A.u,v.sg,A.YN,A.Kr],pipes:[M],styles:['[_nghost-%COMP%]{display:flex;align-items:center;position:relative;height:100%}[_nghost-%COMP%]:before{content:"";position:absolute;top:0;bottom:0;width:50%;left:0;background-color:var(--be-chip)}[_nghost-%COMP%]:after{content:"";position:absolute;top:0;bottom:0;width:50%;right:0;background-color:var(--be-accent-default)}.operator-select[_ngcontent-%COMP%]{transition:width .1s ease-in-out 0s;padding:2px 8px;min-width:60px;max-width:200px;height:27px;color:var(--be-accent-default);z-index:10;background-color:var(--be-accent-contrast);text-overflow:ellipsis;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:10px;-moz-text-align-last:center;text-align-last:center;border:1px solid transparent}.operator-select[_ngcontent-%COMP%]:focus-visible{outline:0;border-color:var(--be-accent-default);box-shadow:0 0 0 1px #fff}'],changeDetection:0}),e}(),N=["valueInput"];function S(e,t){if(1&e&&i._UZ(0,"operator-select",8),2&e){var n=i.oxw().ngIf,a=i.oxw();i.Q6J("compact",a.compact)("formGroup",n)("operators",a.filter.operators)}}function D(e,t){if(1&e&&(i.TgZ(0,"option",16),i._uU(1),i.qZA()),2&e){var n=t.$implicit;i.Q6J("ngValue",n.value),i.xp6(1),i.hij(" ",n.key||n.value," ")}}function Q(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"select",10,11),i.NdJ("ngModelChange",function(){return i.CHM(n),i.oxw(2).resizeInput()}),i.YNc(3,D,2,2,"option",12),i.qZA(),i.O4$(),i.TgZ(4,"svg",13),i._UZ(5,"path",14),i._UZ(6,"path",15),i.qZA(),i.qZA()}if(2&e){var a=i.oxw(2);i.xp6(1),i.Q6J("id",a.key)("compareWith",a.compareFilterValueFn),i.xp6(2),i.Q6J("ngForOf",a.filter.options)}}function Y(e,t){if(1&e&&(i.TgZ(0,"div",17),i._UZ(1,"input",18,11),i.qZA()),2&e){var n=i.oxw(2);i.xp6(1),i.Q6J("id",n.key)}}function L(e,t){if(1&e&&i._UZ(0,"select-model-control",19,11),2&e){var n=i.oxw(2);i.Q6J("filter",n.filter)("id",n.key)}}function E(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"div",9),i.TgZ(1,"input",20,11),i.NdJ("ngModelChange",function(){return i.CHM(n),i.oxw(2).resizeInput()}),i.qZA(),i.qZA()}if(2&e){var a=i.oxw(2);i.xp6(1),i.Q6J("id",a.key)("type",a.filter.inputType||"text")}}function F(e,t){if(1&e){var n=i.EpF();i.ynx(0,1),i.TgZ(1,"div",2),i.NdJ("click",function(){return i.CHM(n),i.oxw().el.nativeElement.focus()}),i._uU(2),i.qZA(),i.YNc(3,S,1,3,"operator-select",3),i.ynx(4,4),i.YNc(5,Q,7,3,"div",5),i.YNc(6,Y,3,1,"div",6),i.YNc(7,L,2,2,"select-model-control",7),i.YNc(8,E,3,2,"div",5),i.BQk(),i.BQk()}if(2&e){var a=t.ngIf,o=i.oxw();i.Q6J("formGroup",a),i.xp6(2),i.Oqu(o.filter.label),i.xp6(1),i.Q6J("ngIf",o.filter.operators),i.xp6(1),i.Q6J("ngSwitch",o.filter.type),i.xp6(1),i.Q6J("ngSwitchCase","select"),i.xp6(1),i.Q6J("ngSwitchCase","datePicker"),i.xp6(1),i.Q6J("ngSwitchCase","selectModel"),i.xp6(1),i.Q6J("ngSwitchCase","input")}}var R=function(){var e=function(){function e(t){p(this,e),this.el=t,this.compareFilterValueFn=function(e,t){return k(e,t)}}return h(e,[{key:"ngAfterViewInit",value:function(){this.resizeInput()}},{key:"focus",value:function(){this.el.nativeElement.focus()}},{key:"focusValueInput",value:function(){var e;this.valueInput instanceof q?this.valueInput.openSelectModelDialog():(null===(e=this.valueInput)||void 0===e?void 0:e.nativeElement)&&this.valueInput.nativeElement.focus()}},{key:"resizeInput",value:function(){var e,t=null===(e=this.valueInput)||void 0===e?void 0:e.nativeElement;if("SELECT"===(null==t?void 0:t.nodeName)){var n=t;n.selectedIndex>-1&&(n.style.width="".concat(n.options[n.selectedIndex].label.length+5,"ch"))}else"INPUT"===(null==t?void 0:t.nodeName)&&"date"!==t.type&&(t.style.width="".concat(t.value.length+7,"ch"))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(i.SBq))},e.\u0275cmp=i.Xpm({type:e,selectors:[["active-filter"]],viewQuery:function(e,t){var n;(1&e&&i.Gf(N,5),2&e)&&(i.iGM(n=i.CRH())&&(t.valueInput=n.first))},hostAttrs:["tabIndex","0","role","button"],hostVars:1,hostBindings:function(e,t){2&e&&i.uIk("data-control-key",t.key)},inputs:{key:"key",compact:"compact",form:"form",filter:"filter"},decls:1,vars:1,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],["trans","",1,"filter-label",3,"click"],[3,"compact","formGroup","operators",4,"ngIf"],[3,"ngSwitch"],["class","filter-input-container",4,"ngSwitchCase"],["class","date-picker-container",4,"ngSwitchCase"],["formControlName","value","class","filter-value select-model-input",3,"filter","id",4,"ngSwitchCase"],[3,"compact","formGroup","operators"],[1,"filter-input-container"],["formControlName","value",1,"filter-input","filter-value",3,"id","compareWith","ngModelChange"],["valueInput",""],["trans","",3,"ngValue",4,"ngFor","ngForOf"],["viewBox","0 0 24 24",1,"caret-svg"],["d","M7 10l5 5 5-5z"],["d","M0 0h24v24H0z","fill","none"],["trans","",3,"ngValue"],[1,"date-picker-container"],["type","date","formControlName","value",1,"date-input","filter-value",3,"id"],["formControlName","value",1,"filter-value","select-model-input",3,"filter","id"],["formControlName","value","min","1","required","",1,"filter-input","filter-value",3,"id","type","ngModelChange"]],template:function(e,t){1&e&&i.YNc(0,F,9,8,"ng-container",0),2&e&&i.Q6J("ngIf",t.form.controls[t.key])},directives:[v.O5,A.JL,A.sg,m.P,v.RF,v.n9,P,A.EJ,A.JJ,A.u,v.sg,A.YN,A.Kr,A.Fj,q,A.Q7],styles:["[_nghost-%COMP%]{display:inline-flex;align-items:flex-start;border-radius:4px;height:37px;background-color:var(--be-chip);margin:3px 5px 3px 0}[_nghost-%COMP%]:focus{outline:none;box-shadow:var(--be-accent-default) 0 0 0 1px}.filter-label[_ngcontent-%COMP%]{color:var(--be-text);line-height:37px;cursor:pointer;padding:0 12px;text-transform:capitalize;white-space:nowrap;font-weight:500;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.filter-input-container[_ngcontent-%COMP%]{position:relative;height:100%;overflow:hidden;border-radius:0 4px 4px 0}.caret-svg[_ngcontent-%COMP%]{position:absolute;top:9.5px;right:5px;z-index:11;fill:var(--be-accent-contrast);width:18px;height:18px;pointer-events:none}.filter-input[_ngcontent-%COMP%]{border:0;transition:width .1s ease-in-out 0s;padding:0 12px;min-width:60px;max-width:200px;z-index:10;text-overflow:ellipsis;-webkit-appearance:none;-moz-appearance:none;appearance:none;height:100%;font-weight:500}select.filter-select[_ngcontent-%COMP%]{padding:0 25px 0 12px}.date-input[_ngcontent-%COMP%]{position:relative;max-width:30ch;line-height:37px;height:37px;font-size:inherit;border:none;margin:0;padding:0 12px;width:20ch;font-weight:500}.select-model-input[_ngcontent-%COMP%]{min-width:76px;height:100%}.filter-value[_ngcontent-%COMP%]{background-color:var(--be-accent-default);color:var(--be-accent-contrast);border-radius:0 4px 4px 0}"],changeDetection:0}),e}();function $(e,t){if(1&e&&i._UZ(0,"active-filter",2),2&e){var n=t.ngIf,a=i.oxw(),o=a.$implicit,r=a.index,s=i.oxw();i.Q6J("compact",s.compact)("key",o.key)("form",s.form)("filter",n),i.uIk("data-index",r)}}function V(e,t){if(1&e&&(i.ynx(0),i.YNc(1,$,1,5,"active-filter",1),i.BQk()),2&e){var n=t.$implicit,a=i.oxw();i.xp6(1),i.Q6J("ngIf",a.config[n.value.value.key])}}var B=["*"],H=function(){var e=function(){function e(t,n,i){p(this,e),this.fb=t,this.cd=n,this.el=i}return h(e,[{key:"add",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0!==t.value?t.value:e.defaultValue,i=this.fb.group({key:e.key,value:n,operator:t.operator||e.defaultOperator}),a=Object.keys(this.form.controls).length+(0,x.O)(8);this.form.addControl(a,i,{emitEvent:""!==n}),this.cd.detectChanges(),t.focus&&this.filters.last.focusValueInput()}},{key:"removeByKey",value:function(e){this.form.removeControl(e),this.cd.markForCheck()}},{key:"removeCurrentlyFocused",value:function(){var e=document.activeElement;this.removeByKey(e.dataset.controlKey)}},{key:"anyFocused",value:function(){return"ACTIVE-FILTER"===document.activeElement.nodeName}},{key:"focusLast",value:function(){this.filters.last&&this.filters.last.focus()}},{key:"focusPrevious",value:function(){var e=this.getFocusedIndex(),t=this.filters.get(e-1);t&&t.focus()}},{key:"getByIndex",value:function(e){return this.filters.get(e)}},{key:"lastIsFocused",value:function(){return this.getFocusedIndex()===this.filters.length-1}},{key:"getFocusedIndex",value:function(){var e=document.activeElement.dataset.index;return e?parseInt(e):null}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(A.qu),i.Y36(i.sBO),i.Y36(i.SBq))},e.\u0275cmp=i.Xpm({type:e,selectors:[["active-filters"]],viewQuery:function(e,t){var n;(1&e&&i.Gf(R,5),2&e)&&(i.iGM(n=i.CRH())&&(t.filters=n))},inputs:{compact:"compact",form:"form",config:"config"},ngContentSelectors:B,decls:3,vars:3,consts:[[4,"ngFor","ngForOf"],[3,"compact","key","form","filter",4,"ngIf"],[3,"compact","key","form","filter"]],template:function(e,t){1&e&&(i.F$t(),i.YNc(0,V,2,1,"ng-container",0),i.ALo(1,"keyvalue"),i.Hsn(2)),2&e&&i.Q6J("ngForOf",i.lcZ(1,1,t.form.controls))},directives:[v.sg,v.O5,R],pipes:[v.Nd],styles:["[_nghost-%COMP%]{display:flex;flex:1 1 auto;flex-wrap:wrap;align-items:center}"],changeDetection:0}),e}(),z=n(63337),G=function(e){return e[e.ENTER=13]="ENTER",e[e.SPACE=32]="SPACE",e[e.ESCAPE=27]="ESCAPE",e[e.DELETE=46]="DELETE",e[e.ARROW_UP=38]="ARROW_UP",e[e.ARROW_RIGHT=39]="ARROW_RIGHT",e[e.ARROW_DOWN=40]="ARROW_DOWN",e[e.ARROW_LEFT=37]="ARROW_LEFT",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.S=83]="S",e[e.N=78]="N",e[e.A=65]="A",e[e.T=84]="T",e[e.B=66]="B",e[e.C=67]="C",e[e.O=79]="O",e[e.P=80]="P",e[e.R=82]="R",e[e.F=70]="F",e[e.Y=89]="Y",e[e.Z=90]="Z",e}({}),j=function(){var e=function(){function e(){p(this,e),this.bindings=[]}return h(e,[{key:"add",value:function(e,t){var n=this;Array.isArray(e)||(e=[e]),e.forEach(function(e){n.bindings.push({keybind:n.parseKeybindString(e),keybindString:e,callback:t})})}},{key:"addWithPreventDefault",value:function(e,t){this.bindings.push({keybind:this.parseKeybindString(e),keybindString:e,callback:t,preventDefault:!0})}},{key:"listenOn",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,f.R)(e,"keydown").subscribe(function(e){!n.fireIfInputFocused&&["input","select"].includes(document.activeElement.nodeName.toLowerCase())||t.executeBindings(e)})}},{key:"executeBindings",value:function(e){var t=this;this.bindings.forEach(function(n){t.bindingMatches(n.keybind,e)&&(n.preventDefault&&e.preventDefault&&e.preventDefault(),n.callback(e))})}},{key:"bindingMatches",value:function(e,t){return G[e.key.toUpperCase()]===t.keyCode&&(t.ctrlKey===e.ctrl||t.metaKey===e.ctrl)&&t.shiftKey===e.shift}},{key:"parseKeybindString",value:function(e){var t=e.trim().split("+"),n={ctrl:!1,shift:!1,key:""};return t.forEach(function(e){"ctrl"===(e=e.trim().toLowerCase())?n.ctrl=!0:"shift"===e?n.shift=!0:n.key=e}),n}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),X=n(84369),W=n(40450),K=["searchInput"],ee=["filterSuggestion"];function te(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"button",8),i.NdJ("click",function(){return i.CHM(n),i.oxw().clearSearch()}),i._UZ(1,"mat-icon",9),i.qZA()}}function ne(e,t){1&e&&(i.TgZ(0,"span",13),i._uU(1,"Filter"),i.qZA())}function ie(e,t){if(1&e){var n=i.EpF();i.TgZ(0,"button",10),i.NdJ("click",function(){return i.CHM(n),i.oxw().toggleFilterDropdown()}),i._UZ(1,"mat-icon",11),i.YNc(2,ne,2,0,"span",12),i.qZA()}if(2&e){var a=i.oxw();i.xp6(2),i.Q6J("ngIf",!a.compact)}}var ae=function(){var e=function(){function e(t,n,a,o,r,s){p(this,e),this.fb=t,this.route=n,this.el=a,this.keybinds=o,this.cd=r,this.router=s,this.filterChange=new i.vpe,this.inputFocus=new i.vpe,this.form=this.fb.group({}),this.filterBarHeight=0,this.filterDropdownVisible$=new u.X(!1)}return h(e,[{key:"filters",set:function(e){var t=this;e?(this.keyedFilters={},(e||[]).forEach(function(e){t.keyedFilters[e.key]=e})):this.keyedFilters=null}},{key:"ngOnInit",value:function(){this.haveFiltersOrQuery$=(0,d.aj)([this.searchControl.valueChanges.pipe((0,o.O)(null)),this.form.valueChanges.pipe((0,o.O)(null))]).pipe((0,r.U)(function(e){var t=l(e,2),n=t[0],i=t[1];return n||i&&0!==Object.keys(i).length}))}},{key:"ngAfterViewInit",value:function(){this.watchForSizeChanges(),this.setFiltersFromQuery(),this.setupKeybinds(),this.subscribeToCloseActions(),this.bindToFormValueChange()}},{key:"onClick",value:function(e){e.target!==this.el.nativeElement&&e.target!==this.activeFilters.el.nativeElement||this.searchInput.nativeElement.focus()}},{key:"ngOnDestroy",value:function(){var e;null===(e=this.closeActionsStream$)||void 0===e||e.unsubscribe()}},{key:"clearSearch",value:function(){var e=this;Object.keys(this.form.controls).forEach(function(t){e.activeFilters.removeByKey(t)}),this.searchControl.reset(null,{emitEvent:!1}),this.form.reset()}},{key:"toggleFilterDropdown",value:function(){this.filterDropdownVisible$.next(!this.filterDropdownVisible$.value)}},{key:"addFilterFromDropdownClick",value:function(e){this.activeFilters.add(e,{focus:!0}),this.filterDropdownVisible$.next(!1)}},{key:"searchInputIsFocused",value:function(){return document.activeElement===this.searchInput.nativeElement}},{key:"cursorAtStartOfSearchInput",value:function(){return this.searchInputIsFocused()&&0===this.searchInput.nativeElement.selectionStart}},{key:"cursorAtEndOfSearchInput",value:function(){return this.searchInputIsFocused()&&this.searchInput.nativeElement.selectionStart===this.searchInput.nativeElement.value.length}},{key:"bindToFormValueChange",value:function(){var e=this;this.form.valueChanges.pipe((0,r.U)(function(e){return Object.keys(e).length?e:null}),(0,s.x)()).subscribe(function(t){e.filterChange.emit(t?oe(t):null)})}},{key:"watchForSizeChanges",value:function(){var e=this;new ResizeObserver(function(t){e.filterBarHeight=t[0].contentRect.height}).observe(this.el.nativeElement,{box:"border-box"})}},{key:"setFiltersFromQuery",value:function(){var e=this,t=this.router.routerState.root.snapshot.queryParams;t.filters&&re(t.filters).forEach(function(t){e.activeFilters.add(e.keyedFilters[t.key],t)}),t.query&&this.searchControl.setValue(t.query)}},{key:"setupKeybinds",value:function(){var e=this;this.keybinds.add(["backspace","delete"],function(){return e.cursorAtStartOfSearchInput()?e.activeFilters.focusLast():e.activeFilters.anyFocused()?(e.activeFilters.removeCurrentlyFocused(),e.searchInput.nativeElement.focus()):void 0}),this.keybinds.add("arrow_left",function(t){e.cursorAtStartOfSearchInput()?(e.activeFilters.focusLast(),t.preventDefault()):e.activeFilters.anyFocused()&&(e.activeFilters.focusPrevious(),t.preventDefault())}),this.keybinds.add("arrow_right",function(t){if(e.activeFilters.anyFocused()){t.preventDefault();var n=e.activeFilters.getFocusedIndex(),i=e.activeFilters.getByIndex(n+1);i?i.focus():e.activeFilters.lastIsFocused()&&e.searchInput.nativeElement.focus()}}),this.keybinds.add(["arrow_down","tab"],function(t){if(e.cursorAtEndOfSearchInput()||e.suggestions.anyFocused()){t.preventDefault(),e.filterDropdownVisible$.value||e.toggleFilterDropdown();var n=e.suggestions.getFocusedIndex(),i=n>-1?n:0;e.suggestions.anyFocused()&&(i+=1),i>=e.suggestions.items.length&&(i=0),e.suggestions.focusItemAt(i)}}),this.keybinds.add(["arrow_up","shift+tab"],function(t){if(e.suggestions.anyFocused()){t.preventDefault();var n=e.activeFilters.getFocusedIndex(),i=n>-1?n:0;-1===(i-=1)?e.searchInput.nativeElement.focus():e.suggestions.focusItemAt(i)}}),this.keybinds.add("enter",function(t){var n=e.suggestions.getFocusedFilter();n&&(t.preventDefault(),e.activeFilters.add(n,{focus:!0}),e.filterDropdownVisible$.next(!1))}),this.keybinds.add("esc",function(t){e.filterDropdownVisible$.value&&(t.preventDefault(),e.filterDropdownVisible$.next(!1))}),this.keybinds.listenOn(document,{fireIfInputFocused:!0})}},{key:"subscribeToCloseActions",value:function(){var e=this;this.closeActionsStream$=(0,g.T)((0,f.R)(document,"click"),(0,f.R)(document,"auxclick"),(0,f.R)(document,"touchend")).pipe((0,c.h)(function(t){var n=t.target;return n!==e.el.nativeElement&&!e.el.nativeElement.contains(n)})).subscribe(function(){e.filterDropdownVisible$.next(!1)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(A.qu),i.Y36(z.gz),i.Y36(i.SBq),i.Y36(j),i.Y36(i.sBO),i.Y36(z.F0))},e.\u0275cmp=i.Xpm({type:e,selectors:[["search-input-with-filters"]],viewQuery:function(e,t){var n;(1&e&&(i.Gf(K,5),i.Gf(y,5),i.Gf(H,5),i.Gf(ee,5)),2&e)&&(i.iGM(n=i.CRH())&&(t.searchInput=n.first),i.iGM(n=i.CRH())&&(t.suggestions=n.first),i.iGM(n=i.CRH())&&(t.activeFilters=n.first),i.iGM(n=i.CRH())&&(t.filterContainers=n))},hostBindings:function(e,t){1&e&&i.NdJ("click",function(e){return t.onClick(e)})},inputs:{compact:"compact",searchControl:"searchControl",pluralName:"pluralName",filters:"filters"},outputs:{filterChange:"filterChange",inputFocus:"inputFocus"},decls:11,vars:18,consts:[[3,"form","config","compact"],[1,"input-container","search-input-container"],["svgIcon","search",1,"search-icon"],["type","text",1,"search-input",3,"placeholder","formControl","focus"],["searchInput",""],["type","button","class","clear-button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-button","","class","filter-button",3,"click",4,"ngIf"],[3,"filters","filterSelected"],["type","button","mat-icon-button","",1,"clear-button",3,"click"],["svgIcon","close"],["type","button","mat-button","",1,"filter-button",3,"click"],["svgIcon","filter-list",1,"filter-button-icon"],["class","filter-button-text","trans","",4,"ngIf"],["trans","",1,"filter-button-text"]],template:function(e,t){1&e&&(i.TgZ(0,"active-filters",0),i.TgZ(1,"div",1),i._UZ(2,"mat-icon",2),i.TgZ(3,"input",3,4),i.NdJ("focus",function(){return t.inputFocus.emit()}),i.ALo(5,"trans"),i.qZA(),i.qZA(),i.qZA(),i.YNc(6,te,2,0,"button",5),i.ALo(7,"async"),i.YNc(8,ie,3,1,"button",6),i.TgZ(9,"filter-suggestions",7),i.NdJ("filterSelected",function(e){return t.addFilterFromDropdownClick(e)}),i.ALo(10,"async"),i.qZA()),2&e&&(i.Q6J("form",t.form)("config",t.keyedFilters)("compact",t.compact),i.xp6(3),i.Q6J("placeholder",i.lcZ(5,12,"Type to search for "+t.pluralName))("formControl",t.searchControl),i.xp6(3),i.Q6J("ngIf",i.lcZ(7,14,t.haveFiltersOrQuery$)),i.xp6(2),i.Q6J("ngIf",t.keyedFilters),i.xp6(1),i.Udp("top",t.filterBarHeight+5+"px"),i.ekj("visible",i.lcZ(10,16,t.filterDropdownVisible$)),i.Q6J("filters",t.keyedFilters))},directives:[H,b.Hw,A.Fj,A.JJ,A.oH,v.O5,y,X.lW,m.P],pipes:[W.R,v.Ov],styles:["[_nghost-%COMP%]{display:flex;background-color:var(--be-background);border:1px solid var(--be-divider-default);height:45px;border-radius:4px;position:relative;padding-left:3px;overflow:hidden;width:100%}@media only screen and (max-width:768px){[_nghost-%COMP%]{flex-wrap:wrap;justify-content:center}}[_nghost-%COMP%]:focus-within{outline:none;border-color:var(--be-accent-lighter);box-shadow:0 0 0 2px var(--be-accent-lighter);z-index:3;overflow:visible;height:auto!important}.search-input-container[_ngcontent-%COMP%]{display:flex;align-items:center;flex:1 1 auto;width:auto;height:43px;padding-left:8px}.search-icon[_ngcontent-%COMP%]{display:block;color:var(--be-secondary-text);margin-right:5px}.search-input[_ngcontent-%COMP%]{border:none;height:100%;padding:0}.search-input[_ngcontent-%COMP%]:focus{box-shadow:none;z-index:1}.filter-button[_ngcontent-%COMP%]{min-width:auto;padding:0 14px}.clear-button[_ngcontent-%COMP%], .filter-button[_ngcontent-%COMP%]{color:var(--be-accent-default);height:43px}.clear-button[_ngcontent-%COMP%]{width:43px;line-height:43px}.filter-button-text[_ngcontent-%COMP%]{margin-left:10px}"],changeDetection:0}),e}(),oe=function(e){var t=[];return Object.values(e).forEach(function(e){""!==e.value&&t.push(e)}),t.length?encodeURIComponent(btoa(JSON.stringify(t))):""},re=function(e){var t=[];try{t=JSON.parse(atob(decodeURIComponent(e)))}catch(n){}return t},se=function(){var e=function(){function e(t){p(this,e),this.datable=t}return h(e,[{key:"onFilterChange",value:function(e){this.datable.filters$.next({filters:e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(a.x))},e.\u0275cmp=i.Xpm({type:e,selectors:[["datatable-filters"]],inputs:{pluralName:"pluralName",filters:"filters"},decls:1,vars:3,consts:[[3,"searchControl","pluralName","filters","filterChange"]],template:function(e,t){1&e&&(i.TgZ(0,"search-input-with-filters",0),i.NdJ("filterChange",function(e){return t.onFilterChange(e)}),i.qZA()),2&e&&i.Q6J("searchControl",t.datable.searchControl)("pluralName",t.pluralName)("filters",t.filters)},directives:[ae],styles:[""],changeDetection:0}),e}()},59075:function(e,t,n){"use strict";n.d(t,{XQ:function(){return i},Bq:function(){return a},pg:function(){return o},Hi:function(){return r}});var i=function e(t){p(this,e),this.defaultValue=void 0!==t.defaultValue?t.defaultValue:"",this.key=t.key||"",this.label=t.label||t.key||"",this.description=t.description||"",this.defaultOperator=t.defaultOperator||o.eq,this.required=!!t.required,this.order=void 0===t.order?1:t.order,this.type=t.type||a.Select,this.inputType=t.inputType,this.options=t.options||[],this.operators=t.operators,this.component=t.component,this.componentData=t.componentData},a=function(e){return e.Select="select",e.DatePicker="datePicker",e.SelectModel="selectModel",e.Input="input",e.StaticValue="staticValue",e}({}),o=function(e){return e.eq="=",e.ne="!=",e.gt=">",e.gte=">=",e.lt="<",e.lte="<=",e.has="has",e.doesntHave="doesntHave",e}({}),r=[o.eq,o.ne,o.gt,o.gte,o.lt,o.lte]},45523:function(e,t,i){"use strict";i.d(t,{k4:function(){return r},T7:function(){return s},yH:function(){return l}});var o=i(59075),r=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).type=o.Bq.DatePicker,e.operators=o.Hi,e.defaultOperator=o.pg.lte,e.defaultValue=(new Date).toISOString().split("T")[0],e}return i}(o.XQ),s=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).key="created_at",e.label="Created At",e}return i}(r),l=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).key="updated_at",e.label="Updated At",e}return i}(r)},86668:function(e,t,n){"use strict";n.d(t,{V:function(){return v}});var i=n(31041),a=n(43835),o=n(79996),r=n(35366),s=n(56515),l=n(61116),c=n(84369),u=n(77307),d=n(38116),g=n(40450);function f(e,t){if(1&e&&(r.TgZ(0,"div",6),r.TgZ(1,"div",7),r._uU(2,"Items per page"),r.qZA(),r.TgZ(3,"div",8),r.TgZ(4,"select",9),r.TgZ(5,"option",10),r._uU(6,"10"),r.qZA(),r.TgZ(7,"option",10),r._uU(8,"15"),r.qZA(),r.TgZ(9,"option",10),r._uU(10,"20"),r.qZA(),r.TgZ(11,"option",10),r._uU(12,"50"),r.qZA(),r.TgZ(13,"option",10),r._uU(14,"100"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){var n=r.oxw();r.xp6(4),r.Q6J("formControl",n.perPageControl),r.xp6(1),r.Q6J("ngValue",10),r.xp6(2),r.Q6J("ngValue",15),r.xp6(2),r.Q6J("ngValue",20),r.xp6(2),r.Q6J("ngValue",50),r.xp6(2),r.Q6J("ngValue",100)}}function m(e,t){if(1&e&&(r.TgZ(0,"div",11),r._uU(1),r.ALo(2,"trans"),r.ALo(3,"number"),r.qZA()),2&e){var n=r.oxw();r.xp6(1),r.HOy(" ",n.from," - ",n.to," ",r.lcZ(2,4,"of")," ",r.lcZ(3,6,n.totalRecords)," ")}}var v=function(){var e=function(){function e(t,n){p(this,e),this.datable=t,this.cd=n,this.hidePerPage=!1,this.perPageControl=new i.NI(15)}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.changeRef=this.datable.paginator.response$.pipe((0,a.h)(function(e){return!!(null==e?void 0:e.pagination)}),(0,o.U)(function(e){return e.pagination})).subscribe(function(t){e.totalRecords=t.total,e.to=Math.min(t.per_page*t.current_page,e.totalRecords),e.from=Math.max(e.to-t.per_page,1),e.havePrevious=e.datable.paginator.canLoadPrevPage(),e.haveNext=e.datable.paginator.canLoadNextPage(),e.perPageControl.setValue(parseInt(""+t.per_page),{emitEvent:!1}),e.cd.markForCheck()}),this.perPageControl.valueChanges.subscribe(function(t){e.datable.paginator.changePerPage(t)})}},{key:"ngOnDestroy",value:function(){this.changeRef.unsubscribe(),this.datable.destroy()}},{key:"previousPage",value:function(){this.datable.paginator.previousPage()}},{key:"nextPage",value:function(){this.datable.paginator.nextPage()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(s.x),r.Y36(r.sBO))},e.\u0275cmp=r.Xpm({type:e,selectors:[["datatable-footer"]],inputs:{hidePerPage:"hidePerPage"},decls:9,vars:8,consts:[["class","page-size",4,"ngIf"],[1,"range-actions"],["class","range-label",4,"ngIf"],["type","button","mat-icon-button","",1,"range-button",3,"disabled","click"],["svgIcon","chevron-left"],["svgIcon","chevron-right"],[1,"page-size"],["trans","",1,"page-size-label"],[1,"input-container"],[1,"page-size-input",3,"formControl"],[3,"ngValue"],[1,"range-label"]],template:function(e,t){1&e&&(r.YNc(0,f,15,6,"div",0),r.TgZ(1,"div",1),r.YNc(2,m,4,8,"div",2),r.TgZ(3,"button",3),r.NdJ("click",function(){return t.previousPage()}),r.ALo(4,"async"),r._UZ(5,"mat-icon",4),r.qZA(),r.TgZ(6,"button",3),r.NdJ("click",function(){return t.nextPage()}),r.ALo(7,"async"),r._UZ(8,"mat-icon",5),r.qZA(),r.qZA()),2&e&&(r.Q6J("ngIf",!t.hidePerPage),r.xp6(2),r.Q6J("ngIf",t.from&&t.to&&t.totalRecords),r.xp6(1),r.Q6J("disabled",!t.havePrevious||r.lcZ(4,4,t.datable.paginator.loading$)),r.xp6(3),r.Q6J("disabled",!t.haveNext||r.lcZ(7,6,t.datable.paginator.loading$)))},directives:[l.O5,c.lW,u.Hw,d.P,i.EJ,i.JJ,i.oH,i.YN,i.Kr],pipes:[l.Ov,g.R,l.JJ],styles:["[_nghost-%COMP%]{display:flex;padding:0 8px;align-items:center;justify-content:flex-end;flex-wrap:wrap-reverse;width:100%;height:56px}.page-size[_ngcontent-%COMP%]{display:flex;align-items:center;margin-right:8px}.page-size-label[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--be-secondary-text);margin:0 4px}.input-container[_ngcontent-%COMP%]{width:auto}.page-size-input[_ngcontent-%COMP%]{width:60px;height:33px;padding:4px;margin:0 4px}.range-actions[_ngcontent-%COMP%]{display:flex;align-items:center}.range-label[_ngcontent-%COMP%]{margin:0 32px 0 24px;font-size:1.2rem}.range-button[_ngcontent-%COMP%], .range-label[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.range-button[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{width:28px;height:28px;line-height:28px}"],changeDetection:0}),e}()},51685:function(e,t,n){"use strict";n.d(t,{x:function(){return Z}});var i=n(61116),a=n(77307),o=n(68400),r=n(40994),s=n(31041),l=n(84369),c=n(95522),u=n(27701),d=n(56160),g=n(58666),h=n(50615),f=n(92935),m=n(99808),v=n(35366),b=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=v.oAB({type:e}),e.\u0275inj=v.cJS({imports:[[i.ez,o.N,s.UX,a.Ps,l.ot,f.Is,m.p]]}),e}(),_=n(63337),Z=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=v.oAB({type:e}),e.\u0275inj=v.cJS({imports:[[i.ez,o.N,s.UX,s.u5,d.G,g.u,h.X,b,_.Bz,l.ot,a.Ps,r.p9,c.Hi,u.Cv],r.p9]}),e}()},56515:function(t,n,i){"use strict";i.d(n,{x:function(){return O}});var a=i(78512),o=i(3080),r=i(91741),s=i(40878),u=i(79996),d=i(44689),g=i(66599),f=i(35366),m=i(63337),v=i(68515),b=i(36402),_=function(){var e=function(){function e(t,n,i){var o=this;p(this,e),this.router=t,this.http=n,this.localStorage=i,this.params$=new a.X({}),this.paginatedOnce$=new a.X(!1),this.loading$=new a.X(!1),this.response$=new a.X(null),this.dontUpdateQueryParams=!1,this.perPageCacheKey=null,this.noResults$=this.response$.pipe((0,u.U)(function(e){return o.paginatedOnce$.value&&0===e.pagination.data.length}))}return h(e,[{key:"params",get:function(){return this.params$.value}},{key:"currentPage",get:function(){var e,t;return null===(t=null===(e=this.response$.value)||void 0===e?void 0:e.pagination)||void 0===t?void 0:t.current_page}},{key:"paginate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=this.subscription?{}:this.currentQueryParams();this.params$.next(Object.assign(Object.assign(Object.assign({},this.response$.value?{perPage:this.response$.value.pagination.per_page,page:this.response$.value.pagination.current_page}:{}),i),e)),this.subscription||this.init(t,n)}},{key:"nextPage",value:function(){var e=this.response$.value.pagination.current_page||0;this.paginate(Object.assign(Object.assign({},this.params$.value),{page:e+1,cursor:this.response$.value.pagination.next_cursor}))}},{key:"previousPage",value:function(){var e=this.response$.value.pagination.current_page;this.paginate(Object.assign(Object.assign({},this.params$.value),{page:e-1||1,cursor:this.response$.value.pagination.prev_cursor}))}},{key:"changePerPage",value:function(e){var t;e!==(null===(t=this.params$.value)||void 0===t?void 0:t.perPage)&&(this.perPageCacheKey&&this.localStorage.set(this.perPageCacheKey,e),this.paginate(Object.assign(Object.assign({},this.params$.value),{perPage:e})))}},{key:"currentQueryParams",value:function(){return this.router.routerState.root.snapshot.queryParams}},{key:"init",value:function(e,t){var n=this;this.subscription=this.params$.pipe((0,d.w)(function(i){n.loading$.next(!0);var a=!n.paginatedOnce$.value;return a&&n.perPageCacheKey&&n.localStorage.get(n.perPageCacheKey)&&(i=Object.assign({perPage:n.localStorage.get(n.perPageCacheKey)},i)),(a&&t?(0,s.of)({pagination:t}):n.http.get(e,i)).pipe((0,g.b)(function(){n.updateQueryParams(i),n.loading$.next(!1),n.paginatedOnce$.next(!0)},function(){n.loading$.next(!1),n.paginatedOnce$.next(!0)}))})).subscribe(function(e){n.response$.next(e)})}},{key:"updateQueryParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.dontUpdateQueryParams){for(var t in e)Array.isArray(e[t])&&(e[t]=e[t].join(","));this.router.navigate([],{queryParams:e,replaceUrl:!0})}}},{key:"canLoadNextPage",value:function(){var e,t=null===(e=this.response$.value)||void 0===e?void 0:e.pagination;return!!t&&(!!t.next_cursor||this.currentPage<t.last_page)}},{key:"canLoadPrevPage",value:function(){var e,t=null===(e=this.response$.value)||void 0===e?void 0:e.pagination;return!!t&&(!!t.prev_cursor||this.currentPage>1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.LFG(m.F0),f.LFG(v.r),f.LFG(b.m))},e.\u0275prov=f.Yz7({token:e,factory:e.\u0275fac}),e}(),Z=i(47701),y=i(62855),x=i(43835),k=i(73709),A=i(4694),w=i(72798),T=i(52907),C=i(19861);function q(e,t){var n=T.pick(t,e);if((0,C.t6)(n)){var i=Number(n);return i<9007199254740991?i:n}return n}var U=i(9636),I=i(31041),M=i(24859),O=function(){var t=function(){function t(e,n,i,o){p(this,t),this.modal=e,this.router=n,this.http=i,this.localStorage=o,this.sort$=new a.X({}),this.filters$=new a.X({}),this.searchControl=new I.NI,this.searchTerm$=new a.X(null),this.staticParams$=new a.X({}),this.paginator=new _(this.router,this.http,this.localStorage),this.ignoreNextParamChange=!1,this.originalData$=new a.X([]),this.data$=new a.X([]),this.selectedRows$=new a.X([])}return h(t,[{key:"data",get:function(){return this.data$.value},set:function(e){var t=c(e);this.originalData$.next(t),this.data$.next(t),this.ignoreNextParamChange=!0,this.reset()}},{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.config=t,this.staticParams$.next(Object.assign(Object.assign({},this.staticParams$.value),t.staticParams)),t.uri?this.connectToPaginator():t.initialData&&(this.data=t.initialData),t.uri){var n=this.router.routerState.root.snapshot.queryParams,i=n.query;this.searchControl.setValue(i),this.searchTerm$.next(i),this.sort$.next({orderBy:n.orderBy,orderDir:n.orderDir})}return this.searchControlSub=this.searchControl.valueChanges.pipe((0,Z.b)(300)).subscribe(function(t){e.searchTerm$.next(t)}),this.mainSub=(0,o.aj)([this.sort$,this.filters$,this.searchTerm$.pipe((0,u.U)(function(e){return{query:e}})),this.staticParams$]).pipe((0,Z.b)(0,r.Z),(0,u.U)(function(e){return Object.assign.apply(Object,[{}].concat(c(e)))})).subscribe(function(t){if(e.ignoreNextParamChange)return e.ignoreNextParamChange=!1;t=(0,k.N)(t),Object.entries(t).forEach(function(e){var n=l(e,2),i=n[0],a=n[1];"object"==typeof a&&a.id&&(t["".concat(i,"Id")]=a.id,delete t[i])}),e.config.uri?e.paginator.paginate(t,e.config.uri,e.config.initialData):Object.keys(t).length&&e.data.length&&e.applyLocalTransforms(t)}),this}},{key:"connectToPaginator",value:function(){var e=this;this.paginatorSub=this.paginator.response$.pipe((0,y.G)()).subscribe(function(t){var n,i=l(t,2),a=i[0],o=i[1],r=e.config.infiniteScroll&&(null===(n=null==a?void 0:a.pagination)||void 0===n?void 0:n.current_page)!==o.pagination.current_page?[].concat(c(e.data$.value),c(o.pagination.data)):o.pagination.data;e.data$.next(r)})}},{key:"applyLocalTransforms",value:function(e){var t=c(this.originalData$.value);e.query&&(t=(0,U.D)(t,e.query)),e.orderBy&&e.orderDir&&(t=function(e,t,n){return e.sort(function(e,i){var a=q(e,t),o=q(i,t),r=typeof a,s=typeof o;r!==s&&("number"===r&&(a+=""),"number"===s&&(o+=""));var l=0;return null!=a&&null!=o?a>o?l=1:a<o&&(l=-1):null!=a?l=1:null!=o&&(l=-1),l*("asc"===n?1:-1)})}(t,e.orderBy,e.orderDir)),this.data$.next(t)}},{key:"addFilter",value:function(t,n){this.filters$.next(Object.assign(Object.assign({},this.filters$.value),e({},t,n)))}},{key:"removeFilter",value:function(e){var t=Object.assign({},this.filters$.value);delete t[e],this.filters$.next(t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.filters$.next({}),this.sort$.next({}),this.selectedRows$.next([]),e&&this.staticParams$.next(e)}},{key:"openCrupdateResourceModal",value:function(e,t,n){var i=this;return this.modal.open(e,t,n).beforeClosed().pipe((0,x.h)(function(e){return!!e}),(0,g.b)(function(){return i.reset()}))}},{key:"confirmResourceDeletion",value:function(e){var t=Object.assign(Object.assign({},w.M),{replacements:{resource:e}});return this.modal.open(A.z,t).afterClosed().pipe((0,x.h)(function(e){return e}))}},{key:"getCurrentParams",value:function(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.sort$.value),this.filters$.value),this.staticParams$.value),this.paginator.params)}},{key:"destroy",value:function(){var e,t,n;null===(e=this.paginatorSub)||void 0===e||e.unsubscribe(),null===(t=this.mainSub)||void 0===t||t.unsubscribe(),null===(n=this.searchControlSub)||void 0===n||n.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(f.LFG(M.u),f.LFG(m.F0),f.LFG(v.r),f.LFG(b.m))},t.\u0275prov=f.Yz7({token:t,factory:t.\u0275fac}),t}()},72798:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var i={title:"Delete :resource",body:"Are you sure you want to delete selected :resource?",ok:"Delete"}},54275:function(e,t,n){"use strict";n.d(t,{O:function(){return s}});var i=n(35366),a=n(56515),o=n(40994),r=["table-body-checkbox",""],s=function(){var e=function(){function e(t,n){p(this,e),this.datatable=t,this.cd=n}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.changeRef=this.datatable.selectedRows$.subscribe(function(t){e.cd.markForCheck()})}},{key:"ngOnDestroy",value:function(){this.changeRef.unsubscribe()}},{key:"isRowSelected",value:function(e){return this.datatable.selectedRows$.value.indexOf(e)>-1}},{key:"toggleRow",value:function(e){if(this.isRowSelected(e)){var t=this.datatable.selectedRows$.value.slice(),n=this.datatable.selectedRows$.value.indexOf(e);t.splice(n,1),this.datatable.selectedRows$.next(t)}else this.datatable.selectedRows$.next([].concat(c(this.datatable.selectedRows$.value),[e]))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(a.x),i.Y36(i.sBO))},e.\u0275cmp=i.Xpm({type:e,selectors:[["","table-body-checkbox",""]],hostAttrs:[1,"table-checkbox"],inputs:{rowId:["table-body-checkbox","rowId"]},attrs:r,decls:1,vars:1,consts:[[3,"checked","click","change"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-checkbox",0),i.NdJ("click",function(e){return e.stopPropagation()})("change",function(e){return e?t.toggleRow(t.rowId):null}),i.qZA()),2&e&&i.Q6J("checked",t.isRowSelected(t.rowId))},directives:[o.oG],encapsulation:2,changeDetection:0}),e}()},13536:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var i=n(35366),a=n(56515),o=n(40994),r=["table-header-checkbox",""],s=function(){var e=function(){function e(t,n){p(this,e),this.datatable=t,this.cd=n}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.changeRef=this.datatable.selectedRows$.subscribe(function(){e.cd.markForCheck()})}},{key:"ngOnDestroy",value:function(){this.changeRef.unsubscribe()}},{key:"anyRowsSelected",value:function(){return!!this.datatable.selectedRows$.value.length}},{key:"allRowsSelected",value:function(){var e;return this.datatable.selectedRows$.value.length&&this.datatable.selectedRows$.value.length===(null===(e=this.datatable.data$.value)||void 0===e?void 0:e.length)}},{key:"toggleAllRows",value:function(){this.allRowsSelected()?this.datatable.selectedRows$.next([]):this.datatable.selectedRows$.next(this.datatable.data$.value.map(function(e){return e.id}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.Y36(a.x),i.Y36(i.sBO))},e.\u0275cmp=i.Xpm({type:e,selectors:[["","table-header-checkbox",""]],hostAttrs:[1,"table-checkbox"],attrs:r,decls:1,vars:2,consts:[[3,"checked","indeterminate","change"]],template:function(e,t){1&e&&(i.TgZ(0,"mat-checkbox",0),i.NdJ("change",function(e){return e?t.toggleAllRows():null}),i.qZA()),2&e&&i.Q6J("checked",t.allRowsSelected())("indeterminate",t.anyRowsSelected()&&!t.allRowsSelected())},directives:[o.oG],encapsulation:2,changeDetection:0}),e}()},80922:function(e,t,n){"use strict";n.d(t,{p:function(){return m}});var i=n(43835),a=n(99235),o=n(40694),r=n(35366),s=n(56515),l=n(97388),c=n(61116),u=n(77307),d=["columnName"],g=["table-sort-header",""],f=["*"],m=function(){var e=function(){function e(t,n,i,a){p(this,e),this.datable=t,this.cd=n,this.focusMonitor=i,this.el=a,this.orderDir=null,this.arrowVisible=!1,this.arrowDirection="down"}return h(e,[{key:"sortDisabled",get:function(){var e;return null===(e=this.datable.config)||void 0===e?void 0:e.disableSort}},{key:"ngOnInit",value:function(){var e=this;this.orderBy||(this.orderBy=(0,o.V)(this.columnName.nativeElement.textContent,"_")),this.sortSub=this.datable.sort$.pipe((0,i.h)(function(t){return t.orderBy!==e.orderBy})).subscribe(function(){e.orderDir=null,e.onMouseLeave(),e.cd.markForCheck()})}},{key:"ngAfterViewInit",value:function(){this.focusMonitor.monitor(this.el).subscribe()}},{key:"ngOnDestroy",value:function(){this.sortSub.unsubscribe(),this.focusMonitor.stopMonitoring(this.el)}},{key:"changeSort",value:function(){this.datable.sort$.next({orderBy:this.orderBy,orderDir:this.getDirection(this.orderDir)})}},{key:"getDirection",value:function(e){switch(e){case"asc":return this.arrowVisible=!1,this.orderDir=null;case"desc":return this.arrowVisible=!0,this.arrowDirection="up",this.orderDir="asc";default:return this.arrowVisible=!0,this.arrowDirection="down",this.orderDir="desc"}}},{key:"onMouseEnter",value:function(){var e;(null===(e=this.datable.config)||void 0===e?void 0:e.disableSort)||(this.arrowVisible=!0)}},{key:"onMouseLeave",value:function(){this.arrowVisible=!1,this.orderDir||(this.arrowDirection="down")}},{key:"handleClick",value:function(){var e;(null===(e=this.datable.config)||void 0===e?void 0:e.disableSort)||this.changeSort()}},{key:"handleKeydown",value:function(e){var t;(null===(t=this.datable.config)||void 0===t?void 0:t.disableSort)||e.keyCode!==a.L_&&e.keyCode!==a.K5||(e.preventDefault(),this.changeSort())}}]),e}();return e.\u0275fac=function(t){return new(t||e)(r.Y36(s.x),r.Y36(r.sBO),r.Y36(l.tE),r.Y36(r.SBq))},e.\u0275cmp=r.Xpm({type:e,selectors:[["","table-sort-header",""]],viewQuery:function(e,t){var n;(1&e&&r.Gf(d,7),2&e)&&(r.iGM(n=r.CRH())&&(t.columnName=n.first))},hostAttrs:["tabindex","0"],hostVars:4,hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.handleClick()})("keydown",function(e){return t.handleKeydown(e)})("mouseenter",function(){return t.onMouseEnter()})("mouseleave",function(){return t.onMouseLeave()}),2&e&&r.ekj("active",t.orderDir)("sort-disabled",t.sortDisabled)},inputs:{orderBy:["table-sort-header","orderBy"]},attrs:g,ngContentSelectors:f,decls:5,vars:3,consts:[[1,"text"],["columnName",""],[1,"icon-wrapper",3,"ngClass"],["svgIcon","arrow-downward",1,"sort-icon"]],template:function(e,t){1&e&&(r.F$t(),r.TgZ(0,"span",0,1),r.Hsn(2),r.qZA(),r.TgZ(3,"span",2),r._UZ(4,"mat-icon",3),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngClass",t.arrowDirection),r.xp6(1),r.ekj("hint-visible",t.arrowVisible))},directives:[c.mk,u.Hw],styles:["[_nghost-%COMP%]{outline:none}[_nghost-%COMP%]:not(.sort-disabled){cursor:pointer}.active[_nghost-%COMP%]   .sort-icon[_ngcontent-%COMP%]{color:var(--be-text);opacity:1;transform:translate(0)}.cdk-keyboard-focused[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{border-bottom:1px solid}.text[_ngcontent-%COMP%]{display:inline-block;text-transform:capitalize}.sort-icon[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{vertical-align:middle}.sort-icon[_ngcontent-%COMP%]{width:15px;height:15px;transition:all 225ms cubic-bezier(.4,0,.2,1);transform:translateY(25%);opacity:0}.icon-wrapper[_ngcontent-%COMP%]{display:inline-block;margin-left:4px;transition:transform 225ms cubic-bezier(.4,0,.2,1)}.icon-wrapper[_ngcontent-%COMP%]:not(.down){transform:rotate(180deg)}.hint-visible[_ngcontent-%COMP%]{opacity:1;transform:translate(0)}"],changeDetection:0}),e}()},9636:function(e,t,n){"use strict";function i(e,t){return e.filter(function(e){return function(e,t){var n="string"==typeof e?e:a(e),i=t.trim().toLowerCase();return-1!==n.indexOf(i)}(e,t)})}function a(e){return Object.keys(e).reduce(function(t,n){return t+(e[n]&&"object"==typeof e[n]?a(e[n]):e[n])+"\u25ec"},"").toLowerCase()}n.d(t,{D:function(){return i}})},20237:function(e,t,n){"use strict";n.d(t,{w:function(){return r}});var i=n(4694),a=n(35366),o=n(24859),r=function(){var e=function(){function e(t){p(this,e),this.modal=t}return h(e,[{key:"canDeactivate",value:function(e){return!!e.canDeactivate()||this.modal.show(i.z,{title:"Unsaved Changes",body:"You have unsaved changes. Do you want to discard them?",ok:"Discard"}).beforeClosed()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.LFG(o.u))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},99208:function(e,t,i){"use strict";i.d(t,{e:function(){return de}});var o=i(11520),r=i(82628),s=i(64762),l=i(35366),c=i(88195),u=i(78733),d=i(71294),g=i(3950),f=function(){var e=function(){function e(t,n,i,a,o){p(this,e),this.settings=t,this.zone=n,this.lazyLoader=i,this.breakpoints=a,this.i18n=o,this.makeBootstrapPromise()}return h(e,[{key:"reset",value:function(){this.editorIsReady()&&(this.tinymceInstance.setContent(""),this.tinymceInstance.undoManager.clear())}},{key:"focus",value:function(){var e=this;this.waitForEditor().then(function(){e.tinymceInstance.focus(!1)})}},{key:"hasUndo",value:function(){return this.editorIsReady()&&this.tinymceInstance.undoManager.hasUndo()}},{key:"hasRedo",value:function(){return this.editorIsReady()&&this.tinymceInstance.undoManager.hasRedo()}},{key:"queryCommandState",value:function(e){return this.editorIsReady()&&this.tinymceInstance.queryCommandState(e)}},{key:"execCommand",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.waitForEditor().then(function(){t.zone.run(function(){t.tinymceInstance.execCommand(e,!1,n)})})}},{key:"getContents",value:function(e){return this.editorIsReady()?this.tinymceInstance.getContent(e):""}},{key:"setContents",value:function(e){var t=this;this.waitForEditor().then(function(){t.tinymceInstance.undoManager&&(t.tinymceInstance.undoManager.transact(function(){t.tinymceInstance.setContent(e)}),t.tinymceInstance.selection.setCursorLocation(),t.tinymceInstance.nodeChanged(),t.tinymceInstance.execCommand("mceResize"))})}},{key:"insertContents",value:function(e){var t=this;this.waitForEditor().then(function(){t.tinymceInstance.execCommand("mceInsertContent",!1,e),setTimeout(function(){return t.tinymceInstance.selection.collapse()})})}},{key:"insertImage",value:function(e){var t=this;this.waitForEditor().then(function(){t.insertContents('<img src="'+e+'"/>'),setTimeout(function(){return t.execCommand("mceAutoResize")},500)})}},{key:"waitForEditor",value:function(){var e=this;return this.tinymceInstance?new Promise(function(t){return t(e.tinymceInstance)}):this.bootstrapPromise?this.bootstrapPromise:void 0}},{key:"setConfig",value:function(e){var t=this;this.config=e,this.loadTinymce().then(function(){t.initTinymce()})}},{key:"editorIsReady",value:function(){return!this.bootstrapPromise&&!!this.tinymceInstance&&!!this.tinymceInstance.undoManager}},{key:"loadTinymce",value:function(){return this.lazyLoader.loadAsset("js/tinymce/tinymce.min.js",{type:"js"})}},{key:"initTinymce",value:function(){var e=this,t={target:this.config.textAreaEl.nativeElement,plugins:["link","codesample","paste","autoresize"],branding:!1,browser_spellcheck:!0,max_height:this.config.maxHeight,min_height:this.config.minHeight,autoresize_on_init:!1,paste_as_text:!0,elementpath:!1,statusbar:!1,entity_encoding:"raw",menubar:!1,toolbar:!1,convert_urls:!1,forced_root_block:!1,document_base_url:document.baseURI,element_format:"html",body_class:"editor-body",content_style:'html {font-size: 62.5%;}\n.editor-body {font-size: 1.4rem;font-family: "Roboto", "Helvetica Neue", sans-serif;color: rgba(0, 0, 0, .87);}\nimg {max-width: 100%}\ncode[class*=language-], pre[class*=language-] {font-size: inherit;} .mce-preview-object {border: none;}',content_css:["https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic"],default_link_target:"_blank",link_assume_external_targets:!0,target_list:!1,link_title:!1,image_dimensions:!1,image_description:!1,setup:function(t){e.tinymceInstance=t,t.on("change",function(){return e.config.onChange.emit(t.getContent())}),t.on("click",function(){e.zone.run(function(){})})},init_instance_callback:function(t){e.bootstrapPromise=!1,e.bootstrapPromiseResolve(e.tinymceInstance);var n=function(){e.zone.run(function(){e.config.onChange.emit(t.getContent()),e.config.onCtrlEnter.emit()})};t.shortcuts.add("ctrl+13","desc",n),window.navigator.platform.toLowerCase().includes("mac")&&t.shortcuts.add("meta+13","desc",n)}};if(this.config.showAdvancedControls&&(t.plugins=t.plugins.concat(["media","hr","visualblocks","visualchars","wordcount"]),t.forced_root_block="p",t.statusbar=!0,t.autoresize_on_init=!0,t.extended_valid_elements="svg[*],use[*],iframe[src|frameborder|width|height|allow=*|allowfullscreen],script[src]",t.elementpath=!0,t.content_css.push(this.settings.getAssetUrl()+"css/advanced-editor-styles.css"),t.target_list=[{title:this.i18n.t("Current window"),value:""},{title:this.i18n.t("New Window"),value:"_blank"}],t.codesample_languages=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"Shell",value:"shell-session"},{text:"Bash",value:"bash"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]),"auto"===this.config.minHeight){var n=this.config.editorEl.nativeElement.parentElement.offsetHeight-74-4;t.min_height=n,t.max_height=n}tinymce.init(t)}},{key:"destroyEditor",value:function(){try{this.tinymceInstance&&this.tinymceInstance.remove(),this.tinymceInstance=null,this.makeBootstrapPromise()}catch(e){}}},{key:"makeBootstrapPromise",value:function(){var e=this;this.bootstrapPromise=new Promise(function(t){return e.bootstrapPromiseResolve=t})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.LFG(c.Z),l.LFG(l.R0b),l.LFG(u.j),l.LFG(d.S),l.LFG(g.Z))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),m=i(62147),v=i(66457),b=i(67139),_=i(40149),Z=i(74899),y=i(31041),x=i(47701),k=i(35331),A=i(28505),w=i(98979),T=i(16930),C=i(20274),q=i(94380),U=i(73033),I=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).DEFAULT_MAX_SIZE_MB=3,e}return h(i,[{key:"initValidations",value:function(){var e,t=[new C.p({maxSize:(0,q.F)(this.DEFAULT_MAX_SIZE_MB,"MB")},this.i18n),new U.p({types:["image"]},this.i18n)];(e=this.validations).push.apply(e,t)}}]),i}(T.c);return t.\u0275fac=function(n){return(e||(e=l.n5z(t)))(n||t)},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),M=i(61116),O=i(24311),J=i(77307),P=i(97070),N=i(38116),S=i(40450),D=["visualArea"],Q=["sourceArea"];function Y(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"button",4),l.NdJ("click",function(){return l.CHM(n),l.oxw().openFileUploadDialog()}),l.ALo(2,"trans"),l._UZ(3,"mat-icon",19),l.qZA(),l.qZA()}2&e&&(l.xp6(1),l.Q6J("matTooltip",l.lcZ(2,1,"Add Attachment")))}function L(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"button",4),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("codesample")}),l.ALo(2,"trans"),l._UZ(3,"mat-icon",20),l.qZA(),l.qZA()}2&e&&(l.xp6(1),l.Q6J("matTooltip",l.lcZ(2,1,"Insert Code Sample")))}function E(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"button",23),l.NdJ("click",function(){return l.CHM(n),l.oxw(2).openInsertImageModal()}),l.ALo(1,"trans"),l._UZ(2,"mat-icon",24),l.qZA()}2&e&&l.Q6J("matTooltip",l.lcZ(1,1,"Insert Image"))}function F(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",3),l.TgZ(1,"button",4),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("mceLink")}),l.ALo(2,"trans"),l._UZ(3,"mat-icon",21),l.qZA(),l.YNc(4,E,3,3,"button",22),l.qZA()}if(2&e){var i=l.oxw();l.xp6(1),l.ekj("active",i.queryCommandState("link")),l.Q6J("matTooltip",l.lcZ(2,4,"Insert Link")),l.xp6(3),l.Q6J("ngIf",i.currentUser.hasPermission("files.create"))}}function R(e,t){if(1&e){var n=l.EpF();l.TgZ(0,"div",1),l.TgZ(1,"div",3),l.TgZ(2,"button",25),l.TgZ(3,"span",26),l._uU(4,"Insert"),l.qZA(),l._UZ(5,"mat-icon",27),l.qZA(),l.TgZ(6,"mat-menu",null,28),l.TgZ(8,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("InsertHorizontalRule")}),l._UZ(9,"mat-icon",30),l.TgZ(10,"span",26),l._uU(11,"Horizontal Line"),l.qZA(),l.qZA(),l.TgZ(12,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("mceLink")}),l._UZ(13,"mat-icon",21),l.TgZ(14,"span",26),l._uU(15,"Link"),l.qZA(),l.qZA(),l.TgZ(16,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("mceMedia")}),l._UZ(17,"mat-icon",31),l.TgZ(18,"span",26),l._uU(19,"Media"),l.qZA(),l.qZA(),l.TgZ(20,"div",32),l.NdJ("click",function(){return l.CHM(n),l.oxw().insertInfoContainer("important")}),l._UZ(21,"mat-icon",33),l.TgZ(22,"span",26),l._uU(23,"Important"),l.qZA(),l.qZA(),l.TgZ(24,"div",32),l.NdJ("click",function(){return l.CHM(n),l.oxw().insertInfoContainer("warning")}),l._UZ(25,"mat-icon",34),l.TgZ(26,"span",26),l._uU(27,"Warning"),l.qZA(),l.qZA(),l.TgZ(28,"div",32),l.NdJ("click",function(){return l.CHM(n),l.oxw().insertInfoContainer("note")}),l._UZ(29,"mat-icon",35),l.TgZ(30,"span",26),l._uU(31,"Note"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(32,"div",3),l.TgZ(33,"button",36),l.TgZ(34,"span",26),l._uU(35,"Format"),l.qZA(),l._UZ(36,"mat-icon",27),l.qZA(),l.TgZ(37,"mat-menu",37,38),l.TgZ(39,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("FormatBlock","h1")}),l.TgZ(40,"div",39),l._uU(41,"Heading 1"),l.qZA(),l.TgZ(42,"div",40),l._uU(43,"Alt+Shift+1"),l.qZA(),l.qZA(),l.TgZ(44,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("FormatBlock","h2")}),l.TgZ(45,"div",39),l._uU(46,"Heading 2"),l.qZA(),l.TgZ(47,"div",40),l._uU(48,"Alt+Shift+2"),l.qZA(),l.qZA(),l.TgZ(49,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("FormatBlock","h3")}),l.TgZ(50,"div",39),l._uU(51,"Heading 3"),l.qZA(),l.TgZ(52,"div",40),l._uU(53,"Alt+Shift+3"),l.qZA(),l.qZA(),l.TgZ(54,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("FormatBlock","h4")}),l.TgZ(55,"div",39),l._uU(56,"Heading 4"),l.qZA(),l.TgZ(57,"div",40),l._uU(58,"Alt+Shift+4"),l.qZA(),l.qZA(),l.TgZ(59,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("FormatBlock","code")}),l.TgZ(60,"div",39),l._uU(61,"Code"),l.qZA(),l.qZA(),l.TgZ(62,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("strikethrough")}),l.TgZ(63,"div",39),l._uU(64,"Strikethrough"),l.qZA(),l.qZA(),l.TgZ(65,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("superscript")}),l.TgZ(66,"div",39),l._uU(67,"Superscript"),l.qZA(),l.qZA(),l.TgZ(68,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("subscript")}),l.TgZ(69,"div",39),l._uU(70,"Subscript"),l.qZA(),l.qZA(),l.TgZ(71,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("mceBlockQuote")}),l.TgZ(72,"div",39),l._uU(73,"Blockquote"),l.qZA(),l.qZA(),l.TgZ(74,"div",29),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("FormatBlock","p")}),l.TgZ(75,"div",39),l._uU(76,"Paragraph"),l.qZA(),l.TgZ(77,"div",40),l._uU(78,"Ctrl+Shift+7"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(79,"div",3),l.TgZ(80,"button",41,42),l.TgZ(82,"span",26),l._uU(83,"Color"),l.qZA(),l._UZ(84,"mat-icon",27),l.qZA(),l.TgZ(85,"mat-menu",43,44),l.TgZ(87,"div",45),l.NdJ("click",function(){l.CHM(n);var e=l.MAs(81);return l.oxw().showColorPicker("ForeColor",e)}),l._UZ(88,"mat-icon",46),l.TgZ(89,"span",26),l._uU(90,"Text Color"),l.qZA(),l.qZA(),l.TgZ(91,"div",47),l.NdJ("click",function(){l.CHM(n);var e=l.MAs(81);return l.oxw().showColorPicker("HiliteColor",e)}),l._UZ(92,"mat-icon",48),l.TgZ(93,"span",26),l._uU(94,"Background Color"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(95,"div",3),l.TgZ(96,"button",4),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("justifyLeft")}),l.ALo(97,"trans"),l._UZ(98,"mat-icon",49),l.qZA(),l.TgZ(99,"button",4),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("justifyCenter")}),l.ALo(100,"trans"),l._UZ(101,"mat-icon",50),l.qZA(),l.TgZ(102,"button",4),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("justifyRight")}),l.ALo(103,"trans"),l._UZ(104,"mat-icon",51),l.qZA(),l.qZA(),l.TgZ(105,"div",3),l.TgZ(106,"button",4),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("Outdent")}),l.ALo(107,"trans"),l._UZ(108,"mat-icon",52),l.qZA(),l.TgZ(109,"button",4),l.NdJ("click",function(){return l.CHM(n),l.oxw().execCommand("Indent")}),l.ALo(110,"trans"),l._UZ(111,"mat-icon",53),l.qZA(),l.qZA(),l.TgZ(112,"div",54),l.TgZ(113,"button",55),l.NdJ("click",function(){return l.CHM(n),l.oxw().showVisualEditor()}),l._uU(114,"Visual "),l.qZA(),l.TgZ(115,"button",56),l.NdJ("click",function(){return l.CHM(n),l.oxw().showSourceEditor()}),l._uU(116,"Source "),l.qZA(),l.qZA(),l.qZA()}if(2&e){var i=l.MAs(7),a=l.MAs(38),o=l.MAs(86),r=l.oxw();l.xp6(2),l.Q6J("matMenuTriggerFor",i),l.xp6(31),l.Q6J("matMenuTriggerFor",a),l.xp6(47),l.Q6J("matMenuTriggerFor",o),l.xp6(16),l.ekj("active",r.queryCommandState("justifyLeft")),l.Q6J("matTooltip",l.lcZ(97,18,"Align Left")),l.xp6(3),l.ekj("active",r.queryCommandState("justifyCenter")),l.Q6J("matTooltip",l.lcZ(100,20,"Center")),l.xp6(3),l.ekj("active",r.queryCommandState("justifyRight")),l.Q6J("matTooltip",l.lcZ(103,22,"Align Right")),l.xp6(4),l.Q6J("matTooltip",l.lcZ(107,24,"Decrease Indent")),l.xp6(3),l.Q6J("matTooltip",l.lcZ(110,26,"Increase Indent")),l.xp6(4),l.ekj("active","visual"===r.activeEditor),l.xp6(2),l.ekj("active","source"===r.activeEditor)}}var $=[[["","customButtons",""]],[["","header",""]],[["","footer",""]]],V=["[customButtons]","[header]","[footer]"],B=function(){var e=function(){function e(t,n,i,a,o,r,s,c){p(this,e),this.editor=t,this.currentUser=n,this.uploadQueue=i,this.settings=a,this.renderer=o,this.el=r,this.overlayPanel=s,this.imageValidator=c,this.sourceAreaControl=new y.NI,this.activeEditor="visual",this.showAdvancedControls=!1,this.basic=!1,this.minHeight=183,this.maxHeight=530,this.onChange=new l.vpe,this.onCtrlEnter=new l.vpe,this.onFileUpload=new l.vpe}return h(e,[{key:"ngAfterViewInit",value:function(){this.bootTextEditor()}},{key:"ngOnDestroy",value:function(){this.destroyEditor()}},{key:"reset",value:function(){this.editor.reset()}},{key:"focus",value:function(){this.editor.focus()}},{key:"hasUndo",value:function(){return this.editor.hasUndo()}},{key:"hasRedo",value:function(){return this.editor.hasRedo()}},{key:"queryCommandState",value:function(e){return this.editor.queryCommandState(e)}},{key:"execCommand",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.editor.execCommand(e,t)}},{key:"insertInfoContainer",value:function(e){this.insertContents('<div class="widget widget-'.concat(e,'"><div class="title">').concat((0,Z.z)(e),":</div><br></div><br>"))}},{key:"showColorPicker",value:function(e,t){return(0,s.mG)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var a,o,r=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.e(378).then(i.bind(i,49378));case 2:a=n.sent,o=a.BeColorPickerModule,this.overlayPanel.open(o.components.panel,{origin:new l.SBq(t),position:_.x}).valueChanged().pipe((0,x.b)(50)).subscribe(function(t){r.execCommand(e,t)});case 5:case"end":return n.stop()}},n,this)}))}},{key:"showVisualEditor",value:function(){this.editor.tinymceInstance.contentAreaContainer&&"visual"!==this.activeEditor&&(this.activeEditor="visual",this.renderer.setStyle(this.editor.tinymceInstance.contentAreaContainer,"display","block"),this.renderer.setStyle(this.sourceTextArea.nativeElement,"display","none"),this.editor.focus())}},{key:"showSourceEditor",value:function(){this.editor.tinymceInstance.contentAreaContainer&&"source"!==this.activeEditor&&(this.activeEditor="source",this.renderer.setStyle(this.sourceTextArea.nativeElement,"height",this.editor.tinymceInstance.contentAreaContainer.offsetHeight+"px"),this.renderer.setStyle(this.sourceTextArea.nativeElement,"display","block"),this.renderer.setStyle(this.editor.tinymceInstance.contentAreaContainer,"display","none"),this.sourceAreaControl.setValue(this.editor.getContents({source_view:!0})))}},{key:"openFileUploadDialog",value:function(){var e=this;(0,m.r)({multiple:!0}).then(function(t){e.onFileUpload.emit(t)})}},{key:"openInsertImageModal",value:function(){var e=this,t={uri:k.C.Image,validator:this.imageValidator,httpParams:{diskPrefix:this.inlineUploadPrefix}};(0,m.r)({types:[b.j.image]}).then(function(n){e.uploadQueue.start(n,t).subscribe(function(t){e.insertImage(t.fileEntry.url)})})}},{key:"getContents",value:function(){return this.editor.getContents()}},{key:"setContents",value:function(e){this.editor.setContents(e)}},{key:"insertContents",value:function(e){this.editor.insertContents(e)}},{key:"insertImage",value:function(e){this.editor.insertImage(e)}},{key:"insertLink",value:function(e){this.insertContents('<a href="'.concat(e.href,'" target="').concat(e.target||"self",'">').concat(e.text,"</a>"))}},{key:"destroyEditor",value:function(){this.editor.destroyEditor()}},{key:"bootTextEditor",value:function(){this.editor.setConfig({textAreaEl:this.visualTextArea,editorEl:this.el,minHeight:this.minHeight,maxHeight:this.maxHeight,onChange:this.onChange,onCtrlEnter:this.onCtrlEnter,showAdvancedControls:this.showAdvancedControls})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(f),l.Y36(A.I),l.Y36(v.A),l.Y36(c.Z),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(w.T),l.Y36(I))},e.\u0275cmp=l.Xpm({type:e,selectors:[["text-editor"]],viewQuery:function(e,t){var n;(1&e&&(l.Gf(D,7),l.Gf(Q,7)),2&e)&&(l.iGM(n=l.CRH())&&(t.visualTextArea=n.first),l.iGM(n=l.CRH())&&(t.sourceTextArea=n.first))},inputs:{showAdvancedControls:"showAdvancedControls",basic:"basic",minHeight:"minHeight",maxHeight:"maxHeight",inlineUploadPrefix:"inlineUploadPrefix"},outputs:{onChange:"onChange",onCtrlEnter:"onCtrlEnter",onFileUpload:"onFileUpload"},features:[l._Bn([v.A,f])],ngContentSelectors:V,decls:41,vars:47,consts:[[1,"editor-header"],[1,"toolbar-row"],["class","header-actions",4,"ngIf"],[1,"header-actions"],["type","button",1,"no-style","editor-button",3,"matTooltip","click"],["svgIcon","undo"],["svgIcon","redo"],["svgIcon","format-bold"],["svgIcon","format-italic"],["svgIcon","format-underlined"],["svgIcon","format-list-bulleted"],["svgIcon","format-list-numbered"],[1,"header-actions","last"],["svgIcon","format-clear"],["class","toolbar-row",4,"ngIf"],["rows","8",1,"source-textarea",2,"display","none",3,"formControl","blur"],["sourceArea",""],["rows","8",1,"visual-textarea"],["visualArea",""],["svgIcon","attachment"],["svgIcon","code"],["svgIcon","link"],["type","button","class","no-style editor-button image-modal-button",3,"matTooltip","click",4,"ngIf"],["type","button",1,"no-style","editor-button","image-modal-button",3,"matTooltip","click"],["svgIcon","image"],["type","button",1,"no-style","editor-button","text-button","insert-button",3,"matMenuTriggerFor"],["trans",""],["svgIcon","arrow-drop-down",1,"caret"],["insertMenu",""],["mat-menu-item","",3,"click"],["svgIcon","remove"],["svgIcon","videocam"],["mat-menu-item","","trans","",3,"click"],["svgIcon","star"],["svgIcon","warning"],["svgIcon","note"],["type","button",1,"no-style","editor-button","text-button","format-button",3,"matMenuTriggerFor"],[1,"format-menu","menu-with-alt-text"],["formatMenu",""],["trans","",1,"text"],[1,"alt-text"],["type","button",1,"no-style","editor-button","text-button","color-button",3,"matMenuTriggerFor"],["colorPickerOrigin",""],[1,"color-dropdown"],["colorMenu",""],["mat-menu-item","",1,"text-color-item",3,"click"],["svgIcon","format-color-text"],["mat-menu-item","",1,"bg-color-item",3,"click"],["svgIcon","format-color-fill"],["svgIcon","format-align-left"],["svgIcon","format-align-center"],["svgIcon","format-align-right"],["svgIcon","format-indent-decrease"],["svgIcon","format-indent-increase"],[1,"header-actions","editor-toggle-buttons"],["type","button","trans","",1,"no-style","editor-button","visual-mode-button",3,"click"],["type","button","trans","",1,"no-style","editor-button","source-mode-button",3,"click"]],template:function(e,t){1&e&&(l.F$t($),l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.YNc(2,Y,4,3,"div",2),l.YNc(3,L,4,3,"div",2),l.TgZ(4,"div",3),l.TgZ(5,"button",4),l.NdJ("click",function(){return t.execCommand("undo")}),l.ALo(6,"trans"),l._UZ(7,"mat-icon",5),l.qZA(),l.TgZ(8,"button",4),l.NdJ("click",function(){return t.execCommand("redo")}),l.ALo(9,"trans"),l._UZ(10,"mat-icon",6),l.qZA(),l.qZA(),l.TgZ(11,"div",3),l.TgZ(12,"button",4),l.NdJ("click",function(){return t.execCommand("bold")}),l.ALo(13,"trans"),l._UZ(14,"mat-icon",7),l.qZA(),l.TgZ(15,"button",4),l.NdJ("click",function(){return t.execCommand("italic")}),l.ALo(16,"trans"),l._UZ(17,"mat-icon",8),l.qZA(),l.TgZ(18,"button",4),l.NdJ("click",function(){return t.execCommand("underline")}),l.ALo(19,"trans"),l._UZ(20,"mat-icon",9),l.qZA(),l.qZA(),l.TgZ(21,"div",3),l.TgZ(22,"button",4),l.NdJ("click",function(){return t.execCommand("insertunorderedlist")}),l.ALo(23,"trans"),l._UZ(24,"mat-icon",10),l.qZA(),l.TgZ(25,"button",4),l.NdJ("click",function(){return t.execCommand("insertorderedlist")}),l.ALo(26,"trans"),l._UZ(27,"mat-icon",11),l.qZA(),l.qZA(),l.YNc(28,F,5,6,"div",2),l.Hsn(29),l.TgZ(30,"div",12),l.TgZ(31,"button",4),l.NdJ("click",function(){return t.execCommand("removeformat")}),l.ALo(32,"trans"),l._UZ(33,"mat-icon",13),l.qZA(),l.qZA(),l.Hsn(34,1),l.qZA(),l.YNc(35,R,117,28,"div",14),l.qZA(),l.TgZ(36,"textarea",15,16),l.NdJ("blur",function(){return t.setContents(t.sourceAreaControl.value)}),l.qZA(),l._UZ(38,"textarea",17,18),l.Hsn(40,2)),2&e&&(l.xp6(2),l.Q6J("ngIf",t.inlineUploadPrefix&&t.currentUser.hasPermission("files.create")&&t.onFileUpload.observers.length),l.xp6(1),l.Q6J("ngIf",!t.basic),l.xp6(2),l.ekj("disabled",!t.hasUndo()),l.Q6J("matTooltip",l.lcZ(6,31,"Undo")),l.xp6(3),l.ekj("disabled",!t.hasRedo()),l.Q6J("matTooltip",l.lcZ(9,33,"Redo")),l.xp6(4),l.ekj("active",t.queryCommandState("bold")),l.Q6J("matTooltip",l.lcZ(13,35,"Bold")),l.xp6(3),l.ekj("active",t.queryCommandState("italic")),l.Q6J("matTooltip",l.lcZ(16,37,"Italic")),l.xp6(3),l.ekj("active",t.queryCommandState("underline")),l.Q6J("matTooltip",l.lcZ(19,39,"Underline")),l.xp6(4),l.ekj("active",t.queryCommandState("unorderedlist")),l.Q6J("matTooltip",l.lcZ(23,41,"Unordered List")),l.xp6(3),l.ekj("active",t.queryCommandState("orderedlist")),l.Q6J("matTooltip",l.lcZ(26,43,"Ordered List")),l.xp6(3),l.Q6J("ngIf",!t.basic),l.xp6(3),l.Q6J("matTooltip",l.lcZ(32,45,"Remove Formatting")),l.xp6(4),l.Q6J("ngIf",t.showAdvancedControls),l.xp6(1),l.Udp("min-height",t.minHeight),l.Q6J("formControl",t.sourceAreaControl),l.xp6(2),l.Udp("min-height",t.minHeight))},directives:[M.O5,O.gM,J.Hw,y.Fj,y.JJ,y.oH,P.p6,N.P,P.VK,P.OP],pipes:[S.R],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;min-height:218px;max-height:600px;position:relative;border:1px solid var(--be-divider-default);border-radius:4px;overflow:hidden}[_nghost-%COMP%]     .editor-button{color:#788593;padding:7px;width:36px;height:36px}[_nghost-%COMP%]     .editor-button .mat-icon{height:22px;width:22px}[_nghost-%COMP%]     .editor-button .caret{display:inline-block;width:20px;height:20px;vertical-align:middle}[_nghost-%COMP%]     .editor-button.text-button{display:block;font-weight:300;font-size:1.5rem;width:auto}[_nghost-%COMP%]     .editor-button.disabled{opacity:.4}[_nghost-%COMP%]     .editor-button.active{background-color:rgba(0,0,0,.04)}[_nghost-%COMP%]     .editor-button.success{color:var(--be-accent-default)}[_nghost-%COMP%]     .editor-button:hover{background-color:rgba(0,0,0,.04)}[_nghost-%COMP%]     .editor-footer{position:relative;height:37px;flex-shrink:0;background-color:var(--be-background-alternative);border-top:1px solid var(--be-divider-default)}textarea[_ngcontent-%COMP%]{border:none;outline:none;resize:none;padding:15px}.editor-header[_ngcontent-%COMP%]{clear:both;flex:0 0 37px;background-color:var(--be-background-alternative)}.toolbar-row[_ngcontent-%COMP%]{display:flex;height:37px;border-bottom:1px solid var(--be-divider-default);overflow:hidden}  .header-actions{display:inline-block;border-right:1px solid var(--be-divider-default);height:100%;padding:0 4px}  .header-actions.right{margin-left:auto;margin-right:7px}  .header-actions.last{border-right:none}.editor-toggle-buttons[_ngcontent-%COMP%]{border-right:none;margin-left:auto;padding:0;display:flex}.editor-toggle-buttons[_ngcontent-%COMP%]   .editor-button[_ngcontent-%COMP%]{width:auto}@media only screen and (max-width:768px){.toolbar-row[_ngcontent-%COMP%]{overflow-x:auto}}"],changeDetection:0}),e}(),H=i(78512),z=i(43835),G=i(98720),j=i(40694),X=i(38053),W=i(63337),K=i(73234),ee=i(79572),te=i(84369),ne=i(42300),ie=i(29738);function ae(e,t){if(1&e&&(l.TgZ(0,"div",19),l._uU(1),l.qZA()),2&e){var n=l.oxw().ngIf;l.xp6(1),l.Oqu(n.title)}}function oe(e,t){if(1&e&&(l.TgZ(0,"div",19),l._uU(1),l.qZA()),2&e){var n=l.oxw(2).ngIf;l.xp6(1),l.Oqu(n.slug)}}function re(e,t){if(1&e&&(l.TgZ(0,"div",20),l._UZ(1,"slug-control",21),l.YNc(2,oe,2,1,"div",6),l.qZA()),2&e){var n=l.oxw().ngIf,i=l.oxw();l.xp6(1),l.Q6J("prefix",i.slugPrefix()),l.xp6(1),l.Q6J("ngIf",n.slug)}}function se(e,t){1&e&&(l.TgZ(0,"span",10),l._uU(1,"Update"),l.qZA())}function le(e,t){1&e&&(l.TgZ(0,"span",10),l._uU(1,"Create"),l.qZA())}function ce(e,t){if(1&e&&(l.TgZ(0,"div",19),l._uU(1),l.qZA()),2&e){var n=l.oxw().ngIf;l.xp6(1),l.Oqu(n.body)}}function ue(e,t){if(1&e){var n=l.EpF();l.ynx(0,1),l.TgZ(1,"div",2),l.TgZ(2,"div",3),l.TgZ(3,"label",4),l._uU(4,"Page Title"),l.qZA(),l._UZ(5,"input",5),l.YNc(6,ae,2,1,"div",6),l.qZA(),l.YNc(7,re,3,2,"div",7),l.TgZ(8,"div",8),l.TgZ(9,"mat-slide-toggle",9),l._uU(10,"Hide Navbar"),l.qZA(),l.TgZ(11,"p",10),l._uU(12,"Whether default site navbar should be hidden for this page."),l.qZA(),l.qZA(),l.qZA(),l.TgZ(13,"div",11),l.TgZ(14,"button",12),l.NdJ("click",function(){return l.CHM(n),l.oxw().crupdatePage()}),l.YNc(15,se,2,0,"span",13),l.YNc(16,le,2,0,"span",13),l.qZA(),l.TgZ(17,"a",14),l._uU(18,"Cancel"),l.qZA(),l.qZA(),l.TgZ(19,"div",15),l.YNc(20,ce,2,1,"div",6),l.qZA(),l.TgZ(21,"div",16),l.TgZ(22,"text-editor",17),l.NdJ("onChange",function(e){return l.CHM(n),l.oxw().setBody(e)}),l.qZA(),l.qZA(),l._UZ(23,"loading-indicator",18),l.ALo(24,"async"),l.BQk()}if(2&e){var i=t.ngIf,a=l.oxw();l.Q6J("formGroup",a.form),l.xp6(6),l.Q6J("ngIf",i.title),l.xp6(1),l.Q6J("ngIf",!a.hideSlug),l.xp6(8),l.Q6J("ngIf",a.page),l.xp6(1),l.Q6J("ngIf",!a.page),l.xp6(1),l.Q6J("routerLink",a.backRoute()),l.xp6(3),l.Q6J("ngIf",i.body),l.xp6(2),l.Q6J("showAdvancedControls",!0),l.xp6(1),l.Q6J("isVisible",l.lcZ(24,9,a.loading$))}}var de=function(){var e=function(){function e(t,n,i,a,o){p(this,e),this.pages=t,this.route=n,this.toast=i,this.router=a,this.fb=o,this.hideSlug=this.route.snapshot.data.hideSlug,this.endpoint=this.route.snapshot.data.endpoint,this.loading$=new H.X(!1),this.updating$=new H.X(!1),this.form=this.fb.group({title:[""],slug:[""],body:[""],type:[""],hide_nav:[!1]}),this.errors$=new H.X({})}return h(e,[{key:"ngOnInit",value:function(){var e,t=this;this.route.params.subscribe(function(e){t.getPage(e.id)}),this.route.snapshot.data.hideSlug||(e=this.form.get("title")).valueChanges.pipe((0,z.h)(function(e){return!!e}),(0,G.x)()).subscribe(function(t){e.parent.get("slug").dirty||e.parent.get("slug").setValue((0,j.V)(t))})}},{key:"crupdatePage",value:function(){var e=this;this.loading$.next(!0),(this.updating$.value?this.pages.update(this.page.id,this.getPayload(),this.endpoint):this.pages.create(this.getPayload(),this.endpoint)).pipe((0,o.x)(function(){return e.loading$.next(!1)})).subscribe(function(){e.router.navigate(e.backRoute(),{relativeTo:e.route}),e.toast.open(e.updating$.value?"Page updated":"Page created")},function(t){return e.errors$.next(t.errors)})}},{key:"getPage",value:function(e){var t=this;e&&(this.loading$.next(!0),this.pages.get(e).pipe((0,r.g)(0)).subscribe(function(e){t.updating$.next(!0),t.page=e.page,t.form.patchValue(e.page),t.textEditor.setContents(e.page.body||""),t.loading$.next(!1)}))}},{key:"getPayload",value:function(){return Object.assign({},this.form.value)}},{key:"setBody",value:function(e){this.form.patchValue({body:e})}},{key:"backRoute",value:function(){return this.page?["../../"]:["../"]}},{key:"slugPrefix",value:function(){return"pages/"+(this.page?this.page.id:"*")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(l.Y36(X.i),l.Y36(W.gz),l.Y36(K.F),l.Y36(W.F0),l.Y36(y.qu))},e.\u0275cmp=l.Xpm({type:e,selectors:[["crupdate-page"]],viewQuery:function(e,t){var n;(1&e&&l.Gf(B,5),2&e)&&(l.iGM(n=l.CRH())&&(t.textEditor=n.first))},decls:2,vars:3,consts:[[3,"formGroup",4,"ngIf"],[3,"formGroup"],[1,"many-inputs","input-header"],[1,"input-container"],["for","page-title","trans",""],["type","text","id","page-title","formControlName","title"],["class","error",4,"ngIf"],["class","input-container slug-input-container",4,"ngIf"],[1,"setting-toggle-container"],["id","crupdate_custom_page.hideNav","formControlName","hide_nav","trans",""],["trans",""],[1,"actions"],["mat-raised-button","","color","accent",3,"click"],["trans","",4,"ngIf"],["mat-button","","trans","",3,"routerLink"],[1,"errors"],[1,"editor-container"],["inlineUploadPrefix","page_media","minHeight","auto",1,"text-editor",3,"showAdvancedControls","onChange"],[1,"overlay",3,"isVisible"],[1,"error"],[1,"input-container","slug-input-container"],["formControlName","slug",3,"prefix"]],template:function(e,t){1&e&&(l.YNc(0,ue,25,11,"ng-container",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,t.errors$))},directives:[M.O5,y.JL,y.sg,N.P,y.Fj,y.JJ,y.u,ee.Rr,te.lW,te.zs,W.yS,B,ne.Q,ie.b],pipes:[M.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:calc(100vh - 120px);overflow:hidden}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:var(--be-background)}.actions[_ngcontent-%COMP%]{margin-bottom:25px;flex-shrink:0}.errors[_ngcontent-%COMP%]{color:#f44336;flex-shrink:0}.errors[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{padding:5px 0}.editor-container[_ngcontent-%COMP%]{flex:1 1 auto}text-editor[_ngcontent-%COMP%]{max-height:none}"],changeDetection:0}),e}()},4954:function(e,t,n){"use strict";n.d(t,{I:function(){return r}});var i=n(59075),a=n(44415),o=n(45523),r=[new o.yH({description:"Date the page was last updated"}),new o.T7({description:"Date the page was created"}),new i.XQ({type:i.Bq.SelectModel,key:"user_id",label:"User",description:"User page was created by",component:a.y})]},47878:function(e,t,n){"use strict";n.d(t,{k:function(){return Z}});var i=n(61116),a=n(51685),o=n(77307),r=n(84369),s=n(24311),l=n(68400),c=n(63337),u=n(50615),d=n(58666),g=n(31041),h=n(29828),f=n(90164),m=n(99808),v=n(79572),b=n(27701),_=n(35366),Z=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({imports:[[i.ez,c.Bz,a.x,l.N,u.X,d.u,f.y,m.p,g.u5,g.UX,h.I,o.Ps,r.ot,s.AV,v.rP,b.Cv]]}),e}()},98034:function(e,t,n){"use strict";n.d(t,{c:function(){return Y}});var i=n(38053),a=n(36024),o=n(56515),r=n(4954),s=n(35366),l=n(88195),c=n(28505),u=n(73234),d=n(63337),g=n(38116),f=n(34955),m=n(61116),v=n(13536),b=n(80922),_=n(86668),Z=n(84369),y=n(77307),x=n(27701),k=n(54275),A=n(71765),w=n(24311),T=n(47210),C=n(2406),q=n(40450);function U(e,t){1&e&&(s.TgZ(0,"a",17),s._UZ(1,"mat-icon",18),s.TgZ(2,"span",1),s._uU(3,"Add New Page"),s.qZA(),s.qZA())}function I(e,t){1&e&&s._UZ(0,"mat-progress-bar",19)}function M(e,t){1&e&&(s.TgZ(0,"th",20),s._uU(1,"Type"),s.qZA())}var O=function(e){return{count:e,resource:"page(s)"}};function J(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"tr"),s.TgZ(1,"th",21),s.TgZ(2,"div",22),s._uU(3," :count :resource selected: "),s.qZA(),s.TgZ(4,"div",23),s.TgZ(5,"button",24),s.NdJ("click",function(){return s.CHM(n),s.oxw().maybeDeleteSelectedPages()}),s._uU(6," Delete "),s.qZA(),s.qZA(),s.qZA(),s.qZA()}if(2&e){var i=t.ngIf;s.xp6(2),s.Q6J("transValues",s.VKq(1,O,i))}}function P(e,t){if(1&e&&(s.TgZ(0,"td",37),s._uU(1),s.qZA()),2&e){var n=s.oxw().$implicit,i=s.oxw();s.xp6(1),s.hij(" ",n.type?i.viewName(n.type):"default"," ")}}var N=function(e){return[e,"edit"]};function S(e,t){if(1&e&&(s.TgZ(0,"a",38),s.ALo(1,"trans"),s._UZ(2,"mat-icon",39),s.qZA()),2&e){var n=s.oxw().$implicit;s.Q6J("routerLink",s.VKq(4,N,n.id))("matTooltip",s.lcZ(1,2,"Edit page"))}}function D(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"tr"),s._UZ(1,"td",25),s.TgZ(2,"td",26),s.TgZ(3,"a",27),s._uU(4),s.qZA(),s.qZA(),s.TgZ(5,"td",28),s._UZ(6,"user-column",29),s.qZA(),s.TgZ(7,"td",30),s._uU(8),s.qZA(),s.YNc(9,P,2,1,"td",31),s.TgZ(10,"td",32),s._uU(11),s.ALo(12,"formattedDate"),s.qZA(),s.TgZ(13,"td",33),s.YNc(14,S,3,6,"a",34),s.TgZ(15,"button",35),s.NdJ("click",function(){var e=s.CHM(n).$implicit;return s.oxw().maybeDeleteSelectedPages([e.id])}),s._UZ(16,"mat-icon",36),s.qZA(),s.qZA(),s.qZA()}if(2&e){var i=t.$implicit,a=s.oxw();s.xp6(1),s.Q6J("table-body-checkbox",i.id),s.xp6(2),s.Q6J("href",a.getPageUrl(i),s.LSH),s.xp6(1),s.Oqu(i.slug),s.xp6(2),s.Q6J("user",i.user),s.xp6(2),s.Oqu(i.body),s.xp6(1),s.Q6J("ngIf",!a.endpoint),s.xp6(2),s.Oqu(s.lcZ(12,8,i.updated_at)),s.xp6(3),s.Q6J("ngIf",a.currentUser.hasPermission("custom_pages.update"))}}function Q(e,t){1&e&&(s.TgZ(0,"no-results-message",40),s.TgZ(1,"span",41),s._uU(2,"No pages have been created yet"),s.qZA(),s.qZA())}var Y=function(){var e=function(){function e(t,n,i,a,o,s,l){p(this,e),this.settings=t,this.datatable=n,this.currentUser=i,this.customPages=a,this.toast=o,this.router=s,this.route=l,this.endpoint=this.route.snapshot.data.endpoint,this.filters=r.I,this.pages$=this.datatable.data$}return h(e,[{key:"ngOnInit",value:function(){this.datatable.init({uri:this.endpoint||i.i.BASE_URI,staticParams:{with:["user"]}})}},{key:"maybeDeleteSelectedPages",value:function(e){var t=this;this.datatable.confirmResourceDeletion("tracking pixels").subscribe(function(){t.customPages.delete(e||t.datatable.selectedRows$.value).subscribe(function(){t.datatable.reset(),t.toast.open("Pages deleted")},function(e){t.toast.open(e.message||a.v.Default)})})}},{key:"showUserColumn",value:function(){return this.router.url.indexOf("admin")>-1}},{key:"getPageUrl",value:function(e){return this.settings.getBaseUrl()+"/pages/"+e.id+"/"+e.slug}},{key:"viewName",value:function(e){return e.replace(/_/g," ")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(l.Z),s.Y36(o.x),s.Y36(c.I),s.Y36(i.i),s.Y36(u.F),s.Y36(d.F0),s.Y36(d.gz))},e.\u0275cmp=s.Xpm({type:e,selectors:[["custom-pages-index"]],features:[s._Bn([o.x])],decls:32,vars:13,consts:[[1,"datatable-page-header"],["trans",""],[1,"header"],["pluralName","pages",3,"filters"],[1,"action-buttons"],["mat-raised-button","","color","accent","routerLink","new","class","button-with-icon",4,"ngIf"],[1,"datatable","responsive-table"],["class","loading-bar","mode","indeterminate","color","accent",4,"ngIf"],[1,"material-table"],["table-header-checkbox",""],["table-sort-header","","trans",""],["table-sort-header","user_id","trans",""],["trans","",1,"body-column"],["class","type-column","table-sort-header","","trans","",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],["svgImage","custom-page.svg",4,"ngIf"],["mat-raised-button","","color","accent","routerLink","new",1,"button-with-icon"],["svgIcon","add"],["mode","indeterminate","color","accent",1,"loading-bar"],["table-sort-header","","trans","",1,"type-column"],["colspan","7"],["trans","",1,"bulk-actions-title",3,"transValues"],[1,"bulk-actions"],["type","button","mat-raised-button","","color","warn","trans","",3,"click"],[3,"table-body-checkbox"],["data-label","Slug"],["target","_blank",3,"href"],["data-label","Owner"],[3,"user"],["data-label","Body",1,"body-column"],["data-label","Type","class","type-column",4,"ngIf"],["data-label","Last Updated"],[1,"edit-column"],["mat-icon-button","",3,"routerLink","matTooltip",4,"ngIf"],["type","button","mat-icon-button","","trans","",3,"click"],["svgIcon","delete"],["data-label","Type",1,"type-column"],["mat-icon-button","",3,"routerLink","matTooltip"],["svgIcon","edit"],["svgImage","custom-page.svg"],["primary-text","","trans",""]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"h1",1),s.TgZ(2,"span",1),s._uU(3,"Custom Pages"),s.qZA(),s.qZA(),s.TgZ(4,"div",2),s._UZ(5,"datatable-filters",3),s.TgZ(6,"div",4),s.YNc(7,U,4,0,"a",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",6),s.YNc(9,I,1,0,"mat-progress-bar",7),s.ALo(10,"async"),s.TgZ(11,"table",8),s.TgZ(12,"thead"),s.TgZ(13,"tr"),s._UZ(14,"th",9),s.TgZ(15,"th",10),s._uU(16,"Slug"),s.qZA(),s.TgZ(17,"th",11),s._uU(18,"Owner"),s.qZA(),s.TgZ(19,"th",12),s._uU(20,"Body"),s.qZA(),s.YNc(21,M,2,0,"th",13),s.TgZ(22,"th",1),s._uU(23,"Last Updated"),s.qZA(),s._UZ(24,"th"),s.qZA(),s.YNc(25,J,7,3,"tr",14),s.qZA(),s.TgZ(26,"tbody"),s.YNc(27,D,17,10,"tr",15),s.ALo(28,"async"),s.qZA(),s.qZA(),s.YNc(29,Q,3,0,"no-results-message",16),s.ALo(30,"async"),s._UZ(31,"datatable-footer"),s.qZA()),2&e&&(s.xp6(5),s.Q6J("filters",t.filters),s.xp6(2),s.Q6J("ngIf",t.currentUser.hasPermission("custom_pages.create")),s.xp6(2),s.Q6J("ngIf",s.lcZ(10,7,t.datatable.paginator&&t.datatable.paginator.loading$)),s.xp6(12),s.Q6J("ngIf",!t.endpoint),s.xp6(4),s.Q6J("ngIf",t.datatable.selectedRows$.value.length),s.xp6(2),s.Q6J("ngForOf",s.lcZ(28,9,t.pages$)),s.xp6(2),s.Q6J("ngIf",s.lcZ(30,11,t.datatable.paginator.noResults$)))},directives:[g.P,f.h,m.O5,v.e,b.p,m.sg,_.V,Z.zs,d.yS,y.Hw,x.pW,Z.lW,k.O,A.r,w.gM,T.U],pipes:[m.Ov,C.l,q.R],styles:[".body-column[_ngcontent-%COMP%]{margin-right:25px;overflow:hidden}.type-column[_ngcontent-%COMP%]{text-transform:capitalize}"],changeDetection:0}),e}()},83927:function(e,t,n){"use strict";n.d(t,{T:function(){return r}});var i=n(74899),a=n(35366),o=n(3950),r=function(){var e=function(){function e(t){p(this,e),this.i18n=t}return h(e,[{key:"getFullPlanName",value:function(){if(this.plan){var e=this.plan.parent?this.plan.parent.name:this.plan.name;return e=(0,i.z)(this.i18n.t(e)),e+=" "+this.i18n.t("Plan"),this.plan.parent&&(e+=": "+this.plan.name),e}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Y36(o.Z))},e.\u0275cmp=a.Xpm({type:e,selectors:[["full-plan-name"]],inputs:{plan:"plan"},decls:1,vars:1,template:function(e,t){1&e&&a._uU(0),2&e&&a.Oqu(t.getFullPlanName())},encapsulation:2,changeDetection:0}),e}()},60214:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var i=n(35366),a=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({}),e}()},6153:function(e,t,n){"use strict";n.d(t,{Y:function(){return r}});var i=n(35366),a=n(88195),o=n(63337),r=function(){var e=function(){function e(t,n){p(this,e),this.settings=t,this.router=n}return h(e,[{key:"canActivate",value:function(e,t){return this.handle()}},{key:"canActivateChild",value:function(e,t){return this.handle()}},{key:"handle",value:function(){return!(!this.settings.get("billing.integrated")||!this.settings.get("billing.enable"))||(this.router.navigate(["/"]),!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(i.LFG(a.Z),i.LFG(o.F0))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},33427:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var i=n(35366),a=n(68515),o=function(){var e=function(){function e(t){p(this,e),this.http=t}return h(e,[{key:"all",value:function(t){return this.http.get(e.BASE_URI,t)}},{key:"get",value:function(t){return this.http.get("".concat(e.BASE_URI,"/").concat(t))}},{key:"create",value:function(t){return this.http.post(e.BASE_URI,t)}},{key:"update",value:function(t,n){return this.http.put("".concat(e.BASE_URI,"/").concat(t),n)}},{key:"delete",value:function(t){return this.http.delete("".concat(e.BASE_URI,"/").concat(t))}},{key:"sync",value:function(){return this.http.post("".concat(e.BASE_URI,"/sync"))}}]),e}();return e.BASE_URI="billing-plan",e.\u0275fac=function(t){return new(t||e)(i.LFG(a.r))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},83693:function(e,t,n){"use strict";n.d(t,{o:function(){return i},P:function(){return a}});var i=function(e){return e.LINE="line",e.PIE="pie",e.BAR="bar",e}({}),a=function(){function e(t){var n=this;p(this,e),this.config=t,setTimeout(function(){return n.generate()})}return h(e,[{key:"getMaxValue",value:function(){return this.config.data?Array.isArray(this.config.data[0])?Math.max.apply(Math,c(this.config.data[0]).concat(c(this.config.data[1]||[]))):Math.max.apply(Math,c(this.config.data)):0}},{key:"generateDataWithTooltip",value:function(e){var t=this;return this.config.tooltip?e.map(function(e){return{value:e,meta:t.config.tooltip}}):e}},{key:"isEmpty",value:function(){return this.getMaxValue()<=0}}]),e}()},92007:function(e,t,i){"use strict";i.d(t,{x:function(){return C}});var o=i(83693),r=i(45059),s=i.n(r),l=i(88636),c=i.n(l),u=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).lineConfig={showArea:!0,lineSmooth:!0,low:0,fullWidth:!0,chartPadding:{left:15,right:30},axisY:{labelInterpolationFnc:function(e){return Math.floor(e)}},plugins:[c()()]},e}return h(i,[{key:"generate",value:function(){var e=Object.assign(Object.assign(Object.assign({},this.lineConfig),{high:this.getHigh()}),this.config.options||{});this.chart=new(s().Line)(this.config.selector,this.transformChartData(),e),this.chart.on("draw",function(e){"line"!==e.type&&"area"!==e.type||e.element.animate({d:{begin:e.index,dur:250,from:e.path.clone().scale(1,0).translate(0,e.chartRect.height()).stringify(),to:e.path.clone().stringify(),easing:s().Svg.Easing.easeOutQuint}})})}},{key:"transformChartData",value:function(){var e=this;return{labels:this.config.labels,series:this.config.data.map(function(t){return e.generateDataWithTooltip(t||[])})}}},{key:"getHigh",value:function(){return this.getMaxValue()?void 0:100}},{key:"destroy",value:function(){this.chart&&(this.chart.off("draw"),this.chart.detach())}}]),i}(o.P),d=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).pieConfig={showLabel:!1,chartPadding:0,plugins:[c()()]},e}return h(i,[{key:"generate",value:function(){var e=Object.assign(Object.assign({},this.pieConfig),this.config.options||{});this.chart=new(s().Pie)(this.config.selector,this.transformChartData(),e),this.animate()}},{key:"transformChartData",value:function(){return{labels:this.config.labels,series:this.generateDataWithTooltip(this.config.data)}}},{key:"destroy",value:function(){this.chart&&(this.chart.off("draw"),this.chart.detach())}},{key:"animate",value:function(){this.chart.on("draw",function(e){if("slice"===e.type){var t=e.element._node.getTotalLength();e.element.attr({"stroke-dasharray":t+"px "+t+"px"});var n={"stroke-dashoffset":{id:"anim"+e.index,dur:300*e.value/e.totalDataSum,from:-t+"px",to:"0px",fill:"freeze"}};if(0!==e.index&&(n["stroke-dashoffset"].begin="anim"+(e.index-1)+".end"),e.element.attr({"stroke-dashoffset":-t+"px"}),e.element.animate(n,!1),360===e.endAngle)for(var i=e.index,a=1e3*e.value/e.totalDataSum/2,o=0,r=-t/3,s=0;s<4;s++){e.element.animate({"stroke-dashoffset":{id:"anim"+(i+1),dur:a,from:o+"px",to:r+"px",fill:"freeze",begin:"anim"+i+".end"}},!1),i++,a/=1.75;var l=o;o=r,r=l/2.5}}})}}]),i}(o.P),g=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).barConfig={chartPadding:{left:15,right:30},plugins:[c()()]},e}return h(i,[{key:"generate",value:function(){var e=Object.assign(Object.assign(Object.assign({},this.barConfig),this.config.options||{}),{high:this.getHigh()});this.chart=new(s().Bar)(this.config.selector,this.transformChartData(),e),this.chart.on("draw",function(e){"bar"===e.type&&e.element.animate({y2:{dur:"0.2s",from:e.y1,to:e.y2}})})}},{key:"transformChartData",value:function(){var e=this;return{labels:this.config.labels,series:this.config.data.map(function(t){return e.generateDataWithTooltip(t||[])})}}},{key:"getHigh",value:function(){return this.getMaxValue()?void 0:100}},{key:"destroy",value:function(){this.chart&&(this.chart.off("draw"),this.chart.detach())}}]),i}(o.P),f=i(35366),m=i(61116),v=i(77307),b=i(38116),_=["headerWrapper"],Z=["legendWrapper"],y=["chartPlaceholder"];function x(e,t){1&e&&(f.TgZ(0,"div",7),f._UZ(1,"mat-icon",8),f.TgZ(2,"span",9),f._uU(3,"No data available for this time period."),f.qZA(),f.qZA())}function k(e,t){if(1&e&&(f.TgZ(0,"div",12),f._uU(1),f.qZA()),2&e){var n=t.$implicit;f.xp6(1),f.Oqu(n)}}function A(e,t){if(1&e&&(f.TgZ(0,"div",10),f.YNc(1,k,2,1,"div",11),f.qZA()),2&e){var n=f.oxw();f.xp6(1),f.Q6J("ngForOf",n.chartConfig.labels)}}var w=[[["",8,"chart-header"]],[["",8,"chart-legend"]]],T=[".chart-header",".chart-legend"],C=function(){var e=function(){function e(t){p(this,e),this.el=t}return h(e,[{key:"ngOnInit",value:function(){this.calcAndSetChartHeight()}},{key:"ngOnChanges",value:function(){this.chartConfig&&(this.chart=this.chartConfig.type===o.o.LINE?new u(this.transformConfig()):this.chartConfig.type===o.o.BAR?new g(this.transformConfig()):new d(this.transformConfig()))}},{key:"ngOnDestroy",value:function(){this.chart&&this.chart.destroy()}},{key:"transformConfig",value:function(){return Object.assign(Object.assign({},this.chartConfig),{selector:this.chartPlaceholder.nativeElement})}},{key:"calcAndSetChartHeight",value:function(){var e=this.height;this.headerWrapper.nativeElement.children.length&&(e-=66),(this.chartConfig&&this.chartConfig.legend||this.legendWrapper.nativeElement.children.length)&&(e-=40),this.el.nativeElement.style.height=this.height+"px",this.chartPlaceholder.nativeElement.style.height=e-15+"px"}}]),e}();return e.\u0275fac=function(t){return new(t||e)(f.Y36(f.SBq))},e.\u0275cmp=f.Xpm({type:e,selectors:[["chart"]],viewQuery:function(e,t){var n;(1&e&&(f.Gf(_,7),f.Gf(Z,7),f.Gf(y,7)),2&e)&&(f.iGM(n=f.CRH())&&(t.headerWrapper=n.first),f.iGM(n=f.CRH())&&(t.legendWrapper=n.first),f.iGM(n=f.CRH())&&(t.chartPlaceholder=n.first))},hostAttrs:[1,"chart"],inputs:{chartConfig:"chartConfig",height:"height"},features:[f.TTD],ngContentSelectors:T,decls:10,vars:5,consts:[[1,"header-wrapper"],["headerWrapper",""],["chartPlaceholder",""],["class","empty-msg",4,"ngIf"],[1,"legend-wrapper"],["legendWrapper",""],["class","chart-legend",4,"ngIf"],[1,"empty-msg"],["svgIcon","warning"],["trans",""],[1,"chart-legend"],["class","legend-item",4,"ngFor","ngForOf"],[1,"legend-item"]],template:function(e,t){1&e&&(f.F$t(w),f.TgZ(0,"div",0,1),f.Hsn(2),f.qZA(),f.TgZ(3,"div",null,2),f.YNc(5,x,4,0,"div",3),f.qZA(),f.TgZ(6,"div",4,5),f.Hsn(8,1),f.YNc(9,A,2,1,"div",6),f.qZA()),2&e&&(f.xp6(3),f.Gre("ct-chart ct-perfect-fourth ",null==t.chartConfig?null:t.chartConfig.type,"-chart chart-body"),f.xp6(2),f.Q6J("ngIf",t.chart&&t.chart.isEmpty()),f.xp6(4),f.Q6J("ngIf",null==t.chartConfig?null:t.chartConfig.legend))},directives:[m.O5,v.Hw,b.P,m.sg],styles:['.chart{display:block;max-width:100%;overflow:hidden}@media only screen and (max-width:768px){.chart{width:100%;flex:0 0 100%}}.chart .chart-body{margin-top:15px;position:relative}.chart .chart-header{padding:15px;border-bottom:1px solid var(--be-divider-default);height:66px}.chart .chart-header .title{font-size:1.3rem;font-weight:500;color:var(--be-text)}.chart .chart-header .subtitle{font-size:1.2rem;color:var(--be-secondary-text)}.chart .chart-legend{display:flex;width:100%;height:40px;align-items:center;justify-content:center;flex-wrap:wrap;padding:0 15px;font-size:1.3rem}.chart .chart-legend .legend-item{margin-right:14px;position:relative;padding-left:15px;white-space:nowrap;text-transform:capitalize}.chart .chart-legend .legend-item:before{display:block;content:" ";width:12px;height:12px;position:absolute;top:0;left:0;bottom:0;right:0;margin:auto 0}.chart .empty-msg{padding:15px;border-radius:4px;background-color:var(--be-background-alternative);border:1px solid var(--be-divider-default);text-align:center;width:80%;height:50px;max-width:340px;position:absolute;top:0;left:0;right:0;bottom:0;margin:auto;z-index:1}.chart .empty-msg .mat-icon{vertical-align:middle;margin-right:8px;color:var(--be-secondary-text);margin-top:-2px}.chart .ct-bar{stroke-width:30px}'],encapsulation:2,changeDetection:0}),e}()},20653:function(e,t,n){"use strict";n.d(t,{m:function(){return s}});var i=n(61116),a=n(68400),o=n(77307),r=n(35366),s=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[i.ez,a.N,o.Ps]]}),e}()},29738:function(e,t,n){"use strict";n.d(t,{b:function(){return m}});var i=n(31041),a=n(78512),o=n(35366),r=n(88195),s=n(77307),l=n(61116),c=n(84369),u=n(38116);function d(e,t){if(1&e){var n=o.EpF();o.ynx(0),o.TgZ(1,"div",3),o._uU(2),o.qZA(),o.TgZ(3,"div",4),o._UZ(4,"input",5),o.qZA(),o.TgZ(5,"button",6),o.NdJ("click",function(){return o.CHM(n),o.oxw().save()}),o._uU(6," Save "),o.qZA(),o.BQk()}if(2&e){var i=o.oxw();o.xp6(2),o.Oqu(i.fullBaseUri+i.getPrefix()),o.xp6(2),o.Q6J("formControl",i.slugControl)}}function g(e,t){if(1&e&&(o.ynx(0),o.TgZ(1,"a",8),o._uU(2),o.qZA(),o.BQk()),2&e){var n=t.ngIf;o.xp6(1),o.Q6J("href",n,o.LSH)("title",n),o.xp6(1),o.Oqu(n)}}function f(e,t){if(1&e){var n=o.EpF();o.YNc(0,g,3,3,"ng-container",7),o.ALo(1,"async"),o.TgZ(2,"button",6),o.NdJ("click",function(){return o.CHM(n),o.oxw().startEditing()}),o._uU(3," Edit "),o.qZA()}if(2&e){var i=o.oxw();o.Q6J("ngIf",i.fullBaseUri+i.getPrefix()+o.lcZ(1,1,i.slug$))}}var m=function(){var e=function(){function e(t){p(this,e),this.settings=t,this.slug$=new a.X(""),this.editing$=new a.X(!1),this.slugControl=new i.NI,this.defaultBaseUri=this.settings.getBaseUrl()+"/",this.fullBaseUri=this.defaultBaseUri}return h(e,[{key:"baseUri",set:function(e){this.fullBaseUri=(e=e||this.defaultBaseUri).endsWith("/")?e:e+"/"}},{key:"writeValue",value:function(e){this.slug$.next(e),this.slugControl.setValue(e)}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}},{key:"save",value:function(){this.slug$.next(this.slugControl.value),this.propagateChange(this.slug$.value),this.editing$.next(!1)}},{key:"startEditing",value:function(){this.editing$.next(!0)}},{key:"getPrefix",value:function(){return this.prefix?this.prefix+"/":""}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(r.Z))},e.\u0275cmp=o.Xpm({type:e,selectors:[["slug-control"]],inputs:{prefix:"prefix",baseUri:"baseUri"},features:[o._Bn([{provide:i.JU,useExisting:e,multi:!0}])],decls:5,vars:4,consts:[["svgIcon","link",1,"link-icon"],[4,"ngIf","ngIfElse"],["editButton",""],[1,"nowrap"],[1,"input-container"],["type","text",3,"formControl"],["type","button","mat-flat-button","","color","gray","trans","",1,"action-button",3,"click"],[4,"ngIf"],["target","_blank",1,"nowrap",3,"href","title"]],template:function(e,t){if(1&e&&(o._UZ(0,"mat-icon",0),o.YNc(1,d,7,2,"ng-container",1),o.ALo(2,"async"),o.YNc(3,f,4,3,"ng-template",null,2,o.W1O)),2&e){var n=o.MAs(4);o.xp6(1),o.Q6J("ngIf",o.lcZ(2,2,t.editing$))("ngIfElse",n)}},directives:[s.Hw,l.O5,i.Fj,i.JJ,i.oH,c.lW,u.P],pipes:[l.Ov],styles:["[_nghost-%COMP%]{display:flex;align-items:center}.input-container[_ngcontent-%COMP%]{margin-left:3px;width:auto;max-width:160px}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:25px;padding:6px}.link-icon[_ngcontent-%COMP%]{margin-right:5px;flex-shrink:0}.action-button[_ngcontent-%COMP%]{margin-left:20px;line-height:25px}.nowrap[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"],changeDetection:0}),e}()},29828:function(e,t,n){"use strict";n.d(t,{I:function(){return c}});var i=n(61116),a=n(31041),o=n(84369),r=n(77307),s=n(68400),l=n(35366),c=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[i.ez,a.UX,o.ot,s.N,r.Ps]]}),e}()},6006:function(e,t,i){"use strict";i.d(t,{V:function(){return L}});var o=i(35366),r=i(31041),s=i(78512),l=i(66457),c=i(67139),u=i(35331),d=i(62147),g=i(97070),f=i(57125),m=i(340),v=i(68515),b=i(61116),_=i(91741),Z=i(96673),y=i(48569),x={leading:!0,trailing:!1},k=function(){function e(t,n,i,a){p(this,e),this.duration=t,this.scheduler=n,this.leading=i,this.trailing=a}return h(e,[{key:"call",value:function(e,t){return t.subscribe(new A(e,this.duration,this.scheduler,this.leading,this.trailing))}}]),e}(),A=function(e){n(i,e);var t=a(i);function i(e,n,a,o,r){var s;return p(this,i),(s=t.call(this,e)).duration=n,s.scheduler=a,s.leading=o,s.trailing=r,s._hasTrailingValue=!1,s._trailingValue=null,s}return h(i,[{key:"_next",value:function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(w,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}},{key:"_complete",value:function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}},{key:"clearThrottle",value:function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}]),i}(Z.L);function w(e){e.subscriber.clearThrottle()}var T=i(27701),C=function(){var e=function(){function e(t,n,i){var a=this;p(this,e),this.el=t,this.uploadQueue=n,this.cd=i,this.hidden=!0,this.subscription=this.uploadQueue.totalProgress().pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.P,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:x;return function(i){return i.lift(new k(e,t,n.leading,n.trailing))}}(260,_.Z,{leading:!0,trailing:!0})).subscribe(function(e){a.progress=e,a.hidden=100===e||0===a.uploadQueue.count$.value.pending,a.cd.markForCheck()})}return h(e,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq),o.Y36(l.A),o.Y36(o.sBO))},e.\u0275cmp=o.Xpm({type:e,selectors:[["upload-progress-bar"]],hostVars:2,hostBindings:function(e,t){2&e&&o.ekj("hidden",t.hidden)},decls:1,vars:1,consts:[["mode","determinate","color","accent",3,"value"]],template:function(e,t){1&e&&o._UZ(0,"mat-progress-bar",0),2&e&&o.Q6J("value",t.progress)},directives:[T.pW],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0}),e}(),q=i(62181),U=i(84369),I=i(77307),M=function(){var e=function(){function e(t){p(this,e),this.el=t,this.config={},this.filesSelected=new o.vpe}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.el.nativeElement.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),(0,d.r)(e.config).then(function(t){t&&t.length&&e.filesSelected.emit(t)})})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.SBq))},e.\u0275dir=o.lG2({type:e,selectors:[["","uploadButton",""]],inputs:{config:["uploadButton","config"]},outputs:{filesSelected:"filesSelected"}}),e}(),O=i(38116),J=i(40450);function P(e,t){1&e&&o._UZ(0,"image-or-icon",4),2&e&&o.Q6J("src",t.ngIf)}function N(e,t){if(1&e&&o._UZ(0,"image-or-icon",4),2&e){var n=o.oxw(2);o.Q6J("src",n.defaultBackground)}}function S(e,t){if(1&e&&o.YNc(0,N,1,1,"image-or-icon",5),2&e){var n=o.oxw();o.Q6J("ngIf",n.defaultBackground)}}function D(e,t){if(1&e){var n=o.EpF();o.ynx(0),o._UZ(1,"span",6),o.TgZ(2,"button",7),o.NdJ("click",function(){return o.CHM(n),o.oxw().openUploadDialog()}),o._UZ(3,"mat-icon",8),o.qZA(),o.TgZ(4,"mat-menu",null,9),o.TgZ(6,"button",10),o.NdJ("filesSelected",function(e){return o.CHM(n),o.oxw().uploadImage(e)}),o._uU(7),o.ALo(8,"trans"),o.qZA(),o.TgZ(9,"button",11),o.NdJ("click",function(){return o.CHM(n),o.oxw().deleteUpload()}),o._uU(10,"Remove"),o.qZA(),o.qZA(),o.BQk()}if(2&e){var i=o.MAs(5),a=o.oxw();o.xp6(1),o.Q6J("matMenuTriggerFor",i),o.xp6(5),o.Q6J("uploadButton",a.uploadInputConfig),o.xp6(1),o.Oqu(o.lcZ(8,3,a.buttonText))}}function Q(e,t){if(1&e){var n=o.EpF();o.TgZ(0,"button",14),o.NdJ("click",function(){return o.CHM(n),o.oxw(2).deleteUpload()}),o._UZ(1,"mat-icon",15),o.qZA()}}function Y(e,t){if(1&e){var n=o.EpF();o.ynx(0),o.TgZ(1,"button",12),o.NdJ("filesSelected",function(e){return o.CHM(n),o.oxw().uploadImage(e)}),o._uU(2),o.ALo(3,"trans"),o.qZA(),o.YNc(4,Q,2,0,"button",13),o.ALo(5,"async"),o.BQk()}if(2&e){var i=o.oxw();o.xp6(1),o.Q6J("uploadButton",i.uploadInputConfig),o.xp6(1),o.Oqu(o.lcZ(3,3,i.buttonText)),o.xp6(2),o.Q6J("ngIf",o.lcZ(5,5,i.src$))}}var L=function(){var e=function(){function e(t,n,i,a){p(this,e),this.uploadQueue=t,this.imageValidator=n,this.uploadsApi=i,this.http=a,this.fileDeleted=new o.vpe,this.buttonText="Upload image",this.uploadConfig={},this.compact=!1,this.uploadInputConfig={multiple:!1,types:[c.j.image]},this.isDisabled$=new s.X(!1),this.src$=new s.X(null)}return h(e,[{key:"writeValue",value:function(e){this.src$.next(e)}},{key:"registerOnChange",value:function(e){this.propagateChange=e}},{key:"registerOnTouched",value:function(){}},{key:"setDisabledState",value:function(e){this.isDisabled$.next(e)}},{key:"uploadImage",value:function(e){var t=this,n=Object.assign(Object.assign({},this.defaultUploadConfig()),this.uploadConfig);this.uploadQueue.start(e,n).subscribe(function(e){t.src$.next(e.fileEntry.url),t.propagateChange(e.fileEntry.url)})}},{key:"deleteUpload",value:function(){var e=this,t={paths:[this.src$.value],deleteForever:!0};(this.uploadConfig&&this.uploadConfig.uri?this.http.delete(this.uploadConfig.uri,t):this.uploadsApi.delete(t)).subscribe(function(){e.src$.next(null),e.propagateChange(null),e.fileDeleted.emit()})}},{key:"defaultUploadConfig",value:function(){return{httpParams:{diskPrefix:this.diskPrefix||"common_media"},uri:u.C.Image,validator:this.imageValidator}}},{key:"openUploadDialog",value:function(){var e=this;this.src$.value?this.menuTrigger.toggleMenu():(0,d.r)(this.uploadInputConfig).then(function(t){e.uploadImage(t)})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(o.Y36(l.A),o.Y36(f.G),o.Y36(m.f),o.Y36(v.r))},e.\u0275cmp=o.Xpm({type:e,selectors:[["upload-image-control"]],viewQuery:function(e,t){var n;(1&e&&o.Gf(g.p6,5),2&e)&&(o.iGM(n=o.CRH())&&(t.menuTrigger=n.first))},hostVars:2,hostBindings:function(e,t){2&e&&o.ekj("compact",t.compact)},inputs:{defaultBackground:"defaultBackground",buttonText:"buttonText",uploadConfig:"uploadConfig",diskPrefix:"diskPrefix",compact:"compact"},outputs:{fileDeleted:"fileDeleted"},features:[o._Bn([l.A,{provide:r.JU,useExisting:e,multi:!0}])],decls:10,vars:10,consts:[["class","inherit-size",3,"src",4,"ngIf","ngIfElse"],["defaultBg",""],[1,"action-buttons"],[4,"ngIf"],[1,"inherit-size",3,"src"],["class","inherit-size",3,"src",4,"ngIf"],[3,"matMenuTriggerFor"],["type","button","mat-icon-button","",1,"action-button",3,"click"],["svgIcon","add-photo-alternate"],["menu","matMenu"],["type","button","mat-menu-item","",3,"uploadButton","filesSelected"],["type","button","mat-menu-item","","trans","",3,"click"],["type","button","mat-stroked-button","","color","accent",1,"action-button",3,"uploadButton","filesSelected"],["type","button","class","action-button delete-button","mat-icon-button","",3,"click",4,"ngIf"],["type","button","mat-icon-button","",1,"action-button","delete-button",3,"click"],["svgIcon","delete"]],template:function(e,t){if(1&e&&(o.YNc(0,P,1,1,"image-or-icon",0),o.ALo(1,"async"),o.YNc(2,S,1,1,"ng-template",null,1,o.W1O),o.TgZ(4,"div",2),o.YNc(5,D,11,5,"ng-container",3),o.ALo(6,"async"),o.YNc(7,Y,6,7,"ng-container",3),o.ALo(8,"async"),o.qZA(),o._UZ(9,"upload-progress-bar")),2&e){var n=o.MAs(3);o.Q6J("ngIf",o.lcZ(1,4,t.src$))("ngIfElse",n),o.xp6(5),o.Q6J("ngIf",t.compact&&!o.lcZ(6,6,t.isDisabled$)),o.xp6(2),o.Q6J("ngIf",!t.compact&&!o.lcZ(8,8,t.isDisabled$))}},directives:[b.O5,C,q.A,g.p6,U.lW,I.Hw,g.VK,g.OP,M,O.P],pipes:[b.Ov,J.R],styles:["[_nghost-%COMP%]{display:block;width:220px;height:220px;flex-shrink:0;border-radius:4px;overflow:hidden;background:linear-gradient(135deg,#70929c,#846170);position:relative}.inherit-size[_nghost-%COMP%], .inherit-size   [_nghost-%COMP%]{width:100%;height:100%}.compact[_nghost-%COMP%]   .action-buttons[_ngcontent-%COMP%], .compact   [_nghost-%COMP%]   .action-buttons[_ngcontent-%COMP%]{bottom:0;top:0}.action-buttons[_ngcontent-%COMP%]{position:absolute;bottom:25px;left:0;right:0;margin:auto;text-align:center;height:34px}.action-button[_ngcontent-%COMP%]{color:rgba(0,0,0,.87);border-color:rgba(0,0,0,.1);background:hsla(0,0%,100%,.8)}.mat-icon-button[_ngcontent-%COMP%]{border-radius:4px;line-height:34px;height:34px;width:34px}.delete-button[_ngcontent-%COMP%]{margin-left:5px}upload-progress-bar[_ngcontent-%COMP%]{width:100%;position:absolute;left:0;bottom:0}"]}),e}()},90723:function(e,t,n){"use strict";n.d(t,{a:function(){return g}});var i=n(61116),a=n(84369),o=n(77307),r=n(27701),s=n(35366),l=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,a.ot,r.Cv,o.Ps]]}),e}(),c=n(45052),u=n(68400),d=n(97070),g=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[i.ez,l,c.T,u.N,r.Cv,o.Ps,a.ot,d.Tx]]}),e}()},14926:function(e,t,n){"use strict";n.d(t,{_:function(){return b}});var i=n(78512),a=n(55959),o=n(25416),r=n(84698),s=n(90611),l=n(43835),c=n(63337),u=n(35366),d=n(71294),g=n(36402),f=n(88195),m=n(61116),v=["*"],b=function(){var e=function(){function e(t,n,o,r,s){p(this,e),this.breakpoints=t,this.localStorage=n,this.settings=o,this.el=r,this.router=s,this.navIsOpen$=new i.X(!1),this.isCompact$=new i.X(!1),this.onDestroy$=new a.xQ}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.navIsOpen$.next(!this.breakpoints.isMobile$.value),this.isCompact$.pipe((0,o.R)(this.onDestroy$)).subscribe(function(t){t?e.el.nativeElement.style.setProperty("--nav-width","80px"):e.el.nativeElement.style.removeProperty("--nav-width")}),this.navIsOpen$.pipe((0,r.T)(1),(0,s.q)(1)).subscribe(function(){e.el.nativeElement.classList.add("enable-transitions")}),this.navIsOpen$.pipe((0,o.R)(this.onDestroy$)).subscribe(function(t){t?e.el.nativeElement.classList.remove("nav-closed"):e.el.nativeElement.classList.add("nav-closed")}),this.router.events.pipe((0,l.h)(function(e){return e instanceof c.m2}),(0,o.R)(this.onDestroy$)).subscribe(function(){e.navIsOpen$.next(!e.breakpoints.isMobile$.value)})}},{key:"ngOnDestroy",value:function(){this.onDestroy$.next()}},{key:"toggleSidebarMode",value:function(){this.breakpoints.isMobile$.value?this.navIsOpen$.next(!this.navIsOpen$.value):(this.isCompact$.next(!this.isCompact$.value),this.localStorage.set(this.storageSelector(),this.isCompact$.value))}},{key:"storageSelector",value:function(){return"".concat(this.settings.get("branding.site_name"),".sidebarCompact")}}]),e}();return e.\u0275fac=function(t){return new(t||e)(u.Y36(d.S),u.Y36(g.m),u.Y36(f.Z),u.Y36(u.SBq),u.Y36(c.F0))},e.\u0275cmp=u.Xpm({type:e,selectors:[["sidenav"]],ngContentSelectors:v,decls:3,vars:4,consts:[[1,"backdrop",3,"click"]],template:function(e,t){1&e&&(u.F$t(),u.Hsn(0),u.TgZ(1,"div",0),u.NdJ("click",function(){return t.navIsOpen$.next(!1)}),u.ALo(2,"async"),u.qZA()),2&e&&(u.xp6(1),u.ekj("visible",u.lcZ(2,2,t.navIsOpen$)))},pipes:[m.Ov],styles:["[_nghost-%COMP%]{display:flex;padding-top:var(--top-offset);--nav-width:225px;--top-offset:70px}.no-navbar[_nghost-%COMP%]{--top-offset:0px}.nav-closed[_nghost-%COMP%]     nav{transform:translate3d(-100%,0,0);box-shadow:none}.enable-transitions[_nghost-%COMP%]     nav{transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:transform}[_nghost-%COMP%]     nav{width:var(--nav-width);overflow:auto;padding:26px 8px 16px;border-right:1px solid var(--be-divider-default);display:flex;flex-direction:column;position:fixed;top:var(--top-offset);bottom:0;z-index:4;background-color:var(--be-background)}@media only screen and (max-width:768px){[_nghost-%COMP%]     nav{box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 5px 8px 0 rgba(0,0,0,.14),0 1px 14px 0 rgba(0,0,0,.12)}}[_nghost-%COMP%]   .backdrop[_ngcontent-%COMP%]{display:block;top:0;left:0;right:0;bottom:0;position:absolute;z-index:1;transition-duration:.4s;transition-timing-function:cubic-bezier(.25,.8,.25,1);transition-property:background-color,visibility;visibility:hidden}[_nghost-%COMP%]   .backdrop.visible[_ngcontent-%COMP%]{visibility:visible;background-color:var(--be-backdrop);opacity:.6}@media only screen and (min-width:768px){[_nghost-%COMP%]   .backdrop[_ngcontent-%COMP%]{display:none}}[_nghost-%COMP%]     main{min-width:0;flex:1 1 auto;background-color:var(--be-background-alternative);min-height:calc(100vh - 0px);min-height:calc(100vh - var(--top-offset, 0px));display:flex;flex-direction:column}@media only screen and (min-width:768px){[_nghost-%COMP%]     main{margin-left:var(--nav-width)}}"],changeDetection:0}),e}()},85786:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var i=n(61116),a=n(35366),o=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({imports:[[i.ez]]}),e}()},90164:function(e,t,n){"use strict";n.d(t,{y:function(){return f}});var i=n(61116),a=n(31041),o=n(84369),r=n(40994),s=n(92935),l=n(97070),c=n(63589),u=n(24311),d=n(77307),g=n(68400),h=n(35366),f=function(){var e=function e(){p(this,e)};return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=h.oAB({type:e}),e.\u0275inj=h.cJS({imports:[[i.ez,a.u5,a.UX,g.N,o.ot,c.ZX,r.p9,u.AV,s.Is,l.Tx,d.Ps]]}),e}()},25079:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var i=n(98977),a=n(35366),o=function(){var e=function(){function e(){p(this,e)}return h(e,[{key:"transform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return isNaN(parseFloat(String(e)))||!isFinite(e)?"-":(0,i.H)(e,t)}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=a.Yjl({name:"formattedFileSize",type:e,pure:!0}),e}()},35331:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var i=function(e){return e.Image="uploads/images",e}({})},66457:function(e,t,i){"use strict";i.d(t,{A:function(){return P}});var o=i(55959),r=i(78512),s=i(66994),l=i(24831),c=function(){function e(t,n){p(this,e),this.canceled$=new o.xQ,this.processing$=new r.X(!1),this.uploadedResponse$=new s.t(1),this.progress$=new r.X({percentage:0}),this.error$=new r.X(null),this.customData={},this.uploadedFile=t,this.id=n||(0,l.O)()}return h(e,[{key:"completed",get:function(){return!this.processing$.value&&100===this.progress$.value.percentage}},{key:"inProgress",get:function(){return!this.error$.value&&!this.completed}},{key:"cancel",value:function(){this.canceled$.next(!0),this.finalize()}},{key:"complete",value:function(){this.setProgress({percentage:100,eta:null}),this.finalize()}},{key:"finalize",value:function(){this.uploadedResponse$.complete(),this.canceled$.complete(),this.progress$.complete()}},{key:"finishProcessing",value:function(){this.processing$.next(!1),this.processing$.complete()}},{key:"addError",value:function(e){this.error$.next(e)}},{key:"setProgress",value:function(e){this.progress$.next(Object.assign(Object.assign({},this.progress$.value),e))}}]),e}(),u=i(19764),d=i(31225),g=i(34056),f=i(73982),m=i(47727),v=i(25416),b=i(79996),_=i(43835),Z=i(91772),y=i(36024),x=i(35366),k=i(340),A=i(16930),w=i(20274),T=i(16890),C=function(e){n(i,e);var t=a(i);function i(e,n){var a;return p(this,i),(a=t.call(this)).params=e,a.i18n=n,a.errorMessage=a.i18n.t("Only these file types are allowed: :extensions",{extensions:a.params.extensions.join(", ")}),a}return h(i,[{key:"fails",value:function(e){return!this.params.extensions.some(function(t){return t.toLowerCase()===e.extension.toLowerCase()})}}]),i}(T.y),q=function(e){n(i,e);var t=a(i);function i(e,n){var a;return p(this,i),(a=t.call(this)).params=e,a.i18n=n,a.errorMessage=a.i18n.t("These file types are not allowed: :extensions",{extensions:a.params.extensions.join(", ")}),a}return h(i,[{key:"fails",value:function(e){return this.params.extensions.some(function(t){return t===e.extension})}}]),i}(T.y),U=i(94380),I=function(){var e,t=function(e){n(i,e);var t=a(i);function i(){var e;return p(this,i),(e=t.apply(this,arguments)).DEFAULT_MAX_FILE_SIZE_MB=8,e.showToast=!0,e}return h(i,[{key:"initValidations",value:function(){this.validations.push(new w.p({maxSize:this.getMaxFileSize()},this.i18n));var e=this.getAllowedExtensions(),t=this.getBlockedExtensions();e&&e.length&&this.validations.push(new C({extensions:e},this.i18n)),t&&t.length&&this.validations.push(new q({extensions:t},this.i18n))}},{key:"getMaxFileSize",value:function(){return this.settings.get("uploads.max_size",(0,U.F)(this.DEFAULT_MAX_FILE_SIZE_MB,"MB"))}},{key:"getAllowedExtensions",value:function(){return this.settings.getJson("uploads.allowed_extensions")}},{key:"getBlockedExtensions",value:function(){return this.settings.getJson("uploads.blocked_extensions")}}]),i}(A.c);return t.\u0275fac=function(n){return(e||(e=x.n5z(t)))(n||t)},t.\u0275prov=x.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),M=i(73234),O=i(28505),J=i(88195),P=function(){var e=function(){function e(t,n,i,a,l){p(this,e),this.api=t,this.defaultValidator=n,this.toast=i,this.currentUser=a,this.settings=l,this.uploads$=new r.X([]),this.totalProgress$=new s.t(1),this.uploadsAdded$=new o.xQ,this.count$=new r.X({pending:0,completed:0})}return h(e,[{key:"isEmpty",value:function(){return!this.uploads$.value.length}},{key:"getAllCompleted",value:function(){return this.uploads$.value.filter(function(e){return e.completed}).map(function(e){return e.fileEntry})}},{key:"updateTotalProgress",value:function(){var e=this.uploads$.value.map(function(e){return e.progress$.value.percentage||0});this.totalProgress$.next(e.reduce(function(e,t){return e+t},0)/e.length)}},{key:"totalProgress",value:function(){return this.totalProgress$.asObservable()}},{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.validator||this.defaultValidator,a=[];if(Array.isArray(e))a=this.transformUploads(e,i),this.uploads$.next(this.uploads$.value.concat(a)),this.uploadsAdded$.next(a);else{var o=this.uploads$.value.map(function(n){if(e[n.id]){var o=t.transformUploads([e[n.id]],i,n.id)[0];return a.push(o),o}return n});this.uploads$.next(o)}return this.updateCount(),(0,u.D)(a.filter(function(e){return!e.error$.value})).pipe((0,f.zg)(function(e){return t.api.upload(e.uploadedFile,n).pipe((0,m.K)(function(a){return t.handleUploadFailure(a,e,i),n.bubbleError?(0,d._)(a):g.E}),(0,v.R)(e.canceled$),(0,b.U)(function(i){return t.handleUploadEvent(i,e,n.willProcessFiles),i.name===Z.b.COMPLETED&&(i.body.queueItemId=e.id),i}))},1),(0,_.h)(function(e){return e.name===Z.b.COMPLETED}),(0,b.U)(function(e){return e.body}))}},{key:"updateProgress",value:function(e,t){var n=this.find(e);n&&(n.setProgress({eta:t.eta,speed:t.speed,percentage:t.progress,totalBytes:t.totalBytes,completedBytes:t.completedBytes}),this.updateTotalProgress())}},{key:"completeUpload",value:function(e,t){var n=this.find(e);n&&(n.uploadedResponse$.next(t),n.fileEntry=t.fileEntry,n.complete(),this.updateTotalProgress())}},{key:"errorUpload",value:function(e,t){this.find(e).addError(t)}},{key:"reset",value:function(){this.uploads$.value.forEach(function(e){return e.cancel()}),this.uploads$.next([])}},{key:"remove",value:function(e){var t=this.uploads$.value.findIndex(function(t){return t.id===e}),n=this.uploads$.value[t];n.completed?n.finalize():n.cancel(),this.uploads$.value.splice(t,1),this.uploads$.next(this.uploads$.value)}},{key:"find",value:function(e){return this.uploads$.value.find(function(t){return t.id===e})}},{key:"transformUploads",value:function(e,t,n){return e.map(function(e){var i=new c(e,n);if(t){var a=t.validate(e);a.failed&&i.addError(a.errorMessage)}return i})}},{key:"handleUploadEvent",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.name===Z.b.PROGRESS?(100===e.progress&&(e=Object.assign(Object.assign({},e),{progress:99}),n&&t.processing$.next(!0)),this.updateProgress(t.id,e)):e.name===Z.b.COMPLETED&&(this.completeUpload(t.id,e.body),this.updateCount())}},{key:"handleUploadFailure",value:function(e,t,n){var i,a=null===(i=null==e?void 0:e.errors)||void 0===i?void 0:i.file,o=null;a||(a=y.v.DefaultUpload,o=this.currentUser.isAdmin()&&!this.settings.get("site.hide_docs_buttons")),this.errorUpload(t.id,a),this.updateCount(),this.updateTotalProgress(),n.showToast&&this.toast.open(a,{action:o?"Learn More":null}).onAction().subscribe(function(){window.open(y.h)})}},{key:"updateCount",value:function(){var e=this.uploads$.value.filter(function(e){return e.inProgress}).length;this.count$.next({pending:e,completed:this.uploads$.value.length-e})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(x.LFG(k.f),x.LFG(I),x.LFG(M.F),x.LFG(O.I),x.LFG(J.Z))},e.\u0275prov=x.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e}()},12440:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var i=n(78512),a=n(31041),o=n(92935),r=n(11520),s=n(35366),l=n(95157),c=n(73234),u=n(61116),d=n(77307),g=n(38116),f=n(84369);function m(e,t){1&e&&(s.TgZ(0,"span",6),s._uU(1,"Create Workspace"),s.qZA())}function v(e,t){1&e&&(s.TgZ(0,"span",6),s._uU(1,"Update Workspace"),s.qZA())}function b(e,t){if(1&e&&(s.TgZ(0,"div",15),s._uU(1),s.qZA()),2&e){var n=s.oxw().ngIf;s.xp6(1),s.Oqu(n.name)}}function _(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"form",7),s.NdJ("ngSubmit",function(){return s.CHM(n),s.oxw().confirm()}),s.TgZ(1,"mat-dialog-content",8),s.TgZ(2,"div",9),s.TgZ(3,"label",10),s._uU(4,"Name"),s.qZA(),s._UZ(5,"input",11),s.YNc(6,b,2,1,"div",12),s.qZA(),s.qZA(),s.TgZ(7,"mat-dialog-actions"),s.TgZ(8,"button",13),s.NdJ("click",function(){return s.CHM(n),s.oxw().close()}),s._uU(9,"Cancel"),s.qZA(),s.TgZ(10,"button",14),s.ALo(11,"async"),s._uU(12),s.qZA(),s.qZA(),s.qZA()}if(2&e){var i=t.ngIf,a=s.oxw();s.Q6J("formGroup",a.form),s.xp6(6),s.Q6J("ngIf",i.name),s.xp6(4),s.Q6J("disabled",s.lcZ(11,4,a.loading$)),s.xp6(2),s.Oqu(a.data.workspace?"Update":"Create")}}var Z=function(){var e=function(){function e(t,n,o,r){p(this,e),this.dialogRef=t,this.data=n,this.workspaces=o,this.toast=r,this.loading$=new i.X(!1),this.errors$=new i.X({}),this.form=new a.cw({name:new a.NI}),n.workspace&&this.form.patchValue(n.workspace)}return h(e,[{key:"confirm",value:function(){var e=this;this.loading$.next(!0),(this.data.workspace?this.workspaces.update(this.data.workspace.id,this.form.value):this.workspaces.create(this.form.value)).pipe((0,r.x)(function(){return e.loading$.next(!1)})).subscribe(function(t){e.toast.open(e.data.workspace?"Workspace updated.":"Workspace created."),e.close(t.workspace)},function(t){return e.errors$.next(t.errors)})}},{key:"close",value:function(e){this.dialogRef.close(e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(s.Y36(o.so),s.Y36(o.WI),s.Y36(l.b),s.Y36(c.F))},e.\u0275cmp=s.Xpm({type:e,selectors:[["crupdate-workspace-modal"]],decls:8,vars:5,consts:[[1,"modal-header"],["mat-dialog-title",""],["trans","",4,"ngIf"],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],["ngNativeValidate","",3,"formGroup","ngSubmit",4,"ngIf"],["trans",""],["ngNativeValidate","",3,"formGroup","ngSubmit"],[1,"many-inputs"],[1,"input-container","name-container"],["for","crupdate-workspace-name","trans",""],["type","text","id","crupdate-workspace-name","formControlName","name","required","","minlength","3"],["class","error",4,"ngIf"],["type","button","mat-button","","trans","",3,"click"],["type","submit","mat-raised-button","","color","accent","trans","",3,"disabled"],[1,"error"]],template:function(e,t){1&e&&(s.TgZ(0,"div",0),s.TgZ(1,"h2",1),s.YNc(2,m,2,0,"span",2),s.YNc(3,v,2,0,"span",2),s.qZA(),s.TgZ(4,"button",3),s.NdJ("click",function(){return t.close()}),s._UZ(5,"mat-icon",4),s.qZA(),s.qZA(),s.YNc(6,_,13,6,"form",5),s.ALo(7,"async")),2&e&&(s.xp6(2),s.Q6J("ngIf",!t.data.workspace),s.xp6(1),s.Q6J("ngIf",t.data.workspace),s.xp6(3),s.Q6J("ngIf",s.lcZ(7,3,t.errors$)))},directives:[o.uh,u.O5,d.Hw,g.P,a.JL,a.sg,o.xY,a.Fj,a.JJ,a.u,a.Q7,a.wO,o.H8,f.lW],pipes:[u.Ov],styles:["[_nghost-%COMP%]{display:block;width:400px;max-width:100%}"],changeDetection:0}),e}()},75183:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var i={title:"Leave Workspace",body:"Are you sure you want to leave this workspace?",bodyBold:"All resources you've created in the workspace will be transferred to workspace owner.",ok:"Leave"}},77044:function(e,t,n){"use strict";n.d(t,{t:function(){return V}});var i=n(78512),a=n(31041),o=n(92935),r=n(11520),s=function(e){return e.LEFT_WORKSPACE="You have left the workspace.",e.MEMBER_DELETED="Member Deleted.",e.INVITES_SENT="Invites Sent.",e.INVITE_RESENT="Resent invite.",e.ROLE_ASSIGNED="Role Assigned.",e}({}),l=n(4694),u=n(75183),d=n(26437),g=n(35366),f=n(95157),m=n(73234),v=n(25051),b=n(28505),_=n(24859),Z=n(38116),y=n(77307),x=n(61116),k=n(97070),A=n(77910),w=n(84369),T=n(27701),C=n(88798),q=n(24311),U=n(40450);function I(e,t){1&e&&g._UZ(0,"mat-progress-bar",23)}function M(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",16),g.TgZ(1,"div",17),g.TgZ(2,"label",18),g._uU(3,"Invite by email"),g.qZA(),g.TgZ(4,"div",19),g._UZ(5,"chip-input",20),g.TgZ(6,"button",21),g.NdJ("click",function(){return g.CHM(n),g.oxw().invitePeople()}),g.ALo(7,"async"),g.ALo(8,"async"),g._uU(9,"Invite "),g.qZA(),g.qZA(),g.qZA(),g.YNc(10,I,1,0,"mat-progress-bar",22),g.ALo(11,"async"),g.qZA()}if(2&e){var i,a=g.oxw();g.Q6J("@fadeIn",void 0),g.xp6(5),g.Q6J("emailsInput",!0)("formControl",a.peopleToInvite),g.xp6(1),g.Q6J("disabled",g.lcZ(7,5,a.inviting$)||!(null!=(i=g.lcZ(8,7,a.peopleToInvite.valueChanges))&&i.length)),g.xp6(4),g.Q6J("ngIf",g.lcZ(11,9,a.inviting$))}}function O(e,t){1&e&&(g.TgZ(0,"li",24),g._UZ(1,"skeleton",25),g.TgZ(2,"div",26),g._UZ(3,"skeleton"),g._UZ(4,"skeleton"),g.qZA(),g.qZA())}var J=function(){return[1,2,3]};function P(e,t){1&e&&(g.TgZ(0,"ul",12),g.YNc(1,O,5,0,"li",13),g.qZA()),2&e&&(g.Q6J("@fadeOut",void 0),g.xp6(1),g.Q6J("ngForOf",g.DdM(2,J)))}function N(e,t){1&e&&(g.TgZ(0,"span",38),g._uU(1,"(You)"),g.qZA())}function S(e,t){if(1&e){var n=g.EpF();g.ynx(0),g._uU(1," \xb7 "),g.TgZ(2,"button",39),g.NdJ("click",function(){g.CHM(n);var e=g.oxw(2).$implicit;return g.oxw().maybeResendInvite(e)}),g.ALo(3,"async"),g._uU(4,"Resend Invite"),g.qZA(),g.BQk()}if(2&e){var i=g.oxw(3);g.xp6(2),g.Q6J("disabled",g.lcZ(3,1,i.inviting$))}}function D(e,t){if(1&e&&(g.TgZ(0,"span"),g._uU(1," \xb7 "),g.TgZ(2,"span",34),g._uU(3,"Invited"),g.qZA(),g.YNc(4,S,5,3,"ng-container",30),g.qZA()),2&e){var n=g.oxw(2);g.xp6(4),g.Q6J("ngIf",n.canInvite)}}function Q(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"button",40),g.NdJ("click",function(){g.CHM(n);var e=g.oxw().$implicit;return g.oxw().maybeDeleteMember(e)}),g.ALo(1,"async"),g._UZ(2,"mat-icon",3),g.qZA()}if(2&e){var i=g.oxw().$implicit,a=g.oxw();g.ekj("visually-hidden",i.is_owner||!a.canDelete),g.Q6J("disabled",g.lcZ(1,3,a.deleting$))}}function Y(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"button",41),g.NdJ("click",function(){g.CHM(n);var e=g.oxw().$implicit;return g.oxw().maybeLeaveWorkspace(e)}),g.ALo(1,"trans"),g.ALo(2,"async"),g._UZ(3,"mat-icon",42),g.qZA()}if(2&e){var i=g.oxw(2);g.Q6J("matTooltip",g.lcZ(1,2,"Leave workspace"))("disabled",g.lcZ(2,4,i.deleting$))}}var L=function(e){return{member:e}};function E(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"li",24),g.NdJ("@fadeIn.done",function(){return g.CHM(n),g.oxw(),g.MAs(6).style.overflow="auto"}),g._UZ(1,"img",27),g.TgZ(2,"div",26),g.TgZ(3,"div",28),g.TgZ(4,"span"),g._uU(5),g.qZA(),g._uU(6," "),g.YNc(7,N,2,0,"span",29),g.YNc(8,D,5,1,"span",30),g.qZA(),g.TgZ(9,"div",31),g._uU(10),g.qZA(),g.qZA(),g.TgZ(11,"div",32),g.TgZ(12,"button",33),g.TgZ(13,"span",34),g._uU(14),g.qZA(),g._UZ(15,"mat-icon",35),g.qZA(),g.YNc(16,Q,3,5,"button",36),g.YNc(17,Y,4,6,"button",37),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit,a=g.oxw(),o=g.MAs(19);g.Q6J("@fadeIn",void 0),g.xp6(1),g.Q6J("src",i.avatar,g.LSH),g.xp6(4),g.Oqu(i.display_name),g.xp6(2),g.Q6J("ngIf",a.currentUser.get("id")===i.id),g.xp6(1),g.Q6J("ngIf","invite"===i.model_type),g.xp6(2),g.Oqu(i.email),g.xp6(2),g.ekj("not-clickable",i.is_owner||!a.canEdit),g.Q6J("matMenuTriggerFor",o)("matMenuTriggerData",g.VKq(13,L,i)),g.xp6(2),g.Oqu(i.role_name),g.xp6(2),g.Q6J("ngIf",i.is_owner||a.currentUser.get("id")!==i.id),g.xp6(1),g.Q6J("ngIf",!i.is_owner&&a.currentUser.get("id")===i.id)}}function F(e,t){if(1&e){var n=g.EpF();g.TgZ(0,"div",44),g.NdJ("click",function(){var e=g.CHM(n).$implicit,t=g.oxw().member;return g.oxw().changeRole(t,e)}),g._UZ(1,"mat-icon",45),g.TgZ(2,"div",46),g.TgZ(3,"div",47),g._uU(4),g.qZA(),g.TgZ(5,"div",48),g._uU(6),g.qZA(),g.qZA(),g.qZA()}if(2&e){var i=t.$implicit,a=g.oxw().member;g.ekj("active",a.role_id===i.id),g.xp6(1),g.ekj("visually-hidden",a.role_id!==i.id),g.xp6(3),g.Oqu(i.name),g.xp6(2),g.Oqu(i.description)}}function R(e,t){if(1&e&&(g.YNc(0,F,7,6,"div",43),g.ALo(1,"async")),2&e){var n=g.oxw();g.Q6J("ngForOf",g.lcZ(1,1,n.workspaceRoles$))}}var $=function(e){return{workspace:e}},V=function(){var e=function(){function e(t,n,o,r,s,l,c){p(this,e),this.dialogRef=t,this.data=n,this.workspaces=o,this.toast=r,this.valueLists=s,this.currentUser=l,this.modal=c,this.inviting$=new i.X(!1),this.deleting$=new i.X(!1),this.loadingMembers$=new i.X(!1),this.workspaceRoles$=new i.X([]),this.members$=new i.X([]),this.peopleToInvite=new a.NI([]),this.canInvite=!1,this.canEdit=!1,this.canDelete=!1}return h(e,[{key:"ngOnInit",value:function(){var e=this;this.loadingMembers$.next(!0),this.valueLists.get(["workspaceRoles"]).subscribe(function(t){e.workspaceRoles$.next(t.workspaceRoles)}),this.workspaces.get(this.data.workspace.id).pipe((0,r.x)(function(){return e.loadingMembers$.next(!1)})).subscribe(function(t){e.members$.next([].concat(c(t.workspace.invites),c(t.workspace.members))),e.setCurrentUserPermissions()})}},{key:"close",value:function(e){this.dialogRef.close(e)}},{key:"invitePeople",value:function(){var e=this,t=this.peopleToInvite.value.filter(function(t){return!e.members$.value.find(function(e){return e.email===t})});if(!t.length)return this.peopleToInvite.reset(),void this.toast.open("All invited people are already members.");var n={emails:t,roleId:(this.workspaceRoles$.value.find(function(e){return e.default})||this.workspaceRoles$.value[0]).id};this.inviting$.next(!0),this.workspaces.invitePeople(this.data.workspace.id,n).pipe((0,r.x)(function(){return e.inviting$.next(!1)})).subscribe(function(t){e.members$.next([].concat(c(e.members$.value),c(t.invites))),e.peopleToInvite.reset(),e.toast.open(s.INVITES_SENT)})}},{key:"resendInvite",value:function(e){var t=this;this.inviting$.next(!0),this.workspaces.resendInvite(this.data.workspace.id,e.id).pipe((0,r.x)(function(){return t.inviting$.next(!1)})).subscribe(function(){t.toast.open(s.INVITE_RESENT)})}},{key:"changeRole",value:function(e,t){var n=this;this.workspaces.changeRole(this.data.workspace.id,e,t.id).subscribe(function(){n.toast.open(s.ROLE_ASSIGNED);var i=c(n.members$.value),a=i.findIndex(function(t){return t.id===e.id});i[a].role_name=t.name,i[a].role_id=t.id,n.members$.next(i)})}},{key:"deleteMember",value:function(e){var t=this;this.deleting$.next(!0),("member"===e.model_type?this.workspaces.deleteMember(this.data.workspace.id,e.id):this.workspaces.deleteInvite(e.id)).pipe((0,r.x)(function(){return t.deleting$.next(!1)})).subscribe(function(){var n=c(t.members$.value),i=n.findIndex(function(t){return e.id&&t.model_type===e.model_type});n.splice(i,1),t.members$.next(n),e.id===t.currentUser.get("id")?(t.close(),t.toast.open(s.LEFT_WORKSPACE)):t.toast.open(s.MEMBER_DELETED)})}},{key:"maybeDeleteMember",value:function(e){var t=this;this.modal.show(l.z,{title:"Delete Member",body:"Are you sure you want to delete this member?",bodyBold:"All workspace resources created by this member will be transferred to workspace owner.",ok:"Delete"}).afterClosed().subscribe(function(n){n&&t.deleteMember(e)})}},{key:"maybeResendInvite",value:function(e){var t=this;this.modal.show(l.z,{title:"Resend Invite",body:"Are you sure you want to send this invite again?",ok:"Resend"}).afterClosed().subscribe(function(n){n&&t.resendInvite(e)})}},{key:"maybeLeaveWorkspace",value:function(e){var t=this;this.modal.show(l.z,u.W).afterClosed().subscribe(function(n){n&&t.deleteMember(e)})}},{key:"setCurrentUserPermissions",value:function(){var e=this,t=this.members$.value.find(function(t){return t.id===e.currentUser.get("id")});this.canInvite=t.is_owner||!!t.permissions.find(function(e){return"workspace_members.invite"===e.name}),this.canEdit=t.is_owner||!!t.permissions.find(function(e){return"workspace_members.update"===e.name}),this.canDelete=t.is_owner||!!t.permissions.find(function(e){return"workspace_members.delete"===e.name})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(g.Y36(o.so),g.Y36(o.WI),g.Y36(f.b),g.Y36(m.F),g.Y36(v.l),g.Y36(b.I),g.Y36(_.u))},e.\u0275cmp=g.Xpm({type:e,selectors:[["manage-workspace-members-modal"]],decls:21,vars:10,consts:[[1,"modal-header"],["mat-dialog-title","","trans",""],["type","button","tabindex","-1",1,"close-button","no-style",3,"click"],["svgIcon","close"],[2,"overflow","hidden"],["container",""],["class","invite-container",4,"ngIf"],[1,"header"],["svgIcon","people"],["trans","",1,"text",3,"transValues"],[1,"animation-container"],["class","member-list unstyled-list",4,"ngIf"],[1,"member-list","unstyled-list"],["class","member-list-item",4,"ngFor","ngForOf"],["selectRoleMenu","matMenu"],["matMenuContent",""],[1,"invite-container"],[1,"input-container"],["for","workspace-emails-input","trans",""],[1,"input-with-action"],["id","workspace-emails-input","placeholder","Email addresses",3,"emailsInput","formControl"],["type","button","mat-flat-button","","color","accent","trans","",1,"add-tags-button",3,"disabled","click"],["mode","indeterminate","color","accent",4,"ngIf"],["mode","indeterminate","color","accent"],[1,"member-list-item"],["variant","avatar"],[1,"details"],["alt","",3,"src"],[1,"email"],["class","strong","trans","",4,"ngIf"],[4,"ngIf"],[1,"invited_at"],[1,"actions"],["type","button","mat-stroked-button","",1,"role-trigger-button",3,"matMenuTriggerFor","matMenuTriggerData"],["trans",""],["svgIcon","keyboard-arrow-down",1,"dropdown-icon"],["type","button","class","delete-member-button","mat-icon-button","",3,"visually-hidden","disabled","click",4,"ngIf"],["type","button","class","delete-member-button","mat-icon-button","",3,"matTooltip","disabled","click",4,"ngIf"],["trans","",1,"strong"],["type","button","trans","",1,"no-style","resend-invite-button",3,"disabled","click"],["type","button","mat-icon-button","",1,"delete-member-button",3,"disabled","click"],["type","button","mat-icon-button","",1,"delete-member-button",3,"matTooltip","disabled","click"],["svgIcon","exit-to-app"],["class","multiline-mat-menu-item with-icon","mat-menu-item","","trans","",3,"active","click",4,"ngFor","ngForOf"],["mat-menu-item","","trans","",1,"multiline-mat-menu-item","with-icon",3,"click"],["svgIcon","check"],[1,"menu-item-content"],["trans","",1,"title"],["trans","",1,"description"]],template:function(e,t){1&e&&(g.TgZ(0,"div",0),g.TgZ(1,"h2",1),g._uU(2,"Manage workspace members"),g.qZA(),g.TgZ(3,"button",2),g.NdJ("click",function(){return t.close()}),g._UZ(4,"mat-icon",3),g.qZA(),g.qZA(),g.TgZ(5,"mat-dialog-content",4,5),g.YNc(7,M,12,11,"div",6),g.TgZ(8,"div",7),g._UZ(9,"mat-icon",8),g.TgZ(10,"span",9),g._uU(11,"Members of :workspace"),g.qZA(),g.qZA(),g.TgZ(12,"div",10),g.YNc(13,P,2,3,"ul",11),g.ALo(14,"async"),g.TgZ(15,"ul",12),g.YNc(16,E,18,15,"li",13),g.ALo(17,"async"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(18,"mat-menu",null,14),g.YNc(20,R,2,3,"ng-template",15),g.qZA()),2&e&&(g.xp6(7),g.Q6J("ngIf",t.canInvite),g.xp6(3),g.Q6J("transValues",g.VKq(8,$,t.data.workspace.name)),g.xp6(3),g.Q6J("ngIf",g.lcZ(14,4,t.loadingMembers$)),g.xp6(3),g.Q6J("ngForOf",g.lcZ(17,6,t.members$)))},directives:[o.uh,Z.P,y.Hw,o.xY,x.O5,x.sg,k.VK,k.KA,A.S,a.JJ,a.oH,w.lW,T.pW,C._,k.p6,q.gM,k.OP],pipes:[x.Ov,U.R],styles:["[_nghost-%COMP%]{display:block;width:600px;max-width:100%}chip-input[_ngcontent-%COMP%]{flex:1}.invite-container[_ngcontent-%COMP%]{margin-bottom:30px;position:relative}.mat-progress-bar[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0}.header[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:15px}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:5px}.header[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{vertical-align:middle}.animation-container[_ngcontent-%COMP%]{position:relative}.member-list-item[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.member-list-item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-shrink:0;width:40px;height:40px;-o-object-fit:cover;object-fit:cover;margin-right:10px;border-radius:4px}.member-list-item[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{flex:1 1 auto}.member-list-item[_ngcontent-%COMP%]   .delete-member-button[_ngcontent-%COMP%], .member-list-item[_ngcontent-%COMP%]   .invited_at[_ngcontent-%COMP%]{color:var(--be-secondary-text)}.not-clickable[_ngcontent-%COMP%]{pointer-events:none}.not-clickable[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{display:none}.dropdown-icon[_ngcontent-%COMP%]{width:18px;height:18px;line-height:18px}.resend-invite-button[_ngcontent-%COMP%]{color:var(--be-link)}.role-trigger-button[_ngcontent-%COMP%]{margin-right:8px;font-size:1.3rem;font-weight:400}"],data:{animation:d.B},changeDetection:0}),e}()},75428:function(e,t,n){"use strict";n.r(t),n.d(t,{WorkspaceModule:function(){return k}});var i,a=n(61116),o=n(12440),r=n(77044),s=n(77307),l=n(84369),c=n(92935),u=n(68400),d=n(31041),g=n(7436),h=n(51685),f=n(86013),m=n(24311),v=n(50615),b=n(27701),_=n(15595),Z=n(56160),y=n(97070),x=n(35366),k=((i=function e(){p(this,e)}).components={crupdateModal:o.Z,manageMembers:r.t},i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=x.oAB({type:i}),i.\u0275inj=x.cJS({imports:[[a.ez,d.u5,d.UX,u.N,h.x,f.b,v.X,_.m,Z.G,s.Ps,l.ot,c.Is,g.Fk,m.AV,b.Cv,y.Tx]]}),i)}}])}();
//# sourceMappingURL=275-es5.469744cfb9d499ff23f5.js.map