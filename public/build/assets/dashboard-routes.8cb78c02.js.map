{"version":3,"mappings":"wzDAcO,MAAMA,GAAyBC,wBACpC,IACF,ECdO,SAASC,IAAuB,CACrCC,oBAAU,KACC,yBAAgB,UAAU,IAAI,kBAAkB,EAClD,IAAM,CACF,yBAAgB,UAAU,OAAO,kBAAkB,IAE7D,CAAE,EACP,CCcO,SAASC,GAAgB,CAC9BC,WACAC,kBAAmBC,EACnBC,sBACAC,mBAAoBC,EACpBC,uBACAC,OACAC,6BACGC,CAR2B,EASP,CACHZ,KACda,QAAWC,GAAc,qBAAD,EAKxBC,EAHyBC,kBAAQ,IAC7BN,EAAeO,GAAqB,GAAEP,mBAAJ,EAA3B,GACd,CAACA,CAAD,CAFmC,EAGoB,UAAY,OAChE,CAACN,EAAmBc,CAApB,EAA4CC,GAChDd,EACAQ,EAAW,SAAWE,EACtBT,CAHkE,EAM9Dc,EAA4BJ,kBAAQ,IAAM,CAC9C,MAAMK,EAAeJ,GAClB,GAAEP,2BACH,MAFsC,EAIxC,OAAOG,EAAW,SAAWQ,GAC5B,CAACR,EAAUH,CAAX,CANsC,EAOnC,CAACH,EAAoBe,CAArB,EAA+CH,GACnDX,EACAY,EACAX,CAHqE,EAKjEc,EAAwBC,sBAC3BC,GAAmC,CAClCH,EAAuBG,CAAD,EACHC,MAAEhB,2BAA+Be,CAAnC,GAEnB,CAACH,EAAwBZ,CAAzB,CALuC,EAQnCiB,EACJd,IAAaT,IAAsB,QAAUG,IAAuB,QAGpE,SAACT,GAAuB,SAAxB,CACE,MAAO,CACLM,oBACAc,uBACAX,qBACAgB,wBACAZ,0BACAD,OACAkB,aAAcf,CAPT,EADT,qBAYQD,EACJ,UAAU,uDAFZ,SAIGT,GACD0B,EAACC,GAAD,UACGH,GACCE,EAACE,GAAD,CACE,SAAS,QAET,QAAS,IAAM,CACbb,EAAqB,QAAD,EACpBK,EAAsB,QAAD,CACtB,GAJG,oBAFN,EAPN,KAZJ,CAgCD,CC1FM,SAASS,GAAiB,CAC/BC,YACAC,WACA/B,cACGgC,CAJ4B,EAKhB,CACT,MACJP,eACAxB,oBACAc,uBACAX,qBACAgB,yBACEa,qBAAWtC,EAAD,EACR2B,EAASS,IAAa,OAAS9B,EAAoBG,EAEnD8B,EAAW,CACfC,KAAM,CAACC,QAAS,OAAQC,MAAO,IAAzB,EACNC,QAAS,CACPF,QAAS,OACTC,MAAO,IAFA,EAITE,OAAQ,CACNF,MAAO,EACPG,cAAe,CACbJ,QAAS,MADI,CAFT,GAQJK,EAAOC,GAAQpB,IAAW,UAAY,UAAYU,EAAMS,IAA1C,EAGlB,SAACE,GAAE,IAAH,CACE,WACA,QAAS,GACT,QAASrB,EACT,WAAY,CAACsB,KAAM,QAASC,SAAU,GAA1B,EACZ,QAAcC,IAEZ,MAAMC,EAASD,EAAEC,OACbtB,IAAiBsB,EAAOC,QAAQ,QAAf,GAA4BD,EAAOC,QAAQ,GAAf,KAC/CjC,EAAqB,QAAD,EACpBK,EAAsB,QAAD,EAExB,EACD,UAAW6B,EACTnB,EACAC,IAAa,OACT,8BACA,+BACJ,sCACAU,EAAKJ,MACLZ,GAAgB,sCAChBA,GAAgBM,IAAa,QAAU,SACvCN,GAAgBM,IAAa,SAAW,SAT3B,EAbjB,SAyBGmB,uBAAalD,EAAU,CACtB8B,UAAWmB,EACTjD,EAASgC,MAAMF,UACfW,EAAKU,SACL,SACA7B,IAAW,WAAa,mBAJX,EAMf8B,cAAe9B,IAAW,UAPf,EA1BjB,CAqCD,CAED,SAASoB,GAAQD,EAAwC,CACvD,OAAQA,EAAR,CACE,IAAK,UACI,OAACJ,MAAO,OAAQc,SAAU,YACnC,IAAK,KACI,OAACd,MAAO,QAASc,SAAU,aACpC,IAAK,KACI,OAACd,MAAO,QAASc,SAAU,aACpC,QACS,OAACd,MAAO,QAASc,SAAU,YARtC,CAUD,CCtFM,SAASE,GAAiB,CAACrD,UAAD,EAAmC,CAClE,OAAOkD,uBAAalD,EAAU,CAC5B8B,UAAWmB,EACTjD,EAASgC,MAAMF,UACf,wCAFa,EADE,CAMpB,CCXYwB,SAAeC,EAC1B7B,UAAM,EAAE,mGAAR,CADuC,EAEvC,kBAFuC,ECUlC,SAAS8B,GAAgB,CAC9BxD,WACA8B,YACA2B,sBACGzB,CAJ2B,EAKP,CACjB,MACJP,eACAxB,oBACAc,uBACAR,OACAC,2BACEyB,qBAAWtC,EAAD,EAER+D,EAA0BlD,GAA2B,CAACiB,EACtDkC,EACJ,CAACF,IAAqBhC,GAAgBjB,GAElCoD,EAAe,IAAM,CACJ3D,MAAsB,OAAS,SAAW,MAA3C,GAGhB4D,EAA0B,IAAM,CAC9BC,QAAY7D,IAAsB,UAAY,OAAS,UAC1CsB,MAAEhB,oBAAwBuD,IAAc,SAA1C,EACjB/C,EAAqB+C,CAAD,GAGtB,SACGC,GAAD,CACE,UAAWd,EAAK,wBAAyBnB,CAA1B,EACf,OAAO,WACP,KAAK,KACL,MAAM,UACN,cAAc,SACd,aACE6B,EACEjC,EAACsC,EAAD,CACE,KAAK,KACL,QAAS,IAAM,CACTN,EACqBG,IAEXD,GAEf,EARH,SAUElC,EAAC4B,GAAD,GAVF,GAYEW,OApBR,GAsBMjC,EAtBN,WADF,CA4BD,CClEYkC,SAAiBX,EAC5B7B,UAAM,EAAE,yHAAR,CADyC,EAEzC,oBAFyC,ECA9ByC,GAAUZ,EACrB7B,UAAM,EAAE,qCAAR,CADkC,EAElC,aAFkC,ECgB7B,SAAS0C,GAAmBC,EAA4B,CAC7D,OAAOC,EAAatC,GAAiBuC,GAAgBvC,CAAK,EAAG,CAC3D,UAAW,IAAM,CACTwC,IAAQ,mBAAmB,CAAC,EACtBC,oBAAkBC,GAAmB,mBAAmB,CACtE,EACA,QAASC,GAAKC,GAAiBD,EAAGN,CAAI,EACvC,CACH,CAEA,SAASE,GAAgBvC,EAAiC,CACjD,SAAU,KAAK,YAAaA,CAAK,EAAE,KAAK2C,GAAKA,EAAE,IAAI,CAC5D,CClBO,SAASE,IAAqB,CACnC,MAAMR,EAAOS,IACP,CAACC,SAAQC,SAASC,EAAxB,EACMV,EAAkBH,GAAmBC,CAAD,EAE1C,SACGa,EAAD,WACExD,EAACyD,EAAD,YACGC,EAAD,CAAO,QAAQ,mBAAf,EAFJ,EAIE1D,EAAC2D,EAAD,YACGC,GAAD,CACE,OACA,GAAIP,EACJ,SAAU,IAAM,CACEQ,SAAOlB,EAAKmB,YAAa,CACvCC,UAAuBC,IACfA,IAASC,UAAUC,EAApB,CACN,EAHH,CAKD,EATH,WAWGC,EAAD,CACE,KAAK,OACL,UAFF,GAGE,QAAQT,EAAD,CAAO,QAAQ,iBAHxB,EAIE,UAAW,EACX,SAAQ,GALV,EAXF,EALJ,EAyBEU,EAACC,EAAD,WACErE,EAACsE,EAAD,CAAQ,QAAQ,OAAO,QAAShB,EAAhC,WACGI,EAAD,CAAO,QAAQ,SAAf,EAFJ,EAIE1D,EAACsE,EAAD,CACE,QAAQ,OACR,MAAM,UACN,KAAK,SACL,KAAMjB,EACN,SAAUR,EAAgB0B,UAL5B,WAOGb,EAAD,CAAO,QAAQ,SAAf,EAXJ,GAzBF,GADF,CA0CD,CCjDD,SAASc,GACPC,EAC4C,CACrC,SACJ,IAAI,aAAaA,GAAa,EAC9B,KAAKT,GAAYA,EAAS,IAAI,CACnC,CAEO,SAASU,GAAwBD,EAAqB,CACpD,UAASzB,GAAmB,qBAAqByB,CAAW,EAAG,IACpED,GAA0BC,CAAW,EAEzC,CCpBaE,SAAY9C,EACvB7B,UAAM,EAAE,gdAAR,CADoC,EAEpC,eAFoC,ECU/B,SAAS4E,GAAS,CACvBxE,YACA9B,WACAyC,OACA8D,QACAC,SACAC,YANuB,EAOP,CAChB,SACE,OAAK,UAAWxD,EAAKnB,EAAW,mCAAZ,EAApB,SACG4E,mBAASC,IAAI3G,EAAkB4G,IAC1BC,4BAA0BD,CAAZ,EAChB,OAAO1D,uBAAwB0D,EAAM,CACnCnE,OACA8D,QACAE,aACAD,SAJiB,CAMpB,CARF,EAFL,CAcD,CCnBM,MAAMM,GAAQC,GAAMC,WACzB,CAAChF,EAAOiF,IAAQ,CACR,MACJjH,WACAkH,aACAC,eACArF,YACAsF,YACAC,QACAC,SACEtF,IAEJ,mBACWmF,EAAc,UAAvB,qBAEQD,EACJ,KAAK,QACL,UAAWjE,EACTnB,EACA,oGAFa,EAIf,MACA,QARF,WAUGyF,GAAD,CAAY,YAAZ,aAVF,EAFJ,CAgBD,CA5BkB,ECHRC,GAASR,qBACpB,CAAC,CAAClF,YAAW2F,SAAQhF,OAAO,KAAMiF,SAAQjH,CAAzC,EAAoDwG,MAEjD,OACE,MACA,MACA,IAAI,GACJ,UAAWhE,EACT,eACAnB,EACA6F,GAAiBlF,CAAD,EAChBgF,EAAS,eAAiB,SAJb,EAJjB,GAUMhH,EAXR,CAF4B,EAmBhC,SAASkH,GAAiBlF,EAAY,CACpC,OAAQA,EAAR,CACE,IAAK,KACI,kBACT,IAAK,KACI,kBACT,IAAK,KACI,kBAET,QACSA,QATX,CAWD,CCzCM,SAASmF,GAAkBC,EAAoC,CAE7D,OAAC,GAAIA,EAAQ,KAAM,GAAGA,IAAU,YAAa,GAAGA,GAAQ,CACjE,CC0DA,SAASC,GACP9F,EACAiF,EACA,CACMc,QAAWC,iBAAuB,IAAjB,EACjBC,EAAWC,GAAajB,CAAD,EACvB,CACJkB,kBAAmBC,GAAE7H,KACrB8H,eACArI,WACAsI,cACArC,YACAsC,aACAC,qBACAC,iBACAC,cACAC,eACAC,WAAW,KACXC,kBAAkB,GAClBC,mBACAC,MAAOC,EACPC,eACAC,SAAUC,EACVC,WACAC,UACAC,mBAAmB,GACnBC,uBACGC,CACDxH,IACEyH,EAAkBC,GAAwB,CAC9C,GAAG1H,EACH2H,eAAgB,GAF6B,EAKzC,CAACZ,GAAOG,EAAR,EAAoBU,GAAuB5H,CAAD,EAE1C,CAAC6H,GAAeC,EAAhB,EAAoCC,mBAAS,EAAD,EAE5CC,KACHC,GAAD,CAAgB,gBAAhB,GAAgC,KAAK,KAAK,aAAW,aADvD,EAIMC,EAAgBX,EAAoB7H,EAACyI,GAAD,IAA4B,KAEhE,CAACC,aAAYlD,eAAcmD,GAAS,CACxC,GAAGb,EACHc,SAAUrC,EACVsC,aAActE,GAAa4D,GAAgBG,GAAmBE,EAHvB,EAMzC,SACGM,GAAD,CAAO,kBAAP,GAA6CJ,EAA7C,WACGtD,GAAD,CACE,IAAKiB,EACL,UAAW9E,EAAK,8BAA+BwG,EAAgBgB,KAAhD,EACf,QAAS,IAAM,SAEbxC,KAASyC,UAATzC,SAAkB0C,OACnB,EANH,UAQEjJ,EAACkJ,GAAD,CACE,iBAAkBzC,EAClB,MAAOY,GACP,SAAUG,GACV,WAZJ,EAcExH,EAACmJ,GAAD,CACE,mBACA,cACA,aACA,qBACA,WACA,WACA,MAAO9B,GACP,SAAUG,GACV,eACA,YACA,cACA,cACA,kBACA,iBACA,oBACA,mBAhBF,WAdF,KAFJ,CAuCD,CAQD,SAAS0B,GAAY,CACnBE,QACAC,WACAC,mBACApC,UAJmB,EAKA,CACnB,MAAMqC,EAAUC,KACVC,EAAa9J,sBAChB+J,GAAa,CACZ,MAAMC,EAAIP,EAAMQ,UAAgBC,KAAG3F,KAAOwF,CAAhC,EACJI,EAAW,CAAC,GAAGV,CAAJ,EACjB,OAAIO,EAAI,KACGI,SAAOJ,EAAG,CAAnB,EACAN,EAASS,CAAD,GAEHA,GAET,CAACV,EAAOC,CAAR,CAV4B,EAa9B,SACGzE,GAAD,CACE,UAAU,0CACV,KAAMsC,EACN,WAHF,YAKGkC,EAAMnE,IAAI+E,KACRC,GAAD,CAEE,aAAcD,EAAKE,aACnB,UAAWF,EAAKG,MAAQnK,EAAC8F,GAAD,CAAQ,OAAR,GAAe,IAAKkE,EAAKG,KAAzB,GAAqC,KAC7D,SAAU,IAAM,CACGV,EAAWO,EAAK9F,EAAN,EACdkG,OAEXb,EAAQc,cAAc,CAACC,SAAU,GAAjC,EAGAf,EAAQgB,UAAR,CAEH,EAbH,SAeGjB,EAAiBU,CAAD,GAdZA,EAAK9F,EADZ,CADD,EANL,CA2BD,CAqBD,SAASiF,GAAa7I,EAA0B,CACxC,MACJiG,WACAF,WACAM,eACA6D,WACAC,QACA7D,cACApB,aACAwB,cACAG,kBACAgB,gBACAC,mBACAR,kBACEtH,IACEoK,EAAiB,gDACjBnB,EAAUC,KAEVmB,EAAWhL,sBACdyJ,GAAwB,CACvBA,GAASA,GAAS,CAAIwB,UAAeZ,IACnC,MAAMa,GAAU,CAACb,GAAQ,CAACA,EAAK9F,IAAM,CAAC8F,EAAKnL,KAEpC,QADe4L,EAAMb,UAAUC,IAAMA,GAAG3F,MAAO8F,iBAAM9F,GAAtC,EAA4C,KACzC,CAAC2G,GAHpB,EAKHzB,EAAMgB,SAEPzD,IACFyC,EAAQA,EAAMnE,IAAY0B,KAAaqD,CAAD,CAA9B,GAEVQ,EAAS,CAAC,GAAGC,EAAO,GAAGrB,CAAd,CAAD,EAEV,GAACqB,EAAOD,EAAU7D,CAAlB,CAd0B,EAiBtBmE,EAAUC,GAAc,CAC5B,GAAGzK,EACH0K,0BAA2B,GAC3BC,OAAQ9C,EACRlB,aAAcmB,EACdgB,MAAOxC,EACPsE,cAAe,OACfC,KAAM,UACNC,aAAc,GACdrE,eAAyBM,IACvBgE,GAAoBhE,CAApB,CACD,EAXuB,EAcpB,CACJiE,MAAO,CACLC,cACAC,iBACAP,SACAQ,YACA5E,aACA6E,eANK,EAQPC,OACAC,YACAC,aACAC,gBACEhB,IAEEO,GAAuBU,GAAsB,CAC3CC,QACJH,EAAW9K,MAAQwK,GAAe,KAC9B,CAAC,GAAGM,EAAWI,OAAf,GAAyBV,GACzB,KACFS,WAAQhC,KACDW,GAACqB,EAAOhC,IAAR,CAAD,EACCpC,GACT+C,EAAS,CAACzE,GAAkB8F,EAASA,EAAO3E,MAAQ0E,CAAzB,CAAlB,CAAD,EAGVL,EAAc,EAAD,EACbF,EAAe,IAAD,EACdC,EAAU,EAAD,GAIXS,GAAgB,IAAM,CAChB7F,EAAS2C,SAAW2C,EAAKQ,UAAUnD,UAAY3C,EAAS2C,SAClDmD,YAAU9F,EAAS2C,OAA3B,CAED,GAAC3C,EAAUyE,EAASa,CAApB,CAJY,EAMT,MAACS,wBAAsBC,oCAC3BC,GAA6BxB,CAAD,EAExByB,GAAsBC,GAAmB,IAAM,CAC/CrF,GAAmB,CAAC8D,GACtBQ,EAAU,EAAD,CACV,CAH2C,EAM9C,SACGgB,GAAD,CACE,UACA,cAAeC,GACf,cAAoBtL,IAElBA,EAAEuL,eAAF,CACD,EANH,WAQE,SACE,KAAK,OACL,UAAWpL,EAAKmJ,EAAgB,gBAAjB,EACf,cAHF,GAIMkC,GAAWpH,EAAY,CACzBD,IAAKgB,EACLc,MAAOR,EACPW,SAAUsE,GACVe,QAAczL,IAEN0L,SADQ1L,EAAE2L,cAAcC,QAAQ,MAAxB,EACOC,MACnB,sDADa,EAGf,GAAIH,GAAQ,CACV1L,EAAEuL,eAAF,EACMO,SAAYC,OAAOC,eACrBF,aAAWG,aACbH,GAAUI,mBAAV,EACA3C,EAASmC,GAAO7H,IAAIsI,IAASrH,GAAkBqH,EAAD,CAArC,CAAD,EAEX,CACF,EACD,oBAAqB,OACrB,gBAAiBtC,EAASW,EAAYrJ,OACtCiL,aAAc,MACdC,YAAa,MACbC,WAAY,QACZC,UAAgBvM,IACd,MAAM2H,EAAQ3H,EAAEC,OAEZD,KAAEsI,MAAQ,QAAS,CAErBtI,EAAEuL,eAAF,EAEAtB,GAAoBtC,EAAM1B,KAAP,EACnB,MACD,CASD,GANIjG,EAAEsI,MAAQ,UAAYuB,IACxBQ,EAAU,EAAD,EACTC,EAAc,EAAD,GAKbtK,EAAEsI,MAAQ,WACVuB,IACCM,IAAgB,GAAKA,GAAe,MACrC,CACAC,EAAe,IAAD,EACd,MACD,CAGD,GACED,GAAe,OACdnK,EAAEsI,MAAQ,aAAetI,EAAEsI,MAAQ,cACpC,CACAtI,EAAEuL,eAAF,EACA,MACD,CAGD,IACGvL,EAAEsI,MAAQ,aACTtI,EAAEsI,MAAQ,aACVtI,EAAEsI,MAAQ,WACZX,EAAM6E,iBAAmB,GACzBrC,GAAe,MACfd,EAAML,OACN,CACAb,EAAQc,cAAc,CAACC,SAAU,GAAjC,EACA,MACD,CAGe8B,GAAqBhL,CAAD,GAElCiL,GAAgCjL,CAAD,CAElC,EACDyM,QAAStB,GACT3G,QAAS2G,GA/EG,EAJhB,EATJ,CAiGD,CAED,SAASrE,GAAuB,CAC9BV,WACAH,QACAE,eACAG,UAJ8B,EAKR,CAEhBJ,QAAanI,kBAAQ,IAClB2O,GAAsBzG,CAAD,EAC3B,CAACA,CAAD,CAFuB,EAKpB0G,EAAoB5O,kBAAQ,IACzB2O,GAAsBvG,CAAD,EAC3B,CAACA,CAAD,CAF8B,EAK3ByG,EAAerO,sBAClB0H,GAAuB,CACtB,MAAM4G,EAAWvG,EAAWL,EAAMpC,IAASyB,KAAEgB,EAAjB,EAA8BL,EAC1DG,WAAWyG,EAAX,EAEF,CAACzG,EAAUE,CAAX,CAL8B,EAQzBpI,UACJgI,GAAa/E,OACdwL,GAAqB,GACrBC,CAHuB,CAK1B,CAED,SAASF,GACPzG,EACyB,CACzB,GAAIA,GAAS,KAGT,cAAOA,EAAM,IAAO,SACfA,EAAMpC,IAASiB,MAAkBQ,CAAD,CAAhC,EAEFW,CACR,CAEY6G,SAAY7I,GAAMC,WAAWc,EAAjB,EClczB,SAAS+H,GAAc,CAAC,iBAAgBC,GAAkC,CACjE,SACJ,KAAK,aAAa3J,WAAsB2J,CAAK,EAC7C,KAAUnL,KAAE,IAAI,CACrB,CAEO,SAASoL,IAAmB,CACjC,OAAOzL,EAAatC,GAAiB6N,GAAc7N,CAAK,EAAG,CACzD,UAAW,CAAC0D,EAAU1D,IAAU,CAClByC,oBACVC,GAAmB,qBAAqB1C,EAAM,WAAW,EAE7D,EACA,QAAgBgO,MAAmBA,CAAG,EACvC,CACH,CChBA,SAASC,GAAa,CACpB,cACA,cACGH,CACL,EAA6B,CACpB,SACJ,KAAK,aAAa3J,KAAe+J,WAAmBJ,CAAK,EACzD,KAAU,KAAE,IAAI,CACrB,CAEO,SAASK,IAAkB,CAChC,OAAO7L,EAAatC,GAAiBiO,GAAajO,CAAK,EAAG,CACxD,UAAW,IAAM,CACfwC,EAAM,aAAa,CACrB,EACA,QAAgBwL,MAAmBA,CAAG,EACvC,CACH,CCjCA,MAAMI,GACJ,wIAEK,SAASC,GAAQxI,EAA0B,CAEhD,MADI,CAACA,GACDA,EAAO,OAAS,IAAY,GACzBuI,GAAQ,KAAKvI,CAAM,CAC5B,CCWA,SAASyI,GAAW,CAAC,cAAa,YAAWR,GAAkC,CAC7E,MAAMS,EAAYC,EAAO,WACnBC,EACJD,EAAO,aAAe,SAAWA,EAAO,GAAKA,EAAO,UACtD,OAAOE,EACJ,KACC,aAAavK,KAAeoK,KAAaE,gBACzCX,CAED,OAAUnL,KAAE,IAAI,CACrB,CAEO,SAASgM,IAAgB,CAC9B,OAAOrM,EAAatC,GAAiBsO,GAAWtO,CAAK,EAAG,CACtD,UAAW,CAAC0D,EAAU1D,IAAU,CACxBwC,IAAQ,cAAc,CAAC,EACjBC,oBACVC,GAAmB,qBAAqB1C,EAAM,WAAW,EAE7D,EACA,QAAgBgO,MAAmBA,CAAG,EACvC,CACH,CCvBA,SAASY,GAAa,CACpB,cACA,WACA,YACF,EAA6B,CAC3B,MAAMC,EACJC,IAAe,SACX,oBAAoBL,IACpB,aAAatK,YAAsBsK,IACzC,OAAOC,EAAU,OAAOG,CAAQ,EAAE,KAAKlM,GAAKA,EAAE,IAAI,CACpD,CAEO,SAASoM,IAAkB,CAChC,KAAM,CAAC,cAAa,gBAAc,EAAIC,GAAqB,EACrD,CAAC,QAAQC,KACf,OAAO3M,EAAatC,GAAiB4O,GAAa5O,CAAK,EAAG,CACxD,UAAW,CAAC0D,EAAU1D,IAAU,CAClByC,oBAAkBC,GAAmB,mBAAmB,EACxDD,oBACVC,GAAmB,qBAAqB1C,EAAM,WAAW,GAIvDA,EAAM,YAAakP,iBAAM,KAAM/K,IAAgBnE,EAAM,aACvDmP,EAAeC,GAAkB,EAAE,CAEvC,EACA,QAAgBpB,MAAmBA,CAAG,EACvC,CACH,CC3CO,SAASqB,IAA6B,CAC3C,SACGC,GAAD,CACE,SADF,GAEE,QAAQlM,EAAD,CAAO,QAAQ,kBAFxB,EAGE,OACE,iBACE1D,EAAC0D,EAAD,CAAO,QAAQ,iDAAf,EACA1D,SAAK,UAAU,qBAAf,WACG0D,EAAD,CAAO,QAAQ,wFAAf,EAHJ,GAJJ,EAWE,UAAUA,EAAD,CAAO,QAAQ,QAAf,EAZb,CAeD,CCmBM,SAASmM,GAAuB,CACrC5L,WADqC,EAEP,CACxB,MAAC6L,OAAMvL,aAAaG,GAAwBT,EAAUC,EAAX,EACjD,SACGV,EAAD,CAAQ,KAAK,KAAb,UACExD,EAACyD,EAAD,YACGC,EAAD,CAAO,QAAQ,2BAAf,EAFJ,EAIE1D,EAAC2D,EAAD,UACGY,EACCvE,SAAK,UAAU,iDAAf,WACGuI,GAAD,CAAgB,gBAAhB,GAAgC,aAAW,uBAA3C,EAFM,EAKRvI,EAAC+P,GAAD,CAAS,UAAWD,EAAM7L,UAA1B,EAVN,GADF,CAgBD,CAKD,SAAS8L,GAAQ,CAAC9L,WAAD,EAA2B,CACpC+L,QAAMC,GAAehM,CAAD,EACpBiM,EAAiD,CACrD,GAAIjM,EAAUiM,SAAW,GACzB,GAAIjM,EAAUkM,SAAW,EAF4B,EAKvD,SACE,iBACGH,EAAII,UAAWC,GAAD,CAAiB,YAAjB,EACfjM,SAAK,UAAU,2CAAf,UACEpE,EAAC2E,GAAD,CAAW,UAAU,UADvB,EAEE3E,EAAC0D,EAAD,CACE,QAAQ,0BACR,OAAQ,CAACO,UAAWA,EAAUpF,IAAtB,EAJZ,GAFF,EASEmB,EAACC,GAAD,CAAiB,QAAS,GAA1B,SACGiQ,EAAQjL,IAAI6J,KACVwB,GAAD,CAEE,YACA,UAFM,GAAExB,EAAOyB,cAAczB,EAAO5K,IADtC,CADD,EAVL,GADF,CAqBD,CAMD,SAASoM,GAAe,CAACrM,YAAW6K,QAAZ,EAA0C,CAE9D,SAAC7N,GAAE,IAAH,CACE,QAAS,CAACuP,EAAG,QAASC,QAAS,CAAtB,EACT,QAAS,CAACD,EAAG,EAAGC,QAAS,CAAhB,EACT,KAAM,CAACD,EAAG,OAAQC,QAAS,CAArB,EACN,WAAY,CAACvP,KAAM,QAASC,SAAU,IAA1B,EACZ,UAAU,wCALZ,SAQE,UACE,UAAU,kCACV,IAAK2N,EAAO4B,OACZ,IAAI,GAHN,EAKAtM,SAAK,UAAU,gEAAf,SACE,UAAK,UAAU,yCAAf,SACE,UAAK,UAAU,wCAAf,SACE,UAAK,UAAU,kDAAf,SACG0K,EAAO6B,aAFZ,EAIE3Q,EAAC4Q,GAAD,CAAyB,YAAsB,SAJjD,KAMA5Q,SAAK,UAAU,aAAf,SAA6B8O,EAAOvB,MAPtC,GADF,EAUEvN,EAAC6Q,GAAD,CAAe,YAAsB,SAVvC,GAbF,IAMQ,GAAE/B,EAAOyB,cAAczB,EAAO5K,IANtC,CA2BH,CAED,SAAS+L,GAAehM,EAAsB,OACtC,MAACuL,KAAMsB,GAAYvB,GAAzB,EACMvL,EAAW,CAAC+M,OAAQ,GAAOX,OAAQ,GAAOY,OAAQ,IAClDC,EAAc,CAAC,SAAU,SAAU,QAArB,EACdC,GAAajN,IAAUiM,UAAVjM,cAAmBkN,QAAWC,EAAGlN,MAAO4M,iBAAU5M,KAErE,OAAIgN,GACFD,EAAYI,QAAsBC,UAChCtN,EAASsN,GACPJ,EAAWK,UACX,CAAC,GAACL,IAAWD,cAAXC,QAAwBC,KACnBK,KAAE3S,OAAU,qBAAoByS,KADrC,CAHN,EASKtN,CACR,CAMD,SAAS6M,GAAc,CAAC5M,YAAW6K,QAAZ,EAAyC,CAC9D,KAAM,CAAC2C,EAAcC,CAAf,EAAkCrJ,mBAAiByG,EAAO6C,OAAhB,EAC1CC,EAAa3C,KACb,CAACO,QAAQD,GAAf,EAEMS,EAAMC,GAAehM,CAAD,EACpB4N,EAAU/C,EAAOyB,aAAe,UAAYzB,EAAOyC,SACnDO,EACJhD,EAAOyB,aAAe,WAAYf,iBAAMtL,MAAO4K,EAAO5K,GAElD6N,EACJ,CAAC/B,EAAIe,QAAUc,GAAWC,IACxB,OAAK,UAAU,sCAAf,WACGpO,EAAD,CAAO,QAASoL,EAAOkD,UAAvB,EAFJ,EAKEhS,EAACiS,GAAD,CACE,UAAU,wBACV,KAAK,KACL,MAAOR,EACP,WAAYG,EAAWrN,UACvB,SAAoB2N,IAClBR,EAAgBQ,CAAD,EACfN,EAAW/N,OAAO,CAChBqO,SACAzN,YAAaR,EAAUC,GACvB4K,SAHF,CAKD,EAlBP,EAsBA,SACEqD,cACGJ,EACA,CAACF,IAAYC,GAAiB9B,EAAIgB,SACjChR,EAACoS,GAAD,CACE,KAAMN,EAAgB,QAAU,SAChC,SACA,YANN,GADF,CAYD,CAKD,SAASzB,GAAgB,CAACpM,WAAD,EAAmC,CACpD,MAACoO,SAASC,EAAhB,EACM,CAAC7H,EAAOD,CAAR,EAAoBnC,mBAAsB,CAAd,GAC5BkK,EAAiB9H,EAAM+H,MAActN,IAACA,EAAK2F,OAA1B,EACjBpE,EAAevB,GAAoBA,EAAKuN,aAAevN,EAAKrG,KAC5D,CAAC4S,EAAcC,CAAf,EAAkCrJ,EAAxC,mBACMqK,EAAgBrE,KAChB,CAACyB,QAAQ6C,GAAc,CAAC,gBAAD,CAAD,EAE5BvU,2BAAU,IAAM,OACV,CAACqT,KAAgB3B,mBAAM8C,iBAAN9C,cAAsB1F,SACzB0F,IAAK8C,eAAe,GAAG1O,EAAxB,CAChB,EACA,CAAC4L,EAAM2B,CAAP,CAJM,IAOP,OAAK,UAAU,QAAf,UACEzR,EAACkO,GAAD,CACE,MAAOzD,EACP,SAAUD,EACV,cACA,aAAsBtF,IACpB,MAAM2F,EAAU,CAAC8D,GAAQzJ,EAAKuN,WAAN,EACjB,OACL,GAAGvN,EACH2F,UACAX,aAAcW,EACVwH,EAAM,CAACQ,QAAS,mBAAX,GACLtQ,OAEP,EACD,YAAa8P,EAAM,CAACQ,QAAS,wBAAX,EAClB,QAAQnP,EAAD,CAAO,QAAQ,gBAAf,EAfT,EAiBAU,SAAK,UAAU,iDAAf,UACEpE,EAACiS,GAAD,CAAiB,SAAUP,EAAiB,MAAOD,CADrD,GAEGhH,EAAML,QAAUqH,IACdnN,EAAD,CACE,QAAQ,OACR,MAAM,UACN,KAAK,KACL,SAAUoO,EAAcnO,WAAa,CAACgO,EACtC,QAAS,IAAM,CACbG,EAAc7O,OACZ,CACEiJ,OAAQrC,EAAMxF,IAASwB,KAAYqM,CAAD,CAA1B,EACRZ,OAAQT,EACRhN,YAAaR,EAAUC,IAEzB,CACEH,UAAW,IAAM,CACfyG,EAAS,CAAD,EACT,EATL,CAYD,EAlBH,WAoBG9G,EAAD,CAAO,QAAQ,SAAf,CApBF,GAsBE,IAzBN,EAlBF,GADF,CAgDD,CAOD,SAAS0O,GAAmB,CAC1BtD,SACA7K,YACA/C,MAH0B,EAIA,CAC1B,MAAMgO,EAAeG,KACf,CAAC/L,SAASC,EAAhB,EACA,SACGwP,EAAD,CACE,KAAK,QACL,QAAwBC,IAClBA,IACF9D,EAAarL,OAAO,CAClBY,YAAaR,EAAUC,GACvB6K,SAAUD,EAAO5K,GACjBkL,WAAYN,EAAOyB,WAHrB,EAKIrP,IAAS,UACNoC,IACCuP,IAAQ,gBAAD,CAAR,GAGV,EAdH,UAgBE7S,EAACsC,EAAD,CACE,KAAK,KACL,UAAU,2BACV,SAAU4M,EAAa3K,UAHzB,SAKGrD,IAAS,QAAWlB,KAAD,IAAoBA,EAACiT,GAAD,IArB5C,EAuBG/R,IAAS,QACRlB,EAAC2P,GAAD,IAEA3P,EAACkT,GAAD,CAA0B,SA1B9B,GADF,CA+BD,CAKD,SAASA,GAAyB,CAACpE,QAAD,EAAyC,CACzE,SACGc,GAAD,CACE,SADF,GAEE,QAAQlM,EAAD,CAAO,QAAQ,gBAFxB,EAGE,OACE,iBACE1D,EAAC0D,EAAD,CACE,QAAQ,2CACR,OAAQ,CAAC7E,KAAMiQ,EAAO6B,YAAd,EAFV,EAIA3Q,SAAK,UAAU,qBAAf,WACG0D,EAAD,CACE,QAAQ,qFACR,OAAQ,CACN7E,KAAMiQ,EAAO6B,YADP,EAFV,EANJ,GAJJ,EAmBE,UAAUjN,EAAD,CAAO,QAAQ,SAAf,EApBb,CAuBD,CASD,SAASuO,GAAgB,CACvB5K,QACAG,WACAzG,OAAO,KACPX,YACA+S,YALuB,EAMA,OACjB,MAACrD,QAAQ6C,GAAc,CAAC,gBAAD,CAAD,EACtBxH,GAAO2E,mBAAM8C,iBAAN9C,cAAsBqB,KAAUlO,KAAEiB,KAAOmD,GACtD,MAAI,CAACA,GAAS,CAAC8D,GAAQ,EAAC2E,WAAM8C,gBAAuB,OAGlDQ,GAAD,CACE,cAAc,SACd,cAAe/L,EACf,kBAA+B4G,IAC7BzG,EAASyG,CAAT,CACD,EALH,UAOEjO,EAACsE,EAAD,CACE,YACA,OACA,QAAQ,OACR,MAAM,OACN,SAAU6O,EACV,QAASnT,EAACqT,GANZ,aAQGlI,EAAKtM,KAfV,EAiBEmB,EAACsT,GAAD,UACGxD,EAAK8C,eAAe3N,IAAShC,KAEzBsQ,EAAD,CAAU,MAAOtQ,EAAEiB,GAAe,YAAajB,EAAEwP,YAAjD,SACGxP,EAAEpE,MADuBoE,EAAEiB,EAA9B,CAFH,EAlBL,GADF,CA6BD,CAMD,SAAS0M,GAAwB,CAC/B9B,SACA7K,WAF+B,EAGA,CACzB,MAACuL,QAAQD,GAAf,EACMS,EAAMC,GAAehM,CAAD,EAEtBuL,wBAAMtL,MAAO4K,EAAO5K,KAEpB,OAAK,UAAU,cAAf,cACGlE,EAAC0D,EAAD,CAAO,QAAQ,KADlB,QADF,EAMEoL,EAAOyB,aAAe,WAEtB,OAAK,UAAU,0BAAf,SACE,4BACAvQ,SAAK,UAAU,cAAf,WACG0D,EAAD,CAAO,QAAQ,UAAf,CADF,GAGCsM,EAAII,SACH+B,aACE,0BADF,EAEEnS,EAACwT,GAAD,CAA2B,SAAgB,YAF7C,KAIE,IAVN,EADF,EAeK,IACR,CAED,SAASA,GAA0B,CACjC1E,SACA7K,WAFiC,EAGF,CAC/B,MAAMwP,EAAehF,KACrB,SACGsE,EAAD,CACE,KAAK,QACL,QAAwBC,IAClBA,GACFS,EAAa5P,OAAO,CAClBY,YAAaR,EAAUC,GACvBsK,SAAUM,EAAO5K,GAFnB,CAKH,EATH,UAWElE,EAACsE,EAAD,CACE,QAAQ,OACR,KAAK,KACL,MAAM,UACN,SAAUmP,EAAalP,UAJzB,WAMGb,EAAD,CAAO,QAAQ,gBAAf,EAjBJ,EAmBE1D,EAAC4P,GAAD,CACE,QAAQlM,EAAD,CAAO,QAAQ,gBADxB,EAEE,OACGA,EAAD,CAAO,QAAQ,mDAHnB,EAKE,UAAUA,EAAD,CAAO,QAAQ,OAAf,EAxBb,GADF,CA6BD,CCzcYgQ,SAAgB7R,EAC3B7B,UAAM,EAAE,2OAAR,CADwC,EAExC,mBAFwC,ECA7B2T,GAAa9R,EACxB7B,UAAM,EAAE,+FAAR,CADqC,EAErC,gBAFqC,ECkBvC,SAAS4T,GAAgB,CACvB,QACGtT,CACL,EAA8C,CACrC,SAAU,IAAI,aAAa4D,IAAM5D,CAAK,EAAE,KAAU2C,KAAE,IAAI,CACjE,CAEO,SAAS4Q,GACdlR,EACA,CACM,MAAC,SAASY,IACT,SACJjD,GAAkCsT,GAAgBtT,CAAK,EACxD,CACE,UAAuB0D,IACfV,IACAR,IAAQ,mBAAmB,CAAC,EACtBC,oBAAkBC,GAAmB,mBAAmB,EACxDD,oBACVC,GAAmB,qBAAqBgB,EAAS,UAAU,EAAE,EAEjE,EACA,QAASf,GAAKC,GAAiBD,EAAGN,CAAI,CACxC,EAEJ,CC1BO,SAASmR,GAAsB,CAAC7P,WAAD,EAAoB,CACxD,MAAMtB,EAAOS,EAAgC,CAC3C2Q,cAAe,CAAC7P,GAAID,EAAUC,GAAIrF,KAAMoF,EAAUpF,IAAnC,EADG,EAGd,CAACwE,SAAQC,SAASC,EAAxB,EACMqQ,EAAkBC,GAAmBlR,CAAD,EAE1C,SACGa,EAAD,WACExD,EAACyD,EAAD,YACGC,EAAD,CAAO,QAAQ,mBAAf,EAFJ,EAIE1D,EAAC2D,EAAD,YACGC,GAAD,CACE,OACA,GAAIP,EACJ,SAAU,IAAM,CACEQ,SAAOlB,EAAKmB,UAA5B,EACD,EALH,WAOGK,EAAD,CACE,KAAK,OACL,UAFF,GAGE,QAAQT,EAAD,CAAO,QAAQ,OAHxB,EAIE,UAAW,EACX,SAAQ,GALV,EAPF,EALJ,EAqBEU,EAACC,EAAD,WACErE,EAACsE,EAAD,CAAQ,QAAQ,OAAO,QAAShB,EAAhC,WACGI,EAAD,CAAO,QAAQ,SAAf,EAFJ,EAIE1D,EAACsE,EAAD,CACE,QAAQ,OACR,MAAM,UACN,KAAK,SACL,KAAMjB,EACN,SAAUuQ,EAAgBrP,UAL5B,WAOGb,EAAD,CAAO,QAAQ,SAAf,EAXJ,GArBF,GADF,CAsCD,CChDD,SAASsQ,GAAgB,CAAC,MAAgD,CACjE,SAAU,OAAO,aAAa9P,GAAI,EAAE,KAAKjB,GAAKA,EAAE,IAAI,CAC7D,CAEO,SAASgR,IAAqB,CACnC,KAAM,CAAC,cAAa,gBAAc,EAAI3E,GAAqB,EACpD,SACJhP,GAAkC0T,GAAgB1T,CAAK,EACxD,CACE,UAAW,CAAC2C,EAAGiR,IAAY,CACnBpR,IAAQ,mBAAmB,CAAC,EACtBC,oBAAkBC,GAAmB,mBAAmB,EACxDD,oBACVC,GAAmB,qBAAqBkR,EAAQ,EAAE,GAIhDzP,IAAgByP,EAAQ,IAC1BzE,EAAeC,GAAkB,EAAE,CAEvC,EACA,QAAgBpB,MAAmBA,CAAG,CACxC,EAEJ,CCIO,SAAS6F,GAAkB,CAChC3M,WACApH,YACAgU,QAASC,CAHuB,EAIP,CACnB,MAACvE,OAAMwE,YAAWC,cAAcC,GAAtC,EACM,CAAC/P,cAAagL,kBAAkBH,GAAtC,EACMmF,EAAkB3E,iBAAMqB,KAAUuD,KAAExQ,KAAOO,GAC3C,CAACkQ,EAAQC,CAAT,EAAsBvM,mBAAuB,IAAf,EAC9B,CAACwM,EAAgBC,CAAjB,EAAsCzM,mBAAS,EAAD,EAC9C,CAAC0M,iBAAiBxF,GAAxB,EAUA,GAPAnR,oBAAU,IAAM,CAEVkW,GAAa,CAACC,GAAc,CAACE,GAC/BhF,EAAeC,GAAkBxL,EAAnB,CACf,EACA,CAACuQ,EAAiB3E,EAAML,EAAgB6E,EAAWC,CAAnD,CALM,EAOL,CAACE,GAAmB,CAACM,EAAc,mBAAD,EAA8B,YAE9DC,UACHC,GAAD,CACE,UAAW1T,EACT,kFACAnB,CAFa,EADjB,SAME,WAAM,UAAU,oDAAhB,SACE,WAAM,UAAU,wEAAhB,SACGqU,EAAgBS,QACflV,EAAC0D,EAAD,CAAO,QAAS+Q,EAAgB5V,KADjC,EAGC4V,EAAgB5V,KAJpB,EAOAmB,UAAM,UAAU,2BAAhB,SACGyU,EAAgBS,QACflV,EAAC0D,EAAD,CAAO,QAAQ,qBADhB,EAGC1D,EAAC0D,EAAD,CACE,QAAQ,iBACR,OAAQ,CAACyR,MAAOV,EAAgBW,aAAxB,EAFV,EAZN,GANF,EAyBEpV,EAACwC,GAAD,CAAgB,UAAU,mBAzB5B,GADF,EA8BM4R,EAAUC,GAAgBW,EAEhC,SACGK,mBAAD,WACEjR,EAAC2O,EAAD,CACE,KAAK,UACL,OAAQ8B,EACR,QAAS,IAAM,CACbC,EAAkB,EAAD,CAClB,EALH,SAOGtT,wBAAa4S,EAAS,CACrBxO,QAAS,IAAMkP,EAAkB,CAACD,CAAF,EADrB,EAGb7U,EAACwD,EAAD,CAAQ,KAAK,YAAb,WACGG,EAAD,CAAY,QAAQ,OAApB,SACE,UAAK,UAAU,uBAAf,SACGmM,EAAM7K,IAAIhB,KACRqR,GAAD,CAEE,YACA,YACA,oBACA,YAJKrR,EAAUC,EADjB,CADD,EADH,EAWAlE,SAAK,UAAU,wBAAf,WACGsE,EAAD,CACE,QAAclD,IACZA,EAAEuL,eAAF,EACAvL,EAAEmU,gBAAF,EACUX,GAAC/V,KAAM,eAAR,EACTiW,EAAkB,EAAD,CAClB,EACD,QAAQ,UACR,UAAW9U,EAACyC,GARd,IASE,MAAM,UACN,UAAU,cAVZ,WAYGiB,EAAD,CAAO,QAAQ,uBAAf,EAZF,EAbJ,KAXJ,GADF,EA2CE1D,EAACwV,GAAD,CACE,SACA,YACA,WA9CJ,GADF,CAmDD,CAQD,SAASF,GAAc,CACrBrR,YACAuD,WACAsN,oBACAF,WAJqB,EAKA,CACf,MAACnQ,cAAagL,kBAAkBH,GAAtC,EACMmG,EAAWhR,IAAgBR,EAAUC,GAE3C,SACE,OACE,QAAS,IAAM,CACbuL,EAAexL,EAAUC,EAAX,EACdsD,WAAWvD,EAAUC,IACrB4Q,EAAkB,EAAD,CAClB,EACD,UAAWvT,EACT,yEACAkU,GAAY,eACZ,CAACA,GAAY,gBAHA,EANjB,UAYEzV,EAAC0V,GAAD,CACE,KAAK,KACL,UAAWnU,EAAK,6BAA8B,CAACkU,GAAY,WAA5C,EAFjB,EAIArR,SAAK,UAAU,YAAf,SACE,UAAK,UAAW7C,EAAK,UAAWkU,GAAY,eAAxB,EAApB,SACGxR,EAAUpF,KADb,EAGAmB,SAAK,UAAU,qBAAf,SACGiE,EAAUiR,QACTlV,EAAC0D,EAAD,CAAO,QAAQ,qBADhB,EAGC1D,EAAC0D,EAAD,CACE,QAAQ,iBACR,OAAQ,CAACyR,MAAOlR,EAAUmR,aAAlB,EAFV,EARN,EAhBF,GA+BGnR,EAAUC,KAAO,KACfyR,GAAD,CACE,oBACA,YACA,YAnCN,GADF,CAyCD,CAOD,SAASH,GAAgB,CAACb,SAAQC,YAAWpN,UAApB,EAAqD,CAC5E,MAAMwM,EAAkBC,KAClB/E,EAAeG,KACf,CAACG,QAAQD,GAAf,EACM,CAACE,kBAAkBH,GAAzB,EAEA,SACGyD,EAAD,CACE,KAAK,QACL,OAAQ,CAAC,EAAC4B,WAAQ9V,MAClB,QAAkBwI,KACZsN,iBAAQ9V,QAAS,mBAAqBwI,GACxC2M,EAAgBnQ,OAAO,CAACK,GAAIyQ,EAAO1Q,UAAUC,GAA7C,GAEEyQ,iBAAQ9V,QAAS,kBAAoBwI,IAASmI,iBAAMtL,KACtDgL,EAAarL,OAAO,CAClBY,YAAakQ,EAAO1Q,UAAUC,GAC9B6K,SAAUS,EAAKtL,GACfkL,WAAY,SAHd,GAMEuF,iBAAQ9V,QAAS,gBAAkBwI,IACrCoI,EAAepI,CAAD,EACdG,WAAWH,IAEbuN,EAAU,IAAD,CACV,EAnBH,WAqBGD,iBAAQ9V,QAAS,gBAAmBmB,KArBvC,KAsBG2U,iBAAQ9V,QAAS,qBACfiV,GAAD,CAAuB,UAAWa,EAAO1Q,SAvB7C,IAyBG0Q,iBAAQ9V,QAAS,sBACfgR,GAAD,CAAwB,UAAW8E,EAAO1Q,SA1B9C,IA4BG0Q,iBAAQ9V,QAAS,qBACf+W,GAAD,CAA6B,UAAWjB,EAAO1Q,UA7BnD,GA+BG0Q,iBAAQ9V,QAAS,kBAAqBmB,KA/BzC,KADF,CAmCD,CAKD,SAAS4V,GAA4B,CACnC3R,WADmC,EAEA,CACnC,SACG2L,GAAD,CACE,SADF,GAEE,QAAQlM,EAAD,CAAO,QAAQ,mBAFxB,EAGE,OACGA,EAAD,CACE,QAAQ,qDACR,OAAQ,CAAC7E,KAAMoF,EAAUpF,IAAjB,EANd,EASE,UAAU6E,EAAD,CAAO,QAAQ,SAAf,EAVb,CAaD,CAOD,SAASiS,GAAa,CACpBb,oBACAF,YACA3Q,WAHoB,EAIA,CACd,MAACuL,QAAQD,GAAf,EAEA,SACG6D,GAAD,CACE,eAAyB/L,IACvByN,EAAkB,EAAD,EACPF,GAAC/V,KAAMwI,EAA2BpD,YAAnC,CACV,EAJH,UAMEjE,EAACsE,EAAD,CACE,QAAclD,IACZA,EAAEuL,eAAF,EACAvL,EAAEmU,gBAAF,CACD,EACD,MAAM,UACN,KAAK,KACL,QAAQ,UACR,QAASvV,EAACyI,GARZ,eAUG/E,EAAD,CAAO,QAAQ,SAAf,EAhBJ,EAkBEU,EAACkP,GAAD,WACEtT,EAACuT,EAAD,CACE,QAAcnS,KAAEmU,gBADlB,EAEE,MAAM,mBACN,UAAWvV,EAAC0T,GAHd,eAKGhQ,EAAD,CAAO,QAAQ,UAAf,EANJ,EAQGO,EAAU4R,YAAarG,iBAAMtL,OAC3BqP,EAAD,CACE,QAAcnS,KAAEmU,gBADlB,EAEE,MAAM,kBACN,UAAWvV,EAAC8V,GAHd,eAKGpS,EAAD,CAAO,QAAQ,SAAf,EAdN,EAiBGO,EAAU4R,YAAarG,iBAAMtL,OAC3BqP,EAAD,CACE,QAAcnS,KAAEmU,gBADlB,EAEE,MAAM,iBACN,UAAWvV,EAAC+V,GAHd,eAKGrS,EAAD,CAAO,QAAQ,QAAf,EAvBN,EA0BGO,EAAU4R,YAAarG,iBAAMtL,OAC3BqP,EAAD,CACE,QAAcnS,KAAEmU,gBADlB,EAEE,MAAM,kBACN,UAAWvV,EAAC2T,GAHd,eAKGjQ,EAAD,CAAO,QAAQ,SAAf,EAhCN,GAlBF,GADF,CAyDD,CCvVD,MAAMyL,GAAW,aAwCV,SAAS6G,IAAiB,CAC/B,OAAOC,GAAS,CAAC9G,EAAQ,EAAG,IAAM+G,GAAgB,EACpD,CAEA,SAASA,IAAkD,CACzD,OAAOlH,EAAU,IAAIG,EAAQ,EAAE,KAAKnL,GAAYA,EAAS,IAAI,CAC/D,CC/CO,SAASmS,GAAM7V,EAA6B,CACjD,SAAQ8V,GAAD,IAAqB9V,EAAO,KAAK,oBAAxC,CACD,CCHY+V,SAAWxU,EACtB7B,UAAM,EAAE,sJAAR,CADmC,EAEnC,cAFmC,ECMxBsW,GAAiE,CAC5EC,MAAO1D,EAAQ,OAAD,EACd2D,SAAU3D,EAAQ,UAAD,EACjB4D,YAAa5D,EAAQ,UAAD,EACpB6D,cAAe7D,EAAQ,eAAD,EACtB8D,aAAc9D,EAAQ,mBAAD,EACrB+D,eAAgB/D,EAAQ,gBAAD,EACvBgE,YAAahE,EAAQ,aAAD,EACpBiE,gBAAiBjE,EAAQ,iBAAD,CARoD,EAWvE,SAASkE,IAAoB,CAC5B,MAACjH,QAAQkG,GAAf,EACA,GAAI,CAAClG,EACI,YAGHkH,UAAatT,EAAD,CAAO,QAAQ,YAAjC,EAEA,SACE,eACGuT,OAAOC,QAAQZ,EAAf,EAAuCrR,IAAI,CAAC,CAACyE,EAAKyN,CAAN,IAAiB,CACtDC,QAAQtH,iBAAMsH,MAAM1N,GAC1B,GAAI,CAAC0N,EAAc,YACbvY,UAAQ6E,EAAUyT,MAAxB,EACA,SACE,MAAc,UAAU,OAAxB,SACGC,EAAMC,MACLrX,EAAC0D,EAAD,CACE,QAAQ,4BACR,OAAQ,CACN4T,OAAOC,GAAD,CAAiB,MAAOH,EAAME,KAD9B,EAEND,MAAOD,EAAMC,MACXrX,EAACuX,GAAD,CAAiB,MAAOH,EAAMC,KAA9B,GAEAL,EAEFnY,MAPM,EAHX,EAcCmB,EAAC0D,EAAD,CACE,QAAQ,uBACR,OAAQ,CAACyR,MAAOiC,EAAME,KAAMzY,MAApB,EAFV,GAfK6K,CAAT,EALH,EAFL,CAgCD,CC9CM,SAAS8N,GAAoB,CAACpX,WAAD,EAAuC,SACnE,MAACoP,QAAQD,GAAf,EACMkI,GAAejI,mBAAMkI,gBAANlI,cAAsB,GACrCmI,GAAWF,mBAAcG,UAAdH,cAAuB5Y,KAClCgZ,EAAcJ,WAAcK,UAChC9X,EAAC+X,GAAD,CAAe,KAAMN,EAAaK,SAAlC,GACE,KAEJ,SACG/E,EAAD,CAAe,KAAK,UAAU,eAA9B,aACE/S,EAACsC,EAAD,CAAY,KAAK,KAAK,YAAtB,SACEtC,EAACqW,GAAD,IAFJ,EAIErW,EAACwD,EAAD,CAAQ,KAAK,OAAb,WACGG,EAAD,UACE,UAAK,UAAU,uBAAf,SACE,UAAK,UAAU,gBAAf,WACGD,EAAD,CACE,QAAQ,0BACR,OAAQ,CACNiU,SAAUA,GAAY3X,EAAC0D,EAAD,CAAO,QAAQ,OAAf,CADhB,EAFV,EADF,EAQA1D,SAAK,UAAU,qBAAf,WACG0D,EAAD,CACE,QAAQ,sBACR,OAAQ,CACNsU,KAAMH,GAAe7X,EAAC0D,EAAD,CAAO,QAAQ,QAAf,CADf,EAFV,EAVJ,EADF,GAmBE1D,EAAC+W,GAnBH,OALJ,GADF,CA8BD,CC5CM,SAASkB,IAAa,CACrB,MAAC1T,YAAWuL,QAAQkG,GAA1B,EACMO,EAAQzG,iBAAMsH,MAAMb,MAG1B,GAAI,CAACA,EACH,SAAO,OAAK,UAAU,gCAAtB,EAIIY,UACJ,QAAM,UAAW5V,EAAK,oBAAqBgD,GAAa,WAAnC,EAArB,SACGgS,EAAMc,MACLrX,EAAC0D,EAAD,CACE,QAAQ,oCACR,OAAQ,CACN4T,OAAOC,GAAD,CAAiB,MAAOhB,EAAMe,KAD9B,EAENY,YAAYX,GAAD,CAAiB,MAAOhB,EAAMc,MAA9B,CAFL,EAHX,EASCrX,EAAC0D,EAAD,CAAO,QAAQ,uBAAuB,OAAQ,CAACyR,MAAOoB,EAAMe,IAAd,EAA9C,EAXN,EAeA,SACE,OAAK,UAAU,mDAAf,UACEtX,EAACwX,GAAD,CAAqB,UAAU,SADjC,EAEExX,EAACmW,GAAD,CACE,UAAU,sBACV,KAAK,KACL,MAAOI,EAAMc,OAASd,EAAMe,KAAQf,EAAMe,KAAOf,EAAMc,MAAS,IAAM,EACtE,QACA,eAAgB,GAChB,cAAc,SARlB,GADF,CAaD,CCvCM,SAASc,GAAc7X,EAAoB,CAC1C,MAAC8X,gBAAgB7I,GAAvB,EACA,SACGjL,EAAD,CACE,YAAa+T,GACb,GAAID,EAAe,uBAAyB,WAC5C,QAAQ,UACR,MAAM,UACN,KAAK,KALP,GAMM9X,EANN,WAQGoD,EAAD,CAAO,QAAQ,UAAf,EATJ,CAYD,CCPM,SAAS4U,GAAuB,CAAClY,YAAWsB,eAAZ,EAAmC,CAClE,MAAC6W,WAAWC,GAAlB,EAEA,SACE,OACE,UAAWjX,EACT,qGACAnB,CAFa,EADjB,SAME,UAAK,UAAU,kBAAf,UACEJ,EAACyY,GAAD,CACE,oBAAwBC,IAAO,aAC/B,KAAK,oBACL,YAAY,WACZ,cAAehX,EACf,IAAI,QACJ,cAAe,CAAC,CAAC+T,UACflU,MACE,8CACAkU,EACI,oCACA,qCAJF,CAPR,GAeC,CAAC/T,KAAkBuW,GAAD,IAClBM,EAAQI,QAAU,CAACjX,KAClB,OAAK,UAAU,cAAf,SACE1B,EAACmY,GAAD,IAnBN,KAuBC,CAACzW,KACCyS,GAAD,CAAmB,UAAU,oDAA7B,EAEDzS,GACC1B,EAACwX,GAAD,CAAqB,UAAU,8BAjCnC,GADF,CAsCD,CCrCM,SAASoB,IAAwB,CAChC,MACJrC,MAAO,CAACsC,aAAD,GACLL,GAFJ,EAGA,SACGna,GAAD,CAAiB,KAAK,mBAAmB,wBAAzC,aACG2B,KADH,MAEGG,GAAD,CAAkB,SAAS,OAA3B,SACEH,EAACsY,GAAD,IAHJ,EAKEtY,EAAC2B,GAAD,YACE,OAAK,UAAU,iBAAf,UACE3B,EAAC8Y,GAAD,CAAQ,KAAK,YAAY,UAAU,cADrC,EAEG9Y,KAAD,IACC6Y,GACC7Y,EAAC+Y,GAAD,CAAQ,QAAQ,sCAJpB,KANJ,GADF,CAiBD,CAGD,SAASC,GAAa1Y,EAA6B,CAC3C,MAACiY,WAAWC,GAAlB,EACM,CAACja,qBAAqBgC,qBAAWtC,EAAD,EACtC,SACG6D,GAAD,IACMxB,EACJ,KAAK,KACL,MAAM,UACN,aAAa,mBACb,cACE/B,IAAsB,WACpByB,EAACmY,GAAD,CAAe,QAAQ,OAAO,MAAM,QAP1C,WAWG5Z,IAAsB,YAAaga,iBAASI,WAC1CxE,GAAD,CACE,UACG7P,EAAD,CAAQ,QAAQ,OAAO,QAAStE,EAACyI,GAAjC,eACG/E,EAAD,CAAO,QAAQ,aAAf,EADF,EAFJ,EAbN,CAuBD,CCjEM,SAASuV,GAAsBjB,EAAiB,CACrD,OAAIA,aAAgBkB,GACX,MAEF,QACT,CAEgB,YACdlB,EACAmB,EACAC,EACA,CACA,OACGD,GAAO,MAAQnB,EAAK,QAAQmB,CAAG,EAAI,GACnCC,GAAO,MAAQpB,EAAK,QAAQoB,CAAG,EAAI,CAExC,CCXgB,YACdC,EACA/Y,EAGA,OACA,MAAMgZ,EAAWC,KACX,CAACC,EAAgBC,CAAiB,EAAIpR,mBAAS,EAAK,EACpDqR,GAAyBC,IAAM,yBAAN,OAAgC,GAEzDC,EAActZ,EAAM,aAAe2Y,GAAsBI,CAAY,EACrEF,EAAM7Y,EAAM,IAAMuZ,GAAQvZ,EAAM,IAAKgZ,CAAQ,EAAI,OACjDF,EAAM9Y,EAAM,IAAMuZ,GAAQvZ,EAAM,IAAKgZ,CAAQ,EAAI,OAEhD,OACL,WACA,cACA,MACA,MACA,iBACA,oBACA,yBAEJ,CC5BO,SAASQ,GAAW9B,EAAoC,CACtD,SAAK,IAAI,CAAC,KAAM,EAAG,OAAQ,EAAG,OAAQ,EAAG,YAAa,CAAE,EACjE,CCFO,SAAS+B,GAAS/B,EAAoC,CAC3D,OAAOA,EAAK,IAAI,CACd,KAAM,GAAK,EACX,OAAQ,GAAK,EACb,OAAQ,GAAK,EACb,YAAa,IAAO,EACrB,CACH,CCLO,SAASgC,IAAqB,CACnC,MAAMV,EAAWC,KACjB,OAAOpa,kBAAQ,IACN8a,GAAIX,CAAQ,EAClB,CAACA,CAAQ,CAAC,CACf,CC0BO,SAASY,GACd5Z,EACsB,UACtB,MAAM2Z,EAAMD,KACN,CAACG,EAAeC,CAAgB,EAAI/R,mBAA6B,CACrE,OAAQ,CAAC/H,EAAM,OAAS,CAACA,EAAM,MAAM,QAAU,GAACqZ,KAAM,eAAN,SAAoB,OACpE,KAAM,CAACrZ,EAAM,OAAS,CAACA,EAAM,MAAM,MAAQ,GAAC+Z,IAAM,eAAN,QAAoB,KACjE,EAIKC,EAAgBha,EAAM,SACtB,CAACia,EAAeC,CAAgB,EAAIlb,GACxCgB,EAAM,MAAQma,GAAcna,EAAM,MAAO2Z,CAAG,EAAI,OAC/C3Z,EAAM,MAAiD,OAAzCma,GAAcna,EAAM,aAAc2Z,CAAG,EACpD3Z,EAAM,UAGF,CACJ,MACA,MACA,cACA,WACA,iBACA,oBACA,wBACE,KAAuBia,EAAc,MAAOja,CAAK,EAE/Coa,EAAQ/a,sBAAY,IAAM,CAC9Bya,EAAiB,CAAC,MAAO,GAAM,IAAK,EAAK,GACxBI,KAAc,KAAMP,CAAG,CAAC,EACzCK,WAAgB,MAChBb,EAAkB,EAAK,GACtB,CAACQ,EAAKO,EAAkBF,EAAeb,CAAiB,CAAC,EAEtD,CAACkB,EAAYC,CAAa,EAAIvS,mBAA8B,IAAI,EAChE,CAACwS,EAAgBC,CAAiB,EAAIzS,mBAAS,EAAK,EACpD,CAAC0S,EAAkBC,CAAmB,EAC1C3S,mBAAyBkS,CAAa,EAClC,CAACU,EAAeC,CAAgB,EAAI7S,mBAAyB,IAC1D8S,GAAqBZ,EAAenB,CAAG,CAC/C,EAEKgC,EAAiBzb,sBACpB0b,GAA0C,CACzC,IAAIC,GAAQD,EAAM,MACdE,GAAMF,EAAM,IAGZlC,IACMmC,MAAQA,GAAOnC,CAAG,GAE5B,MAAMqC,GAAWpC,EAAMqC,GAAQrC,EAAKmC,EAAG,EAAIA,GACnCD,MAAQA,GAAOE,EAAQ,EAG/B,MAAME,GAASvC,EAAMwC,GAAQxC,EAAKmC,EAAK,EAAIA,GACrC,aAAQC,GAAKG,EAAM,EAErBtC,IACImC,MAAQA,GAAKnC,CAAG,GAGjB,CAAC,MAAOS,GAAQyB,GAAOhC,CAAQ,EAAG,IAAKO,GAAQ0B,GAAKjC,CAAQ,EACrE,EACA,CAACH,EAAKC,EAAKE,CAAQ,GAGfsC,EAAmBjc,sBACtBkc,GAA6B,CAC5B,MAAMxU,GAAQ,CACZ,GAAG+T,EAAeS,CAAQ,EAC1B,OAAQA,EAAS,QAEnBrB,EAAiBnT,EAAK,EACtB2T,EAAoB3T,EAAK,EACR6T,KAAqB7T,GAAO+R,CAAG,CAAC,EACjDgB,EAAiB,CAAC,MAAO,GAAO,IAAK,EAAM,EAC7C,EACA,CAACI,EAAkBY,EAAgBhC,CAAG,GAGlC0C,EAAcnc,sBACjBoc,GAEI,CAAC5B,EAAc,OAAS6B,GAAUD,EAAKhB,EAAiB,KAAK,GAC7D,CAACZ,EAAc,KAAO6B,GAAUD,EAAKhB,EAAiB,GAAG,EAG9D,CAACA,EAAkBZ,CAAa,GAG5B8B,GAAmBtc,sBACtBoc,IAEIlB,GAAmB,CAACV,EAAc,OAAS,CAACA,EAAc,MAC3D4B,EAAI,QAAQhB,EAAiB,KAAK,GAAK,GACvCgB,EAAI,QAAQhB,EAAiB,GAAG,GAAK,EAGzC,CAACA,EAAkBZ,EAAeU,CAAc,GAG5CqB,GAAkBvc,sBACrBoc,GAAsBC,GAAUD,EAAKhB,EAAiB,KAAK,EAC5D,CAACA,CAAgB,GAGboB,GAAgBxc,sBACnBoc,GAAsBC,GAAUD,EAAKhB,EAAiB,GAAG,EAC1D,CAACA,CAAgB,GAGbqB,GAAezc,sBACnB,CAACqY,EAAoBqE,MACZ,CACL,eAAgB,IAAM,CAChBxB,GAAkBwB,IACpBrB,EACEsB,GAAU,CAAC,MAAO3B,EAAa,IAAK3C,EAAM,WAAS,EAGzD,EACA,QAAS,IAAM,CACb,GAAI,CAAC6C,EACHC,EAAkB,EAAI,EACtBF,EAAc5C,CAAI,EACEgD,KAAU,CAAC,MAAOhD,EAAM,IAAKA,EAAM,UAAS,EAAC,MAC5D,CACL,MAAMuE,GAAaD,GAAU,CAC3B,MAAOxC,GAAWD,GAAQc,EAAarB,CAAQ,CAAC,EAChD,IAAKS,GAASF,GAAQ7B,EAAMsB,CAAQ,CAAC,EACrC,WACD,EACDwB,EAAkB,EAAK,EACvBF,EAAc,IAAI,EAClBgB,WAAmBW,IACf7C,IACFD,WAAoB,IAExB,CACF,IAGJ,CACEkB,EACAE,EACAe,EACAnC,EACAC,EACAJ,CACF,GAGK,OACL,cAAeiB,EACf,mBACA,iBACA,oBACA,cACA,oBACA,mBACA,iBACA,gBACA,gBACA,mBACA,gBACA,QACA,mBACA,MACA,MACA,cACA,WACA,yBAEJ,CAEA,SAASY,GACPE,EACAjC,EACgB,CAChB,IAAIkC,EAAQkB,GAAeC,GAAapB,EAAM,KAAK,CAAC,EAChDE,EAAMiB,GAAeE,GAAWrB,EAAM,GAAG,CAAC,EAG1C,UAAYC,EAAOC,CAAG,IACxBA,EAAMmB,GAAWnB,EAAI,IAAI,CAAC,OAAQ,CAAE,EAAC,GAInCnC,GAAOmC,EAAI,QAAQnC,CAAG,EAAI,IACtBmC,IACND,EAAQmB,GAAanB,EAAM,SAAS,CAAC,OAAQ,CAAE,EAAC,GAE3C,CAACA,EAAOC,CAAG,CACpB,CAOA,SAASe,GAAUhc,EAAuC,CACxD,MAAMgb,EAAQzB,GAAQvZ,EAAM,MAAOA,EAAM,QAAQ,EAC3Cib,EAAM1B,GAAQvZ,EAAM,IAAKA,EAAM,QAAQ,EAC7C,OAAIgb,EAAM,QAAQC,CAAG,EAAI,EAChB,CAAC,MAAOA,EAAK,IAAKD,CAAK,EAEzB,CAAC,QAAO,MACjB,CAEA,SAASb,GACPY,EACApB,EACgB,CACZ,wBAAO,SAASoB,iBAAO,KAClBA,EACE,EAACA,WAAO,SAASA,iBAAO,MACjCA,EAAM,MAAQA,EAAM,IAAI,SAAS,CAAC,OAAQ,EAAE,EACrCA,GACE,EAACA,WAAO,OAAOA,iBAAO,QAC/BA,EAAM,IAAMA,EAAM,MAAM,IAAI,CAAC,OAAQ,EAAE,EAChCA,GAEF,CAAC,MAAOpB,EAAK,IAAKA,EAAI,IAAI,CAAC,OAAQ,CAAE,GAC9C,CClQa0C,SAAgB9a,EAC3B7B,UAAM,EAAE,sLAAR,CADwC,EAExC,mBAFwC,ECY7B4c,GAAyBC,eACpC,CAAC,CAACvB,QAAOC,MAAKuB,UAASC,QAAtB,IAA+D,CACxD,MAACC,SAASxE,GAAhB,EACMc,EAAWC,KACX0D,EAAYC,GAChBJ,GACGK,GACCJ,IAAUC,iBAAOI,QAHW,EAO9B,IAAC9B,GAAS,CAACC,EACN,YAGLlU,MAEA,IACM4V,IAAUI,YAChBC,GAAWhC,EAAOhC,CAAR,EACVgE,GAAW/B,EAAKjC,CAAN,CAFJ,QAKAjS,IACT,CAED,SAAQgO,mBAAD,UAAWhO,EAAlB,CACD,EACDkW,EA5BwC,EA+B1C,SAASD,GAAWtF,EAAiCsB,EAAwB,CACvE,cAAOtB,GAAS,SACXwF,GAAcxF,EAAMsB,CAAP,EAAiBmE,OAArC,EAEE,WAAYzF,EACPA,EAAKyF,OAAOnE,CAAZ,EAEFtB,CACR,CCtCY0F,SAAkBrY,GAAMC,WAGnC,CAAC,CAACiB,WAAUd,eAAcnH,WAAUqf,YAAWvP,CAA9C,EAAsD7I,IAAQ,CACzDwC,QAAkBC,GAAwBoG,CAAD,EACzCwP,EAASpX,GAAajB,CAAD,EAErB,CAACmD,aAAYlD,cAAcmD,GAAS,CACxC,GAAGyF,EACHxF,SAAUgV,EACVC,iBAAkB,OAHqB,EAMzC9V,SAAgB+V,QAAUvc,EACxBwG,EAAgB+V,QAChB1P,EAAM2P,UAAY,qBAFU,IAM3BjV,GAAD,CACE,aAAc8D,GACZnH,EACA,CACEkY,OAAavc,IACNwc,EAAO5U,QAAQgV,SAAS5c,EAAE6c,aAA1B,GACHN,WAASvc,EAEZ,EACDwE,QAAS,IAAM,CAEQsY,GAAmBN,CAAD,EAC1BO,WAAb,CACD,EAZmB,EAexB,kBACA,IAAKP,EAjBP,GAkBMlV,EAlBN,WAoBGtD,GAAD,CACE,aACA,UAAW7D,EAAKwG,EAAgBgB,MAAO,QAAxB,EACf,IAAKxC,EAHP,aArBJ,CA8BD,CAhD8B,ECblB6X,GAAwBvc,EACnC7B,UAAM,EAAE,0DAAR,CADgD,EAEhD,2BAFgD,ECArCqe,GAAyBxc,EACpC7B,UAAM,EAAE,wDAAR,CADiD,EAEjD,4BAFiD,ECiB5C,SAASse,GAAa,CAC3BtG,OACAuG,eACAjT,MAAO,CACLwQ,cACAG,mBACAC,kBACAC,gBACAC,eACA9C,WACAH,MACAC,KARK,CAHoB,EAaP,CACd,MAACoF,cAAcC,GAArB,EACMC,EAAYC,GAAa3G,EAAMwG,CAAP,EACxB/I,EAAWqG,EAAY9D,CAAD,EACtB4G,EAAgB3C,EAAiBjE,CAAD,EAChC6G,EAAe3C,EAAgBlE,CAAD,EAC9B8G,EAAa3C,EAAcnE,CAAD,EAC1B+G,EAAaC,GAAQhH,EAAMsB,CAAP,EACpB2F,EAAY5C,GAAYrE,EAAMuG,CAAP,EACvBpL,EAAa+L,GAAclH,EAAMmB,EAAKC,CAAZ,EAEhC,SACE,OACE,KAAK,SACL,gBAAejG,EACf,UAAW5R,EACT,mDACA4R,GAAc,oCACd,CAAC8L,GAAa,+BAHD,EAHjB,GAQM7C,EAAapE,EAAMiH,CAAP,EARlB,SAUE,WACE,UAAW1d,EACT,+GACA,CAACkU,GAAY,CAACsJ,GAAc,iBAC5BtJ,GAAY,2CACZsJ,GAAc,CAACtJ,GAAY,SAJd,EADjB,SAQGuC,EAAK+D,GARR,GAUC6C,GAAiBK,KAChB,QACE,UAAW1d,EACT,mDACCsd,GAAgBH,IAAc,GAAK1G,EAAK+D,MAAQ,IAC/C,kBACD+C,GACCJ,IAAc,GACd1G,EAAK+D,MACHwC,EAAaY,SAASC,eAAeb,CAArC,IACF,gBARW,EAtBrB,GADF,CAqCD,CCtDM,SAASc,GAAc,CAC5BC,YACAhU,QACAiU,UACAC,QAJ4B,EAKP,CACf,MAAChB,cAAcC,GAArB,EACMgB,EAAeC,GAAgBJ,EAAWd,CAAZ,EAC9BmB,EAAaC,GAAYN,EAAWd,CAAZ,EAE9B,SACE,OAAK,UAAU,sBAAf,UACExe,EAAC6f,GAAD,CACE,UACA,SACA,QACA,aAAcP,EAJhB,EAMAlb,SAAK,UAAU,QAAQ,KAAK,OAA5B,UACEpE,EAAC8f,GAAD,CAAe,QAAc,WAA7B,GACC,CAAC,GAAG,IAAIC,MAAMN,CAAV,EAAwBO,MAA5B,EAAoC/a,IACnCgb,KAAChf,GAAE,IAAH,CAAO,UAAU,YAAjB,SACG,CAAC,GAAG,IAAI8e,MAAM,CAAV,EAAaC,MAAjB,EAAyB/a,IAAIib,KAC3B5B,GAAD,CAEE,KAAMqB,EAAWQ,IAAI,CAACC,MAAOH,EAAWI,KAAMH,EAAxC,EACN,aAAcZ,EACd,OAJF,EACOY,CADP,CADD,GAD+BD,CAAlC,CADD,CAFH,EAPF,GADF,CAyBD,CAQD,SAASJ,GAAoB,CAC3BtB,eACAgB,UACAC,SACAlU,MAAO,CAAC2P,gBAAeC,mBAAkB5B,WAAUH,MAAKC,KAAjD,CAJoB,EAKA,CACrBkH,QAAkBC,GAAsC,CAC5D,MAAMpL,EAAQ8F,EAAc7Q,OACxBoW,MACAD,IAAc,UAChBC,EAAWvF,EAAchW,IACvByX,MAAW1E,EAAKmI,IAAI,CAACM,OAAQtL,CAAlB,EAAD,CADD,EAIXqL,EAAWvF,EAAchW,IACvByX,MAAW1E,EAAK0I,SAAS,CAACD,OAAQtL,CAAvB,EAAD,CADD,EAIb+F,EAAiBsF,CAAD,GAGZG,EAAiBzD,GAAiB,CACtC0D,MAAO,OACPC,KAAM,UACNC,IAAKvC,EAAaY,SAAS4B,aAAe,UAAY,OAASxe,OAC/D4c,SAAUZ,EAAaY,SAAS4B,WAJK,EAOjCC,EAAqB9B,GACzBX,EAAamC,SAAS,CAACL,KAAM,EAA7B,EACAlH,EACAC,CAHsC,EAKlC6H,EAAoB/B,GACxBzC,GAAa8B,EAAa4B,IAAI,CAACM,OAAQ,EAA1B,CAAD,EACZtH,EACAC,CAHqC,EAMvC,SACE,OAAK,UAAU,2CAAf,UACEpZ,EAACsC,EAAD,CACE,KAAK,KACL,UAAWf,EAAK,aAAc,CAACge,GAAW,WAA3B,EACf,SAAU,CAACA,GAAWyB,EACtB,cAAa,CAACzB,EACd,QAAS,IAAM,CACbe,EAAe,UAAD,CACf,EAPH,SASEtgB,EAACoe,GAAD,IATF,EAWApe,SAAK,UAAU,oCAAf,SACG2gB,EAAevD,OAAOmB,EAAad,OAAOnE,CAApB,CAAtB,EAbL,EAeEtZ,EAACsC,EAAD,CACE,KAAK,KACL,UAAWf,EAAK,aAAc,CAACie,GAAU,WAA1B,EACf,SAAU,CAACA,GAAUyB,EACrB,cAAa,CAACzB,EACd,QAAS,IAAM,CACbc,EAAe,SAAD,CACf,EAPH,SASEtgB,EAACqe,GAAD,IAxBJ,GADF,CA6BD,CAMD,SAASyB,GAAc,CAACxU,MAAO,CAACgO,UAAD,EAAYgG,WAApB,EAAoD,CACnE,MAACd,cAAcC,GAArB,EACMyC,EAAehE,GAAiB,CAACiE,QAAS,QAAX,EAE/BxB,EAAaC,GAAYN,EAAWd,CAAZ,EAE9B,SACE,OAAK,UAAU,OAAf,SACG,CAAC,GAAG,IAAIuB,MAAM,CAAV,EAAaC,MAAjB,EAAyB/a,IAAamc,IAE/BC,QADO1B,EAAWQ,IAAI,CAACE,KAAMe,EAAtB,EACQ3D,OAAOnE,CAAZ,EACV6H,EAAUD,EAAa9D,OAAOiE,CAApB,EAChB,SACE,OACE,UAAU,yDADZ,WAIE,OAAK,UAAU,sEAAf,SACGF,EADH,GAFKC,CAFP,EALH,EAFL,CAmBD,CC7JM,SAASE,GAAS,CAAChW,QAAOiW,gBAAgB,CAAxB,EAA2C,CAGlE,OAFiBC,OAGCD,OAIhBpP,aACG,CAAC,GAAG,IAAI4N,MAAMwB,CAAV,EAAyBvB,MAA7B,EAAqC/a,IAAamc,IACjD,MAAM9B,EAAY9C,GAChBC,GAAanR,EAAM2P,cAAcmG,EAArB,CADkB,EAG1B7B,EAAU6B,IAAU,EACpB5B,EAAS4B,IAAUG,EAAgB,EACzC,SACGlC,GAAD,CAEE,QACA,YACA,UACA,UAJK+B,CADP,EAPH,EAFL,CAoBD,CCpCYK,SAAoB5f,EAC/B7B,UAAM,EAAE,wCAAR,CAD4C,EAE5C,uBAF4C,ECAvC,SAAS0hB,GACdra,EACAsa,EACAC,EACA9E,EACA,CACA,OAAQ6E,EAAM,CACZ,IAAK,MACL,IAAK,OACL,IAAK,QACL,IAAK,MACI,SAAM,MAAMA,EAAMC,EAAQ,CAAC,MAAOD,IAAS,OAAO,CAC7D,CAEA,GAAI,SAAUta,EACZ,OAAQsa,EAAM,CACZ,IAAK,YAAa,CAChB,MAAME,EAAQxa,EAAM,KACdya,EAAOD,GAAS,GACf,SAAM,IAAI,CAAC,KAAMC,EAAOD,EAAQ,GAAKA,EAAQ,GAAG,CACzD,CACA,IAAK,OACL,IAAK,SACL,IAAK,SACI,SAAM,MAAMF,EAAMC,EAAQ,CAC/B,MAAOD,IAAS,OAChB,UAAW7E,EAAQ,OAAS,GAAK,GAClC,CACL,CAGK,QACT,CChCO,SAASiF,GACd1a,EACAsa,EACAK,EACAlF,EACA,CACA,OAAQ6E,EAAM,CACZ,IAAK,MACL,IAAK,QACL,IAAK,OACH,OAAOta,EAAM,IAAI,CAAC,CAACsa,GAAOK,CAAa,EAC3C,CAEA,GAAI,SAAU3a,EACZ,OAAQsa,EAAM,CACZ,IAAK,YAAa,CAChB,MAAME,EAAQxa,EAAM,KACd4a,EAAQJ,GAAS,GAEvB,OADaG,GAAgB,KAChBC,EACJ5a,EAEFA,EAAM,IAAI,CAAC,KAAM4a,EAAQJ,EAAQ,GAAKA,EAAQ,GAAG,CAC1D,CACA,IAAK,OAEH,GAAI/E,EAAQ,OAAQ,CAElB,MAAMmF,EADQ5a,EAAM,MACG,GACnB,CAAC4a,GAASD,IAAiB,KACdA,KAEbC,GAASD,EAAe,KACVA,MAEpB,CAEF,IAAK,SACL,IAAK,SACH,OAAO3a,EAAM,IAAI,CAAC,CAACsa,GAAOK,CAAa,EAC3C,CAGK,QACT,CC9CO,MAAME,GAAY,CACvB,KAAM,EACN,MAAO,EACP,IAAK,EACL,KAAM,EACN,OAAQ,GACR,OAAQ,GACR,UAAW,CACb,EC6BO,SAASC,GAAoB,CAClCC,UACArjB,WACAsI,QACAG,WACA2S,gBACA7O,MAAO,CAACgO,WAAUE,iBAAgBC,mBAA3B,CAN2B,EAOT,CACzB,MAAMza,EAAWwiB,KACXa,EAAc/b,iBAAO,EAAD,EACpB,CAACkY,cAAcC,GAArB,EACM6D,EAAe9Y,KACfyT,EAAYC,GAAiB,CAACqF,SAAUjJ,EAAZ,EAC5BkJ,EAASrjB,kBACb,IAAM,IAAIsjB,GAAajE,EAAY,CAACkE,sBAAuB,EAArD,EACN,CAAClE,CAAD,CAFoB,EAKhBmE,EAAmB1U,GAAqB,CAE1C8T,KAAW1a,EAAO+a,EAAQlhB,KAAM+M,EAAUgP,EAAU2F,gBAA1C,EADJ,GAKJC,EAAsBjB,GAAmB,CAE3CF,KAAcra,EAAO+a,EAAQlhB,KAAM0gB,EAAQ3E,EAAU2F,gBAAxC,EADP,GAKJE,EAAY,IAAM,CACtB,GAAIN,EAAOO,qBAAqBX,EAAQY,IAApC,EAA2C,CAC7C,MAAM/U,EAAWmU,EAAQY,KAAKC,MAAM,EAAG,EAAtB,EACXC,EAASV,EAAOW,MAAMlV,CAAb,EACf,GAAIA,EAAS7D,SAAW,GAAK8Y,IAAW,EAAG,CACnCjJ,QAAMmJ,GAAM9J,CAAD,EACb8I,EAAQlhB,QAAQ+Y,GAEFA,IAAImI,EAAQlhB,KAAb,CAChB,MAEDyhB,EAAgBO,CAAD,EAEjBb,EAAYrZ,QAAUiF,OACbmU,EAAQlhB,OAAS,aAC1B2hB,EAAmB,EAAD,CACnB,EAGGlV,EAAuCvM,UAC3C,GAAIA,IAAEiiB,SAAWjiB,EAAEkiB,SAAWliB,EAAEmiB,UAAYniB,EAAEoiB,QAK9C,QAAQpiB,EAAEsI,IAAV,CACE,IAAK,YACHtI,EAAEuL,eAAF,EACAvL,EAAEmU,gBAAF,EACA+M,EAAajY,cAAb,EACA,MACF,IAAK,aACHjJ,EAAEuL,eAAF,EACAvL,EAAEmU,gBAAF,EACA+M,EAAamB,UAAb,EACA,MACF,IAAK,SACFriB,IAAEC,OAAuBC,QAAQ,MAAlC,IAACF,QAA0CsiB,gBAC3CjK,EAAkB,CAACD,CAAF,EACjB,MACF,IAAK,MACH,MACF,IAAK,YACL,IAAK,SAAU,CACbpY,EAAEuL,eAAF,EACAvL,EAAEmU,gBAAF,EACSuN,IACT,KACD,CAGD,IAAK,UACH1hB,EAAEuL,eAAF,EACA0V,EAAYrZ,QAAU,GACtB6Z,EAAmB,CAAD,EAClB,MACF,IAAK,YACHzhB,EAAEuL,eAAF,EACA0V,EAAYrZ,QAAU,GACtB6Z,EAAmB,EAAD,EAClB,MACF,IAAK,SACHzhB,EAAEuL,eAAF,EACA0V,EAAYrZ,QAAU,GACHkZ,KAAUE,EAAQlhB,OAAS,CAA5B,EAClB,MACF,IAAK,WACHE,EAAEuL,eAAF,EACA0V,EAAYrZ,QAAU,GACtB6Z,EAAmB,EAAEX,GAAUE,EAAQlhB,OAAS,EAA9B,EAClB,MACF,IAAK,OACHE,EAAEuL,eAAF,EACA0V,EAAYrZ,QAAU,GACtB2Z,EAAgBP,EAAQuB,QAAT,EACf,MACF,IAAK,MACHviB,EAAEuL,eAAF,EACA0V,EAAYrZ,QAAU,GACtB2Z,EAAgBP,EAAQwB,QAAT,EACf,KAvDJ,CA0DAC,EAAQziB,EAAEsI,GAAH,IAGHoa,EAAgB5G,GAAiB,CAAC6G,KAAM,UAAWC,OAAQ,GAA3B,EAChCC,EAAK9kB,kBAAQ,IAAM,CACjB+kB,QAAS,IAAIC,KACnBD,SAAOE,SAAS,CAAhB,EACON,EACJO,cAAcH,CADV,EAEJ/S,KAAawQ,KAAKzgB,OAAS,WAFvB,EAEqCmG,OAC3C,CAACyc,CAAD,CANe,EAOZQ,EAAKnlB,kBAAQ,IAAM,CACjBolB,QAAS,IAAIJ,KACnBI,SAAOH,SAAS,EAAhB,EACON,EACJO,cAAcE,CADV,EAEJpT,KAAawQ,KAAKzgB,OAAS,WAFvB,EAEqCmG,OAC3C,CAACyc,CAAD,CANe,EASZD,EAAWna,GAAgB,CACzBuE,QAAWoU,EAAYrZ,QAAUU,EAEvC,OAAQ0Y,EAAQlhB,KAAhB,CACE,IAAK,YACH,GAAI+iB,EAAGO,cAAcC,WAAW/a,CAA5B,EACFiZ,EAAgB,CAAD,UACN2B,EAAGE,YAAcC,aAAW/a,CAA5B,EACTiZ,EAAgB,EAAD,MAEf,OAEFL,EAAamB,UAAb,EACA,MACF,IAAK,MACL,IAAK,OACL,IAAK,SACL,IAAK,SACL,IAAK,QACL,IAAK,OAAQ,CACX,GAAI,CAACjB,EAAOO,qBAAqB9U,CAA5B,EACH,OAGEyW,MAAclC,EAAOW,MAAMlV,CAAb,EACd+T,GAAe0C,EACfC,GAAavC,EAAQwB,WAAa,EACtC,GAAIxB,EAAQlhB,OAAS,QAAU+b,EAAU2F,kBAAkBoB,OAAQ,CACzD/G,SAAU2F,gBAAV,EAA4BgC,UAApC,CACE,IAAK,MACCF,EAAc,KACDlC,KAAOW,MAAMzZ,CAAb,GAEjB,MACF,IAAK,MACUib,MACTD,EAAc,KACDlC,KAAOW,MAAMzZ,CAAb,GAEjB,KAXJ,CAcI0Y,EAAQ/a,OAAS,IAAMqd,EAAc,IACxBA,MAChB,MACQA,EAActC,EAAQuB,WAChBnB,KAAOW,MAAMzZ,CAAb,GAGbmb,UAAOC,MAAMJ,CAAb,EACF,OAGIK,SAAiB/C,KAAiB,GAAK2C,GACzCI,IACFpC,EAAgBX,EAAD,EAIf6C,OAAQ,GAAEH,IAAJ,EAAsBtC,EAAQuB,UACpC1V,EAAS7D,QAAU4a,OAAO5C,EAAQuB,QAAT,EAAmBvZ,QAE5CiY,EAAYrZ,QAAU,GAClB+b,IACFzC,EAAamB,UAAb,GAGFpB,EAAYrZ,QAAUiF,EAExB,KACD,CAnEH,GAuEIgX,EAAkDjmB,EACpD,GACA,CACE,aAAcojB,EAAQlhB,KACtB,iBAAkBiZ,EAAgB5X,OAAa,GAAE6f,EAAQ/a,QACzD,gBAAiB+a,EAAQwB,SACzB,gBAAiBxB,EAAQuB,SACzB,gBAAiBxJ,EAAgB5X,OAAY6f,EAAQ/a,MACrD6d,SAAU,EACVvX,aAGN,SACE,UACMf,GAAW7N,EAAW,CACxB,GAAGkmB,EACHpX,QAAczM,IACZihB,EAAYrZ,QAAU,GACtB5H,EAAEC,OAAO8jB,eAAe,CAACC,MAAO,UAAhC,CACD,EACDxf,QAAcxE,IACZA,EAAEuL,eAAF,EACAvL,EAAEmU,gBAAF,CACD,EAVL,EAYE,UAAU,sKAZZ,SAcG6M,EAAQY,KAAKqC,SAASjD,EAAQkD,UAAW,GAAzC,EAfL,CAkBD,CCrQM,SAASC,GAAmB,CAACnD,UAASrjB,UAAV,EAA0C,CAC3E,MAAMujB,EAAe9Y,KACrB,mBAEQzK,EACJ,cAAoBqC,IACdA,EAAEokB,cAAgB,UACpBpkB,EAAEuL,eAAF,EACY2V,EAAamB,UAAU,CAACgC,KAAMrkB,EAAEC,OAAhC,GAEVihB,EAAajY,cAAc,CAACob,KAAMrkB,EAAEC,OAApC,EAGL,EACD,cAXF,GAYE,UAAU,qCAZZ,SAcG+gB,EAAQY,KAfb,CAkBD,CC3Be,YACdhL,EACA9W,EACA4b,EACA,CACA,OAAQ5b,EAAM,CACZ,IAAK,OACI,OACL,MAAO8W,EAAK,KACZ,YAAa,OACb,SAAU,EACV,SAAUA,EAAK,SAAS,cAAcA,CAAI,GAE9C,IAAK,QACI,OACL,MAAOA,EAAK,MACZ,YAAa,KACb,SAAU0N,GAAsB1N,CAAI,EACpC,SAAUA,EAAK,SAAS,gBAAgBA,CAAI,GAEhD,IAAK,MACI,OACL,MAAOA,EAAK,IACZ,SAAU2N,GAAqB3N,CAAI,EACnC,SAAUA,EAAK,SAAS,eAAeA,CAAI,EAC3C,YAAa,KAEnB,CAEA,GAAI,SAAUA,EACZ,OAAQ9W,EAAM,CACZ,IAAK,YACI,OACL,MAAO8W,EAAK,MAAQ,GAAK,GAAK,EAC9B,SAAU,EACV,SAAU,GACV,YAAa,MAEjB,IAAK,OACH,GAAI8E,EAAQ,OAAQ,CACZ,QAAO9E,EAAK,MAAQ,GACnB,OACL,MAAOA,EAAK,KACZ,SAAU8J,EAAO,GAAK,EACtB,SAAUA,EAAO,GAAK,GACtB,YAAa,KAEjB,CAEO,OACL,MAAO9J,EAAK,KACZ,SAAU,EACV,SAAU,GACV,YAAa,MAEjB,IAAK,SACI,OACL,MAAOA,EAAK,OACZ,SAAU,EACV,SAAU,GACV,YAAa,KAEnB,CAGF,MAAO,EACT,CCxDO,SAAS4N,GAAgB,CAC9BC,eACAva,QACAjE,QACAG,WACA2S,eAL8B,EAMP,CACjB,MAACP,aAAetO,IAChBwR,EAAU3d,kBAAQ,IAAM,CAC5B,MAAM2mB,EAA0C,CAC9CjF,KAAM,UACND,MAAO,UACP7E,IAAK,WAEP,OAAInC,IAAgB,WAClBkM,EAAY/B,KAAO,UACnB+B,EAAYC,OAAS,WAEhBD,GACN,CAAClM,CAAD,CAXoB,EAajBqD,EAAYC,GAAiBJ,CAAD,EAE5BkJ,EAAY7mB,kBAAQ,IAAMkI,EAAMoW,SAAU,CAACpW,CAAD,CAAvB,EACnB4e,EAAW9mB,kBAAQ,IAChB8d,EAAUoH,cAAc2B,CAAxB,EAAmC/gB,IAAemd,IACvD,MAAM8D,EAASC,GACb9e,EACA+a,EAAQlhB,KACR+b,EAAU2F,iBAHmB,EAKzB7W,EACJoO,GAAiBiI,EAAQlhB,OAAS,UAC9BglB,EAAOlf,YACPob,EAAQ/a,MACP,OACLnG,KAAMkhB,EAAQlhB,KACd8hB,KAAMZ,EAAQ/a,QAAU,KAAO,IAAM0E,EACrC,GAAGma,EACHZ,UACElD,EAAQlhB,OAAS,UAAY8jB,OAAOkB,EAAOvC,QAAR,EAAkBvZ,OAAS,EAL3D,CAVF,EAkBN,CAAC4b,EAAW/I,EAAW9C,EAAe9S,CAAtC,CAnBqB,EAqBxB,SACE,OAAK,UAAU,oBAAf,SACG4e,EAAShhB,IAAI,CAACmd,EAAShB,IAClBgB,EAAQlhB,OAAS,YAEhBqkB,GAAD,CACE,SAAUM,EAEV,WADKzE,CAFP,IAQDe,GAAD,CACE,gBACA,SAAU0D,EACV,QACA,QACA,WACA,WACKzE,CAPP,CAXH,EAFL,CA0BD,CC3EM,SAASgF,GAAK,CAAC9nB,WAAU8B,YAAWimB,UAASC,YAA/B,EAAmD,CACtE,SACGzgB,GAAD,YACE,MACE,cAAaygB,EACb,UAAW/kB,EACT,oCACAnB,EACAimB,UAAW,MAHE,EAFjB,aAFJ,CAcD,CAOM,SAASE,GAAS,CACvBjoB,WACAkoB,aACAC,kBACGC,CAJoB,EAKP,CAChB,MAAMpE,EAAe9Y,KACfmd,EAAe,CAAC,CAACH,EACjBjhB,EAAMe,iBAAuB,IAAjB,EACZ,CAACmP,EAAUmR,CAAX,EAA0Bve,mBAAS,EAAD,EAElCsF,EAAavM,GAA2C,CAC5D,OAAQA,EAAEsI,IAAV,CACE,IAAK,YACHtI,EAAEuL,eAAF,EACA2V,EAAamB,UAAb,EACA,MACF,IAAK,UACHriB,EAAEuL,eAAF,EACA2V,EAAajY,cAAb,EACA,MACF,IAAK,OACHjJ,EAAEuL,eAAF,EACA2V,EAAanE,WAAb,EACA,MACF,IAAK,MACH/c,EAAEuL,eAAF,EACA2V,EAAa/X,UAAb,EACA,MACF,IAAK,QACL,IAAK,QACHnJ,EAAEuL,eAAF,EACU6Z,aACV,KArBJ,GAyBF,SACE,iBACGK,GAAD,CACE,UAAWJ,GAAgB,UAC3B,WACA,WAAYC,EAAcvT,WAH5B,GAIMuT,EACJ,QAActlB,IACZwlB,EAAaxlB,EAAEC,OAAuBylB,QAAQ,gBAAlC,CAAD,CACZ,EACD,OAAQ,IAAM,CACZF,EAAY,EAAD,CACZ,EACD,QAAS,IAAM,CACHJ,YACX,EACD,MACA,KAAMG,EAAe,SAAWpkB,OAChC,UAAWokB,EAAehZ,EAAYpL,OACtC,SAAUokB,GAAgB,CAACD,EAAcvT,WAAa,EAAI5Q,OAjB5D,aAFJ,CAyBD,CC7FM,SAASwkB,IAA0B,OACxC,MAAMC,EAAkBC,KAAmB,SAAS,MAAM,iBACpDC,IACJvN,KAAmB,SAAnB,cAAyB,WAAYqN,GAAmB,OAEtD,OAACE,GAAqBA,IAAsB,OACvCC,GAAiB,EAEnBD,CACT,CCGA,MAAME,GAAMtN,GAAWG,GAAI8M,IAAiB,CAAC,SAC7C,MAAMM,KAAS1N,MAAmB,SAAnB,eAAyB,WAAY,KAQvC2N,GAAsC,CACjD,CACE,IAAK,EACL,MAAOzU,EAAQ,OAAO,EACtB,cAAe,KAAO,CACpB,OAAQ,EACR,MAAOuU,GACP,IAAKrN,GAASqN,EAAG,GAErB,EACA,CACE,IAAK,EACL,MAAOvU,EAAQ,WAAW,EAC1B,cAAe,KAAO,CACpB,OAAQ,EACR,MAAOuU,GAAI,SAAS,CAAC,KAAM,EAAE,EAC7B,IAAKrN,GAASqN,EAAG,EAAE,SAAS,CAAC,KAAM,EAAE,GAEzC,EACA,CACE,IAAK,EACL,MAAOvU,EAAQ,WAAW,EAC1B,cAAe,KAAO,CACpB,OAAQ,EACR,MAAO+M,GAAYwH,GAAKC,EAAM,EAC9B,IAAKE,GAAUxN,GAASqN,EAAG,EAAGC,EAAM,GAExC,EACA,CACE,IAAK,EACL,MAAOxU,EAAQ,WAAW,EAC1B,cAAe,KAAO,CACpB,OAAQ,EACR,MAAO+M,GAAYwH,GAAKC,EAAM,EAAE,SAAS,CAAC,MAAO,EAAE,EACnD,IAAKE,GAAUxN,GAASqN,EAAG,EAAGC,EAAM,EAAE,IAAI,CAAC,MAAO,EAAE,GAExD,EACA,CACE,IAAK,EACL,MAAOxU,EAAQ,aAAa,EAC5B,cAAe,KAAO,CACpB,OAAQ,EACR,MAAOuU,GAAI,SAAS,CAAC,KAAM,EAAE,EAC7B,IAAKrN,GAASqN,EAAG,GAErB,EACA,CACE,IAAK,EACL,MAAOvU,EAAQ,cAAc,EAC7B,cAAe,KAAO,CACpB,OAAQ,EACR,MAAOuU,GAAI,SAAS,CAAC,KAAM,GAAG,EAC9B,IAAKrN,GAASqN,EAAG,GAErB,EACA,CACE,IAAK,EACL,MAAOvU,EAAQ,cAAc,EAC7B,cAAe,KAAO,CACpB,OAAQ,EACR,MAAOuU,GAAI,SAAS,CAAC,KAAM,GAAG,EAC9B,IAAKrN,GAASqN,EAAG,GAErB,EACA,CACE,IAAK,EACL,MAAOvU,EAAQ,eAAe,EAC9B,cAAe,KAAO,CACpB,OAAQ,EACR,MAAOuU,GAAI,SAAS,CAAC,OAAQ,EAAE,EAC/B,IAAKrN,GAASqN,EAAG,GAErB,EACA,CACE,IAAK,EACL,MAAOvU,EAAQ,gBAAgB,EAC/B,cAAe,KAAO,CACpB,OAAQ,EACR,MAAOuU,GAAI,SAAS,CAAC,OAAQ,GAAG,EAChC,IAAKrN,GAASqN,EAAG,GAErB,EACA,CACE,IAAK,EACL,MAAOvU,EAAQ,WAAW,EAC1B,cAAe,KAAO,CACpB,OAAQ,EACR,MAAO2U,GAAYJ,EAAG,EACtB,IAAKK,GAAU1N,GAASqN,EAAG,CAAC,GAEhC,EACA,CACE,IAAK,GACL,MAAOvU,EAAQ,WAAW,EAC1B,cAAe,KAAO,CACpB,OAAQ,GACR,MAAO2U,GAAYJ,EAAG,EAAE,SAAS,CAAC,MAAO,EAAE,EAC3C,IAAKK,GAAU1N,GAASqN,EAAG,CAAC,EAAE,SAAS,CAAC,MAAO,EAAE,GAErD,CACF,ECnHO,SAASM,GAAe,CAC7BC,mBACAC,eAF6B,EAGZ,CACjB,SACGxB,GAAD,CACE,UAAU,YACV,QAAQ,QACR,WAAW,yBAHb,SAKGkB,GAAiBriB,IAAI8X,KACnBwJ,GAAD,CACE,aAAa,eACb,gBAFF,GAIE,YAAYqB,iBAAe7K,UAAWA,EAAOrT,IAC7C,WAAY,IAAM,CACVuE,QAAW8O,EAAO8K,gBACxBF,EAAiB1Z,CAAD,CACjB,EARH,WAUGvK,EAAUqZ,MAAO5F,MAAlB,GAPK4F,EAAOrT,GAHd,CADD,EANL,CAsBD,CCjCM,SAASoe,GAAsBhL,EAAgC,CAC7D,UAAc,sBAAuBA,CAAO,CACrD,CCiBO,SAASiL,GAAgB,CAC9Bzc,QACA0c,4BAA4B,EAFE,EAGP,CACvB,MAAMC,EAAWH,KACX,CAACxkB,SAASC,EAAhB,EACM2kB,EAAkB5hB,iBAA6BgF,CAAvB,EAExB6c,EAAiB7c,EAAM6O,cAAcmB,OAAShQ,EAAM6O,cAAcoB,IAElE6M,IACH/jB,EAAD,CACE,WADF,GAEE,YACE,CAAC8jB,GAAkB,CAACF,IAClB,OAAK,UAAU,UAAf,WACGrL,GAAD,CACE,MAAOtR,EAAMsc,cAActM,MAAMmC,OADnC,EAEE,IAAKnS,EAAMsc,cAAcrM,IAAIkC,OAF/B,EAGE,QAAS,CAAC4K,UAAW,QAAZ,EAHX,CADF,GAOE9lB,OAXR,UAcEvC,EAACsE,EAAD,CACE,QAAQ,OACR,KAAK,KACL,QAAS,IAAM,CACPsX,mBAAiBsM,EAAgBlf,QAAQ4e,aAA/C,EACMxN,mBAAiB8N,EAAgBlf,QAAQmR,aAA/C,EACK7W,GACN,EAPH,WASGI,EAAD,CAAO,QAAQ,SAAf,EAvBJ,EAyBE1D,EAACsE,EAAD,CACE,QAAQ,OACR,MAAM,UACN,KAAK,KACL,QAAS,IAAM,CACbhB,EAAMgI,EAAMsc,aAAP,CACN,EANH,WAQGlkB,EAAD,CAAO,QAAQ,SAAf,EAjCJ,GADF,EAuCA,SACGF,EAAD,CAAQ,KAAK,OAAb,UACEY,EAACT,EAAD,CAAY,UAAU,OAAO,QAAQ,MAArC,UACG,CAACskB,KACCP,GAAD,CACE,cAAepc,EAAMsc,cACrB,iBAA4B7K,IAC1BzR,EAAMsQ,iBAAiBmB,CAAvB,EACIzR,EAAMoO,wBACRpW,EAAMyZ,CAAD,CAER,EATP,EAYE/c,EAACC,GAAD,CAAiB,QAAS,GAA1B,WACGqoB,GAAD,CACE,QACA,4BAFF,EAbJ,KAmBC,CAAChd,EAAMoO,wBAA0B0O,CApBpC,EADF,CAwBD,CAMD,SAASE,GAAU,CAAChd,QAAO0c,2BAAR,EAA2D,CAE1E,SAAC/mB,GAAE,IAAH,CACE,QAAS,CAACN,MAAO,EAAG4nB,SAAU,QAArB,EACT,QAAS,CAAC5nB,MAAO,MAAR,EACT,KAAM,CAACA,MAAO,EAAG4nB,SAAU,QAArB,EACN,WAAY,CAACrnB,KAAM,QAASC,SAAU,IAA1B,EACZ,UAAU,6BALZ,SAOG6mB,IAA6BhoB,EAACwoB,GAAD,CAAuB,QAAvB,EAC9BxoB,SAAK,UAAU,0BAAf,WACGshB,GAAD,CAAU,QAAc,cAAe,EAAvC,EATJ,GADF,CAcD,CAKD,SAASkH,GAAsB,CAACld,OAAD,EAAqC,CAC5D,MAACsc,gBAAehM,kBAAoBtQ,IAC1C,SACGoS,GAAD,CAAiB,UAAU,cAA3B,UACE1d,EAAC4lB,GAAD,CACE,QACA,MAAOgC,EAActM,MACrB,SAAsBrN,IACH2N,GAAC,GAAGgM,EAAetM,MAAOrN,EAA3B,CACjB,EANL,EAQEjO,EAACyhB,GAAD,CAAmB,UAAU,iCAAiC,KAAK,KARrE,EASEzhB,EAAC4lB,GAAD,CACE,QACA,MAAOgC,EAAcrM,IACrB,SAAsBtN,IACH2N,GAAC,GAAGgM,EAAerM,IAAKtN,EAAzB,CACjB,EAdL,GADF,CAmBD,CClID,MAAMwa,GAA6C,CACjD7H,MAAO,QACP7E,IAAK,SAF4C,EAU5C,SAAS2M,GAAmB,CACjCrhB,QACAG,WACAmhB,kBAAkB,EAHe,EAIP,CAC1B,MAAM3pB,EAAWwiB,KACjB,SACGzO,EAAD,CACE,KAAK,UACL,QAAS1L,GAAS,CACZA,GACFG,EAASH,CAAD,CAEX,EANH,UAQErH,EAACsE,EAAD,CAAQ,QAAQ,UAAU,MAAM,OAAO,QAAStE,EAAC2c,GAAjD,eACGC,GAAD,CACE,MAAOvV,EAAMiU,MACb,IAAKjU,EAAMkU,IACX,QACEvc,GAAY2pB,EACRF,GACAtL,GAAkByL,MAN1B,EATJ,EAmBE5oB,EAAC6oB,GAAD,CAAoB,QAnBtB,GADF,CAuBD,CAKD,SAASA,GAAmB,CAACxhB,OAAD,EAAkC,CAC5D,MAAMrI,EAAWwiB,KACXlW,EAAQ4O,GAAwB,CACpC3S,aAAcF,EACdqS,uBAAwB,GAFW,EAIrC,SACGqO,GAAD,CAAiB,QAAc,0BAA2B,CAAC/oB,EAD7D,CAGD,CCnDM,SAAS8pB,GAAYxoB,EAAyB,CAC7C,MACJyoB,QACAtW,cACAnU,WACA8B,YACA4oB,gBAAgB,GAChBC,mBACAC,YACE5oB,IAEJ,SACE,OACE,UAAWiB,EACT,0DACAnB,CAFa,EADjB,SAME,UAAK,UAAU,kDAAf,SACE,UAAK,UAAU,wBAAf,SAAwC2oB,EAD1C,EAEGtW,GAAezS,SAAK,UAAU,aAAf,SAA6ByS,EAF/C,KAIAzS,SACE,IAAKkpB,EACL,UAAW3nB,EACT,gBACAynB,GAAiB,6CACjBC,CAHa,EAFjB,WAVF,GADF,CAuBD,CC5CM,SAASE,IAAwB,CACtC,SACE,OAAK,UAAU,oDAAf,UACEnpB,EAACuI,GAAD,CAAgB,gBAAhB,GAAgC,KAAK,KADvC,EAEEvI,EAAC0D,EAAD,CAAO,QAAQ,gBAFjB,GADF,CAMD,CCLD,MAAM0lB,GAAYC,eAAK,IAAMC,cAAO,4BAAd,oFASf,SAASC,GACdjpB,EACA,CACM,MAACyoB,QAAOtW,cAAarS,YAAW8oB,aAAY3kB,WAAajE,IAE/D,SACGwoB,GAAD,CACE,QACA,cACA,YACA,aAJF,WAMGU,mBAAD,CAAU,SAAUxpB,EAACmpB,GAArB,aACE,GAACC,GAAc9oB,KAAf,GACCiE,KAAc4kB,GAFjB,OAPJ,CAaD,CCXM,SAASM,GACdC,EACA,CAAC,aAAa,KAAM,0BAA0B,IACzB,CACrB,GAAI,CAACA,EAAe,OAAC,SAAU,IAE/B,MAAMC,EAA+C,GAE9C,OACL,GAAGD,EACH,SAAUA,EAAO,SAAS,IAAI,CAACE,EAASC,IAAiB,CACvD,MAAM/Z,EAAO8Z,EAAQ,KAAK,IAAI,CAACE,EAAaC,IAAc,CACpD,MAGA,WAAiB,GAAK,CAACC,GACjB7S,KACN2S,EACAJ,EAAO,YACPlL,GAEFmL,EAAmBI,GAAa5S,GAEhCA,EAAQwS,EAAmBI,GAEtB,CACL,GAAG5S,EACH,MAAO2S,EAAY,MACrB,CACD,EAEM,OAAC,GAAGF,EAAS,OAAI,CACzB,EAEL,CAEA,SAASK,GACPC,EACAtQ,EACAyN,EACwB,CACpB,SAAM,OAAS,KACV,CAAC,MAAO6C,EAAM,OAGlBA,EAAM,KAIJC,GAAmBD,EAAOtQ,EAAayN,CAAM,EAH3C,CAAC,MAAO,GAInB,CAEA,SAAS8C,GACP,CAAC,KAAMC,EAAS,QAASC,EAAY,SACrCzQ,EAAoD,MACpDyN,EACqC,CACrC,MAAMrP,EAAOsS,GAAqBF,CAAO,EAAE,OAAO,EAC5CG,EAAUF,EAAaC,GAAqBD,CAAU,EAAE,OAAW,OAEzE,OAAQzQ,EAAa,CACnB,IAAK,SACI,OACL,MAAO4Q,GAAanD,EAAQ,CAC1B,OAAQ,UACT,EAAE,OAAOrP,CAAI,EACd,aAAcwS,GAAanD,EAAQ,CACjC,IAAK,UACL,KAAM,UACN,OAAQ,UACR,OAAQ,UACT,EAAE,OAAOrP,CAAI,GAElB,IAAK,OACI,OACL,MAAOwS,GAAanD,EAAQ,CAC1B,KAAM,UACN,OAAQ,UACT,EAAE,OAAOrP,CAAI,EACd,aAAcwS,GAAanD,EAAQ,CACjC,MAAO,QACP,IAAK,UACL,KAAM,UACN,OAAQ,UACT,EAAE,OAAOrP,CAAI,GAElB,IAAK,MACI,OACL,MAAOwS,GAAanD,EAAQ,CAC1B,IAAK,UACL,QAAS,QACV,EAAE,OAAOrP,CAAI,EACd,aAAcwS,GAAanD,EAAQ,CACjC,IAAK,UACL,QAAS,QACT,MAAO,QACR,EAAE,OAAOrP,CAAI,GAElB,IAAK,OACI,OACL,MAAOwS,GAAanD,EAAQ,CAC1B,MAAO,QACP,IAAK,UACN,EAAE,OAAOrP,CAAI,EACd,aAAcwS,GAAanD,EAAQ,CACjC,IAAK,UACL,MAAO,OACP,KAAM,UACP,EAAE,YAAYrP,EAAMuS,CAAe,GAExC,IAAK,QACI,OACL,MAAOC,GAAanD,EAAQ,CAC1B,MAAO,QACP,KAAM,UACP,EAAE,OAAOrP,CAAI,EACd,aAAcwS,GAAanD,EAAQ,CACjC,MAAO,OACP,KAAM,UACP,EAAE,OAAOrP,CAAI,GAElB,IAAK,OACI,OACL,MAAOwS,GAAanD,EAAQ,CAC1B,KAAM,UACP,EAAE,OAAOrP,CAAI,EACd,aAAcwS,GAAanD,EAAQ,CACjC,KAAM,UACP,EAAE,OAAOrP,CAAI,EAEpB,CACF,CAEA,MAAMwS,GAAeC,GACnB,CAACpD,EAAQvK,IACA,IAAI4N,GAAcrD,EAAQvK,CAAO,EAE1C,CACE,OAAQ,CAAC6N,EAAGC,IACHrN,GAAaoN,EAAGC,CAAC,EAE1B,YAAa,MACf,CACF,ECpKaC,GAAc,CACzB,CAAC,kBAAmB,sBAApB,EACA,CAAC,mBAAoB,uBAArB,EACA,CAAC,kBAAmB,qBAApB,EACA,CAAC,kBAAmB,qBAApB,EACA,CAAC,kBAAmB,qBAApB,EACA,CAAC,kBAAmB,qBAApB,CANyB,ECUrBC,GAAyC,CAC7CC,QAAS,CACPC,SAAU,QACVC,SAAU,OAFH,EAITC,SAAU,CACRC,KAAM,CACJC,KAAM,SACNC,QAAS,GACTC,iBAAkB,EAClBC,eAAgB,EAJZ,CADE,EAQVC,QAAS,CACPC,QAAS,CACPC,UAAW,GACXC,KAAM,OAFC,CADF,CAboC,EAwBxC,SAASC,GAAU,CAAC9b,OAAM1P,eAAcE,CAArB,EAA6C,CAC/D,MAACke,cAAcC,GAArB,EACMoN,EACJ1sB,kBAAQ,IAAM,CACN0sB,QAAgBpC,GAAiB3Z,EAAM,CAAC0O,aAAR,EACtCqN,SAAcX,SAAWW,EAAcX,SAASjmB,IAAI,CAAC2kB,EAASjgB,KAAO,CACnE,GAAGigB,EACHkC,gBAAiBjB,GAAYlhB,GAAG,GAChCoiB,YAAalB,GAAYlhB,GAAG,GAC5BqiB,qBAAsBnB,GAAYlhB,GAAG,EAJd,IAMlBkiB,GACN,CAAC/b,EAAM0O,CAAP,CATI,EAWT,SACG+K,GAAD,IACMjpB,EACJ,UAAWiB,EAAKnB,EAAW,WAAZ,EACf,KAAMyrB,EACN,KAAK,OACL,QAASf,GANb,CASD,CC/CD,MAAMmB,GAAmD,CACvDlB,QAAS,CACPrhB,IAAK,OADE,EAGT8hB,QAAS,CACPC,QAAS,CACPC,UAAW,EADJ,CADF,CAJ8C,EAelD,SAASQ,GAAe,CAC7Bpc,OACA1P,eACGE,CAH0B,EAIP,CAChB,MAACke,cAAcC,GAArB,EACMoN,EACJ1sB,kBAAQ,IAAM,OACN0sB,QAAgBpC,GAAiB3Z,EAAM,CAAC0O,aAAR,EACtCqN,SAAcM,QAASN,IAAcX,SAAS,KAAvBW,cAA2B/b,KAAK7K,IAASmnB,KAAEjV,OAClE0U,EAAcX,SAAWW,EAAcX,SAASjmB,IAAI,CAAC2kB,EAASjgB,KAAO,CACnE,GAAGigB,EACHkC,gBAAiBjB,GAAY5lB,IAAI6N,GAAKA,EAAE,EAAvB,EACjBiZ,YAAalB,GAAY5lB,IAAI6N,GAAKA,EAAE,EAAvB,EACbuZ,YAAa,CAJU,IAMlBR,GACN,CAAC/b,EAAM0O,CAAP,CAVI,EAYT,SACG+K,GAAD,CACE,KAAK,YACL,KAAMsC,EACN,QAASI,GACT,UAAW1qB,EAAKnB,EAAW,WAAZ,EAJjB,GAKME,EANR,CASD,CCvCM,SAASgsB,GAAc,CAC5Bxc,OACAvL,eACGgoB,CAHyB,EAIP,CACrB,MAAMC,GAAY1c,iBAAMob,SAAS,GAAGpb,OAAQ,GAC5C,SACGgZ,GAAD,IACMyD,EACJ,UAAU,6BACV,QAAQ7oB,EAAD,CAAO,QAAQ,YAHxB,EAIE,cAAea,EACf,iBAAiB,gCALnB,UAOGA,GAAavE,EAACmpB,OACdqD,EAAUvnB,IAAI,CAACwnB,EAAUrL,MACxB,OAEE,UAAU,yDAFZ,SAIGqL,GAAStV,QACR,OAAK,UAAU,0BAAf,UACEnX,EAAC0sB,GAAD,CAAe,IAAKD,EAAStV,MAA7B,EACAnX,OACE,UAAWuB,EAAKorB,GAAW,WAAZ,EACf,KAAMF,EAAStV,MACf,OAAO,SACP,IAAI,aAJN,SAMGyV,GAAeH,EAAStV,KAAV,EARnB,GADD,EAaCnX,EAAC0D,EAAD,CAAO,QAAQ,qBAjBnB,EAmBE1D,EAACiK,GAAD,CACE,OAAO,UACP,KAAK,KACL,MAAM,UACN,UAAU,gBAJZ,SAMGwiB,EAASplB,MAzBd,EACOolB,IAAStV,OAASiK,CADzB,CADD,CARH,EADF,CAyCD,CC7DD,MAAMyL,EAA0C,CACoB,mBAAmBnjB,EAAK2d,EAAQ,CAC5F,IAAIyF,EAAU,KAAK,QAAQzF,GACtByF,IACDA,EAAUC,GAA0C1F,EAAQ,KAAK,QAAS,KAAK,aAAa,EAC5F,KAAK,QAAQA,GAAUyF,GAE3B,IAAI3mB,EAAS2mB,EAAQpjB,GACrB,GAAI,CAACvD,EAAQ,MAAM,IAAI,MAAM,+BAA+BuD,QAAU2d,UAAe,EACrF,OAAOlhB,CACV,CACD,YAAY6mB,EAAUC,EAAgB,QAAQ,CAE1C,KAAK,QAAU,CACX,GAAGD,CACf,EACQ,KAAK,cAAgBC,CACxB,CACL,CACA,SAASF,GAA0C1F,EAAQyF,EAASG,EAAgB,QAAS,CAEzF,GAAIH,EAAQzF,GAAS,OAAOyF,EAAQzF,GAMpC,IAAI6F,EAAWC,GAAkC9F,CAAM,EACvD,GAAIyF,EAAQI,GAAW,OAAOJ,EAAQI,GACtC,QAAQxjB,KAAOojB,EACX,GAAIpjB,EAAI,WAAWwjB,EAAW,GAAG,EAAG,OAAOJ,EAAQpjB,GAGvD,OAAOojB,EAAQG,EACnB,CACA,SAASE,GAAkC9F,EAAQ,CAE/C,OAAI,KAAK,OACF,IAAI,KAAK,OAAOA,CAAM,EAAE,SACxBA,EAAO,MAAM,GAAG,EAAE,EAC7B,CClCA,SAAS+F,GAAuBzC,EAAG,CACjC,OAAOA,GAAKA,EAAE,WAAaA,EAAE,QAAUA,CACzC,CAEA,IAAI0C,GAA4B,GAC5BC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,2BACT,KAAQ,2BACR,WAAc,uCACd,MAAS,2BACT,IAAO,0DACP,UAAa,6CACb,IAAO,2BACP,WAAc,sCAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,2BACT,KAAQ,iCACR,WAAc,uCACd,MAAS,uCACT,IAAO,6CACP,UAAa,uCACb,IAAO,6CACP,WAAc,8DAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,WACR,WAAc,MACd,MAAS,YACT,IAAO,YACP,UAAa,gBACb,IAAO,kBACP,WAAc,QAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,SACR,WAAc,YACd,MAAS,UACT,IAAO,OACP,UAAa,SACb,IAAO,SACP,WAAc,iBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,QACT,KAAQ,OACR,WAAc,aACd,MAAS,UACT,IAAO,UACP,UAAa,cACb,IAAO,MACP,WAAc,cAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,2BACT,KAAQ,2BACR,WAAc,qEACd,MAAS,6CACT,IAAO,iCACP,UAAa,qEACb,IAAO,6CACP,WAAc,kDAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,IAAO,MACP,WAAc,aACd,UAAa,YACb,WAAc,aACd,IAAO,MACP,MAAS,QACT,KAAQ,OACR,MAAS,OACb,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,QACT,KAAQ,OACR,WAAc,SACd,MAAS,QACT,IAAO,OACP,UAAa,cACb,IAAO,OACP,WAAc,eAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,SACR,WAAc,UACd,MAAS,WACT,IAAO,UACP,UAAa,SACb,IAAO,SACP,WAAc,cAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,QACT,KAAQ,UACR,WAAc,WACd,MAAS,YACT,IAAO,UACP,UAAa,qBACb,IAAO,WACP,WAAc,sBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,QACT,KAAQ,OACR,WAAc,gBACd,MAAS,OACT,IAAO,SACP,UAAa,gBACb,IAAO,QACP,WAAc,YAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,2BACT,KAAQ,2BACR,WAAc,uCACd,MAAS,2BACT,IAAO,2BACP,UAAa,8CACb,IAAO,2BACP,WAAc,gCAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,QACR,WAAc,YACd,MAAS,SACT,IAAO,UACP,UAAa,iBACb,IAAO,SACP,WAAc,iBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,SACR,WAAc,kBACd,MAAS,UACT,IAAO,qBACP,UAAa,mBACb,IAAO,QACP,WAAc,mBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,MACR,WAAc,gBACd,MAAS,QACT,IAAO,cACP,UAAa,gBACb,IAAO,QACP,WAAc,aAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,2BACT,KAAQ,SACR,WAAc,qBACd,MAAS,SACT,IAAO,eACP,UAAa,eACb,IAAO,SACP,WAAc,cAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,eACT,KAAQ,eACR,WAAc,eACd,MAAS,eACT,IAAO,eACP,UAAa,eACb,IAAO,eACP,WAAc,cAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,cACR,WAAc,gBACd,MAAS,aACT,IAAO,YACP,UAAa,iBACb,IAAO,UACP,WAAc,iBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,OACR,WAAc,YACd,MAAS,YACT,IAAO,eACP,UAAa,eACb,IAAO,UACP,WAAc,yBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,SACR,WAAc,YACd,MAAS,WACT,IAAO,YACP,UAAa,SACb,IAAO,SACP,WAAc,SAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,QACR,WAAc,aACd,MAAS,QACT,IAAO,YACP,UAAa,eACb,IAAO,OACP,WAAc,aAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,YACR,WAAc,oBACd,MAAS,UACT,IAAO,cACP,UAAa,uBACb,IAAO,WACP,WAAc,WAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,OACR,WAAc,SACd,MAAS,QACT,IAAO,QACP,UAAa,eACb,IAAO,WACP,WAAc,iBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,OACR,WAAc,eACd,MAAS,QACT,IAAO,aACP,UAAa,YACb,IAAO,WACP,WAAc,iBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,WACR,WAAc,eACd,MAAS,QACT,IAAO,mBACP,UAAa,eACb,IAAO,YACP,WAAc,gBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,iCACT,KAAQ,iCACR,WAAc,6CACd,MAAS,6CACT,IAAO,6CACP,UAAa,2EACb,IAAO,6CACP,WAAc,0EAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,WACR,WAAc,MACd,MAAS,YACT,IAAO,cACP,UAAa,gBACb,IAAO,kBACP,WAAc,gBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,QACR,WAAc,WACd,MAAS,SACT,IAAO,QACP,UAAa,UACb,IAAO,aACP,WAAc,iBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,QACR,WAAc,eACd,MAAS,SACT,IAAO,UACP,UAAa,cACb,IAAO,SACP,WAAc,gBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,WACR,WAAc,aACd,MAAS,WACT,IAAO,QACP,UAAa,UACb,IAAO,UACP,WAAc,YAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,OACT,KAAQ,OACR,WAAc,iBACd,MAAS,aACT,IAAO,MACP,UAAa,qBACb,IAAO,yBACP,WAAc,WAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,iCACT,KAAQ,iCACR,WAAc,+DACd,MAAS,6CACT,IAAO,qBACP,UAAa,2EACb,IAAO,mDACP,WAAc,oEAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,QACT,KAAQ,eACR,WAAc,eACd,MAAS,eACT,IAAO,eACP,UAAa,qBACb,IAAO,eACP,WAAc,oBAClB,EAGA,IAAIC,GAA4B,GAChCA,GAA4B,CACxB,MAAS,QACT,KAAQ,eACR,WAAc,eACd,MAAS,eACT,IAAO,eACP,UAAa,eACb,IAAO,eACP,WAAc,oBAClB,EAGAlC,GAA4B,CACxB,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,GACT,QAASC,G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","names":["DashboardLayoutContext","createContext","useBlockBodyOverflow","useEffect","DashboardLayout","children","leftSidenavStatus","leftSidenav","onLeftSidenavChange","rightSidenavStatus","rightSidenav","onRightSidenavChange","name","leftSidenavCanBeCompact","domProps","isMobile","useMediaQuery","defaultLeftSidenavStatus","useMemo","getFromLocalStorage","setLeftSidenavStatus","useControlledState","rightSidenavStatusDefault","userSelected","_setRightSidenavStatus","setRightSidenavStatus","useCallback","status","setInLocalStorage","shouldShowUnderlay","isMobileMode","_jsx","AnimatePresence","Underlay","DashboardSidenav","className","position","props","useContext","variants","open","display","width","compact","closed","transitionEnd","size","getSize","m","type","duration","e","target","closest","clsx","cloneElement","minWidth","isCompactMode","DashboardContent","MenuOpenIcon","createSvgIcon","DashboardNavbar","hideToggleButton","shouldToggleCompactMode","shouldShowToggle","handleToggle","handleCompactModeToggle","newStatus","Navbar","IconButton","undefined","UnfoldMoreIcon","AddIcon","useCreateWorkspace","form","useMutation","createWorkspace","toast","queryClient","WorkspaceQueryKeys","r","onFormQueryError","NewWorkspaceDialog","useForm","formId","close","useDialogContext","Dialog","DialogHeader","Trans","DialogBody","Form","mutate","getValues","onSuccess","response","workspace","id","FormTextField","_jsxs","DialogFooter","Button","isLoading","fetchWorkspaceWithMembers","workspaceId","useWorkspaceWithMembers","GroupIcon","ChipList","color","radius","selectable","Children","map","chip","isValidElement","Input","React","forwardRef","ref","inputProps","wrapperProps","autoFocus","style","onClick","FocusScope","Avatar","circle","src","getSizeClassName","stringToChipValue","string","ChipFieldInner","fieldRef","useRef","inputRef","useObjectRef","displayWith","v","validateWith","suggestions","inputValue","onInputValueChange","onItemSelected","placeholder","onOpenChange","chipSize","openMenuOnFocus","showEmptyMessage","value","propsValue","defaultValue","onChange","propsOnChange","valueKey","isAsync","allowCustomValue","showDropdownArrow","inputFieldProps","fieldClassNames","getInputFieldClassNames","flexibleHeight","useChipFieldValueState","listboxIsOpen","setListboxIsOpen","useState","loadingIndicator","ProgressCircle","dropdownArrow","KeyboardArrowDownIcon","fieldProps","useField","focusRef","endAdornment","Field","input","current","focus","ListWrapper","ChipInput","items","setItems","displayChipUsing","manager","useFocusManager","removeItem","key","i","findIndex","cr","newItems","splice","item","Chip","errorMessage","image","length","focusPrevious","tabbable","focusLast","setChips","chips","inputClassName","addItems","filter","invalid","listbox","useListbox","clearInputOnItemSelection","isOpen","selectionMode","role","virtualFocus","handleItemSelection","state","activeIndex","setActiveIndex","setIsOpen","setInputValue","refs","listboxId","collection","onInputChange","textValue","option","values","useLayoutEffect","reference","handleTriggerKeyDown","handleListboxKeyboardNavigation","useListboxKeyboardNavigation","handleFocusAndClick","createEventHandler","Listbox","Popover","preventDefault","mergeProps","onPaste","emails","clipboardData","getData","match","selection","window","getSelection","rangeCount","deleteFromDocument","email","autoComplete","autoCorrect","spellCheck","onKeyDown","selectionStart","onFocus","mixedValueToChipValue","propsDefaultValue","handleChange","newValue","ChipField","InviteMembers","other","useInviteMembers","err","ResendInvite","inviteId","useResendInvite","matcher","isEmail","ChangeRole","modelType","member","memberId","apiClient","useChangeRole","removeMember","endpoint","memberType","useRemoveMember","useActiveWorkspaceId","useAuth","user","setWorkspaceId","PersonalWorkspace","LeaveWorkspaceConfirmation","ConfirmationDialog","WorkspaceMembersDialog","data","Manager","can","usePermissions","members","invites","invite","InviteChipField","MemberListItem","model_type","x","opacity","avatar","display_name","MemberDisplayNameAppend","MemberActions","authUser","update","delete","permissions","authMember","find","mb","forEach","permission","is_owner","p","selectedRole","setSelectedRole","role_id","changeRole","isOwner","isCurrentUser","roleSelector","role_name","RoleMenuTrigger","roleId","_Fragment","RemoveMemberButton","trans","useTrans","allEmailsValid","every","description","inviteMembers","useValueLists","workspaceRoles","message","c","DialogTrigger","isConfirmed","CloseIcon","RemoveMemberConfirmation","isDisabled","MenuTrigger","ArrowDropDownIcon","Menu","MenuItem","ResendInviteDialogTrigger","resendInvite","PersonAddIcon","DeleteIcon","updateWorkspace","useUpdateWorkspace","RenameWorkspaceDialog","defaultValues","deleteWorkspace","useDeleteWorkspace","payload","WorkspaceSelector","trigger","propsTrigger","isFetched","isFetching","useUserWorkspaces","activeWorkspace","w","dialog","setDialog","selectorIsOpen","setSelectorIsOpen","hasPermission","defaultTrigger","ButtonBase","default","count","members_count","Fragment","WorkspaceItem","stopPropagation","DialogContainer","isActive","CheckIcon","ManageButton","DeleteWorkspaceConfirmation","owner_id","EditIcon","ExitToAppIcon","useLinkSummary","useQuery","fetchLinkUsage","Meter","ProgressBarBase","InfoIcon","resourceTranslationMap","links","biolinks","link_clicks","link_overlays","custom_pages","custom_domains","link_groups","tracking_pixels","ResourceUsageList","unlimited","Object","entries","label","usage","total","used","FormattedNumber","UsageDetailsTrigger","subscription","subscriptions","planName","product","renewalDate","renews_at","FormattedDate","date","UsageMeter","available","UpgradeButton","isSubscribed","Link","BelinkDashboardSidenav","billing","useSettings","CustomMenu","to","enable","BelinkDashboardLayout","dash_footer","AdHost","Footer","BelinkNavbar","getDefaultGranularity","CalendarDate","min","max","selectedDate","timezone","useUserTimezone","calendarIsOpen","setCalendarIsOpen","closeDialogOnSelection","_a","granularity","toZoned","startOfDay","endOfDay","useCurrentDateTime","now","useDateRangePickerState","isPlaceholder","setIsPlaceholder","_b","setStateValue","internalValue","setInternalValue","completeRange","clear","anchorDate","setAnchorDate","isHighlighting","setIsHighlighting","highlightedRange","setHighlightedRange","calendarDates","setCalendarDates","rangeToCalendarDates","constrainRange","range","start","end","startMax","minDate","endMin","maxDate","setSelectedValue","newRange","dayIsActive","day","isSameDay","dayIsHighlighted","dayIsRangeStart","dayIsRangeEnd","getCellProps","isSameMonth","makeRange","finalRange","toCalendarDate","startOfMonth","endOfMonth","DateRangeIcon","FormattedDateTimeRange","memo","options","preset","dates","formatter","useDateFormatter","DateFormatPresets","format","formatRange","castToDate","shallowEqual","parseAbsolute","toDate","DatePickerField","onBlur","objRef","labelElementType","wrapper","disabled","contains","relatedTarget","createFocusManager","focusFirst","KeyboardArrowLeftIcon","KeyboardArrowRightIcon","CalendarCell","currentMonth","localeCode","useSelectedLocale","dayOfWeek","getDayOfWeek","isHighlighted","isRangeStart","isRangeEnd","dayIsToday","isToday","sameMonth","dateIsInvalid","calendar","getDaysInMonth","CalendarMonth","startDate","isFirst","isLast","weeksInMonth","getWeeksInMonth","monthStart","startOfWeek","CalendarMonthHeader","WeekdayHeader","Array","keys","weekIndex","dayIndex","add","weeks","days","shiftCalendars","direction","newDates","months","subtract","monthFormatter","month","year","era","identifier","isBackwardDisabled","isForwardDisabled","dayFormatter","weekday","index","dateDay","Calendar","visibleMonths","useIsMobileMediaQuery","ArrowRightAltIcon","adjustSegment","part","amount","hours","isPM","setSegment","segmentValue","wasPM","PAGE_STEP","EditableDateSegment","segment","enteredKeys","focusManager","timeZone","parser","NumberParser","maximumFractionDigits","setSegmentValue","resolvedOptions","adjustSegmentValue","backspace","isValidPartialNumber","text","slice","parsed","parse","today","ctrlKey","metaKey","shiftKey","altKey","focusNext","requestSubmit","maxValue","minValue","onInput","amPmFormatter","hour","hour12","am","amDate","Date","setHours","formatToParts","pm","pmDate","toLowerCase","startsWith","numberValue","allowsZero","hourCycle","Number","isNaN","shouldSetValue","String","spinButtonProps","tabIndex","scrollIntoView","block","padStart","minLength","LiteralDateSegment","pointerType","from","getMinimumMonthInYear","getMinimumDayInMonth","DateSegmentList","segmentProps","memoOptions","minute","dateValue","segments","limits","getSegmentLimits","List","padding","dataTestId","ListItem","onSelected","borderRadius","listItemProps","isSelectable","setIsActive","ListItemBase","matches","getUserTimezone","defaultTimezone","getBootstrapData","preferredTimezone","getLocalTimeZone","Now","locale","DateRangePresets","endOfWeek","startOfYear","endOfYear","DatePresetList","onPresetSelected","selectedValue","getRangeValue","useIsTabletMediaQuery","DateRangeDialog","showInlineDatePickerField","isTablet","initialStateRef","hasPlaceholder","footer","dateStyle","Calendars","overflow","InlineDatePickerField","monthDayFormat","ReportDateSelector","compactOnMobile","short","DateSelectorDialog","ChartLayout","title","contentIsFlex","contentClassName","contentRef","ChartLoadingIndicator","LazyChart","lazy","__vitePreload","BaseChart","Suspense","formatReportData","report","firstDatasetLabels","dataset","datasetIndex","datasetItem","itemIndex","shareFirstDatasetLabels","generateDatasetLabels","datum","generateTimeLabels","isoDate","isoEndDate","parseAbsoluteToLocal","endDate","getFormatter","memoize","DateFormatter","a","b","ChartColors","LineChartOptions","parsing","xAxisKey","yAxisKey","datasets","line","fill","tension","pointBorderWidth","pointHitRadius","plugins","tooltip","intersect","mode","LineChart","formattedData","backgroundColor","borderColor","pointBackgroundColor","PolarAreaChartOptions","PolarAreaChart","labels","d","borderWidth","ReferrerChart","layoutProps","dataItems","dataItem","RemoteFavicon","LinkStyle","removeProtocol","$5b160d28a433310d$export$c17fa47878dc55b6","strings","$5b160d28a433310d$var$getStringsForLocale","messages","defaultLocale","language","$5b160d28a433310d$var$getLanguage","$parcel$interopDefault","$7a451c0c6841e6b9$exports","$2d805fd52bb48883$exports","$6c28468dc1df643c$exports","$807554f8230db0ed$exports","$7097f64386f1761c$exports","$bdd847d8beb08799$exports","$a53e00b683950971$exports","$21cdd87e84f28d89$exports","$92fee9698e4d675a$exports","$7ea012e91a5ad3ee$exports","$8460c13bb2d75345$exports","$2a2d5dc14e680587$exports","$9a3f292371bb0589$exports","$4742231a685fa068$exports","$05e247fd2960981e$exports","$a67524a79ccbe190$exports","$a9eefe9d6c8cb7d5$exports","$4a6b836d4f1bfaba$exports","$c950e4b1c482abde$exports","$d10d6b60dc50b438$exports","$371a732b2494f452$exports","$6d042cae6243464b$exports","$d9ab5c2611e0bcd3$exports","$73f77c9902e29ca6$exports","$4f461eb266a95c10$exports","$dc46bea2f2597899$exports","$622bbd6719cc95af$exports","$4da03c1ecd9a9c7d$exports","$edb6b2fe456ed4e8$exports","$264cd81c52b30815$exports","$6f80afde0270dda7$exports","$23a92651c6957668$exports","$0f9b1074d04f4954$exports","$a9cedf75b94e4916$exports","$37cff576474bc8d4$exports","$799cddbef784668f$var$strings","$cBgAy$LocalizedStringDictionary","$799cddbef784668f$export$6e865ea70d7724f","res","$799cddbef784668f$var$RGBColor","$799cddbef784668f$var$HSBColor","$799cddbef784668f$var$HSLColor","$799cddbef784668f$var$Color","channel","xyChannels","xChannel","yChannel","xCh","yCh","zCh","value1","colors","num","$cBgAy$clamp","red","green","blue","brightness","chroma","saturation","hue","$cBgAy$toFixedNumber","lightness","$cBgAy$NumberFormatter","alpha","$799cddbef784668f$var$HSB_REGEX","h","s","n","$799cddbef784668f$var$mod","fn","k","$799cddbef784668f$var$HSL_REGEX","$b335ada08155d9c0$var$MIN_COLOR","$b335ada08155d9c0$var$MAX_COLOR","themeValueToHex","loaderUrl","useGoogleGeoChart","apiKey","analytics","useThemeSelector","geoChartRef","drawGoogleChart","location","seedData","selectedTheme","placeholderRef","initGoogleGeoChart","lazyLoader","GeoChart","metricData","initialData","percentage","BarChart","individualBarColors","isHorizontal","indexAxis","fetchClicksReport","params","ClicksReportCharts","dateRange","model","rowClassName","AsyncChart","clicks","metric","isEnabled","setIsEnabled","query","useClicksReport","metrics","chart","observerRef","el","observer","IntersectionObserver","isIntersecting","disconnect","threshold","observe","ClicksReportPageLayout","actions","setDateRange","StaticPageTitle","AllClicksReportPage","BackendFiltersUrlKey","decodeBackendFilters","encodedFilters","filtersFromQuery","filterValue","filters","transformValue","fm","filterConfig","f","o","pinnedFilters","searchParams","useSearchParams","navigate","useNavigate","decodedFilters","decoded","config","getDecodedWithoutKeys","newFilters","replaceAll","filterValues","encodeBackendFilters","remove","PaginatedResourcesQueryKey","paginateResources","DataTableContext","useDataTable","cellStyle","column","userPadding","justify","finalWidth","rowStyle","isHeader","isSelected","isDarkMode","enableSelection","isCtrlKeyPressed","isMac","useGridNavigation","focusSiblingCell","focusFirstElementAfterGrid","rowCount","cellCount","operations","grid","currentCell","row","rowIndex","cellIndex","_c","_d","rowOpCount","_e","_g","_h","cellOpCount","_i","nextCell","getFocusableTreeWalker","nextFocusableElement","walker","last","next","focusWithoutScrolling","CheckboxCell","selectedRows","toggleRow","selectionStyle","TableContext","Checkbox","includes","TableCell","rowIsHovered","columns","rowContext","isHovered","body","usePointerEvents","useGlobalListeners","onMoveStart","onPointerDown","onLongPress","onMove","addGlobalListener","onPointerMove","onPointerUp","deltaX","deltaY","minimumMovement","longPressTriggered","onMoveEnd","onPress","removeGlobalListener","isCtrlOrShiftPressed","useIsTouchDevice","interactableElements","TableRow","renderAs","selectRow","onAction","onRowContextMenu","isTouchDevice","useIsDarkMode","isRowSelected","setIsHovered","clickedOnInteractable","join","doubleClickHandler","anyRowsSelected","handleRowTap","keyboardHandler","contextMenuHandler","tableRowProps","onDoubleClick","onContextMenu","onPointerEnter","onPointerLeave","RowElement","ArrowDownwardIcon","HeaderCell","sortDescriptor","onSortChange","sortingKey","allowSorting","allowsSorting","orderBy","orderDir","sortActive","ariaSort","toggleSorting","newSort","sortVisible","sortVariants","visible","y","hidden","hideHeader","header","SelectAllCell","onSelectionChange","allRowsSelected","someRowsSelected","Table","hideHeaderRow","propsSelectedRows","defaultSelectedRows","propsDefaultSelectedRows","propsOnSelectionChange","propsSortDescriptor","propsOnSortChange","ariaLabelledBy","renderRowAs","tableBody","meta","newValues","push","indexOf","merge","contextValue","navProps","headerRow","columnIndex","rowRenderer","BasicTableBody","defaultPerPage","perPageOptions","DataTablePaginationFooter","numberFormatter","useNumberFormatter","setParams","pagination","perPageSelect","Select","perPage","Item","prev_page","page","next_page","SearchIcon","FilterAltIcon","BackendFilter","__publicField","FilterOperator","FilterControlType","ALL_PRIMITIVE_OPERATORS","Accordion","variant","expandedValues","setExpandedValues","defaultExpandedValues","onExpandedChange","child","AccordionItem","bodyClassName","startIcon","endAppend","chevronPosition","isExpanded","useId","buttonId","panelId","height","visibility","toggle","newKeys","chevron","SelectFilterPanel","FormSelect","DateRangePicker","hideCalendarIcon","openOnClick","isHourSegment","currentTarget","ariaLabel","FormDateRangePicker","field","fieldState","error","useController","formProps","dateRangeToAbsoluteRange","absoluteRangeToDateRange","absoluteRange","toAbsoluteString","DateFilterPanel","fetchUsers","modelName","modelId","fetchModel","NormalizedModelField","useNormalizedModels","SelectedModelPreview","requestAnimationFrame","ComboBox","results","onEditClick","useNormalizedModel","opacityAnimation","Tooltip","LoadingSkeleton","Skeleton","FormNormalizedModelField","NormalizedModelFilterPanel","FilterOperatorNames","InputFilterPanel","operators","operator","inputType","BooleanFilterPanel","AddFilterDialog","useBackendFilterUrlParams","expandedFilters","setExpandedFilters","FilterList","appliedFilter","defaultOperator","formValue","fieldValue","BooleanToggle","AddFilterDialogPanel","DatePicker","SelectModel","AddFilterButton","DataTableHeader","searchPlaceholder","HeaderLayout","TextField","SelectedStateDataTableHeader","FilterListTriggerButton","isInactive","InactiveFilterButton","ActiveFilterButton","isBoolean","FilterListItemDialogTrigger","onValueChange","FilterListControlDialog","panel","FilterListControl","DatePickerControl","BooleanToggleControl","SelectControl","InputControl","SelectModelControl","valueLabel","operatorLabel","skeleton","modelPreview","handleValueChange","DataTable","queryParams","selectedActions","emptyStateMessage","tableDomProps","onRowAction","setSelectedRows","usePaginatedResources","isFiltering","ProgressBar","descriptor","isPreviousData","DataTablePage","headerContent","headerItemsAlign","dataTableProps","titleId","DataTableAddItemButton","elementType","deleteSelectedRows","ids","useDeleteSelectedRows","DeleteSelectedItemsAction","DataTableEmptyStateMessage","filteringTitle","IllustratedMessage","SvgImage","TimestampFilter","CreatedAtFilter","UpdatedAtFilter","USER_MODEL","LinksDatatableFilters","SettingsIcon","names","useLinkFormValueLists","prefetchLinkFormValueLists","prefetchValueLists","LinkTypeField","branding","site_name","watch","setValue","useFormContext","siteName","pages","overlays","overlay","Switch","useAutoFocus","descriptionId","checked","font","FormSwitch","LockIcon","useDatePickerState","useBaseDatePickerState","showCalendarFooter","FormDatePicker","rules","validate","compare","parsedValue","upgradeSvg","UpgradeDialog","messageSuffix","FeatureLockedDialog","NoPermissionButton","GenericButton","LinkFormSection","upgradeMessage","useLinkFeatureStatus","feature","LinkRestrictionFields","linkName","ScheduleFields","ExpirationClicksField","SwapVertIcon","LinkRetargetingFields","GeoFields","DeviceFields","PlatformFields","FieldsLayout","FormComboBox","countries","country","code","buttonLabel","defaultKey","fields","append","useFieldArray","RemoveButton","PublicIcon","FormChipField","LinkSeoFields","hideTitle","FileUploadProvider","FormImageSelector","AccountTreeIcon","LinkUtmFields","CustomTagsSection","useDefaultCustomDomainHost","allDomains","selectedHost","host","base_url","LinkDomainSelect","selectProps","defaultHost","domains","allow_select","allow_all_option","domain","LinkSettingsForm","defaultExpanded","multipleLinks","hiddenFields","retargeting","LinkOptionsFields","enable_type","pixels","linkCount","hideGroups","hideType","hideEnabled","LinkGroupsField","LinkPixelsField","groups","group","pixel","SlugEditor","suffix","initialValue","onInputBlur","showLinkIcon","pattern","maxLength","hideButton","fullSuffix","isEditing","setIsEditing","handleSubmit","LinkIcon","AliasField","alias_min","alias_max","formState","currentAlias","aliasError","errors","alias","hash","default_host","newAlias","CrupdateLinkForm","onSubmit","showButtonLabelField","clearErrors","min_len","max_len","hideAlias","urlIsValid","long_url","setError","placeholderPassword","buildLinkeableDefaultFormValues","linkeable","defaultUtm","customUtm","defaultUtmTags","rule","buildLinkeablePayload","tag","addUtmAndCustomQueryParams","utm","removeEmptyValuesFromObject","buildLinkPayload","createLink","invalidateQueries","CreateLinkDialog","default_type","verify","isVerifying","useRecaptcha","nanoid","active","geo_rules","device_rules","platform_rules","utm_custom","domain_id","useCreateLink","linkId","updateLink","UpdateLinkDialog","link","buildDefaultFormValues","useUpdateLink","type_id","LinkImage","NameWithAvatar","labelClassName","OverQuotaDialog","resourceName","resource","PermissionAwareButton","action","childProps","dialogIsOpen","setDialogIsOpen","usageKey","camelCaseToSnakeCase","messageType","createMsgType","user_id","event","str","replace","letter","BarChartIcon","linksDatatableColumns","LinkClipboardButton","clicks_count","has_password","expires_at","clicked_at","align","RouterLink","ShareLinkButton","useExportCsv","exportCsv","AddLinkIcon","ExportCsvIcon","url","CsvExportInfoDialog","useCreateMultipleLinks","createLinks","formToPayload","longUrls","CreateMultipleLinksDialog","createMultiple","long_urls","split","some","LinksDatablePage","forCurrentUser","col","userId","with","Actions","shareLink","activeDialog","setActiveDialog","MoreHorizIcon","downloadPath","downloadFileFromUrl","MoveDownIcon","useMoveLinksToGroup","moveLinks","groupId","MoveLinksToGroupDialog","selectedIds","setSelectedIds","paginationButtons","emptyStageMessage","linkSvg","list","LinksList","linkIds","short_url","skeletonCount","LinksSkeleton","_","LinkGroupsLinksDatatablePage","useParams","PageTitle","linkGroup","Breadcrumb","BreadcrumbItem","FileDownloadIcon","DataTableExportCsvButton","ListAltIcon","CrupdateLinkGroupForm","updateLinkGroup","UpdateLinkGroupDialog","rotator","updateGroup","useUpdateLinkGroup","LinkGroupsDatatableColumns","links_count","updated_at","LinkGroupsDatatableFilters","useCreateLinkGroup","createLinkGroup","CreateLinkGroupDialog","createGroup","InfoDialogTriggerIcon","InfoDialogTrigger","dialogSize","LinkGroupsDatatablePage","withCount","InfoTrigger","useLinkGroup","fetchLinkGroup","seedInitialDataFromPaginatedList","LinkGroupClicksReportPage","relative","useLink","fetchLink","LinkClicksReportPage","world","DomainsEmptyStateMessage","BooleanIndicator","useDeleteDomain","deleteDomain","DeleteDomainButton","domainsDatatableColumns","global","DomainsDatatableFilters","isSubdomain","DomainProgressIndicator","InfoStep","stepper","serverIp","Message","record","HostStep","showGlobalField","ConnectDomainStep","Host","Info","ValidationFailed","Finalize","useValidateDomainDns","authorize","ValidationFailedStep","goToNextStep","validationFailReason","subdomain","ErrorMessage","WarningIcon","useAuthorizeDomainConnect","useConnectDomain","connectDomain","useConnectDomainStepper","authorizeDomainConnect","validateDns","setState","startLoading","handleDomainValidation","resolve","handleDomainAuthorization","hasPreviousStep","result","nextStep","validationResult","FinalizeStep","ConnectDomainDialog","StepComponent","getStepComponent","currentStep","goToPreviousStep","step","datatableColumns","DomainsDatatablePage","SupportedTrackingPixels","TuneIcon","HelpOutlineIcon","CrupdatePixelForm","docsUrl","CustomCodeFields","pixelId","createPixel","UpdatePixelDialog","pixel_id","head_code","body_code","updatePixel","useUpdatePixel","TrackingPixelsDatatableColumns","locationTracking","TrackingPixelsDatatableFilters","useCreatePixel","CreatePixelDialog","TrackingPixelsDatablePage","fetchCustomPage","pageId","useCustomPage","TextEditor","PageEditorLayout","allowSlugEditing","fetchStatus","pageIsLoading","reset","FullPageLoader","CustomPageDatatableFilters","dynamicFilters","customPages","types","CustomPageDatatableColumns","slug","articlesSvg","updatePage","LinkPageOptionsTrigger","OptionsDialog","hideFooter","Boolean","hideNavbar","updateOptions","useUpdateLinkPageOptions","actionColumn","columnConfig","LinkPagesDatatablePage","SiteConfigContext","preferencesPopup","ColorIcon","LinkOverlaysDatatableColumns","btn_text","LinkOverlayThemes","LinkOverlayPositions","LinkOverlayColors","LinkOverlaysDatatableFilters","theme","LinkOverlaysDatatablePage","useCreateLinkOverlay","createOverlay","TabContext","Tabs","isLazy","tabsRef","selectedTab","setSelectedTab","defaultSelectedTab","onTabChange","ContextValue","TabLine","setStyle","transform","prevState","offsetWidth","offsetLeft","TabList","center","expand","childrenArray","toArray","Tab","paddingProp","mergedClassname","textColor","TabPanels","panelArray","rendered","TabPanel","setTabIndex","nextNode","MutationObserver","subtree","childList","attributes","attributeFilter","OverlayWebsiteBackground","background","u","assign","arguments","t","prototype","hasOwnProperty","call","apply","ownerDocument","defaultView","self","getBoundingClientRect","touches","left","pageX","pageXOffset","top","pageY","pageYOffset","l","onKey","g","buttons","addEventListener","removeEventListener","nativeEvent","changedTouches","which","keyCode","C","E","H","onTouchStart","onMouseDown","Math","pow","round","L","substring","parseInt","K","I","q","floor","D","toString","S","createElement","T","hsva","F","X","Y","toHsva","equal","fromHsva","V","$","__webpack_nonce__","J","Map","Q","document","has","innerHTML","set","setAttribute","head","appendChild","U","colorModel","defaultColor","W","Z","qe","ke","escape","process","Ie","Oe","prefixed","exec","ColorSwatch","presetButtons","ColorPresets","DefaultPresets","ColorPicker","colorPresets","showInput","setColor","presets","HexColorPicker","newColor","hex","parseColor","HexColorInput","ColorPickerDialog","CrupdateLinkOverlayForm","SaveButton","BackgroundField","ColorField","StyleFields","GeneralFields","OverlayPreview","FloatingLinkOverlay","CreateLinkOverlayPage","btn_link","overlayId","useLinkOverlay","linkOverlayEndpoint","getLinkOverlay","UpdateLinkOverlayPage","isError","PageContent","linkOverlay","updateOverlay","useUpdateLinkOverlay","marketing","BiolinksDatatableColumns","biolink","DomainColumn","BiolinksDatatableFilters","useCreateBiolink","CreateBiolinkDialog","createBiolink","BioLinksDatatablePage","biolinkId","useBiolink","biolinkQueryKey","fetchBiolink","BiolinkClicksReportPage","WidgetsIcon","AnimationIcon","ShortcutIcon","MoreTimeIcon","SectionHelper","useBiolinkEditorStore","create","immer","get","isDirty","biolinkEditorState","useEditorBiolink","useEditorBiolinkId","setEditorBiolink","useUpdateBiolinkContentItem","updateItem","editorPayload","backendPayload","LinkScheduleDialog","activates_at","activationDate","expirationMinDate","positive","InfoSection","parts","LeapLinkDialog","leap_until","LinkThumbnailDialog","LinkAnimationList","LinkAnimationDialog","animation","br","AnimationItem","animationName","isAnimating","setIsAnimating","selectedAnimation","shouldDirty","DragIndicatorIcon","useDetachBiolinkContentItem","detachItem","DetachContentItemButton","droppables","dragMonitors","dragSession","interactableEvent","activeInteraction","setActiveInteraction","domRectToObj","rect","updateRects","targets","entry","useDraggable","optionsRef","draggables","callback","monitor","onDragStart","clickedOnHandle","dragHandleRef","draggable","hidePreview","hideNativeGhostImage","ie","preview","node","notifyMonitors","onDragOver","newRect","removeAllGlobalListeners","emptyImage","readFilesFromDataTransfer","dataTransfer","UploadedFile","getEntries","file","reject","reader","getEntryFile","asyncIterableToArray","iterator","require","alternate","return","flags","Error","sibling","stateNode","charCode","_reactName","_targetInst","isDefaultPrevented","defaultPrevented","returnValue","isPropagationStopped","cancelBubble","persist","isPersistent","eventPhase","bubbles","cancelable","timeStamp","isTrusted","view","detail","z","A","B","screenX","screenY","clientX","clientY","getModifierState","button","fromElement","srcElement","toElement","movementX","movementY","aa","elapsedTime","pseudoElement","ba","ca","da","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Apps","Scroll","MozPrintableKey","ea","fa","Alt","Control","Meta","Shift","ha","ia","fromCharCode","repeat","ja","pointerId","pressure","tangentialPressure","tiltX","tiltY","twist","isPrimary","ka","targetTouches","la","propertyName","ma","wheelDeltaX","wheelDeltaY","wheelDelta","deltaZ","deltaMode","na","N","G","oa","onError","pa","qa","ra","isArray","M","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","Events","sa","ta","ua","va","wa","xa","unstable_act","ya","za","O","_reactInternals","nodeType","tagName","P","render","R","getAttribute","toUpperCase","Aa","_dispatchListeners","_dispatchInstances","Ba","Ca","Set","Da","unstable_batchedUpdates","constructor","release","reactDomTestUtils_production_min","exports","mockTagName","mockImplementation","module","require$$0","Simulate","DROP_ACTIVATE_TIMEOUT","useDroppable","allowEventsOnSelf","fireDragLeave","getDraggable","canDrop","element","dropResult","array","fromIndex","toIndex","clamp","delta","newArray","sortSession","useSortable","dropPosition","getScrollParent","previewVariant","addSortStyles","onSortStart","removeSortStyles","onDropPositionChange","onSortEnd","clearLinePreview","onDragEnd","previousPosition","newPosition","midY","overIndex","addLinePreview","droppable","droppableId","oldIndex","moveItemInArray","sortable","newRects","moveItemInNewArray","rects","oldRect","sortableTarget","draggableProps","droppableProps","transition","side","useSortBiolinkContent","sortContent","content","newIndex","widgetToPin","BiolinkContentItemLayout","updateDialog","actionRow","itemRef","sortDisabled","pinned","sortableProps","linkDialogHiddenFields","LinkContentItem","ActionRow","active_locked","ImageIcon","ClicksButton","clicksReportPath","updateBiolink","hiddenLinkSettingsFields","BiolinkSettingsForm","SettingsForm","updateSettings","useUpdateBiolink","createWidget","widgetId","CrupdateWidgetDialog","widget","widgetListItem","WidgetList","cleanedValues","addWidget","useCrupdateBiolinkWidget","transformedValues","WidgetType","Socials","ImageWidgetDialog","Image","imageThumbnail","textImage","socialsImage","youtubeImage","soundcloudImage","vimeoImage","spotifyImage","twitchImage","tiktokImage","YoutubeWidgetDialog","Youtube","getVideoId","Promise","TextWidgetDialog","Text","SocialsWidgetDialog","SocialsList","social","Icon","icon","TwitchWidgetDialog","Twitch","SoundcloudWidgetDialog","Soundcloud","encodedUrl","encodeURIComponent","embedCode","fetch","then","json","html","div","embedUrl","querySelector","VimeoWidgetDialog","Vimeo","SpotifyWidgetDialog","Spotify","spotifyInfo","TiktokWidgetDialog","Tiktok","SelectWidgetDialog","widgetType","NewWidgetDialogContainer","activeWidget","ArrowUpwardIcon","WidgetContentItem","WidgetRenderer","WidgetRenderers","WidgetDialog","handlePinToTop","pinnedCount","LivePreview","appearance","PhoneSkeleton","BiolinkLayout","FormatColorFillIcon","GradientIcon","BackgroundSelectorButton","buttonProps","BaseColorBg","ColorBackgrounds","ColorBackgroundTab","CustomColorButton","isCustomColor","BaseGradientBg","GradientBackgrounds","ArrowForwardIcon","GradientBackgroundTab","CustomGradientButton","gradient","backgroundImage","isCustomGradient","CustomGradientDialog","setLocalState","angle","colorOne","colorTwo","buildGradientBackground","newState","ColorPickerButton","DirectionButtons","activeStyle","angledFocus","circularFocus","farseeingEyeball","canyonFunnel","looneyLoops","hurricaneAperture","icyExplosion","protrudingSquares","alternatingTriangles","monsteraPatch","confettiDoodles","threadsAhead","launchDay","sprinkle","circuitBoard","nuclearFocalPoint","snow","BaseImageBg","ImageBackgrounds","UploadIcon","BackgroundPositions","cover","bgConfig","backgroundRepeat","backgroundSize","contain","backgroundPosition","BackgroundPositionSelector","imageBgValue","selectedPosition","positionKeyFromValue","RadioGroup","Radio","ImageBackgroundTab","CustomImageTrigger","cssPropsFromBgConfig","backgroundAttachment","imageUrl","CustomImageDialog","appearanceHeaderClassnames","TabMap","BackgroundSelector","activeTab","setActiveTab","h2","TypeSelector","updateAppearance","TypeButton","AvailableVariants","flat","outline","AvailableRadius","rounded","ButtonStyleSelector","btnConfig","StyleSelector","ShadowSelector","selectedVariant","selectedRadius","variantLabel","h3","radiusLabel","AvailableShadows","selectedShadow","shadow","shadowLabel","boxShadow","fontImage","FontSelectorFilters","setFilters","category","useFilter","collator","useCollator","scan","sliceLen","BrowserSafeFonts","chunkSize","resultArray","chunkIndex","useFontSelectorState","currentPage","setCurrentPage","setFilterState","allFonts","filteredFonts","chunkArray","fonts","loadFonts","FontSelectorPagination","FontSelector","FontList","gridClassName","FontListSkeleton","FontButton","family","displayName","fontFamily","useSaveBiolinkAppearance","saveAppearance","ColorInput","startAppend","BiolinkAppearanceEditor","appearanceIsDirty","ColorSelector","currentValue","fontConfig","CommonFontSelector","TabsMap","settings","BiolinkEditorPage","BiolinkEditor","BiolinkEditorHeader","_createElement","tabName","BiolinkContent","activeWidgetDialog","setActiveWidgetDialog","renderedContent","notifySvg","BiolinkItemList","contentItem","ContentItem","AddNewLinkButton","BiolinkSkeleton","SharedDashboardRoutes","path","Navigate","DashboardRoutes","DashboardRouteConfig","AuthRoute","NotFoundPage","useRoutes"],"sources":["../../../common/resources/client/ui/layout/dashboard-layout-context.ts","../../../common/resources/client/utils/hooks/use-block-body-overflow.ts","../../../common/resources/client/ui/layout/dashboard-layout.tsx","../../../common/resources/client/ui/layout/dashboard-sidenav.tsx","../../../common/resources/client/ui/layout/dashboard-content.tsx","../../../common/resources/client/icons/material/MenuOpen.tsx","../../../common/resources/client/ui/layout/dashboard-navbar.tsx","../../../common/resources/client/icons/material/UnfoldMore.tsx","../../../common/resources/client/icons/material/Add.tsx","../../../common/resources/client/workspace/requests/create-workspace.ts","../../../common/resources/client/workspace/new-workspace-dialog.tsx","../../../common/resources/client/workspace/requests/workspace-with-members.ts","../../../common/resources/client/icons/material/Group.tsx","../../../common/resources/client/ui/forms/input-field/chip-field/chip-list.tsx","../../../common/resources/client/ui/forms/input-field/input.tsx","../../../common/resources/client/ui/images/avatar.tsx","../../../common/resources/client/ui/forms/input-field/chip-field/string-to-chip-value.ts","../../../common/resources/client/ui/forms/input-field/chip-field/chip-field.tsx","../../../common/resources/client/workspace/requests/invite-members.ts","../../../common/resources/client/workspace/requests/resend-invite.ts","../../../common/resources/client/utils/string/is-email.ts","../../../common/resources/client/workspace/requests/change-role.ts","../../../common/resources/client/workspace/requests/remove-member.ts","../../../common/resources/client/workspace/leave-workspace-confirmation.tsx","../../../common/resources/client/workspace/workspace-members-dialog.tsx","../../../common/resources/client/icons/material/PersonAdd.tsx","../../../common/resources/client/icons/material/Delete.tsx","../../../common/resources/client/workspace/requests/update-workspace.ts","../../../common/resources/client/workspace/rename-workspace-dialog.tsx","../../../common/resources/client/workspace/requests/delete-workspace.ts","../../../common/resources/client/workspace/workspace-selector.tsx","../../../resources/client/dashboard/layout/sidenav/use-link-summary.ts","../../../common/resources/client/ui/progress/meter.tsx","../../../common/resources/client/icons/material/Info.tsx","../../../resources/client/dashboard/layout/sidenav/resource-usage-list.tsx","../../../resources/client/dashboard/layout/sidenav/usage-details-trigger.tsx","../../../resources/client/dashboard/layout/sidenav/usage-meter.tsx","../../../resources/client/dashboard/layout/sidenav/upgrade-button.tsx","../../../resources/client/dashboard/layout/sidenav/belink-dashboard-sidenav.tsx","../../../resources/client/dashboard/layout/belink-dasbboard-layout.tsx","../../../common/resources/client/ui/forms/input-field/date/utils.ts","../../../common/resources/client/ui/forms/input-field/date/use-base-date-picker-state.ts","../../../common/resources/client/utils/date/start-of-day.ts","../../../common/resources/client/utils/date/end-of-day.ts","../../../common/resources/client/i18n/use-current-date-time.ts","../../../common/resources/client/ui/forms/input-field/date/date-range-picker/use-date-range-picker-state.ts","../../../common/resources/client/icons/material/DateRange.tsx","../../../common/resources/client/i18n/formatted-date-time-range.tsx","../../../common/resources/client/ui/forms/input-field/date/date-range-picker/date-picker-field.tsx","../../../common/resources/client/icons/material/KeyboardArrowLeft.tsx","../../../common/resources/client/icons/material/KeyboardArrowRight.tsx","../../../common/resources/client/ui/forms/input-field/date/calendar/calendar-cell.tsx","../../../common/resources/client/ui/forms/input-field/date/calendar/calendar-month.tsx","../../../common/resources/client/ui/forms/input-field/date/calendar/calendar.tsx","../../../common/resources/client/icons/material/ArrowRightAlt.tsx","../../../common/resources/client/ui/forms/input-field/date/segments/utils/adjust-segment.ts","../../../common/resources/client/ui/forms/input-field/date/segments/utils/set-segment.ts","../../../common/resources/client/ui/forms/input-field/date/segments/utils/page-step.ts","../../../common/resources/client/ui/forms/input-field/date/segments/editable-date-segment.tsx","../../../common/resources/client/ui/forms/input-field/date/segments/literal-segment.tsx","../../../common/resources/client/ui/forms/input-field/date/segments/utils/get-segment-limits.ts","../../../common/resources/client/ui/forms/input-field/date/segments/date-segment-list.tsx","../../../common/resources/client/ui/list/list.tsx","../../../common/resources/client/i18n/get-user-timezone.ts","../../../common/resources/client/ui/forms/input-field/date/date-range-picker/dialog/date-range-presets.ts","../../../common/resources/client/ui/forms/input-field/date/date-range-picker/dialog/date-preset-list.tsx","../../../common/resources/client/utils/hooks/is-tablet-media-query.ts","../../../common/resources/client/ui/forms/input-field/date/date-range-picker/dialog/date-range-dialog.tsx","../../../common/resources/client/admin/analytics/report-date-selector.tsx","../../../common/resources/client/charts/chart-layout.tsx","../../../common/resources/client/charts/chart-loading-indicator.tsx","../../../common/resources/client/charts/base-chart.tsx","../../../common/resources/client/charts/data/format-report-data.ts","../../../common/resources/client/charts/chart-colors.tsx","../../../common/resources/client/charts/line-chart.tsx","../../../common/resources/client/charts/polar-area-chart.tsx","../../../resources/client/dashboard/reports/referrer-chart.tsx","../../../node_modules/@internationalized/string/dist/module.js","../../../node_modules/@react-stately/color/dist/module.js","../../../common/resources/client/ui/themes/utils/theme-value-to-hex.ts","../../../common/resources/client/admin/analytics/geo-chart/use-google-geo-chart.ts","../../../common/resources/client/admin/analytics/geo-chart/geo-chart.tsx","../../../common/resources/client/charts/bar-chart.tsx","../../../resources/client/dashboard/reports/clicks/use-clicks-report.ts","../../../resources/client/dashboard/reports/clicks/clicks-report-charts.tsx","../../../resources/client/dashboard/reports/clicks/clicks-report-page-layout.tsx","../../../resources/client/dashboard/all-clicks-report-page.tsx","../../../common/resources/client/datatable/filters/backend-filters-url-key.ts","../../../common/resources/client/datatable/filters/utils/decode-backend-filters.ts","../../../common/resources/client/datatable/filters/utils/encode-backend-filters.ts","../../../common/resources/client/datatable/filters/backend-filter-url-params.ts","../../../common/resources/client/datatable/requests/paginated-resources.ts","../../../common/resources/client/datatable/page/data-table-context.ts","../../../common/resources/client/ui/tables/table-style.ts","../../../common/resources/client/utils/keybinds/is-ctrl-key-pressed.ts","../../../common/resources/client/ui/tables/navigate-grid.ts","../../../common/resources/client/ui/tables/table-context.ts","../../../common/resources/client/ui/tables/checkbox-cell.tsx","../../../common/resources/client/ui/tables/table-cell.tsx","../../../common/resources/client/ui/interactions/use-pointer-events.ts","../../../common/resources/client/utils/keybinds/is-ctrl-or-shift-pressed.ts","../../../common/resources/client/utils/hooks/is-touch-device.ts","../../../common/resources/client/ui/tables/table-row.tsx","../../../common/resources/client/icons/material/ArrowDownward.tsx","../../../common/resources/client/ui/tables/header-cell.tsx","../../../common/resources/client/ui/tables/select-all-cell.tsx","../../../common/resources/client/ui/tables/table.tsx","../../../common/resources/client/datatable/data-table-pagination-footer.tsx","../../../common/resources/client/icons/material/Search.tsx","../../../common/resources/client/icons/material/FilterAlt.tsx","../../../common/resources/client/datatable/filters/backend-filter.ts","../../../common/resources/client/ui/accordion/accordion.tsx","../../../common/resources/client/datatable/filters/panels/select-filter-panel.tsx","../../../common/resources/client/ui/forms/input-field/date/date-range-picker/date-range-picker.tsx","../../../common/resources/client/ui/forms/input-field/date/date-range-picker/form-date-range-picker.tsx","../../../common/resources/client/datatable/filters/panels/date-filter-panel.tsx","../../../common/resources/client/users/queries/use-normalized-models.ts","../../../common/resources/client/users/queries/use-normalized-model.ts","../../../common/resources/client/ui/forms/normalized-model-field.tsx","../../../common/resources/client/datatable/filters/panels/normalized-model-filter-panel.tsx","../../../common/resources/client/datatable/filters/filter-operator-names.ts","../../../common/resources/client/datatable/filters/panels/input-filter-panel.tsx","../../../common/resources/client/datatable/filters/panels/boolean-filter-panel.tsx","../../../common/resources/client/datatable/filters/add-filter-dialog.tsx","../../../common/resources/client/datatable/filters/add-filter-button.tsx","../../../common/resources/client/datatable/data-table-header.tsx","../../../common/resources/client/datatable/filters/filter-list/filter-list-trigger-button.tsx","../../../common/resources/client/datatable/filters/filter-list/filter-list-item-dialog-trigger.tsx","../../../common/resources/client/datatable/filters/filter-list/filter-list-control.tsx","../../../common/resources/client/datatable/filters/filter-list/filter-list.tsx","../../../common/resources/client/datatable/data-table.tsx","../../../common/resources/client/datatable/page/data-table-page.tsx","../../../common/resources/client/datatable/data-table-add-item-button.tsx","../../../common/resources/client/datatable/requests/delete-selected-rows.ts","../../../common/resources/client/datatable/page/delete-selected-items-action.tsx","../../../common/resources/client/datatable/page/data-table-emty-state-message.tsx","../../../common/resources/client/datatable/filters/timestamp-filters.ts","../../../common/resources/client/auth/user.ts","../../../resources/client/dashboard/links/links-datatable-page/links-datatable-filters.ts","../../../common/resources/client/icons/material/Settings.tsx","../../../resources/client/dashboard/links/requests/use-link-form-value-lists.ts","../../../resources/client/dashboard/links/forms/link-type-field.tsx","../../../common/resources/client/ui/forms/toggle/switch.tsx","../../../common/resources/client/icons/material/Lock.tsx","../../../common/resources/client/ui/forms/input-field/date/date-picker/use-date-picker-state.ts","../../../common/resources/client/ui/forms/input-field/date/date-picker/date-picker.tsx","../../../resources/client/dashboard/upgrade/upgrade.svg","../../../resources/client/dashboard/upgrade/upgrade-dialog.tsx","../../../resources/client/dashboard/upgrade/feature-locked-dialog.tsx","../../../resources/client/dashboard/upgrade/no-permission-button.tsx","../../../resources/client/dashboard/links/forms/link-form-section.tsx","../../../resources/client/dashboard/upgrade/use-link-feature-status.ts","../../../resources/client/dashboard/links/forms/link-restriction-fields.tsx","../../../common/resources/client/icons/material/SwapVert.tsx","../../../resources/client/dashboard/links/forms/link-retargeting-fields.tsx","../../../common/resources/client/icons/material/Public.tsx","../../../common/resources/client/ui/forms/input-field/chip-field/form-chip-field.tsx","../../../resources/client/dashboard/links/forms/link-seo-fields.tsx","../../../common/resources/client/icons/material/AccountTree.tsx","../../../resources/client/dashboard/links/forms/link-utm-fields.tsx","../../../common/resources/client/custom-domains/use-default-custom-domain-host.ts","../../../resources/client/dashboard/links/forms/link-domain-select.tsx","../../../resources/client/dashboard/links/forms/link-settings-form.tsx","../../../common/resources/client/ui/slug-editor.tsx","../../../resources/client/dashboard/links/forms/alias-field.tsx","../../../resources/client/dashboard/links/forms/crupdate-link-form.tsx","../../../resources/client/dashboard/links/utils/build-linkeable-default-form-values.ts","../../../resources/client/dashboard/links/utils/build-linkeable-payload.ts","../../../resources/client/dashboard/links/requests/build-link-payload.ts","../../../resources/client/dashboard/links/requests/use-create-link.ts","../../../resources/client/dashboard/links/dialogs/create-link-dialog.tsx","../../../resources/client/dashboard/links/requests/use-update-link.ts","../../../resources/client/dashboard/links/dialogs/update-link-dialog.tsx","../../../resources/client/dashboard/links/link-image.tsx","../../../common/resources/client/datatable/column-templates/name-with-avatar.tsx","../../../resources/client/dashboard/upgrade/over-quota-dialog.tsx","../../../resources/client/dashboard/upgrade/permission-aware-button.tsx","../../../common/resources/client/icons/material/BarChart.tsx","../../../resources/client/dashboard/links/links-datatable-page/links-datatable-columns.tsx","../../../common/resources/client/datatable/requests/use-export-csv.ts","../../../common/resources/client/icons/material/AddLink.tsx","../../../common/resources/client/datatable/csv-export/export-csv-icon.tsx","../../../common/resources/client/uploads/utils/download-file-from-url.ts","../../../common/resources/client/datatable/csv-export/csv-export-info-dialog.tsx","../../../resources/client/dashboard/links/requests/use-create-multiple-links.ts","../../../resources/client/dashboard/links/dialogs/create-multiple-links-dialog.tsx","../../../resources/client/dashboard/links/links-datatable-page/links-datatable-page.tsx","../../../common/resources/client/icons/material/MoveDown.tsx","../../../resources/client/dashboard/link-groups/link-group-links-datatable-page/requests/use-move-links-to-group.ts","../../../resources/client/dashboard/link-groups/link-group-links-datatable-page/move-links-to-group-dialog.tsx","../../../resources/client/dashboard/link-groups/link-group-links-datatable-page/link-group-links-datatable-page.tsx","../../../common/resources/client/icons/material/FileDownload.tsx","../../../common/resources/client/datatable/csv-export/data-table-export-csv-button.tsx","../../../common/resources/client/icons/material/ListAlt.tsx","../../../resources/client/dashboard/link-groups/link-groups-datatable-page/crupdate/crupdate-link-group-form.tsx","../../../resources/client/dashboard/link-groups/link-groups-datatable-page/requests/use-update-link-group.ts","../../../resources/client/dashboard/link-groups/link-groups-datatable-page/crupdate/update-link-group-dialog.tsx","../../../resources/client/dashboard/link-groups/link-groups-datatable-page/link-groups-datatable-columns.tsx","../../../resources/client/dashboard/link-groups/link-groups-datatable-page/link-groups-datatable-filters.ts","../../../resources/client/dashboard/link-groups/link-groups-datatable-page/requests/use-create-link-group.ts","../../../resources/client/dashboard/link-groups/link-groups-datatable-page/crupdate/create-link-group-dialog.tsx","../../../common/resources/client/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger-icon.tsx","../../../common/resources/client/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger.tsx","../../../resources/client/dashboard/link-groups/link-groups-datatable-page/link-groups-datatable-page.tsx","../../../resources/client/dashboard/link-groups/link-group-links-datatable-page/requests/use-link-group.ts","../../../resources/client/dashboard/link-groups/link-group-clicks-report-page.tsx","../../../resources/client/dashboard/layout/sidenav/use-link.ts","../../../resources/client/dashboard/links/link-clicks-report-page.tsx","../../../common/resources/client/custom-domains/datatable/world.svg","../../../common/resources/client/custom-domains/datatable/domains-empty-state-message.tsx","../../../common/resources/client/datatable/column-templates/boolean-indicator.tsx","../../../common/resources/client/custom-domains/datatable/requests/use-delete-domain.ts","../../../common/resources/client/custom-domains/datatable/delete-domain-button.tsx","../../../common/resources/client/custom-domains/datatable/domains-datatable-columns.tsx","../../../common/resources/client/custom-domains/datatable/domains-datatable-filters.ts","../../../common/resources/client/custom-domains/datatable/connect-domain-dialog/is-subdomain.ts","../../../common/resources/client/custom-domains/datatable/connect-domain-dialog/domain-progress-indicator.tsx","../../../common/resources/client/custom-domains/datatable/connect-domain-dialog/info-step.tsx","../../../common/resources/client/custom-domains/datatable/connect-domain-dialog/host-step.tsx","../../../common/resources/client/custom-domains/datatable/connect-domain-dialog/connect-domain-step.tsx","../../../common/resources/client/custom-domains/datatable/requests/use-validate-domain-dns.ts","../../../common/resources/client/custom-domains/datatable/connect-domain-dialog/validation-failed-step.tsx","../../../common/resources/client/custom-domains/datatable/requests/use-authorize-domain-connect.ts","../../../common/resources/client/custom-domains/datatable/requests/use-connect-domain.ts","../../../common/resources/client/custom-domains/datatable/connect-domain-dialog/use-connect-domain-stepper.ts","../../../common/resources/client/custom-domains/datatable/connect-domain-dialog/finalize-step.tsx","../../../common/resources/client/custom-domains/datatable/connect-domain-dialog/connect-domain-dialog.tsx","../../../resources/client/dashboard/custom-domains/domains-datatable-page.tsx","../../../resources/client/dashboard/tracking-pixels/supported-tracking-pixels.ts","../../../common/resources/client/icons/material/Tune.tsx","../../../common/resources/client/icons/material/HelpOutline.tsx","../../../resources/client/dashboard/tracking-pixels/crupdate-dialog/crupdate-pixel-form.tsx","../../../resources/client/dashboard/tracking-pixels/requests/use-update-pixel.ts","../../../resources/client/dashboard/tracking-pixels/crupdate-dialog/update-pixel-dialog.tsx","../../../resources/client/dashboard/tracking-pixels/tracking-pixels-datatable-columns.tsx","../../../resources/client/dashboard/tracking-pixels/location-tracking.svg","../../../resources/client/dashboard/tracking-pixels/tracking-pixels-datatable-filters.ts","../../../resources/client/dashboard/tracking-pixels/requests/use-create-pixel.ts","../../../resources/client/dashboard/tracking-pixels/crupdate-dialog/create-pixel-dialog.tsx","../../../resources/client/dashboard/tracking-pixels/tracking-pixels-datatable-page.tsx","../../../common/resources/client/admin/custom-pages/editor/requests/use-custom-page.ts","../../../common/resources/client/admin/custom-pages/editor/page-editor-layout.tsx","../../../common/resources/client/admin/custom-pages/custom-page-datatable-filters.tsx","../../../common/resources/client/admin/custom-pages/custom-page-datatable-columns.tsx","../../../common/resources/client/admin/custom-pages/articles.svg","../../../resources/client/dashboard/link-pages/requests/use-update-link-page-options.ts","../../../resources/client/dashboard/link-pages/link-page-options-trigger.tsx","../../../resources/client/dashboard/link-pages/link-pages-datatable-page.tsx","../../../resources/client/dashboard/link-overlays/preferences-popup.svg","../../../common/resources/client/admin/appearance/sections/themes/color-icon.tsx","../../../resources/client/dashboard/link-overlays/link-overlays-datatable-columns.tsx","../../../resources/client/dashboard/link-overlays/crupdate/link-overlay-constants.ts","../../../resources/client/dashboard/link-overlays/link-overlays-datatable-filters.ts","../../../resources/client/dashboard/link-overlays/link-overlays-datatable-page.tsx","../../../resources/client/dashboard/link-overlays/requests/use-create-link-overlay.ts","../../../common/resources/client/ui/tabs/tabs-context.tsx","../../../common/resources/client/ui/tabs/tabs.tsx","../../../common/resources/client/ui/tabs/tab-line.tsx","../../../common/resources/client/ui/tabs/tab-list.tsx","../../../common/resources/client/ui/tabs/tab.tsx","../../../common/resources/client/ui/tabs/tab-panels.tsx","../../../resources/client/dashboard/link-overlays/crupdate/overlay-website-background.tsx","../../../node_modules/react-colorful/dist/index.module.js","../../../common/resources/client/ui/color-picker/color-swatch.tsx","../../../common/resources/client/ui/color-picker/color-presets.ts","../../../common/resources/client/ui/color-picker/color-picker.tsx","../../../common/resources/client/ui/color-picker/color-picker-dialog.tsx","../../../resources/client/dashboard/link-overlays/crupdate/crupdate-link-overlay-form.tsx","../../../resources/client/dashboard/link-overlays/crupdate/create-link-overlay-page.tsx","../../../resources/client/dashboard/link-overlays/requests/use-link-overlay.ts","../../../resources/client/dashboard/link-overlays/requests/use-update-link-overlay.ts","../../../resources/client/dashboard/link-overlays/crupdate/update-link-overlay-page.tsx","../../../resources/client/dashboard/biolink/biolinks-datatable-page/marketing.svg","../../../resources/client/dashboard/biolink/biolinks-datatable-page/biolinks-datatable-columns.tsx","../../../resources/client/dashboard/biolink/biolinks-datatable-page/biolinks-datatable-filters.ts","../../../resources/client/dashboard/biolink/biolinks-datatable-page/requests/use-create-biolink.ts","../../../resources/client/dashboard/biolink/biolinks-datatable-page/crupdate/create-biolink-dialog.tsx","../../../resources/client/dashboard/biolink/biolinks-datatable-page/biolinks-datatable-page.tsx","../../../resources/client/dashboard/biolink/biolinks-datatable-page/requests/use-biolink.ts","../../../resources/client/dashboard/biolink/biolink-clicks-report-page.tsx","../../../common/resources/client/icons/material/Widgets.tsx","../../../common/resources/client/icons/material/Animation.tsx","../../../common/resources/client/icons/material/Shortcut.tsx","../../../common/resources/client/icons/material/MoreTime.tsx","../../../common/resources/client/ui/section-helper.tsx","../../../resources/client/dashboard/biolink/biolink-editor/biolink-editor-store.ts","../../../resources/client/dashboard/biolink/biolink-editor/requests/use-editor-biolink.ts","../../../resources/client/dashboard/biolink/biolink-editor/requests/use-update-biolink-content-item.ts","../../../resources/client/dashboard/biolink/biolink-editor/content/link-content-item/link-schedule-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/link-content-item/leap-link-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/link-content-item/link-thumbnail-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/link-content-item/link-animation-list.ts","../../../resources/client/dashboard/biolink/biolink-editor/content/link-content-item/link-animation-dialog.tsx","../../../common/resources/client/icons/material/DragIndicator.tsx","../../../resources/client/dashboard/biolink/biolink-editor/requests/use-detach-biolink-content-item.ts","../../../resources/client/dashboard/biolink/biolink-editor/content/detach-content-item-button.tsx","../../../common/resources/client/ui/interactions/dnd/drag-state.ts","../../../common/resources/client/ui/interactions/interactable-event.ts","../../../common/resources/client/ui/interactions/active-interaction.ts","../../../common/resources/client/ui/interactions/utils/dom-rect-to-obj.ts","../../../common/resources/client/ui/interactions/dnd/update-rects.ts","../../../common/resources/client/ui/interactions/dnd/use-draggable.ts","../../../common/resources/client/ui/interactions/dnd/read-files-from-data-transfer.ts","../../../common/resources/client/utils/array/async-iterable-to-array.ts","../../../node_modules/react-dom/cjs/react-dom-test-utils.production.min.js","../../../node_modules/react-dom/test-utils.js","../../../common/resources/client/ui/interactions/dnd/use-droppable.ts","../../../common/resources/client/utils/array/move-item-in-array.ts","../../../common/resources/client/utils/array/move-item-in-new-array.ts","../../../common/resources/client/ui/interactions/dnd/use-sortable.ts","../../../resources/client/dashboard/biolink/biolink-editor/requests/use-sort-biolink-content.ts","../../../resources/client/dashboard/biolink/biolink-editor/content/biolink-content-item-layout.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/link-content-item/link-content-item.tsx","../../../resources/client/dashboard/biolink/biolink-editor/requests/use-update-biolink.ts","../../../resources/client/dashboard/biolink/biolink-editor/biolink-settings-form.tsx","../../../resources/client/dashboard/biolink/biolink-editor/requests/use-crupdate-biolink-widget.ts","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/crupdate-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/image-widget/image-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/widget-images/image.png","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/widget-images/text.png","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/widget-images/socials.png","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/widget-images/youtube.png","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/widget-images/soundcloud.png","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/widget-images/vimeo.jpeg","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/widget-images/spotify.png","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/widget-images/twitch.svg","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/widget-images/tiktok.png","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/youtube-widget/youtube-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/text-widget/text-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/socials-widget/socials-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/twitch-widget/twitch-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/soundcloud-widget/soundcloud-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/vimeo-widget/vimeo-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/spotify-widget/spotify-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/tiktok-widget/tiktok-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-list.ts","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/select-widget-dialog.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-selector/new-widget-dialog-container.tsx","../../../common/resources/client/icons/material/ArrowUpward.tsx","../../../resources/client/dashboard/biolink/biolink-editor/content/widgets/widget-content-item.tsx","../../../resources/client/dashboard/biolink/biolink-editor/live-preview.tsx","../../../common/resources/client/icons/material/FormatColorFill.tsx","../../../common/resources/client/icons/material/Gradient.tsx","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/background-selector-button.tsx","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/color-backgrounds.ts","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/color-background-tab.tsx","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/gradient-backgrounds.ts","../../../common/resources/client/icons/material/ArrowForward.tsx","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/gradient-background-tab.tsx","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Angled-Focus.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Circular-Focus.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Farseeing-Eyeball.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Canyon-Funnel.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Looney-Loops.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Hurricane-Aperture.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Icy-Explosion.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Protruding-Squares.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Alternating-Triangles.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Monstera-Patch.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Confetti-Doodles.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Threads-Ahead.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Launch-Day.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Sprinkle.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Circuit-Board.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/nuclear-focalpoint.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/svg-bgs/Snow.svg","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/image-backgrounds.ts","../../../common/resources/client/icons/material/Upload.tsx","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/image-background-tab/background-position-selector.tsx","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/image-background-tab/image-background-tab.tsx","../../../resources/client/dashboard/biolink/biolink-editor/appearance/header-classnames.ts","../../../resources/client/dashboard/biolink/biolink-editor/appearance/background-selector/background-selector.tsx","../../../resources/client/dashboard/biolink/biolink-editor/appearance/button-style-selector.tsx","../../../common/resources/client/ui/font-selector/font.svg","../../../common/resources/client/ui/font-selector/font-selector-filters.tsx","../../../common/resources/client/i18n/use-filter.ts","../../../common/resources/client/ui/font-picker/browser-safe-fonts.ts","../../../common/resources/client/utils/array/chunk-array.ts","../../../common/resources/client/ui/font-selector/font-selector-state.ts","../../../common/resources/client/ui/font-selector/font-selector-pagination.tsx","../../../common/resources/client/ui/font-selector/font-selector.tsx","../../../resources/client/dashboard/biolink/biolink-editor/requests/use-save-biolink-appearance.ts","../../../resources/client/dashboard/biolink/biolink-editor/appearance/color-input.tsx","../../../resources/client/dashboard/biolink/biolink-editor/appearance/biolink-appearance-editor.tsx","../../../resources/client/dashboard/biolink/biolink-editor/biolink-editor-page.tsx","../../../resources/client/dashboard/dashboard-routes.tsx"],"sourcesContent":["import {createContext} from 'react';\n\nexport type DashboardSidenavStatus = 'open' | 'closed' | 'compact';\n\nexport interface DashboardContextValue {\n  leftSidenavStatus: DashboardSidenavStatus;\n  setLeftSidenavStatus: (status: DashboardSidenavStatus) => void;\n  rightSidenavStatus: DashboardSidenavStatus;\n  setRightSidenavStatus: (status: DashboardSidenavStatus) => void;\n  isMobileMode: boolean | null;\n  leftSidenavCanBeCompact?: boolean;\n  name: string;\n}\n\nexport const DashboardLayoutContext = createContext<DashboardContextValue>(\n  null!\n);\n","import {useEffect} from 'react';\n\nexport function useBlockBodyOverflow() {\n  useEffect(() => {\n    document.documentElement.classList.add('no-page-overflow');\n    return () => {\n      document.documentElement.classList.remove('no-page-overflow');\n    };\n  }, []);\n}\n","import {ComponentPropsWithoutRef, useCallback, useMemo} from 'react';\nimport {\n  DashboardLayoutContext,\n  DashboardSidenavStatus,\n} from './dashboard-layout-context';\nimport {Underlay} from '../overlays/underlay';\nimport {AnimatePresence} from 'framer-motion';\nimport {useControlledState} from '@react-stately/utils';\nimport {useMediaQuery} from '../../utils/hooks/use-media-query';\nimport {\n  getFromLocalStorage,\n  setInLocalStorage,\n} from '../../utils/hooks/local-storage';\nimport {useBlockBodyOverflow} from '../../utils/hooks/use-block-body-overflow';\n\ninterface DashboardLayoutProps extends ComponentPropsWithoutRef<'div'> {\n  name: string;\n  leftSidenavCanBeCompact?: boolean;\n  leftSidenavStatus?: DashboardSidenavStatus;\n  onLeftSidenavChange?: (status: DashboardSidenavStatus) => void;\n  rightSidenavStatus?: DashboardSidenavStatus;\n  onRightSidenavChange?: (status: DashboardSidenavStatus) => void;\n}\nexport function DashboardLayout({\n  children,\n  leftSidenavStatus: leftSidenav,\n  onLeftSidenavChange,\n  rightSidenavStatus: rightSidenav,\n  onRightSidenavChange,\n  name,\n  leftSidenavCanBeCompact,\n  ...domProps\n}: DashboardLayoutProps) {\n  useBlockBodyOverflow();\n  const isMobile = useMediaQuery('(max-width: 1024px)');\n\n  const isCompactModeInitially = useMemo(() => {\n    return !name ? false : getFromLocalStorage(`${name}.sidenav.compact`);\n  }, [name]);\n  const defaultLeftSidenavStatus = isCompactModeInitially ? 'compact' : 'open';\n  const [leftSidenavStatus, setLeftSidenavStatus] = useControlledState(\n    leftSidenav,\n    isMobile ? 'closed' : defaultLeftSidenavStatus,\n    onLeftSidenavChange\n  );\n\n  const rightSidenavStatusDefault = useMemo(() => {\n    const userSelected = getFromLocalStorage(\n      `${name}.sidenav.right.position`,\n      'open'\n    );\n    return isMobile ? 'closed' : userSelected;\n  }, [isMobile, name]);\n  const [rightSidenavStatus, _setRightSidenavStatus] = useControlledState(\n    rightSidenav,\n    rightSidenavStatusDefault,\n    onRightSidenavChange\n  );\n  const setRightSidenavStatus = useCallback(\n    (status: DashboardSidenavStatus) => {\n      _setRightSidenavStatus(status);\n      setInLocalStorage(`${name}.sidenav.right.position`, status);\n    },\n    [_setRightSidenavStatus, name]\n  );\n\n  const shouldShowUnderlay =\n    isMobile && (leftSidenavStatus === 'open' || rightSidenavStatus === 'open');\n\n  return (\n    <DashboardLayoutContext.Provider\n      value={{\n        leftSidenavStatus,\n        setLeftSidenavStatus,\n        rightSidenavStatus,\n        setRightSidenavStatus,\n        leftSidenavCanBeCompact,\n        name,\n        isMobileMode: isMobile,\n      }}\n    >\n      <div\n        {...domProps}\n        className=\"dashboard-grid test-overflow h-full relative isolate\"\n      >\n        {children}\n        <AnimatePresence>\n          {shouldShowUnderlay && (\n            <Underlay\n              position=\"fixed\"\n              key=\"dashboard-underlay\"\n              onClick={() => {\n                setLeftSidenavStatus('closed');\n                setRightSidenavStatus('closed');\n              }}\n            />\n          )}\n        </AnimatePresence>\n      </div>\n    </DashboardLayoutContext.Provider>\n  );\n}\n","import clsx from 'clsx';\nimport {m} from 'framer-motion';\nimport {cloneElement, ReactElement, useContext} from 'react';\nimport {DashboardLayoutContext} from './dashboard-layout-context';\n\nexport interface SidenavProps {\n  className?: string;\n  children: ReactElement;\n  position?: 'left' | 'right';\n  size?: 'sm' | 'md' | 'lg';\n}\nexport function DashboardSidenav({\n  className,\n  position,\n  children,\n  ...props\n}: SidenavProps) {\n  const {\n    isMobileMode,\n    leftSidenavStatus,\n    setLeftSidenavStatus,\n    rightSidenavStatus,\n    setRightSidenavStatus,\n  } = useContext(DashboardLayoutContext);\n  const status = position === 'left' ? leftSidenavStatus : rightSidenavStatus;\n\n  const variants = {\n    open: {display: 'flex', width: null as any},\n    compact: {\n      display: 'flex',\n      width: null as any,\n    },\n    closed: {\n      width: 0,\n      transitionEnd: {\n        display: 'none',\n      },\n    },\n  };\n\n  const size = getSize(status === 'compact' ? 'compact' : props.size);\n\n  return (\n    <m.div\n      variants={variants}\n      initial={false}\n      animate={status}\n      transition={{type: 'tween', duration: 0.15}}\n      onClick={e => {\n        // close sidenav when user clicks a link or button on mobile\n        const target = e.target as HTMLElement;\n        if (isMobileMode && (target.closest('button') || target.closest('a'))) {\n          setLeftSidenavStatus('closed');\n          setRightSidenavStatus('closed');\n        }\n      }}\n      className={clsx(\n        className,\n        position === 'left'\n          ? 'dashboard-grid-sidenav-left'\n          : 'dashboard-grid-sidenav-right',\n        'overflow-hidden will-change-[width]',\n        size.width,\n        isMobileMode && 'fixed top-0 bottom-0 z-20 shadow-xl',\n        isMobileMode && position === 'left' && 'left-0',\n        isMobileMode && position === 'right' && 'right-0'\n      )}\n    >\n      {cloneElement(children, {\n        className: clsx(\n          children.props.className,\n          size.minWidth,\n          'h-full',\n          status === 'compact' && 'compact-scrollbar'\n        ),\n        isCompactMode: status === 'compact',\n      })}\n    </m.div>\n  );\n}\n\nfunction getSize(size: SidenavProps['size'] | 'compact') {\n  switch (size) {\n    case 'compact':\n      return {width: 'w-80', minWidth: 'min-w-80'};\n    case 'sm':\n      return {width: 'w-224', minWidth: 'min-w-224'};\n    case 'lg':\n      return {width: 'w-288', minWidth: 'min-w-288'};\n    default:\n      return {width: 'w-240', minWidth: 'min-w-240'};\n  }\n}\n","import {cloneElement, ReactElement} from 'react';\nimport clsx from 'clsx';\n\ninterface DashboardContentProps {\n  children: ReactElement<{className: string}>;\n}\nexport function DashboardContent({children}: DashboardContentProps) {\n  return cloneElement(children, {\n    className: clsx(\n      children.props.className,\n      'dashboard-grid-content overflow-y-auto'\n    ),\n  });\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const MenuOpenIcon = createSvgIcon(\n  <path d=\"M3 18h13v-2H3v2zm0-5h10v-2H3v2zm0-7v2h13V6H3zm18 9.59L17.42 12 21 8.41 19.59 7l-5 5 5 5L21 15.59z\" />\n, 'MenuOpenOutlined');\n","import {Navbar, NavbarProps} from '../navigation/navbar/navbar';\nimport {IconButton} from '../buttons/icon-button';\nimport React, {useContext} from 'react';\nimport clsx from 'clsx';\nimport {DashboardLayoutContext} from './dashboard-layout-context';\nimport {setInLocalStorage} from '../../utils/hooks/local-storage';\nimport {MenuOpenIcon} from '@common/icons/material/MenuOpen';\n\nexport interface DashboardNavbarProps\n  extends Omit<NavbarProps, 'toggleButton'> {\n  hideToggleButton?: boolean;\n}\nexport function DashboardNavbar({\n  children,\n  className,\n  hideToggleButton,\n  ...props\n}: DashboardNavbarProps) {\n  const {\n    isMobileMode,\n    leftSidenavStatus,\n    setLeftSidenavStatus,\n    name,\n    leftSidenavCanBeCompact,\n  } = useContext(DashboardLayoutContext);\n\n  const shouldToggleCompactMode = leftSidenavCanBeCompact && !isMobileMode;\n  const shouldShowToggle =\n    !hideToggleButton && (isMobileMode || leftSidenavCanBeCompact);\n\n  const handleToggle = () => {\n    setLeftSidenavStatus(leftSidenavStatus === 'open' ? 'closed' : 'open');\n  };\n\n  const handleCompactModeToggle = () => {\n    const newStatus = leftSidenavStatus === 'compact' ? 'open' : 'compact';\n    setInLocalStorage(`${name}.sidenav.compact`, newStatus === 'compact');\n    setLeftSidenavStatus(newStatus);\n  };\n\n  return (\n    <Navbar\n      className={clsx('dashboard-grid-navbar', className)}\n      border=\"border-b\"\n      size=\"sm\"\n      color=\"primary\"\n      darkModeColor=\"bg-alt\"\n      toggleButton={\n        shouldShowToggle ? (\n          <IconButton\n            size=\"md\"\n            onClick={() => {\n              if (shouldToggleCompactMode) {\n                handleCompactModeToggle();\n              } else {\n                handleToggle();\n              }\n            }}\n          >\n            <MenuOpenIcon />\n          </IconButton>\n        ) : undefined\n      }\n      {...props}\n    >\n      {children}\n    </Navbar>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const UnfoldMoreIcon = createSvgIcon(\n  <path d=\"M12 5.83 15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z\" />\n, 'UnfoldMoreOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const AddIcon = createSvgIcon(\n  <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\" />\n, 'AddOutlined');\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {toast} from '../../ui/toast/toast';\nimport {apiClient, queryClient} from '../../http/query-client';\nimport {WorkspaceQueryKeys} from './workspace-query-keys';\nimport {Workspace} from '../types/workspace';\nimport {onFormQueryError} from '../../errors/on-form-query-error';\nimport {message} from '../../i18n/message';\n\ninterface Response extends BackendResponse {\n  workspace: Workspace;\n}\n\ninterface Props {\n  name: string;\n}\n\nexport function useCreateWorkspace(form: UseFormReturn<Props>) {\n  return useMutation((props: Props) => createWorkspace(props), {\n    onSuccess: () => {\n      toast(message('Created workspace'));\n      queryClient.invalidateQueries(WorkspaceQueryKeys.fetchUserWorkspaces);\n    },\n    onError: r => onFormQueryError(r, form),\n  });\n}\n\nfunction createWorkspace(props: Props): Promise<Response> {\n  return apiClient.post('workspace', props).then(r => r.data);\n}\n","import {useForm} from 'react-hook-form';\nimport {FormTextField} from '../ui/forms/input-field/text-field/text-field';\nimport {Form} from '../ui/forms/form';\nimport {Button} from '../ui/buttons/button';\nimport {useCreateWorkspace} from './requests/create-workspace';\nimport {DialogFooter} from '../ui/overlays/dialog/dialog-footer';\nimport {useDialogContext} from '../ui/overlays/dialog/dialog-context';\nimport {Dialog} from '../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '../ui/overlays/dialog/dialog-body';\nimport {Trans} from '../i18n/trans';\n\nexport function NewWorkspaceDialog() {\n  const form = useForm<{name: string}>();\n  const {formId, close} = useDialogContext();\n  const createWorkspace = useCreateWorkspace(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Create workspace\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={() => {\n            createWorkspace.mutate(form.getValues(), {\n              onSuccess: response => {\n                close(response.workspace.id);\n              },\n            });\n          }}\n        >\n          <FormTextField\n            name=\"name\"\n            autoFocus\n            label={<Trans message=\"Workspace name\" />}\n            minLength={3}\n            required\n          />\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button variant=\"text\" onClick={close}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={createWorkspace.isLoading}\n        >\n          <Trans message=\"Create\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {WorkspaceQueryKeys} from './workspace-query-keys';\nimport {Workspace} from '../types/workspace';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {apiClient} from '../../http/query-client';\n\nexport interface FetchWorkspaceWithMembersResponse extends BackendResponse {\n  workspace: Workspace;\n}\n\nfunction fetchWorkspaceWithMembers(\n  workspaceId: number\n): Promise<FetchWorkspaceWithMembersResponse> {\n  return apiClient\n    .get(`workspace/${workspaceId}`)\n    .then(response => response.data);\n}\n\nexport function useWorkspaceWithMembers(workspaceId: number) {\n  return useQuery(WorkspaceQueryKeys.workspaceWithMembers(workspaceId), () =>\n    fetchWorkspaceWithMembers(workspaceId)\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const GroupIcon = createSvgIcon(\n  <path d=\"M9 13.75c-2.34 0-7 1.17-7 3.5V19h14v-1.75c0-2.33-4.66-3.5-7-3.5zM4.34 17c.84-.58 2.87-1.25 4.66-1.25s3.82.67 4.66 1.25H4.34zM9 12c1.93 0 3.5-1.57 3.5-3.5S10.93 5 9 5 5.5 6.57 5.5 8.5 7.07 12 9 12zm0-5c.83 0 1.5.67 1.5 1.5S9.83 10 9 10s-1.5-.67-1.5-1.5S8.17 7 9 7zm7.04 6.81c1.16.84 1.96 1.96 1.96 3.44V19h4v-1.75c0-2.02-3.5-3.17-5.96-3.44zM15 12c1.93 0 3.5-1.57 3.5-3.5S16.93 5 15 5c-.54 0-1.04.13-1.5.35.63.89 1 1.98 1 3.15s-.37 2.26-1 3.15c.46.22.96.35 1.5.35z\" />\n, 'GroupOutlined');\n","import React, {Children, cloneElement, isValidElement, ReactElement} from 'react';\nimport clsx from 'clsx';\nimport type {ChipProps} from './chip';\n\ninterface ChipListProps {\n  className?: string;\n  children?: ReactElement | ReactElement[];\n  size?: ChipProps['size'];\n  radius?: ChipProps['radius'];\n  color?: ChipProps['color'];\n  selectable?: ChipProps['selectable'];\n}\nexport function ChipList({\n  className,\n  children,\n  size,\n  color,\n  radius,\n  selectable,\n}: ChipListProps) {\n  return (\n    <div className={clsx(className, 'flex items-center gap-8 flex-wrap')}>\n      {Children.map(children, chip => {\n        if (isValidElement<ChipProps>(chip)) {\n          return cloneElement<ChipProps>(chip, {\n            size,\n            color,\n            selectable,\n            radius,\n          });\n        }\n      })}\n    </div>\n  );\n}\n","import {FocusScope} from '@react-aria/focus';\nimport React, {ComponentPropsWithoutRef, CSSProperties, ReactNode} from 'react';\nimport clsx from 'clsx';\n\ninterface InputProps {\n  className?: string;\n  children: ReactNode;\n  autoFocus?: boolean;\n  disabled?: boolean;\n  style?: CSSProperties;\n  inputProps?: ComponentPropsWithoutRef<'div'>;\n  wrapperProps?: ComponentPropsWithoutRef<'div'>;\n  onClick?: React.MouseEventHandler<HTMLDivElement>;\n}\n\nexport const Input = React.forwardRef<HTMLDivElement, InputProps>(\n  (props, ref) => {\n    const {\n      children,\n      inputProps,\n      wrapperProps,\n      className,\n      autoFocus,\n      style,\n      onClick,\n    } = props;\n\n    return (\n      <div {...wrapperProps} onClick={onClick}>\n        <div\n          {...inputProps}\n          role=\"group\"\n          className={clsx(\n            className,\n            'flex items-center focus-within:ring focus-within:ring-primary/focus focus-within:border-primary/60'\n          )}\n          ref={ref}\n          style={style}\n        >\n          <FocusScope autoFocus={autoFocus}>{children}</FocusScope>\n        </div>\n      </div>\n    );\n  }\n);\n","import clsx from 'clsx';\nimport {ComponentPropsWithoutRef, forwardRef} from 'react';\n\ntype Size = 'xs' | 'sm' | 'md';\n\ninterface Props extends ComponentPropsWithoutRef<'img'> {\n  className?: string;\n  src?: string;\n  circle?: boolean;\n  size?: Size;\n}\n\nexport const Avatar = forwardRef<HTMLImageElement, Props>(\n  ({className, circle, size = 'md', src, ...domProps}, ref) => {\n    return (\n      <img\n        ref={ref}\n        src={src}\n        alt=\"\"\n        className={clsx(\n          'object-cover',\n          className,\n          getSizeClassName(size),\n          circle ? 'rounded-full' : 'rounded'\n        )}\n        {...domProps}\n      />\n    );\n  }\n);\n\nfunction getSizeClassName(size: Size) {\n  switch (size) {\n    case 'xs':\n      return 'w-18 h-18';\n    case 'sm':\n      return 'w-24 h-24';\n    case 'md':\n      return 'w-32 h-32';\n    // allow overriding with custom classNames\n    default:\n      return size;\n  }\n}\n","import {ChipValue} from './chip-field';\n\nexport function stringToChipValue(string: string | number): ChipValue {\n  // add both name and description so \"validateWith\" works properly in chip field, if it depends on description\n  return {id: string, name: `${string}`, description: `${string}`};\n}\n","import React, {\n  HTMLAttributes,\n  Key,\n  ReactElement,\n  ReactNode,\n  Ref,\n  RefObject,\n  useCallback,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport {useFocusManager} from '@react-aria/focus';\nimport clsx from 'clsx';\nimport {mergeProps, useLayoutEffect, useObjectRef} from '@react-aria/utils';\nimport {useControlledState} from '@react-stately/utils';\nimport {ChipList} from './chip-list';\nimport {Field} from '../field';\nimport {Input} from '../input';\nimport {Chip, ChipProps} from './chip';\nimport {NormalizedModel} from '../../../../datatable/filters/normalized-model';\nimport {getInputFieldClassNames} from '../get-input-field-class-names';\nimport {ProgressCircle} from '../../../progress/progress-circle';\nimport {useField} from '../use-field';\nimport {Avatar} from '../../../images/avatar';\nimport {Listbox} from '../../listbox/listbox';\nimport {useListbox} from '../../listbox/use-listbox';\nimport {BaseFieldPropsWithDom} from '../base-field-props';\nimport {useListboxKeyboardNavigation} from '../../listbox/use-listbox-keyboard-navigation';\nimport {createEventHandler} from '../../../../utils/dom/create-event-handler';\nimport {ListBoxChildren, ListboxProps} from '../../listbox/types';\nimport {stringToChipValue} from './string-to-chip-value';\nimport {Popover} from '../../../overlays/popover';\nimport {KeyboardArrowDownIcon} from '../../../../icons/material/KeyboardArrowDown';\n\nexport interface ChipValue extends Omit<NormalizedModel, 'model_type'> {\n  invalid?: boolean;\n  errorMessage?: string;\n}\n\nexport type ChipFieldProps<T> = Omit<\n  ListboxProps,\n  'selectionMode' | 'displayWith'\n> &\n  Omit<\n    BaseFieldPropsWithDom<HTMLInputElement>,\n    'value' | 'onChange' | 'defaultValue'\n  > & {\n    value?: (ChipValue | string)[];\n    defaultValue?: (ChipValue | string)[];\n    displayWith?: (value: ChipValue) => ReactNode;\n    validateWith?: (value: ChipValue) => ChipValue;\n    allowCustomValue?: boolean;\n    showDropdownArrow?: boolean;\n    onChange?: (value: ChipValue[]) => void;\n    suggestions?: T[];\n    children?: ListBoxChildren<T>['children'];\n    placeholder?: string;\n    chipSize?: ChipProps['size'];\n    openMenuOnFocus?: boolean;\n    valueKey?: 'id' | 'name';\n  };\n\nfunction ChipFieldInner<T>(\n  props: ChipFieldProps<T>,\n  ref: Ref<HTMLInputElement>\n) {\n  const fieldRef = useRef<HTMLDivElement>(null);\n  const inputRef = useObjectRef(ref);\n  const {\n    displayWith = v => v.name,\n    validateWith,\n    children,\n    suggestions,\n    isLoading,\n    inputValue,\n    onInputValueChange,\n    onItemSelected,\n    placeholder,\n    onOpenChange,\n    chipSize = 'md',\n    openMenuOnFocus = true,\n    showEmptyMessage,\n    value: propsValue,\n    defaultValue,\n    onChange: propsOnChange,\n    valueKey,\n    isAsync,\n    allowCustomValue = true,\n    showDropdownArrow,\n    ...inputFieldProps\n  } = props;\n  const fieldClassNames = getInputFieldClassNames({\n    ...props,\n    flexibleHeight: true,\n  });\n\n  const [value, onChange] = useChipFieldValueState(props);\n\n  const [listboxIsOpen, setListboxIsOpen] = useState(false);\n\n  const loadingIndicator = (\n    <ProgressCircle isIndeterminate size=\"sm\" aria-label=\"loading...\" />\n  );\n\n  const dropdownArrow = showDropdownArrow ? <KeyboardArrowDownIcon /> : null;\n\n  const {fieldProps, inputProps} = useField({\n    ...inputFieldProps,\n    focusRef: inputRef,\n    endAdornment: isLoading && listboxIsOpen ? loadingIndicator : dropdownArrow,\n  });\n\n  return (\n    <Field fieldClassNames={fieldClassNames} {...fieldProps}>\n      <Input\n        ref={fieldRef}\n        className={clsx('flex items-center flex-wrap', fieldClassNames.input)}\n        onClick={() => {\n          // refocus input when clicking outside it, but while still inside chip field\n          inputRef.current?.focus();\n        }}\n      >\n        <ListWrapper\n          displayChipUsing={displayWith}\n          items={value}\n          setItems={onChange}\n          chipSize={chipSize}\n        />\n        <ChipInput\n          showEmptyMessage={showEmptyMessage}\n          inputProps={inputProps}\n          inputValue={inputValue}\n          onInputValueChange={onInputValueChange}\n          fieldRef={fieldRef}\n          inputRef={inputRef}\n          chips={value}\n          setChips={onChange}\n          validateWith={validateWith}\n          isLoading={isLoading}\n          suggestions={suggestions}\n          placeholder={placeholder}\n          openMenuOnFocus={openMenuOnFocus}\n          listboxIsOpen={listboxIsOpen}\n          setListboxIsOpen={setListboxIsOpen}\n          allowCustomValue={allowCustomValue}\n        >\n          {children}\n        </ChipInput>\n      </Input>\n    </Field>\n  );\n}\n\ninterface ListWrapperProps {\n  items: ChipValue[];\n  setItems: (items: ChipValue[]) => void;\n  displayChipUsing: (value: ChipValue) => ReactNode;\n  chipSize?: ChipProps['size'];\n}\nfunction ListWrapper({\n  items,\n  setItems,\n  displayChipUsing,\n  chipSize,\n}: ListWrapperProps) {\n  const manager = useFocusManager();\n  const removeItem = useCallback(\n    (key: Key) => {\n      const i = items.findIndex(cr => cr.id === key);\n      const newItems = [...items];\n      if (i > -1) {\n        newItems.splice(i, 1);\n        setItems(newItems);\n      }\n      return newItems;\n    },\n    [items, setItems]\n  );\n\n  return (\n    <ChipList\n      className=\"flex-shrink-0 flex-wrap max-w-full my-8\"\n      size={chipSize}\n      selectable\n    >\n      {items.map(item => (\n        <Chip\n          key={item.id}\n          errorMessage={item.errorMessage}\n          adornment={item.image ? <Avatar circle src={item.image} /> : null}\n          onRemove={() => {\n            const newItems = removeItem(item.id);\n            if (newItems.length) {\n              // focus previous chip\n              manager.focusPrevious({tabbable: true});\n            } else {\n              // focus input\n              manager.focusLast();\n            }\n          }}\n        >\n          {displayChipUsing(item)}\n        </Chip>\n      ))}\n    </ChipList>\n  );\n}\n\ninterface ChipInputProps<T> {\n  showEmptyMessage?: boolean;\n  inputProps: ReturnType<typeof useField>['inputProps'];\n  inputValue?: string;\n  onInputValueChange?: (value: string) => void;\n  fieldRef: RefObject<HTMLDivElement>;\n  inputRef: RefObject<HTMLInputElement>;\n  chips: ChipValue[];\n  setChips: (items: ChipValue[]) => void;\n  validateWith?: (value: ChipValue) => ChipValue;\n  isLoading?: boolean;\n  suggestions?: T[];\n  placeholder?: string;\n  openMenuOnFocus?: boolean;\n  listboxIsOpen: boolean;\n  setListboxIsOpen: (value: boolean) => void;\n  allowCustomValue: boolean;\n  children: ListBoxChildren<T>['children'];\n}\nfunction ChipInput<T>(props: ChipInputProps<T>) {\n  const {\n    inputRef,\n    fieldRef,\n    validateWith,\n    setChips,\n    chips,\n    suggestions,\n    inputProps,\n    placeholder,\n    openMenuOnFocus,\n    listboxIsOpen,\n    setListboxIsOpen,\n    allowCustomValue,\n  } = props;\n  const inputClassName = 'outline-none text-sm mx-8 my-4 h-30 flex-auto';\n  const manager = useFocusManager();\n\n  const addItems = useCallback(\n    (items?: ChipValue[]) => {\n      items = (items || []).filter(item => {\n        const invalid = !item || !item.id || !item.name;\n        const alreadyExists = chips.findIndex(cr => cr.id === item?.id) > -1;\n        return !alreadyExists && !invalid;\n      });\n      if (!items.length) return;\n\n      if (validateWith) {\n        items = items.map(item => validateWith(item));\n      }\n      setChips([...chips, ...items]);\n    },\n    [chips, setChips, validateWith]\n  );\n\n  const listbox = useListbox<T>({\n    ...props,\n    clearInputOnItemSelection: true,\n    isOpen: listboxIsOpen,\n    onOpenChange: setListboxIsOpen,\n    items: suggestions,\n    selectionMode: 'none',\n    role: 'listbox',\n    virtualFocus: true,\n    onItemSelected: value => {\n      handleItemSelection(value as string);\n    },\n  });\n\n  const {\n    state: {\n      activeIndex,\n      setActiveIndex,\n      isOpen,\n      setIsOpen,\n      inputValue,\n      setInputValue,\n    },\n    refs,\n    listboxId,\n    collection,\n    onInputChange,\n  } = listbox;\n\n  const handleItemSelection = (textValue: string) => {\n    const option =\n      collection.size && activeIndex != null\n        ? [...collection.values()][activeIndex]\n        : null;\n    if (option?.item) {\n      addItems([option.item]);\n    } else if (allowCustomValue) {\n      addItems([stringToChipValue(option ? option.value : textValue)]);\n    }\n\n    setInputValue('');\n    setActiveIndex(null);\n    setIsOpen(false);\n  };\n\n  // position dropdown relative to whole chip field, not the input\n  useLayoutEffect(() => {\n    if (fieldRef.current && refs.reference.current !== fieldRef.current) {\n      listbox.reference(fieldRef.current);\n    }\n  }, [fieldRef, listbox, refs]);\n\n  const {handleTriggerKeyDown, handleListboxKeyboardNavigation} =\n    useListboxKeyboardNavigation(listbox);\n\n  const handleFocusAndClick = createEventHandler(() => {\n    if (openMenuOnFocus && !isOpen) {\n      setIsOpen(true);\n    }\n  });\n\n  return (\n    <Listbox\n      listbox={listbox}\n      mobileOverlay={Popover}\n      onPointerDown={e => {\n        // prevent focus from leaving input when scrolling listbox via mouse\n        e.preventDefault();\n      }}\n    >\n      <input\n        type=\"text\"\n        className={clsx(inputClassName, 'bg-transparent')}\n        placeholder={placeholder}\n        {...mergeProps(inputProps, {\n          ref: inputRef,\n          value: inputValue,\n          onChange: onInputChange,\n          onPaste: e => {\n            const paste = e.clipboardData.getData('text');\n            const emails = paste.match(\n              /([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\\.[a-zA-Z0-9._-]+)/gi\n            );\n            if (emails) {\n              e.preventDefault();\n              const selection = window.getSelection();\n              if (selection?.rangeCount) {\n                selection.deleteFromDocument();\n                addItems(emails.map(email => stringToChipValue(email)));\n              }\n            }\n          },\n          'aria-autocomplete': 'list',\n          'aria-controls': isOpen ? listboxId : undefined,\n          autoComplete: 'off',\n          autoCorrect: 'off',\n          spellCheck: 'false',\n          onKeyDown: e => {\n            const input = e.target as HTMLInputElement;\n\n            if (e.key === 'Enter') {\n              // prevent form submitting\n              e.preventDefault();\n              // add chip from selected listbox option or current input text value\n              handleItemSelection(input.value);\n              return;\n            }\n\n            // on escape, clear input and close dropdown\n            if (e.key === 'Escape' && isOpen) {\n              setIsOpen(false);\n              setInputValue('');\n            }\n\n            // move focus to input when focus is on first item and prevent arrow up from cycling listbox\n            if (\n              e.key === 'ArrowUp' &&\n              isOpen &&\n              (activeIndex === 0 || activeIndex == null)\n            ) {\n              setActiveIndex(null);\n              return;\n            }\n\n            // block left and right arrows from navigating in input, if focus is on listbox\n            if (\n              activeIndex != null &&\n              (e.key === 'ArrowLeft' || e.key === 'ArrowRight')\n            ) {\n              e.preventDefault();\n              return;\n            }\n\n            // move focus on the last chip, if focus is at the  start of input\n            if (\n              (e.key === 'ArrowLeft' ||\n                e.key === 'Backspace' ||\n                e.key === 'Delete') &&\n              input.selectionStart === 0 &&\n              activeIndex == null &&\n              chips.length\n            ) {\n              manager.focusPrevious({tabbable: true});\n              return;\n            }\n\n            // fallthrough to listbox navigation handlers for arrow keys\n            const handled = handleTriggerKeyDown(e);\n            if (!handled) {\n              handleListboxKeyboardNavigation(e);\n            }\n          },\n          onFocus: handleFocusAndClick,\n          onClick: handleFocusAndClick,\n        } as HTMLAttributes<HTMLInputElement>)}\n      />\n    </Listbox>\n  );\n}\n\nfunction useChipFieldValueState({\n  onChange,\n  value,\n  defaultValue,\n  valueKey,\n}: ChipFieldProps<any>) {\n  // convert value from string[] to ChipValue[], if needed\n  const propsValue = useMemo(() => {\n    return mixedValueToChipValue(value);\n  }, [value]);\n\n  // convert defaultValue from string[] to ChipValue[], if needed\n  const propsDefaultValue = useMemo(() => {\n    return mixedValueToChipValue(defaultValue);\n  }, [defaultValue]);\n\n  // emit string[] or ChipValue[] on change, based on \"valueKey\" prop\n  const handleChange = useCallback(\n    (value: ChipValue[]) => {\n      const newValue = valueKey ? value.map(v => v[valueKey]) : value;\n      onChange?.(newValue as any);\n    },\n    [onChange, valueKey]\n  );\n\n  return useControlledState<ChipValue[]>(\n    !propsValue ? undefined : propsValue,\n    propsDefaultValue || [],\n    handleChange\n  );\n}\n\nfunction mixedValueToChipValue(\n  value?: (string | number | ChipValue)[] | null\n): ChipValue[] | undefined {\n  if (value == null) {\n    return undefined;\n  }\n  if (typeof value[0] !== 'object') {\n    return value.map(v => stringToChipValue(v as string));\n  }\n  return value as ChipValue[];\n}\n\nexport const ChipField = React.forwardRef(ChipFieldInner) as <T>(\n  props: ChipFieldProps<T> & {ref?: Ref<HTMLInputElement>}\n) => ReactElement;\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '../../http/query-client';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {WorkspaceInvite} from '../types/workspace-invite';\nimport {WorkspaceQueryKeys} from './workspace-query-keys';\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {\n  invites: WorkspaceInvite[];\n}\n\ninterface Props {\n  workspaceId: number;\n  emails: string[];\n  roleId: number;\n}\n\nfunction InviteMembers({workspaceId, ...other}: Props): Promise<Response> {\n  return apiClient\n    .post(`workspace/${workspaceId}/invite`, other)\n    .then(r => r.data);\n}\n\nexport function useInviteMembers() {\n  return useMutation((props: Props) => InviteMembers(props), {\n    onSuccess: (response, props) => {\n      queryClient.invalidateQueries(\n        WorkspaceQueryKeys.workspaceWithMembers(props.workspaceId)\n      );\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {WorkspaceInvite} from '../types/workspace-invite';\nimport {toast} from '../../ui/toast/toast';\nimport {apiClient} from '../../http/query-client';\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {\n  invite: WorkspaceInvite;\n}\n\ninterface Props {\n  workspaceId: number;\n  inviteId: string;\n}\n\nfunction ResendInvite({\n  workspaceId,\n  inviteId,\n  ...other\n}: Props): Promise<Response> {\n  return apiClient\n    .post(`workspace/${workspaceId}/${inviteId}/resend`, other)\n    .then(r => r.data);\n}\n\nexport function useResendInvite() {\n  return useMutation((props: Props) => ResendInvite(props), {\n    onSuccess: () => {\n      toast('Invite sent');\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n","const matcher =\n  /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\nexport function isEmail(string?: string): boolean {\n  if (!string) return false;\n  if (string.length > 320) return false;\n  return matcher.test(string);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {toast} from '../../ui/toast/toast';\nimport {apiClient, queryClient} from '../../http/query-client';\nimport {WorkspaceQueryKeys} from './workspace-query-keys';\nimport {WorkspaceMember} from '../types/workspace-member';\nimport {WorkspaceInvite} from '../types/workspace-invite';\nimport {message} from '../../i18n/message';\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {}\n\ninterface Props {\n  workspaceId: number;\n  member: WorkspaceMember | WorkspaceInvite;\n  roleId: number;\n}\n\nfunction ChangeRole({workspaceId, member, ...other}: Props): Promise<Response> {\n  const modelType = member.model_type;\n  const memberId =\n    member.model_type === 'invite' ? member.id : member.member_id;\n  return apiClient\n    .post(\n      `workspace/${workspaceId}/${modelType}/${memberId}/change-role`,\n      other\n    )\n    .then(r => r.data);\n}\n\nexport function useChangeRole() {\n  return useMutation((props: Props) => ChangeRole(props), {\n    onSuccess: (response, props) => {\n      toast(message('Role changed'));\n      queryClient.invalidateQueries(\n        WorkspaceQueryKeys.workspaceWithMembers(props.workspaceId)\n      );\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {apiClient, queryClient} from '../../http/query-client';\nimport {WorkspaceQueryKeys} from './workspace-query-keys';\nimport {useAuth} from '../../auth/use-auth';\nimport {useActiveWorkspaceId} from '../active-workspace-id-context';\nimport {PersonalWorkspace} from '../user-workspaces';\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {}\n\ninterface Props {\n  workspaceId: number;\n  memberId: number | string;\n  memberType: 'invite' | 'member';\n}\n\nfunction removeMember({\n  workspaceId,\n  memberId,\n  memberType,\n}: Props): Promise<Response> {\n  const endpoint =\n    memberType === 'invite'\n      ? `workspace/invite/${memberId}`\n      : `workspace/${workspaceId}/member/${memberId}`;\n  return apiClient.delete(endpoint).then(r => r.data);\n}\n\nexport function useRemoveMember() {\n  const {workspaceId, setWorkspaceId} = useActiveWorkspaceId();\n  const {user} = useAuth();\n  return useMutation((props: Props) => removeMember(props), {\n    onSuccess: (response, props) => {\n      queryClient.invalidateQueries(WorkspaceQueryKeys.fetchUserWorkspaces);\n      queryClient.invalidateQueries(\n        WorkspaceQueryKeys.workspaceWithMembers(props.workspaceId)\n      );\n\n      // if user left workspace that is currently active, switch to personal workspace\n      if (props.memberId === user?.id && workspaceId === props.workspaceId) {\n        setWorkspaceId(PersonalWorkspace.id);\n      }\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n","import {ConfirmationDialog} from '../ui/overlays/dialog/confirmation-dialog';\nimport {Trans} from '../i18n/trans';\n\nexport function LeaveWorkspaceConfirmation() {\n  return (\n    <ConfirmationDialog\n      isDanger\n      title={<Trans message=\"Leave workspace\" />}\n      body={\n        <div>\n          <Trans message=\"Are you sure you want to leave this workspace?\" />\n          <div className=\"font-semibold mt-8\">\n            <Trans message=\"All resources you've created in the workspace will be transferred to workspace owner.\" />\n          </div>\n        </div>\n      }\n      confirm={<Trans message=\"Leave\" />}\n    />\n  );\n}\n","import {useEffect, useState} from 'react';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {useWorkspaceWithMembers} from './requests/workspace-with-members';\nimport {ProgressCircle} from '../ui/progress/progress-circle';\nimport {Workspace} from './types/workspace';\nimport {GroupIcon} from '../icons/material/Group';\nimport {WorkspaceMember} from './types/workspace-member';\nimport {useAuth} from '../auth/use-auth';\nimport {ChipField, ChipValue} from '../ui/forms/input-field/chip-field/chip-field';\nimport {useValueLists} from '../http/value-lists';\nimport {Button} from '../ui/buttons/button';\nimport {ArrowDropDownIcon} from '../icons/material/ArrowDropDown';\nimport {useInviteMembers} from './requests/invite-members';\nimport {WorkspaceInvite} from './types/workspace-invite';\nimport {ConfirmationDialog} from '../ui/overlays/dialog/confirmation-dialog';\nimport {useResendInvite} from './requests/resend-invite';\nimport {isEmail} from '../utils/string/is-email';\nimport {ButtonSize} from '../ui/buttons/button-size';\nimport {useChangeRole} from './requests/change-role';\nimport {IconButton} from '../ui/buttons/icon-button';\nimport {useRemoveMember} from './requests/remove-member';\nimport {CloseIcon} from '../icons/material/Close';\nimport {ExitToAppIcon} from '../icons/material/ExitToApp';\nimport {toast} from '../ui/toast/toast';\nimport {DialogTrigger} from '../ui/overlays/dialog/dialog-trigger';\nimport {Menu, MenuItem, MenuTrigger} from '../ui/navigation/menu/menu-trigger';\nimport {useDialogContext} from '../ui/overlays/dialog/dialog-context';\nimport {Dialog} from '../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '../ui/overlays/dialog/dialog-body';\nimport {Trans} from '../i18n/trans';\nimport {useTrans} from '../i18n/use-trans';\nimport {message} from '../i18n/message';\nimport {LeaveWorkspaceConfirmation} from './leave-workspace-confirmation';\n\ninterface WorkspaceMembersDialogProps {\n  workspace: Workspace;\n}\nexport function WorkspaceMembersDialog({\n  workspace,\n}: WorkspaceMembersDialogProps) {\n  const {data, isLoading} = useWorkspaceWithMembers(workspace.id);\n  return (\n    <Dialog size=\"lg\">\n      <DialogHeader>\n        <Trans message=\"Manage workspace members\" />\n      </DialogHeader>\n      <DialogBody>\n        {isLoading ? (\n          <div className=\"flex items-center justify-center min-h-[238px]\">\n            <ProgressCircle isIndeterminate aria-label=\"Loading workspace...\" />\n          </div>\n        ) : (\n          <Manager workspace={data!.workspace} />\n        )}\n      </DialogBody>\n    </Dialog>\n  );\n}\n\ninterface ManagerProps {\n  workspace: Workspace;\n}\nfunction Manager({workspace}: ManagerProps) {\n  const can = usePermissions(workspace);\n  const members: (WorkspaceMember | WorkspaceInvite)[] = [\n    ...(workspace.members || []),\n    ...(workspace.invites || []),\n  ];\n\n  return (\n    <div>\n      {can.invite && <InviteChipField workspace={workspace} />}\n      <div className=\"flex items-center gap-10 mb-14 text-base\">\n        <GroupIcon className=\"icon-sm\" />\n        <Trans\n          message=\"Members of `:workspace`\"\n          values={{workspace: workspace.name}}\n        />\n      </div>\n      <AnimatePresence initial={false}>\n        {members.map(member => (\n          <MemberListItem\n            key={`${member.model_type}.${member.id}`}\n            workspace={workspace}\n            member={member}\n          />\n        ))}\n      </AnimatePresence>\n    </div>\n  );\n}\n\ninterface MemberListItemProps {\n  member: WorkspaceMember | WorkspaceInvite;\n  workspace: Workspace;\n}\nfunction MemberListItem({workspace, member}: MemberListItemProps) {\n  return (\n    <m.div\n      initial={{x: '-100%', opacity: 0}}\n      animate={{x: 0, opacity: 1}}\n      exit={{x: '100%', opacity: 0}}\n      transition={{type: 'tween', duration: 0.125}}\n      className=\"flex items-start text-sm gap-14 mb-20\"\n      key={`${member.model_type}.${member.id}`}\n    >\n      <img\n        className=\"w-36 h-36 rounded flex-shrink-0\"\n        src={member.avatar}\n        alt=\"\"\n      />\n      <div className=\"md:flex flex-auto items-center justify-between gap-14 min-w-0\">\n        <div className=\"overflow-hidden mb-10 md:mb-0 md:mr-10\">\n          <div className=\"flex items-center justify-start gap-6\">\n            <div className=\"overflow-hidden text-ellipsis whitespace-nowrap\">\n              {member.display_name}\n            </div>\n            <MemberDisplayNameAppend workspace={workspace} member={member} />\n          </div>\n          <div className=\"text-muted\">{member.email}</div>\n        </div>\n        <MemberActions workspace={workspace} member={member} />\n      </div>\n    </m.div>\n  );\n}\n\nfunction usePermissions(workspace: Workspace) {\n  const {user: authUser} = useAuth();\n  const response = {update: false, invite: false, delete: false};\n  const permissions = ['update', 'invite', 'delete'] as const;\n  const authMember = workspace.members?.find(mb => mb.id === authUser?.id);\n\n  if (authMember) {\n    permissions.forEach(permission => {\n      response[permission] =\n        authMember.is_owner ||\n        !!authMember.permissions?.find(\n          p => p.name === `workspace_members.${permission}`\n        )\n    });\n  }\n\n  return response;\n}\n\ninterface MemberActionsProps {\n  workspace: Workspace;\n  member: WorkspaceMember | WorkspaceInvite;\n}\nfunction MemberActions({workspace, member}: MemberActionsProps) {\n  const [selectedRole, setSelectedRole] = useState<number>(member.role_id);\n  const changeRole = useChangeRole();\n  const {user} = useAuth();\n\n  const can = usePermissions(workspace);\n  const isOwner = member.model_type === 'member' && member.is_owner;\n  const isCurrentUser =\n    member.model_type === 'member' && user?.id === member.id;\n\n  const roleSelector =\n    !can.update || isOwner || isCurrentUser ? (\n      <div className=\"text-muted ml-auto first:capitalize\">\n        <Trans message={member.role_name} />\n      </div>\n    ) : (\n      <RoleMenuTrigger\n        className=\"ml-auto flex-shrink-0\"\n        size=\"xs\"\n        value={selectedRole}\n        isDisabled={changeRole.isLoading}\n        onChange={roleId => {\n          setSelectedRole(roleId);\n          changeRole.mutate({\n            roleId,\n            workspaceId: workspace.id,\n            member,\n          });\n        }}\n      />\n    );\n\n  return (\n    <>\n      {roleSelector}\n      {!isOwner && (isCurrentUser || can.delete) && (\n        <RemoveMemberButton\n          type={isCurrentUser ? 'leave' : 'remove'}\n          member={member}\n          workspace={workspace}\n        />\n      )}\n    </>\n  );\n}\n\ninterface InviteChipFieldProps {\n  workspace: Workspace;\n}\nfunction InviteChipField({workspace}: InviteChipFieldProps) {\n  const {trans} = useTrans();\n  const [chips, setChips] = useState<ChipValue[]>([]);\n  const allEmailsValid = chips.every(chip => !chip.invalid);\n  const displayWith = (chip: ChipValue) => chip.description || chip.name;\n  const [selectedRole, setSelectedRole] = useState<number>();\n  const inviteMembers = useInviteMembers();\n  const {data} = useValueLists(['workspaceRoles']);\n\n  useEffect(() => {\n    if (!selectedRole && data?.workspaceRoles?.length) {\n      setSelectedRole(data.workspaceRoles[0].id);\n    }\n  }, [data, selectedRole]);\n\n  return (\n    <div className=\"mb-30\">\n      <ChipField\n        value={chips}\n        onChange={setChips}\n        displayWith={displayWith}\n        validateWith={chip => {\n          const invalid = !isEmail(chip.description);\n          return {\n            ...chip,\n            invalid,\n            errorMessage: invalid\n              ? trans({message: 'Not a valid email'})\n              : undefined,\n          };\n        }}\n        placeholder={trans({message: 'Enter email addresses'})}\n        label={<Trans message=\"Invite people\" />}\n      />\n      <div className=\"flex items-center gap-14 justify-between mt-14\">\n        <RoleMenuTrigger onChange={setSelectedRole} value={selectedRole} />\n        {chips.length && selectedRole ? (\n          <Button\n            variant=\"flat\"\n            color=\"primary\"\n            size=\"sm\"\n            disabled={inviteMembers.isLoading || !allEmailsValid}\n            onClick={() => {\n              inviteMembers.mutate(\n                {\n                  emails: chips.map(c => displayWith(c)),\n                  roleId: selectedRole,\n                  workspaceId: workspace.id,\n                },\n                {\n                  onSuccess: () => {\n                    setChips([]);\n                  },\n                }\n              );\n            }}\n          >\n            <Trans message=\"Invite\" />\n          </Button>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\ninterface RemoveMemberButtonProps {\n  member: WorkspaceMember | WorkspaceInvite;\n  workspace: Workspace;\n  type: 'leave' | 'remove';\n}\nfunction RemoveMemberButton({\n  member,\n  workspace,\n  type,\n}: RemoveMemberButtonProps) {\n  const removeMember = useRemoveMember();\n  const {close} = useDialogContext();\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={isConfirmed => {\n        if (isConfirmed) {\n          removeMember.mutate({\n            workspaceId: workspace.id,\n            memberId: member.id,\n            memberType: member.model_type,\n          });\n          if (type === 'leave') {\n            close();\n            toast(message('Left workspace'));\n          }\n        }\n      }}\n    >\n      <IconButton\n        size=\"md\"\n        className=\"text-muted flex-shrink-0\"\n        disabled={removeMember.isLoading}\n      >\n        {type === 'leave' ? <ExitToAppIcon /> : <CloseIcon />}\n      </IconButton>\n      {type === 'leave' ? (\n        <LeaveWorkspaceConfirmation />\n      ) : (\n        <RemoveMemberConfirmation member={member} />\n      )}\n    </DialogTrigger>\n  );\n}\n\ninterface RemoveMemberConfirmationProps {\n  member: WorkspaceMember | WorkspaceInvite;\n}\nfunction RemoveMemberConfirmation({member}: RemoveMemberConfirmationProps) {\n  return (\n    <ConfirmationDialog\n      isDanger\n      title={<Trans message=\"Remove member\" />}\n      body={\n        <div>\n          <Trans\n            message=\"Are you sure you want to remove `:name`?\"\n            values={{name: member.display_name}}\n          />\n          <div className=\"font-semibold mt-8\">\n            <Trans\n              message=\"All workspace resources created by `:name` will be transferred to workspace owner.\"\n              values={{\n                name: member.display_name,\n              }}\n            />\n          </div>\n        </div>\n      }\n      confirm={<Trans message=\"Remove\" />}\n    />\n  );\n}\n\ninterface RoleMenuTriggerProps {\n  onChange: (value: number) => void;\n  value?: number;\n  size?: ButtonSize;\n  className?: string;\n  isDisabled?: boolean;\n}\nfunction RoleMenuTrigger({\n  value,\n  onChange,\n  size = 'xs',\n  className,\n  isDisabled,\n}: RoleMenuTriggerProps) {\n  const {data} = useValueLists(['workspaceRoles']);\n  const role = data?.workspaceRoles?.find(r => r.id === value);\n  if (!value || !role || !data?.workspaceRoles) return null;\n\n  return (\n    <MenuTrigger\n      selectionMode=\"single\"\n      selectedValue={value}\n      onSelectionChange={newValue => {\n        onChange(newValue as number);\n      }}\n    >\n      <Button\n        className={className}\n        size={size}\n        variant=\"flat\"\n        color=\"chip\"\n        disabled={isDisabled}\n        endIcon={<ArrowDropDownIcon />}\n      >\n        {role.name}\n      </Button>\n      <Menu>\n        {data.workspaceRoles.map(r => {\n          return (\n            <MenuItem value={r.id} key={r.id} description={r.description}>\n              {r.name}\n            </MenuItem>\n          );\n        })}\n      </Menu>\n    </MenuTrigger>\n  );\n}\n\ninterface MemberDisplayNameAppendProps {\n  member: WorkspaceMember | WorkspaceInvite;\n  workspace: Workspace;\n}\nfunction MemberDisplayNameAppend({\n  member,\n  workspace,\n}: MemberDisplayNameAppendProps) {\n  const {user} = useAuth();\n  const can = usePermissions(workspace);\n\n  if (user?.id === member.id) {\n    return (\n      <div className=\"font-medium\">\n        (<Trans message=\"You\" />)\n      </div>\n    );\n  }\n  if (member.model_type === 'invite') {\n    return (\n      <div className=\"flex items-center gap-4\">\n        <div></div>\n        <div className=\"font-medium\">\n          <Trans message=\"Invited\" />\n        </div>\n        {can.invite ? (\n          <>\n            <div></div>\n            <ResendInviteDialogTrigger member={member} workspace={workspace} />\n          </>\n        ) : null}\n      </div>\n    );\n  }\n  return null;\n}\n\nfunction ResendInviteDialogTrigger({\n  member,\n  workspace,\n}: MemberDisplayNameAppendProps) {\n  const resendInvite = useResendInvite();\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={isConfirmed => {\n        if (isConfirmed) {\n          resendInvite.mutate({\n            workspaceId: workspace.id,\n            inviteId: member.id as string,\n          });\n        }\n      }}\n    >\n      <Button\n        variant=\"link\"\n        size=\"sm\"\n        color=\"primary\"\n        disabled={resendInvite.isLoading}\n      >\n        <Trans message=\"Resend invite\" />\n      </Button>\n      <ConfirmationDialog\n        title={<Trans message=\"Resend invite\" />}\n        body={\n          <Trans message=\"Are you sure you want to send this invite again?\" />\n        }\n        confirm={<Trans message=\"Send\" />}\n      />\n    </DialogTrigger>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const PersonAddIcon = createSvgIcon(\n  <path d=\"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2H9zm-3-3v-3h3v-2H6V7H4v3H1v2h3v3z\" />\n, 'PersonAddOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const DeleteIcon = createSvgIcon(\n  <path d=\"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z\" />\n, 'DeleteOutlined');\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {toast} from '../../ui/toast/toast';\nimport {apiClient, queryClient} from '../../http/query-client';\nimport {WorkspaceQueryKeys} from './workspace-query-keys';\nimport {Workspace} from '../types/workspace';\nimport {onFormQueryError} from '../../errors/on-form-query-error';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {message} from '../../i18n/message';\n\ninterface Response extends BackendResponse {\n  workspace: Workspace;\n}\n\nexport interface UpdateWorkspacePayload {\n  id: number;\n  name: string;\n}\n\nfunction updateWorkspace({\n  id,\n  ...props\n}: UpdateWorkspacePayload): Promise<Response> {\n  return apiClient.put(`workspace/${id}`, props).then(r => r.data);\n}\n\nexport function useUpdateWorkspace(\n  form: UseFormReturn<UpdateWorkspacePayload>\n) {\n  const {close} = useDialogContext();\n  return useMutation(\n    (props: UpdateWorkspacePayload) => updateWorkspace(props),\n    {\n      onSuccess: response => {\n        close();\n        toast(message('Updated workspace'));\n        queryClient.invalidateQueries(WorkspaceQueryKeys.fetchUserWorkspaces);\n        queryClient.invalidateQueries(\n          WorkspaceQueryKeys.workspaceWithMembers(response.workspace.id)\n        );\n      },\n      onError: r => onFormQueryError(r, form),\n    }\n  );\n}\n","import {useForm} from 'react-hook-form';\nimport {FormTextField} from '../ui/forms/input-field/text-field/text-field';\nimport {Form} from '../ui/forms/form';\nimport {Button} from '../ui/buttons/button';\nimport {DialogFooter} from '../ui/overlays/dialog/dialog-footer';\nimport {useDialogContext} from '../ui/overlays/dialog/dialog-context';\nimport {Dialog} from '../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '../ui/overlays/dialog/dialog-body';\nimport {\n  UpdateWorkspacePayload,\n  useUpdateWorkspace,\n} from './requests/update-workspace';\nimport {Workspace} from './types/workspace';\nimport {Trans} from '../i18n/trans';\n\ninterface Props {\n  workspace: Workspace;\n}\nexport function RenameWorkspaceDialog({workspace}: Props) {\n  const form = useForm<UpdateWorkspacePayload>({\n    defaultValues: {id: workspace.id, name: workspace.name},\n  });\n  const {formId, close} = useDialogContext();\n  const updateWorkspace = useUpdateWorkspace(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Rename workspace\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={() => {\n            updateWorkspace.mutate(form.getValues());\n          }}\n        >\n          <FormTextField\n            name=\"name\"\n            autoFocus\n            label={<Trans message=\"Name\" />}\n            minLength={3}\n            required\n          />\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button variant=\"text\" onClick={close}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={updateWorkspace.isLoading}\n        >\n          <Trans message=\"Rename\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {toast} from '../../ui/toast/toast';\nimport {apiClient, queryClient} from '../../http/query-client';\nimport {WorkspaceQueryKeys} from './workspace-query-keys';\nimport {useActiveWorkspaceId} from '../active-workspace-id-context';\nimport {PersonalWorkspace} from '../user-workspaces';\nimport {message} from '../../i18n/message';\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {}\n\nexport interface DeleteWorkspacePayload {\n  id: number;\n}\n\nfunction deleteWorkspace({id}: DeleteWorkspacePayload): Promise<Response> {\n  return apiClient.delete(`workspace/${id}`).then(r => r.data);\n}\n\nexport function useDeleteWorkspace() {\n  const {workspaceId, setWorkspaceId} = useActiveWorkspaceId();\n  return useMutation(\n    (props: DeleteWorkspacePayload) => deleteWorkspace(props),\n    {\n      onSuccess: (r, payload) => {\n        toast(message('Deleted workspace'));\n        queryClient.invalidateQueries(WorkspaceQueryKeys.fetchUserWorkspaces);\n        queryClient.invalidateQueries(\n          WorkspaceQueryKeys.workspaceWithMembers(payload.id)\n        );\n\n        // if user deleted workspace that is currently active, switch to personal workspace\n        if (workspaceId === payload.id) {\n          setWorkspaceId(PersonalWorkspace.id);\n        }\n      },\n      onError: err => showHttpErrorToast(err),\n    }\n  );\n}\n","import clsx from 'clsx';\nimport {cloneElement, Fragment, ReactElement, useEffect, useState} from 'react';\nimport {ButtonBase} from '../ui/buttons/button-base';\nimport {PersonalWorkspace, useUserWorkspaces} from './user-workspaces';\nimport {UnfoldMoreIcon} from '../icons/material/UnfoldMore';\nimport {AddIcon} from '../icons/material/Add';\nimport {NewWorkspaceDialog} from './new-workspace-dialog';\nimport {WorkspaceMembersDialog} from './workspace-members-dialog';\nimport {useActiveWorkspaceId} from './active-workspace-id-context';\nimport {DialogTrigger} from '../ui/overlays/dialog/dialog-trigger';\nimport {Workspace} from './types/workspace';\nimport {Dialog} from '../ui/overlays/dialog/dialog';\nimport {DialogBody} from '../ui/overlays/dialog/dialog-body';\nimport {Button, ButtonProps} from '../ui/buttons/button';\nimport {CheckIcon} from '../icons/material/Check';\nimport {Menu, MenuItem, MenuTrigger} from '../ui/navigation/menu/menu-trigger';\nimport {KeyboardArrowDownIcon} from '../icons/material/KeyboardArrowDown';\nimport {PersonAddIcon} from '../icons/material/PersonAdd';\nimport {DeleteIcon} from '../icons/material/Delete';\nimport {ExitToAppIcon} from '../icons/material/ExitToApp';\nimport {EditIcon} from '../icons/material/Edit';\nimport {RenameWorkspaceDialog} from './rename-workspace-dialog';\nimport {ConfirmationDialog} from '../ui/overlays/dialog/confirmation-dialog';\nimport {useDeleteWorkspace} from './requests/delete-workspace';\nimport {useRemoveMember} from './requests/remove-member';\nimport {useAuth} from '../auth/use-auth';\nimport {Trans} from '../i18n/trans';\nimport {LeaveWorkspaceConfirmation} from './leave-workspace-confirmation';\n\ntype ActiveDialogName =\n  | 'workspaceMembers'\n  | 'updateWorkspace'\n  | 'deleteWorkspace'\n  | 'leaveWorkspace';\ntype ActiveDialog =\n  | {name: ActiveDialogName; workspace: Workspace}\n  | {name: 'newWorkspace'}\n  | null;\n\ninterface WorkspaceSelectorProps {\n  className?: string;\n  onChange?: (id: number) => void;\n  trigger?: ReactElement<ButtonProps>;\n}\nexport function WorkspaceSelector({\n  onChange,\n  className,\n  trigger: propsTrigger,\n}: WorkspaceSelectorProps) {\n  const {data, isFetched, isFetching} = useUserWorkspaces();\n  const {workspaceId, setWorkspaceId} = useActiveWorkspaceId();\n  const activeWorkspace = data?.find(w => w.id === workspaceId);\n  const [dialog, setDialog] = useState<ActiveDialog>(null);\n  const [selectorIsOpen, setSelectorIsOpen] = useState(false);\n  const {hasPermission} = useAuth();\n\n  // if user no longer has access to previously selected workspace, select personal one\n  useEffect(() => {\n    // make sure we don't unset active workspace while user workspaces are being re-fetched\n    if (isFetched && !isFetching && !activeWorkspace) {\n      setWorkspaceId(PersonalWorkspace.id);\n    }\n  }, [activeWorkspace, data, setWorkspaceId, isFetched, isFetching]);\n\n  if (!activeWorkspace || !hasPermission('workspaces.create')) return null;\n\n  const defaultTrigger = (\n    <ButtonBase\n      className={clsx(\n        'flex items-center gap-10 hover:bg-hover rounded ring-inset focus-visible:ring-2',\n        className\n      )}\n    >\n      <span className=\"block flex-auto mr-auto text-left overflow-hidden\">\n        <span className=\"block text-sm text-main font-medium overflow-hidden overflow-ellipsis\">\n          {activeWorkspace.default ? (\n            <Trans message={activeWorkspace.name} />\n          ) : (\n            activeWorkspace.name\n          )}\n        </span>\n        <span className=\"block text-muted text-xs\">\n          {activeWorkspace.default ? (\n            <Trans message=\"Personal workspace\" />\n          ) : (\n            <Trans\n              message=\":count members\"\n              values={{count: activeWorkspace.members_count}}\n            />\n          )}\n        </span>\n      </span>\n      <UnfoldMoreIcon className=\"icon-md shrink-0\" />\n    </ButtonBase>\n  );\n\n  const trigger = propsTrigger || defaultTrigger;\n\n  return (\n    <Fragment>\n      <DialogTrigger\n        type=\"popover\"\n        isOpen={selectorIsOpen}\n        onClose={() => {\n          setSelectorIsOpen(false);\n        }}\n      >\n        {cloneElement(trigger, {\n          onClick: () => setSelectorIsOpen(!selectorIsOpen),\n        })}\n        <Dialog size=\"min-w-320\">\n          <DialogBody padding=\"p-10\">\n            <div className=\"mb-16 pb-10 border-b\">\n              {data!.map(workspace => (\n                <WorkspaceItem\n                  key={workspace.id}\n                  workspace={workspace}\n                  setDialog={setDialog}\n                  setSelectorIsOpen={setSelectorIsOpen}\n                  onChange={onChange}\n                />\n              ))}\n            </div>\n            <div className=\"text-center mb-4 px-4\">\n              <Button\n                onClick={e => {\n                  e.preventDefault();\n                  e.stopPropagation();\n                  setDialog({name: 'newWorkspace'});\n                  setSelectorIsOpen(false);\n                }}\n                variant=\"outline\"\n                startIcon={<AddIcon />}\n                color=\"primary\"\n                className=\"w-full h-40\"\n              >\n                <Trans message=\"Create new workspace\" />\n              </Button>\n            </div>\n          </DialogBody>\n        </Dialog>\n      </DialogTrigger>\n      <DialogContainer\n        dialog={dialog}\n        setDialog={setDialog}\n        onChange={onChange}\n      />\n    </Fragment>\n  );\n}\n\ninterface WorkspaceItemProps {\n  workspace: Workspace;\n  onChange: WorkspaceSelectorProps['onChange'];\n  setSelectorIsOpen: (value: boolean) => void;\n  setDialog: (value: ActiveDialog) => void;\n}\nfunction WorkspaceItem({\n  workspace,\n  onChange,\n  setSelectorIsOpen,\n  setDialog,\n}: WorkspaceItemProps) {\n  const {workspaceId, setWorkspaceId} = useActiveWorkspaceId();\n  const isActive = workspaceId === workspace.id;\n\n  return (\n    <div\n      onClick={() => {\n        setWorkspaceId(workspace.id);\n        onChange?.(workspace.id);\n        setSelectorIsOpen(false);\n      }}\n      className={clsx(\n        'p-10 mb-4 text-left flex items-center gap-12 rounded-lg cursor-pointer',\n        isActive && 'bg-primary/5',\n        !isActive && 'hover:bg-hover'\n      )}\n    >\n      <CheckIcon\n        size=\"sm\"\n        className={clsx('flex-shrink-0 text-primary', !isActive && 'invisible')}\n      />\n      <div className=\"flex-auto\">\n        <div className={clsx('text-sm', isActive && 'font-semibold')}>\n          {workspace.name}\n        </div>\n        <div className=\"text-muted text-sm\">\n          {workspace.default ? (\n            <Trans message=\"Personal workspace\" />\n          ) : (\n            <Trans\n              message=\":count members\"\n              values={{count: workspace.members_count}}\n            />\n          )}\n        </div>\n      </div>\n      {workspace.id !== 0 && (\n        <ManageButton\n          setSelectorIsOpen={setSelectorIsOpen}\n          workspace={workspace}\n          setDialog={setDialog}\n        />\n      )}\n    </div>\n  );\n}\n\ninterface DialogContainerProps {\n  dialog: ActiveDialog;\n  setDialog: (value: ActiveDialog) => void;\n  onChange?: WorkspaceSelectorProps['onChange'];\n}\nfunction DialogContainer({dialog, setDialog, onChange}: DialogContainerProps) {\n  const deleteWorkspace = useDeleteWorkspace();\n  const removeMember = useRemoveMember();\n  const {user} = useAuth();\n  const {setWorkspaceId} = useActiveWorkspaceId();\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      isOpen={!!dialog?.name}\n      onClose={value => {\n        if (dialog?.name === 'deleteWorkspace' && value) {\n          deleteWorkspace.mutate({id: dialog.workspace.id});\n        }\n        if (dialog?.name === 'leaveWorkspace' && value && user?.id) {\n          removeMember.mutate({\n            workspaceId: dialog.workspace.id,\n            memberId: user.id,\n            memberType: 'member',\n          });\n        }\n        if (dialog?.name === 'newWorkspace' && value) {\n          setWorkspaceId(value);\n          onChange?.(value);\n        }\n        setDialog(null);\n      }}\n    >\n      {dialog?.name === 'newWorkspace' && <NewWorkspaceDialog />}\n      {dialog?.name === 'updateWorkspace' && (\n        <RenameWorkspaceDialog workspace={dialog.workspace} />\n      )}\n      {dialog?.name === 'workspaceMembers' && (\n        <WorkspaceMembersDialog workspace={dialog.workspace} />\n      )}\n      {dialog?.name === 'deleteWorkspace' && (\n        <DeleteWorkspaceConfirmation workspace={dialog.workspace} />\n      )}\n      {dialog?.name === 'leaveWorkspace' && <LeaveWorkspaceConfirmation />}\n    </DialogTrigger>\n  );\n}\n\ninterface DeleteWorkspaceConfirmationProps {\n  workspace: Workspace;\n}\nfunction DeleteWorkspaceConfirmation({\n  workspace,\n}: DeleteWorkspaceConfirmationProps) {\n  return (\n    <ConfirmationDialog\n      isDanger\n      title={<Trans message=\"Delete workspace\" />}\n      body={\n        <Trans\n          message=\"Are you sure you want to delete :name?\"\n          values={{name: workspace.name}}\n        />\n      }\n      confirm={<Trans message=\"Delete\" />}\n    />\n  );\n}\n\ninterface ManageButtonProps {\n  setSelectorIsOpen: (value: boolean) => void;\n  setDialog: (dialog: ActiveDialog) => void;\n  workspace: Workspace;\n}\nfunction ManageButton({\n  setSelectorIsOpen,\n  setDialog,\n  workspace,\n}: ManageButtonProps) {\n  const {user} = useAuth();\n\n  return (\n    <MenuTrigger\n      onItemSelected={value => {\n        setSelectorIsOpen(false);\n        setDialog({name: value as ActiveDialogName, workspace});\n      }}\n    >\n      <Button\n        onClick={e => {\n          e.preventDefault();\n          e.stopPropagation();\n        }}\n        color=\"primary\"\n        size=\"xs\"\n        variant=\"outline\"\n        endIcon={<KeyboardArrowDownIcon />}\n      >\n        <Trans message=\"Manage\" />\n      </Button>\n      <Menu>\n        <MenuItem\n          onClick={e => e.stopPropagation()}\n          value=\"workspaceMembers\"\n          startIcon={<PersonAddIcon />}\n        >\n          <Trans message=\"Members\" />\n        </MenuItem>\n        {workspace.owner_id === user?.id && (\n          <MenuItem\n            onClick={e => e.stopPropagation()}\n            value=\"updateWorkspace\"\n            startIcon={<EditIcon />}\n          >\n            <Trans message=\"Rename\" />\n          </MenuItem>\n        )}\n        {workspace.owner_id !== user?.id && (\n          <MenuItem\n            onClick={e => e.stopPropagation()}\n            value=\"leaveWorkspace\"\n            startIcon={<ExitToAppIcon />}\n          >\n            <Trans message=\"Leave\" />\n          </MenuItem>\n        )}\n        {workspace.owner_id === user?.id && (\n          <MenuItem\n            onClick={e => e.stopPropagation()}\n            value=\"deleteWorkspace\"\n            startIcon={<DeleteIcon />}\n          >\n            <Trans message=\"Delete\" />\n          </MenuItem>\n        )}\n      </Menu>\n    </MenuTrigger>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\n\nconst endpoint = 'link/usage';\n\nexport interface ResourceUsage {\n  used: number;\n  total: number | null;\n  create?: boolean;\n  update?: boolean;\n  delete?: boolean;\n  createMsgType?: CreateMsgType;\n}\n\nexport interface LinkFeaturePermissions {\n  alias: boolean;\n  password: boolean;\n  expiration: boolean;\n  utm: boolean;\n  retargeting: boolean;\n}\n\nexport type CreateMsgType =\n  | 'overQuota'\n  | 'noPermission'\n  | 'noWorkspacePermission'\n  | keyof LinkFeaturePermissions;\n\nexport interface FetchLinkUsageResponse extends BackendResponse {\n  forWorkspace?: boolean;\n  userOwnsWorkspace?: boolean;\n  usage: {\n    links: ResourceUsage & LinkFeaturePermissions;\n    biolinks: ResourceUsage;\n    link_clicks: ResourceUsage;\n    link_overlays: ResourceUsage;\n    custom_pages: ResourceUsage;\n    custom_domains: ResourceUsage;\n    link_groups: ResourceUsage;\n    tracking_pixels: ResourceUsage;\n  };\n}\n\nexport function useLinkSummary() {\n  return useQuery([endpoint], () => fetchLinkUsage());\n}\n\nfunction fetchLinkUsage(): Promise<FetchLinkUsageResponse> {\n  return apiClient.get(endpoint).then(response => response.data);\n}\n","import React from 'react';\nimport {ProgressBarBase, ProgressBarBaseProps} from './progress-bar-base';\n\nexport function Meter(props: ProgressBarBaseProps) {\n  return <ProgressBarBase {...props} role=\"meter progressbar\" />;\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const InfoIcon = createSvgIcon(\n  <path d=\"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n, 'InfoOutlined');\n","import {FetchLinkUsageResponse, useLinkSummary} from './use-link-summary';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {message} from '@common/i18n/message';\nimport {Trans} from '@common/i18n/trans';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\n\ntype ResourceKey = keyof FetchLinkUsageResponse['usage'];\n\nexport const resourceTranslationMap: Record<ResourceKey, MessageDescriptor> = {\n  links: message('Links'),\n  biolinks: message('Biolinks'),\n  link_clicks: message('Visitors'),\n  link_overlays: message('Link overlays'),\n  custom_pages: message('Custom link pages'),\n  custom_domains: message('Custom domains'),\n  link_groups: message('Link groups'),\n  tracking_pixels: message('Tracking pixels'),\n} as const;\n\nexport function ResourceUsageList() {\n  const {data} = useLinkSummary();\n  if (!data) {\n    return null;\n  }\n\n  const unlimited = <Trans message=\"Unlimited\" />;\n\n  return (\n    <ul>\n      {Object.entries(resourceTranslationMap).map(([key, label]) => {\n        const usage = data?.usage[key as ResourceKey];\n        if (!usage) return null;\n        const name = <Trans {...label} />;\n        return (\n          <li key={key} className=\"mt-8\">\n            {usage.total ? (\n              <Trans\n                message=\":used out of :total :name\"\n                values={{\n                  used: <FormattedNumber value={usage.used} />,\n                  total: usage.total ? (\n                    <FormattedNumber value={usage.total} />\n                  ) : (\n                    unlimited\n                  ),\n                  name,\n                }}\n              />\n            ) : (\n              <Trans\n                message=\":count :name created\"\n                values={{count: usage.used, name}}\n              />\n            )}\n          </li>\n        );\n      })}\n    </ul>\n  );\n}\n","import {useAuth} from '@common/auth/use-auth';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {InfoIcon} from '@common/icons/material/Info';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {Trans} from '@common/i18n/trans';\nimport {ResourceUsageList} from '@app/dashboard/layout/sidenav/resource-usage-list';\n\ninterface UsageDetailsTriggerProps {\n  className?: string;\n}\nexport function UsageDetailsTrigger({className}: UsageDetailsTriggerProps) {\n  const {user} = useAuth();\n  const subscription = user?.subscriptions?.[0];\n  const planName = subscription?.product?.name;\n  const renewalDate = subscription?.renews_at ? (\n    <FormattedDate date={subscription.renews_at} />\n  ) : null;\n\n  return (\n    <DialogTrigger type=\"popover\" triggerOnHover>\n      <IconButton size=\"md\" className={className}>\n        <InfoIcon />\n      </IconButton>\n      <Dialog size=\"auto\">\n        <DialogBody>\n          <div className=\"border-b pb-10 mb-10\">\n            <div className=\"font-semibold\">\n              <Trans\n                message=\"Current plan: :planName\"\n                values={{\n                  planName: planName || <Trans message=\"Free\" />,\n                }}\n              />\n            </div>\n            <div className=\"text-muted text-xs\">\n              <Trans\n                message=\"Next payment: :date\"\n                values={{\n                  date: renewalDate || <Trans message=\"Never\" />,\n                }}\n              />\n            </div>\n          </div>\n          <ResourceUsageList />\n        </DialogBody>\n      </Dialog>\n    </DialogTrigger>\n  );\n}\n","import {useLinkSummary} from './use-link-summary';\nimport clsx from 'clsx';\nimport {Trans} from '@common/i18n/trans';\nimport {Meter} from '@common/ui/progress/meter';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {UsageDetailsTrigger} from '@app/dashboard/layout/sidenav/usage-details-trigger';\n\nexport function UsageMeter() {\n  const {isLoading, data} = useLinkSummary();\n  const links = data?.usage.links;\n\n  // prevent layout shift while usage is loading\n  if (!links) {\n    return <div className=\"h-[53px] pt-24 mt-24 border-t\" />;\n  }\n\n  // prevent translation placeholders from showing if summary is not loaded yet\n  const label = (\n    <span className={clsx('whitespace-nowrap', isLoading && 'invisible')}>\n      {links.total ? (\n        <Trans\n          message=\":used of :available links created\"\n          values={{\n            used: <FormattedNumber value={links.used} />,\n            available: <FormattedNumber value={links.total} />,\n          }}\n        />\n      ) : (\n        <Trans message=\":count links created\" values={{count: links.used}} />\n      )}\n    </span>\n  );\n  return (\n    <div className=\"border-t items-start gap-8 flex pl-6 pt-24 mt-24\">\n      <UsageDetailsTrigger className=\"-mt-14\" />\n      <Meter\n        className=\"flex-auto max-w-144\"\n        size=\"xs\"\n        value={links.total && links.used ? (links.used / links.total) * 100 : 0}\n        label={label}\n        showValueLabel={false}\n        labelPosition=\"bottom\"\n      />\n    </div>\n  );\n}\n","import {Button, ButtonProps} from '@common/ui/buttons/button';\nimport {Link} from 'react-router-dom';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {useAuth} from '@common/auth/use-auth';\n\nexport function UpgradeButton(props: ButtonProps) {\n  const {isSubscribed} = useAuth();\n  return (\n    <Button\n      elementType={Link}\n      to={isSubscribed ? '/billing/change-plan' : '/pricing'}\n      variant=\"outline\"\n      color=\"primary\"\n      size=\"xs\"\n      {...props}\n    >\n      <Trans message=\"Upgrade\" />\n    </Button>\n  );\n}\n","import clsx from 'clsx';\nimport {CustomMenu} from '@common/menus/custom-menu';\nimport React from 'react';\nimport {WorkspaceSelector} from '@common/workspace/workspace-selector';\nimport {UsageMeter} from './usage-meter';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {UpgradeButton} from '@app/dashboard/layout/sidenav/upgrade-button';\nimport {UsageDetailsTrigger} from '@app/dashboard/layout/sidenav/usage-details-trigger';\n\ninterface Props {\n  className?: string;\n  isCompactMode?: boolean;\n}\nexport function BelinkDashboardSidenav({className, isCompactMode}: Props) {\n  const {billing} = useSettings();\n\n  return (\n    <div\n      className={clsx(\n        'text-sm pt-26 text-muted font-medium bg-alt flex flex-col gap-20 border-r overflow-y-auto relative',\n        className\n      )}\n    >\n      <div className=\"flex-auto px-12\">\n        <CustomMenu\n          matchDescendants={to => to === '/dashboard'}\n          menu=\"dashboard-sidebar\"\n          orientation=\"vertical\"\n          onlyShowIcons={isCompactMode}\n          gap=\"gap-8\"\n          itemClassName={({isActive}) =>\n            clsx(\n              'block w-full rounded py-12 px-16 border-l-4',\n              isActive\n                ? 'bg-primary/hover border-l-primary'\n                : 'border-l-transparent hover:bg-hover'\n            )\n          }\n        />\n        {!isCompactMode && <UsageMeter />}\n        {billing.enable && !isCompactMode && (\n          <div className=\"mt-14 pl-60\">\n            <UpgradeButton />\n          </div>\n        )}\n      </div>\n      {!isCompactMode && (\n        <WorkspaceSelector className=\"w-full px-24 py-18 border-t flex-shrink-0 mt-auto\" />\n      )}\n      {isCompactMode && (\n        <UsageDetailsTrigger className=\"flex-shrink-0 mx-auto mb-10\" />\n      )}\n    </div>\n  );\n}\n","import {DashboardLayout} from '@common/ui/layout/dashboard-layout';\nimport {DashboardSidenav} from '@common/ui/layout/dashboard-sidenav';\nimport {DashboardContent} from '@common/ui/layout/dashboard-content';\nimport {Outlet} from 'react-router-dom';\nimport {DashboardNavbar} from '@common/ui/layout/dashboard-navbar';\nimport {BelinkDashboardSidenav} from './sidenav/belink-dashboard-sidenav';\nimport {useContext} from 'react';\nimport {DashboardLayoutContext} from '@common/ui/layout/dashboard-layout-context';\nimport {UpgradeButton} from '@app/dashboard/layout/sidenav/upgrade-button';\nimport {Button} from '@common/ui/buttons/button';\nimport {KeyboardArrowDownIcon} from '@common/icons/material/KeyboardArrowDown';\nimport {Trans} from '@common/i18n/trans';\nimport {WorkspaceSelector} from '@common/workspace/workspace-selector';\nimport {Footer} from '@common/ui/footer/footer';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {AdHost} from '@common/admin/ads/ad-host';\n\nexport function BelinkDashboardLayout() {\n  const {\n    links: {dash_footer},\n  } = useSettings();\n  return (\n    <DashboardLayout name=\"belink-dashboard\" leftSidenavCanBeCompact>\n      <BelinkNavbar />\n      <DashboardSidenav position=\"left\">\n        <BelinkDashboardSidenav />\n      </DashboardSidenav>\n      <DashboardContent>\n        <div className=\"bg dark:bg-alt\">\n          <AdHost slot=\"dashboard\" className=\"mt-50 mb-20\" />\n          <Outlet />\n          {dash_footer && (\n            <Footer padding=\"px-16 md:px-28 pt-24 pb-28 md:pb-24\" />\n          )}\n        </div>\n      </DashboardContent>\n    </DashboardLayout>\n  );\n}\n\ninterface DashboardNavbarProps {}\nfunction BelinkNavbar(props: DashboardNavbarProps) {\n  const {billing} = useSettings();\n  const {leftSidenavStatus} = useContext(DashboardLayoutContext);\n  return (\n    <DashboardNavbar\n      {...props}\n      size=\"sm\"\n      color=\"primary\"\n      menuPosition=\"dashboard-navbar\"\n      rightChildren={\n        leftSidenavStatus === 'compact' && (\n          <UpgradeButton variant=\"flat\" color=\"paper\" />\n        )\n      }\n    >\n      {leftSidenavStatus === 'compact' && billing?.enable && (\n        <WorkspaceSelector\n          trigger={\n            <Button variant=\"text\" endIcon={<KeyboardArrowDownIcon />}>\n              <Trans message=\"Workspaces\" />\n            </Button>\n          }\n        />\n      )}\n    </DashboardNavbar>\n  );\n}\n","import {CalendarDate, DateValue} from '@internationalized/date';\n\nexport function getDefaultGranularity(date: DateValue) {\n  if (date instanceof CalendarDate) {\n    return 'day';\n  }\n  return 'minute';\n}\n\nexport function dateIsInvalid(\n  date: CalendarDate,\n  min?: DateValue,\n  max?: DateValue\n) {\n  return (\n    (min != null && date.compare(min) < 0) ||\n    (max != null && date.compare(max) > 0)\n  );\n}\n","import {useState} from 'react';\nimport {DateValue, toZoned, ZonedDateTime} from '@internationalized/date';\nimport {getDefaultGranularity} from './utils';\nimport type {DatePickerValueProps} from './date-picker/use-date-picker-state';\nimport {DateRangeValue} from './date-range-picker/date-range-value';\nimport {useUserTimezone} from '@common/i18n/use-user-timezone';\n\nexport function useBaseDatePickerState(\n  selectedDate: DateValue,\n  props:\n    | DatePickerValueProps<ZonedDateTime>\n    | DatePickerValueProps<Partial<DateRangeValue>, DateRangeValue>\n) {\n  const timezone = useUserTimezone();\n  const [calendarIsOpen, setCalendarIsOpen] = useState(false);\n  const closeDialogOnSelection = props.closeDialogOnSelection ?? true;\n\n  const granularity = props.granularity || getDefaultGranularity(selectedDate);\n  const min = props.min ? toZoned(props.min, timezone) : undefined;\n  const max = props.max ? toZoned(props.max, timezone) : undefined;\n\n  return {\n    timezone,\n    granularity,\n    min,\n    max,\n    calendarIsOpen,\n    setCalendarIsOpen,\n    closeDialogOnSelection,\n  };\n}\n","import {ZonedDateTime} from '@internationalized/date';\n\nexport function startOfDay(date: ZonedDateTime): ZonedDateTime {\n  return date.set({hour: 0, minute: 0, second: 0, millisecond: 0});\n}\n","import {ZonedDateTime} from '@internationalized/date';\n\nexport function endOfDay(date: ZonedDateTime): ZonedDateTime {\n  return date.set({\n    hour: 24 - 1,\n    minute: 60 - 1,\n    second: 60 - 1,\n    millisecond: 1000 - 1,\n  });\n}\n","import {useMemo} from 'react';\nimport {now} from '@internationalized/date';\nimport {useUserTimezone} from './use-user-timezone';\n\nexport function useCurrentDateTime() {\n  const timezone = useUserTimezone();\n  return useMemo(() => {\n    return now(timezone);\n  }, [timezone]);\n}\n","import {useControlledState} from '@react-stately/utils';\nimport {HTMLAttributes, useCallback, useState} from 'react';\nimport {\n  CalendarDate,\n  DateValue,\n  endOfMonth,\n  isSameDay,\n  isSameMonth,\n  maxDate,\n  minDate,\n  startOfMonth,\n  toCalendarDate,\n  toZoned,\n  ZonedDateTime,\n} from '@internationalized/date';\nimport {\n  BaseDatePickerState,\n  DatePickerValueProps,\n} from '../date-picker/use-date-picker-state';\nimport {DateRangeValue} from './date-range-value';\nimport {useBaseDatePickerState} from '../use-base-date-picker-state';\nimport {startOfDay} from '@common/utils/date/start-of-day';\nimport {endOfDay} from '@common/utils/date/end-of-day';\nimport {useCurrentDateTime} from '@common/i18n/use-current-date-time';\n\nexport interface IsPlaceholderValue {\n  start: boolean;\n  end: boolean;\n}\n\nexport type DateRangePickerState = BaseDatePickerState<\n  DateRangeValue,\n  IsPlaceholderValue\n>;\n\nexport function useDateRangePickerState(\n  props: DatePickerValueProps<Partial<DateRangeValue>, DateRangeValue>\n): DateRangePickerState {\n  const now = useCurrentDateTime();\n  const [isPlaceholder, setIsPlaceholder] = useState<IsPlaceholderValue>({\n    start: (!props.value || !props.value.start) && !props.defaultValue?.start,\n    end: (!props.value || !props.value.end) && !props.defaultValue?.end,\n  });\n\n  // if user clears the date, we will want to still keep an\n  // instance internally, but return null via \"onChange\" callback\n  const setStateValue = props.onChange;\n  const [internalValue, setInternalValue] = useControlledState(\n    props.value ? completeRange(props.value, now) : undefined,\n    !props.value ? completeRange(props.defaultValue, now) : undefined,\n    props.onChange\n  );\n\n  const {\n    min,\n    max,\n    granularity,\n    timezone,\n    calendarIsOpen,\n    setCalendarIsOpen,\n    closeDialogOnSelection,\n  } = useBaseDatePickerState(internalValue.start, props);\n\n  const clear = useCallback(() => {\n    setIsPlaceholder({start: true, end: true});\n    setInternalValue(completeRange(null, now));\n    setStateValue?.(null);\n    setCalendarIsOpen(false);\n  }, [now, setInternalValue, setStateValue, setCalendarIsOpen]);\n\n  const [anchorDate, setAnchorDate] = useState<CalendarDate | null>(null);\n  const [isHighlighting, setIsHighlighting] = useState(false);\n  const [highlightedRange, setHighlightedRange] =\n    useState<DateRangeValue>(internalValue);\n  const [calendarDates, setCalendarDates] = useState<CalendarDate[]>(() => {\n    return rangeToCalendarDates(internalValue, max);\n  });\n\n  const constrainRange = useCallback(\n    (range: DateRangeValue): DateRangeValue => {\n      let start = range.start;\n      let end = range.end;\n\n      // make sure start date is after min date and before max date/range end\n      if (min) {\n        start = maxDate(start, min);\n      }\n      const startMax = max ? minDate(max, end) : end;\n      start = minDate(start, startMax);\n\n      // make sure end date is after min date/range start and before max date\n      const endMin = min ? maxDate(min, start) : start;\n      end = maxDate(end, endMin);\n\n      if (max) {\n        end = minDate(end, max);\n      }\n\n      return {start: toZoned(start, timezone), end: toZoned(end, timezone)};\n    },\n    [min, max, timezone]\n  );\n\n  const setSelectedValue = useCallback(\n    (newRange: DateRangeValue) => {\n      const value = {\n        ...constrainRange(newRange),\n        preset: newRange.preset,\n      };\n      setInternalValue(value);\n      setHighlightedRange(value);\n      setCalendarDates(rangeToCalendarDates(value, max));\n      setIsPlaceholder({start: false, end: false});\n    },\n    [setInternalValue, constrainRange, max]\n  );\n\n  const dayIsActive = useCallback(\n    (day: CalendarDate) => {\n      return (\n        (!isPlaceholder.start && isSameDay(day, highlightedRange.start)) ||\n        (!isPlaceholder.end && isSameDay(day, highlightedRange.end))\n      );\n    },\n    [highlightedRange, isPlaceholder]\n  );\n\n  const dayIsHighlighted = useCallback(\n    (day: CalendarDate) => {\n      return (\n        (isHighlighting || (!isPlaceholder.start && !isPlaceholder.end)) &&\n        day.compare(highlightedRange.start) >= 0 &&\n        day.compare(highlightedRange.end) <= 0\n      );\n    },\n    [highlightedRange, isPlaceholder, isHighlighting]\n  );\n\n  const dayIsRangeStart = useCallback(\n    (day: CalendarDate) => isSameDay(day, highlightedRange.start),\n    [highlightedRange]\n  );\n\n  const dayIsRangeEnd = useCallback(\n    (day: CalendarDate) => isSameDay(day, highlightedRange.end),\n    [highlightedRange]\n  );\n\n  const getCellProps = useCallback(\n    (date: CalendarDate, isSameMonth: boolean): HTMLAttributes<HTMLElement> => {\n      return {\n        onPointerEnter: () => {\n          if (isHighlighting && isSameMonth) {\n            setHighlightedRange(\n              makeRange({start: anchorDate!, end: date, timezone})\n            );\n          }\n        },\n        onClick: () => {\n          if (!isHighlighting) {\n            setIsHighlighting(true);\n            setAnchorDate(date);\n            setHighlightedRange(makeRange({start: date, end: date, timezone}));\n          } else {\n            const finalRange = makeRange({\n              start: startOfDay(toZoned(anchorDate!, timezone)),\n              end: endOfDay(toZoned(date, timezone)),\n              timezone,\n            });\n            setIsHighlighting(false);\n            setAnchorDate(null);\n            setSelectedValue?.(finalRange);\n            if (closeDialogOnSelection) {\n              setCalendarIsOpen?.(false);\n            }\n          }\n        },\n      };\n    },\n    [\n      anchorDate,\n      isHighlighting,\n      setSelectedValue,\n      setCalendarIsOpen,\n      closeDialogOnSelection,\n      timezone,\n    ]\n  );\n\n  return {\n    selectedValue: internalValue,\n    setSelectedValue,\n    calendarIsOpen,\n    setCalendarIsOpen,\n    dayIsActive,\n    dayIsHighlighted,\n    dayIsRangeStart,\n    dayIsRangeEnd,\n    getCellProps,\n    calendarDates,\n    setIsPlaceholder,\n    isPlaceholder,\n    clear,\n    setCalendarDates,\n    min,\n    max,\n    granularity,\n    timezone,\n    closeDialogOnSelection,\n  };\n}\n\nfunction rangeToCalendarDates(\n  range: DateRangeValue,\n  max?: DateValue\n): CalendarDate[] {\n  let start = toCalendarDate(startOfMonth(range.start));\n  let end = toCalendarDate(endOfMonth(range.end));\n\n  // make sure we don't show the same month twice\n  if (isSameMonth(start, end)) {\n    end = endOfMonth(end.add({months: 1}));\n  }\n\n  // if next month is disabled, show previous instead\n  if (max && end.compare(max) > 0) {\n    end = start;\n    start = startOfMonth(start.subtract({months: 1}));\n  }\n  return [start, end];\n}\n\ninterface MakeRangeProps {\n  start: DateValue;\n  end: DateValue;\n  timezone: string;\n}\nfunction makeRange(props: MakeRangeProps): DateRangeValue {\n  const start = toZoned(props.start, props.timezone);\n  const end = toZoned(props.end, props.timezone);\n  if (start.compare(end) > 0) {\n    return {start: end, end: start};\n  }\n  return {start, end};\n}\n\nfunction completeRange(\n  range: Partial<DateRangeValue> | null | undefined,\n  now: ZonedDateTime\n): DateRangeValue {\n  if (range?.start && range?.end) {\n    return range as DateRangeValue;\n  } else if (!range?.start && range?.end) {\n    range.start = range.end.subtract({months: 1});\n    return range as DateRangeValue;\n  } else if (!range?.end && range?.start) {\n    range.end = range.start.add({months: 1});\n    return range as DateRangeValue;\n  }\n  return {start: now, end: now.add({months: 1})};\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const DateRangeIcon = createSvgIcon(\n  <path d=\"M7 11h2v2H7v-2zm14-5v14c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2l.01-14c0-1.1.88-2 1.99-2h1V2h2v2h8V2h2v2h1c1.1 0 2 .9 2 2zM5 8h14V6H5v2zm14 12V10H5v10h14zm-4-7h2v-2h-2v2zm-4 0h2v-2h-2v2z\" />\n, 'DateRangeOutlined');\n","import {DateValue, parseAbsolute} from '@internationalized/date';\nimport {Fragment, memo} from 'react';\nimport {useDateFormatter} from './use-date-formatter';\nimport {useSettings} from '../core/settings/use-settings';\nimport {shallowEqual} from '../utils/shallow-equal';\nimport {useUserTimezone} from './use-user-timezone';\nimport {DateFormatPresets} from '@common/i18n/formatted-date';\n\ninterface FormattedDateTimeRangeProps {\n  start?: string | DateValue | Date;\n  end?: string | DateValue | Date;\n  options?: Intl.DateTimeFormatOptions;\n  preset?: keyof typeof DateFormatPresets;\n}\nexport const FormattedDateTimeRange = memo(\n  ({start, end, options, preset}: FormattedDateTimeRangeProps) => {\n    const {dates} = useSettings();\n    const timezone = useUserTimezone();\n    const formatter = useDateFormatter(\n      options ||\n        (DateFormatPresets as Record<string, Intl.DateTimeFormatOptions>)[\n          preset || dates?.format\n        ]\n    );\n\n    if (!start || !end) {\n      return null;\n    }\n\n    let value: string;\n\n    try {\n      value = formatter.formatRange(\n        castToDate(start, timezone),\n        castToDate(end, timezone)\n      );\n    } catch (e) {\n      value = '';\n    }\n\n    return <Fragment>{value}</Fragment>;\n  },\n  shallowEqual\n);\n\nfunction castToDate(date: string | DateValue | Date, timezone: string): Date {\n  if (typeof date === 'string') {\n    return parseAbsolute(date, timezone).toDate();\n  }\n  if ('toDate' in date) {\n    return date.toDate(timezone);\n  }\n  return date;\n}\n","import React, {ComponentPropsWithoutRef, FocusEventHandler, Ref} from 'react';\nimport clsx from 'clsx';\nimport {createFocusManager} from '@react-aria/focus';\nimport {mergeProps, useObjectRef} from '@react-aria/utils';\nimport {getInputFieldClassNames} from '../../get-input-field-class-names';\nimport {Field, FieldProps} from '../../field';\nimport {Input} from '../../input';\nimport {useField} from '../../use-field';\n\nexport interface DatePickerFieldProps\n  extends Omit<FieldProps, 'fieldClassNames'> {\n  inputRef?: Ref<HTMLDivElement>;\n  onBlur?: FocusEventHandler;\n  showCalendarFooter?: boolean;\n}\nexport const DatePickerField = React.forwardRef<\n  HTMLDivElement,\n  DatePickerFieldProps\n>(({inputRef, wrapperProps, children, onBlur, ...other}, ref) => {\n  const fieldClassNames = getInputFieldClassNames(other);\n  const objRef = useObjectRef(ref);\n\n  const {fieldProps, inputProps} = useField({\n    ...other,\n    focusRef: objRef,\n    labelElementType: 'span',\n  });\n\n  fieldClassNames.wrapper = clsx(\n    fieldClassNames.wrapper,\n    other.disabled && 'pointer-events-none'\n  );\n\n  return (\n    <Field\n      wrapperProps={mergeProps<ComponentPropsWithoutRef<'div'>[]>(\n        wrapperProps!,\n        {\n          onBlur: e => {\n            if (!objRef.current.contains(e.relatedTarget)) {\n              onBlur?.(e);\n            }\n          },\n          onClick: () => {\n            // focus first segment when clicking on label or somewhere else in the field, but no directly on segment\n            const focusManager = createFocusManager(objRef);\n            focusManager.focusFirst();\n          },\n        }\n      )}\n      fieldClassNames={fieldClassNames}\n      ref={objRef}\n      {...fieldProps}\n    >\n      <Input\n        inputProps={inputProps}\n        className={clsx(fieldClassNames.input, 'gap-10')}\n        ref={inputRef}\n      >\n        {children}\n      </Input>\n    </Field>\n  );\n});\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const KeyboardArrowLeftIcon = createSvgIcon(\n  <path d=\"M15.41 16.59 10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z\" />\n, 'KeyboardArrowLeftOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const KeyboardArrowRightIcon = createSvgIcon(\n  <path d=\"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z\" />\n, 'KeyboardArrowRightOutlined');\n","import React from 'react';\nimport clsx from 'clsx';\nimport {\n  CalendarDate,\n  DateValue,\n  getDayOfWeek,\n  isSameMonth,\n  isToday,\n} from '@internationalized/date';\nimport {useSelectedLocale} from '../../../../../i18n/selected-locale';\nimport {DatePickerState} from '../date-picker/use-date-picker-state';\nimport {dateIsInvalid} from '../utils';\nimport {DateRangePickerState} from '../date-range-picker/use-date-range-picker-state';\n\ninterface CalendarCellProps {\n  date: CalendarDate;\n  currentMonth: DateValue;\n  state: DatePickerState | DateRangePickerState;\n}\nexport function CalendarCell({\n  date,\n  currentMonth,\n  state: {\n    dayIsActive,\n    dayIsHighlighted,\n    dayIsRangeStart,\n    dayIsRangeEnd,\n    getCellProps,\n    timezone,\n    min,\n    max,\n  },\n}: CalendarCellProps) {\n  const {localeCode} = useSelectedLocale();\n  const dayOfWeek = getDayOfWeek(date, localeCode);\n  const isActive = dayIsActive(date);\n  const isHighlighted = dayIsHighlighted(date);\n  const isRangeStart = dayIsRangeStart(date);\n  const isRangeEnd = dayIsRangeEnd(date);\n  const dayIsToday = isToday(date, timezone);\n  const sameMonth = isSameMonth(date, currentMonth);\n  const isDisabled = dateIsInvalid(date, min, max);\n\n  return (\n    <div\n      role=\"button\"\n      aria-disabled={isDisabled}\n      className={clsx(\n        'w-40 h-40 text-sm relative isolate flex-shrink-0',\n        isDisabled && 'text-disabled pointer-events-none',\n        !sameMonth && 'invisible pointer-events-none'\n      )}\n      {...getCellProps(date, sameMonth)}\n    >\n      <span\n        className={clsx(\n          'absolute inset-0 flex items-center justify-center rounded-full w-full h-full select-none z-10 cursor-pointer',\n          !isActive && !dayIsToday && 'hover:bg-hover',\n          isActive && 'bg-primary text-on-primary font-semibold',\n          dayIsToday && !isActive && 'bg-chip'\n        )}\n      >\n        {date.day}\n      </span>\n      {isHighlighted && sameMonth && (\n        <span\n          className={clsx(\n            'absolute w-full h-full inset-0 bg-primary/focus',\n            (isRangeStart || dayOfWeek === 0 || date.day === 1) &&\n              'rounded-l-full',\n            (isRangeEnd ||\n              dayOfWeek === 6 ||\n              date.day ===\n                currentMonth.calendar.getDaysInMonth(currentMonth)) &&\n              'rounded-r-full'\n          )}\n        />\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport clsx from 'clsx';\nimport {m} from 'framer-motion';\nimport {\n  CalendarDate,\n  endOfMonth,\n  getWeeksInMonth,\n  startOfMonth,\n  startOfWeek,\n} from '@internationalized/date';\nimport {KeyboardArrowLeftIcon} from '../../../../../icons/material/KeyboardArrowLeft';\nimport {IconButton} from '../../../../buttons/icon-button';\nimport {KeyboardArrowRightIcon} from '../../../../../icons/material/KeyboardArrowRight';\nimport {CalendarCell} from './calendar-cell';\nimport {DatePickerState} from '../date-picker/use-date-picker-state';\nimport {useDateFormatter} from '../../../../../i18n/use-date-formatter';\nimport {useSelectedLocale} from '../../../../../i18n/selected-locale';\nimport {dateIsInvalid} from '../utils';\nimport {DateRangePickerState} from '../date-range-picker/use-date-range-picker-state';\n\nexport interface CalendarMonthProps {\n  state: DatePickerState | DateRangePickerState;\n  startDate: CalendarDate;\n  isFirst: boolean;\n  isLast: boolean;\n}\nexport function CalendarMonth({\n  startDate,\n  state,\n  isFirst,\n  isLast,\n}: CalendarMonthProps) {\n  const {localeCode} = useSelectedLocale();\n  const weeksInMonth = getWeeksInMonth(startDate, localeCode);\n  const monthStart = startOfWeek(startDate, localeCode);\n\n  return (\n    <div className=\"w-280 flex-shrink-0\">\n      <CalendarMonthHeader\n        isFirst={isFirst}\n        isLast={isLast}\n        state={state}\n        currentMonth={startDate}\n      />\n      <div className=\"block\" role=\"grid\">\n        <WeekdayHeader state={state} startDate={startDate} />\n        {[...new Array(weeksInMonth).keys()].map(weekIndex => (\n          <m.div className=\"flex mb-6\" key={weekIndex}>\n            {[...new Array(7).keys()].map(dayIndex => (\n              <CalendarCell\n                key={dayIndex}\n                date={monthStart.add({weeks: weekIndex, days: dayIndex})}\n                currentMonth={startDate}\n                state={state}\n              />\n            ))}\n          </m.div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\ninterface CalendarMonthHeaderProps {\n  state: DatePickerState | DateRangePickerState;\n  currentMonth: CalendarDate;\n  isFirst: boolean;\n  isLast: boolean;\n}\nfunction CalendarMonthHeader({\n  currentMonth,\n  isFirst,\n  isLast,\n  state: {calendarDates, setCalendarDates, timezone, min, max},\n}: CalendarMonthHeaderProps) {\n  const shiftCalendars = (direction: 'forward' | 'backward') => {\n    const count = calendarDates.length;\n    let newDates: CalendarDate[];\n    if (direction === 'forward') {\n      newDates = calendarDates.map(date =>\n        endOfMonth(date.add({months: count}))\n      );\n    } else {\n      newDates = calendarDates.map(date =>\n        endOfMonth(date.subtract({months: count}))\n      );\n    }\n    setCalendarDates(newDates);\n  };\n\n  const monthFormatter = useDateFormatter({\n    month: 'long',\n    year: 'numeric',\n    era: currentMonth.calendar.identifier !== 'gregory' ? 'long' : undefined,\n    calendar: currentMonth.calendar.identifier,\n  });\n\n  const isBackwardDisabled = dateIsInvalid(\n    currentMonth.subtract({days: 1}),\n    min,\n    max\n  );\n  const isForwardDisabled = dateIsInvalid(\n    startOfMonth(currentMonth.add({months: 1})),\n    min,\n    max\n  );\n\n  return (\n    <div className=\"flex items-center justify-between gap-10\">\n      <IconButton\n        size=\"md\"\n        className={clsx('text-muted', !isFirst && 'invisible')}\n        disabled={!isFirst || isBackwardDisabled}\n        aria-hidden={!isFirst}\n        onClick={() => {\n          shiftCalendars('backward');\n        }}\n      >\n        <KeyboardArrowLeftIcon />\n      </IconButton>\n      <div className=\"text-sm font-semibold select-none\">\n        {monthFormatter.format(currentMonth.toDate(timezone))}\n      </div>\n      <IconButton\n        size=\"md\"\n        className={clsx('text-muted', !isLast && 'invisible')}\n        disabled={!isLast || isForwardDisabled}\n        aria-hidden={!isLast}\n        onClick={() => {\n          shiftCalendars('forward');\n        }}\n      >\n        <KeyboardArrowRightIcon />\n      </IconButton>\n    </div>\n  );\n}\n\ninterface WeekdayHeaderProps {\n  state: DatePickerState | DateRangePickerState;\n  startDate: CalendarDate;\n}\nfunction WeekdayHeader({state: {timezone}, startDate}: WeekdayHeaderProps) {\n  const {localeCode} = useSelectedLocale();\n  const dayFormatter = useDateFormatter({weekday: 'short'});\n\n  const monthStart = startOfWeek(startDate, localeCode);\n\n  return (\n    <div className=\"flex\">\n      {[...new Array(7).keys()].map(index => {\n        const date = monthStart.add({days: index});\n        const dateDay = date.toDate(timezone);\n        const weekday = dayFormatter.format(dateDay);\n        return (\n          <div\n            className=\"w-40 h-40 text-sm font-semibold relative flex-shrink-0\"\n            key={index}\n          >\n            <div className=\"absolute flex items-center justify-center w-full h-full select-none\">\n              {weekday}\n            </div>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import React from 'react';\nimport {startOfMonth, toCalendarDate} from '@internationalized/date';\nimport {useIsMobileMediaQuery} from '../../../../../utils/hooks/is-mobile-media-query';\nimport {CalendarMonth} from './calendar-month';\nimport {DatePickerState} from '../date-picker/use-date-picker-state';\nimport {DateRangePickerState} from '../date-range-picker/use-date-range-picker-state';\n\ninterface CalendarProps {\n  state: DatePickerState | DateRangePickerState;\n  visibleMonths?: 1 | 2;\n}\nexport function Calendar({state, visibleMonths = 1}: CalendarProps) {\n  const isMobile = useIsMobileMediaQuery();\n\n  if (isMobile) {\n    visibleMonths = 1;\n  }\n\n  return (\n    <>\n      {[...new Array(visibleMonths).keys()].map(index => {\n        const startDate = toCalendarDate(\n          startOfMonth(state.calendarDates[index])\n        );\n        const isFirst = index === 0;\n        const isLast = index === visibleMonths - 1;\n        return (\n          <CalendarMonth\n            key={index}\n            state={state}\n            startDate={startDate}\n            isFirst={isFirst}\n            isLast={isLast}\n          />\n        );\n      })}\n    </>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const ArrowRightAltIcon = createSvgIcon(\n  <path d=\"M16.01 11H4v2h12.01v3L20 12l-3.99-4v3z\" />\n, 'ArrowRightAltOutlined');\n","import {ZonedDateTime} from '@internationalized/date';\n\nexport function adjustSegment(\n  value: ZonedDateTime,\n  part: string,\n  amount: number,\n  options: Intl.ResolvedDateTimeFormatOptions\n) {\n  switch (part) {\n    case 'era':\n    case 'year':\n    case 'month':\n    case 'day':\n      return value.cycle(part, amount, {round: part === 'year'});\n  }\n\n  if ('hour' in value) {\n    switch (part) {\n      case 'dayPeriod': {\n        const hours = value.hour;\n        const isPM = hours >= 12;\n        return value.set({hour: isPM ? hours - 12 : hours + 12});\n      }\n      case 'hour':\n      case 'minute':\n      case 'second':\n        return value.cycle(part, amount, {\n          round: part !== 'hour',\n          hourCycle: options.hour12 ? 12 : 24,\n        });\n    }\n  }\n\n  return value;\n}\n","import {ZonedDateTime} from '@internationalized/date';\n\nexport function setSegment(\n  value: ZonedDateTime,\n  part: string,\n  segmentValue: number,\n  options: Intl.ResolvedDateTimeFormatOptions\n) {\n  switch (part) {\n    case 'day':\n    case 'month':\n    case 'year':\n      return value.set({[part]: segmentValue});\n  }\n\n  if ('hour' in value) {\n    switch (part) {\n      case 'dayPeriod': {\n        const hours = value.hour;\n        const wasPM = hours >= 12;\n        const isPM = segmentValue >= 12;\n        if (isPM === wasPM) {\n          return value;\n        }\n        return value.set({hour: wasPM ? hours - 12 : hours + 12});\n      }\n      case 'hour':\n        // In 12 hour time, ensure that AM/PM does not change\n        if (options.hour12) {\n          const hours = value.hour;\n          const wasPM = hours >= 12;\n          if (!wasPM && segmentValue === 12) {\n            segmentValue = 0;\n          }\n          if (wasPM && segmentValue < 12) {\n            segmentValue += 12;\n          }\n        }\n      // fallthrough\n      case 'minute':\n      case 'second':\n        return value.set({[part]: segmentValue});\n    }\n  }\n\n  return value;\n}\n","export const PAGE_STEP = {\n  year: 5,\n  month: 2,\n  day: 7,\n  hour: 2,\n  minute: 15,\n  second: 15,\n  dayPeriod: 1,\n};\n","import {useFocusManager} from '@react-aria/focus';\nimport React, {\n  ComponentPropsWithoutRef,\n  HTMLAttributes,\n  KeyboardEventHandler,\n  useMemo,\n  useRef,\n} from 'react';\nimport {NumberParser} from '@internationalized/number';\nimport {mergeProps} from '@react-aria/utils';\nimport {today, ZonedDateTime} from '@internationalized/date';\nimport {useSelectedLocale} from '../../../../../i18n/selected-locale';\nimport {useDateFormatter} from '../../../../../i18n/use-date-formatter';\nimport {DatePickerState} from '../date-picker/use-date-picker-state';\nimport {adjustSegment} from './utils/adjust-segment';\nimport {setSegment} from './utils/set-segment';\nimport {PAGE_STEP} from './utils/page-step';\nimport {DateRangePickerState} from '../date-range-picker/use-date-range-picker-state';\nimport {useIsMobileMediaQuery} from '../../../../../utils/hooks/is-mobile-media-query';\n\nexport interface EditableSegment {\n  type: 'day' | 'dayPeriod' | 'hour' | 'minute' | 'month' | 'second' | 'year';\n  text: string;\n  value: number;\n  minValue: number;\n  maxValue: number;\n  minLength: number;\n}\n\ninterface DatePickerSegmentProps {\n  segment: EditableSegment;\n  domProps?: ComponentPropsWithoutRef<'div'>;\n  state: DatePickerState | DateRangePickerState;\n  value: ZonedDateTime;\n  onChange: (newValue: ZonedDateTime) => void;\n  isPlaceholder?: boolean;\n}\nexport function EditableDateSegment({\n  segment,\n  domProps,\n  value,\n  onChange,\n  isPlaceholder,\n  state: {timezone, calendarIsOpen, setCalendarIsOpen},\n}: DatePickerSegmentProps) {\n  const isMobile = useIsMobileMediaQuery();\n  const enteredKeys = useRef('');\n  const {localeCode} = useSelectedLocale();\n  const focusManager = useFocusManager();\n  const formatter = useDateFormatter({timeZone: timezone});\n  const parser = useMemo(\n    () => new NumberParser(localeCode, {maximumFractionDigits: 0}),\n    [localeCode]\n  );\n\n  const setSegmentValue = (newValue: number) => {\n    onChange(\n      setSegment(value, segment.type, newValue, formatter.resolvedOptions())\n    );\n  };\n\n  const adjustSegmentValue = (amount: number) => {\n    onChange(\n      adjustSegment(value, segment.type, amount, formatter.resolvedOptions())\n    );\n  };\n\n  const backspace = () => {\n    if (parser.isValidPartialNumber(segment.text)) {\n      const newValue = segment.text.slice(0, -1);\n      const parsed = parser.parse(newValue);\n      if (newValue.length === 0 || parsed === 0) {\n        const now = today(timezone);\n        if (segment.type in now) {\n          // @ts-ignore\n          setSegmentValue(now[segment.type]);\n        }\n      } else {\n        setSegmentValue(parsed);\n      }\n      enteredKeys.current = newValue;\n    } else if (segment.type === 'dayPeriod') {\n      adjustSegmentValue(-1);\n    }\n  };\n\n  const onKeyDown: KeyboardEventHandler = e => {\n    if (e.ctrlKey || e.metaKey || e.shiftKey || e.altKey) {\n      return;\n    }\n\n    // Navigation between date segments and deletion\n    switch (e.key) {\n      case 'ArrowLeft':\n        e.preventDefault();\n        e.stopPropagation();\n        focusManager.focusPrevious();\n        break;\n      case 'ArrowRight':\n        e.preventDefault();\n        e.stopPropagation();\n        focusManager.focusNext();\n        break;\n      case 'Enter':\n        (e.target as HTMLElement).closest('form')?.requestSubmit();\n        setCalendarIsOpen(!calendarIsOpen);\n        break;\n      case 'Tab':\n        break;\n      case 'Backspace':\n      case 'Delete': {\n        e.preventDefault();\n        e.stopPropagation();\n        backspace();\n        break;\n      }\n\n      // Spinbutton incrementing/decrementing\n      case 'ArrowUp':\n        e.preventDefault();\n        enteredKeys.current = '';\n        adjustSegmentValue(1);\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        enteredKeys.current = '';\n        adjustSegmentValue(-1);\n        break;\n      case 'PageUp':\n        e.preventDefault();\n        enteredKeys.current = '';\n        adjustSegmentValue(PAGE_STEP[segment.type] || 1);\n        break;\n      case 'PageDown':\n        e.preventDefault();\n        enteredKeys.current = '';\n        adjustSegmentValue(-(PAGE_STEP[segment.type] || 1));\n        break;\n      case 'Home':\n        e.preventDefault();\n        enteredKeys.current = '';\n        setSegmentValue(segment.maxValue);\n        break;\n      case 'End':\n        e.preventDefault();\n        enteredKeys.current = '';\n        setSegmentValue(segment.minValue);\n        break;\n    }\n\n    onInput(e.key);\n  };\n\n  const amPmFormatter = useDateFormatter({hour: 'numeric', hour12: true});\n  const am = useMemo(() => {\n    const amDate = new Date();\n    amDate.setHours(0);\n    return amPmFormatter\n      .formatToParts(amDate)\n      .find(part => part.type === 'dayPeriod')!.value;\n  }, [amPmFormatter]);\n  const pm = useMemo(() => {\n    const pmDate = new Date();\n    pmDate.setHours(12);\n    return amPmFormatter\n      .formatToParts(pmDate)\n      .find(part => part.type === 'dayPeriod')!.value;\n  }, [amPmFormatter]);\n\n  // Update date values on user keyboard input\n  const onInput = (key: string) => {\n    const newValue = enteredKeys.current + key;\n\n    switch (segment.type) {\n      case 'dayPeriod':\n        if (am.toLowerCase().startsWith(key)) {\n          setSegmentValue(0);\n        } else if (pm.toLowerCase().startsWith(key)) {\n          setSegmentValue(12);\n        } else {\n          break;\n        }\n        focusManager.focusNext();\n        break;\n      case 'day':\n      case 'hour':\n      case 'minute':\n      case 'second':\n      case 'month':\n      case 'year': {\n        if (!parser.isValidPartialNumber(newValue)) {\n          return;\n        }\n\n        let numberValue = parser.parse(newValue);\n        let segmentValue = numberValue;\n        let allowsZero = segment.minValue === 0;\n        if (segment.type === 'hour' && formatter.resolvedOptions().hour12) {\n          switch (formatter.resolvedOptions().hourCycle) {\n            case 'h11':\n              if (numberValue > 11) {\n                segmentValue = parser.parse(key);\n              }\n              break;\n            case 'h12':\n              allowsZero = false;\n              if (numberValue > 12) {\n                segmentValue = parser.parse(key);\n              }\n              break;\n          }\n\n          if (segment.value >= 12 && numberValue > 1) {\n            numberValue += 12;\n          }\n        } else if (numberValue > segment.maxValue) {\n          segmentValue = parser.parse(key);\n        }\n\n        if (Number.isNaN(numberValue)) {\n          return;\n        }\n\n        const shouldSetValue = segmentValue !== 0 || allowsZero;\n        if (shouldSetValue) {\n          setSegmentValue(segmentValue);\n        }\n\n        if (\n          Number(`${numberValue}0`) > segment.maxValue ||\n          newValue.length >= String(segment.maxValue).length\n        ) {\n          enteredKeys.current = '';\n          if (shouldSetValue) {\n            focusManager.focusNext();\n          }\n        } else {\n          enteredKeys.current = newValue;\n        }\n        break;\n      }\n    }\n  };\n\n  const spinButtonProps: HTMLAttributes<HTMLDivElement> = isMobile\n    ? {}\n    : {\n        'aria-label': segment.type,\n        'aria-valuetext': isPlaceholder ? undefined : `${segment.value}`,\n        'aria-valuemin': segment.minValue,\n        'aria-valuemax': segment.maxValue,\n        'aria-valuenow': isPlaceholder ? undefined : segment.value,\n        tabIndex: 0,\n        onKeyDown,\n      };\n\n  return (\n    <div\n      {...mergeProps(domProps!, {\n        ...spinButtonProps,\n        onFocus: e => {\n          enteredKeys.current = '';\n          e.target.scrollIntoView({block: 'nearest'});\n        },\n        onClick: e => {\n          e.preventDefault();\n          e.stopPropagation();\n        },\n      } as HTMLAttributes<HTMLDivElement>)}\n      className=\"p-2 outline-none caret-transparent cursor-default rounded focus:bg-primary focus:text-on-primary select-none whitespace-nowrap box-content tabular-nums text-center\"\n    >\n      {segment.text.padStart(segment.minLength, '0')}\n    </div>\n  );\n}\n","import {useFocusManager} from '@react-aria/focus';\nimport {ComponentPropsWithoutRef} from 'react';\n\nexport interface LiteralSegment {\n  type: 'literal';\n  minLength: 1;\n  text: string;\n}\n\ninterface LiteralSegmentProps extends ComponentPropsWithoutRef<'div'> {\n  segment: LiteralSegment;\n  domProps?: ComponentPropsWithoutRef<'div'>;\n}\nexport function LiteralDateSegment({segment, domProps}: LiteralSegmentProps) {\n  const focusManager = useFocusManager();\n  return (\n    <div\n      {...domProps}\n      onPointerDown={e => {\n        if (e.pointerType === 'mouse') {\n          e.preventDefault();\n          const res = focusManager.focusNext({from: e.target as HTMLElement});\n          if (!res) {\n            focusManager.focusPrevious({from: e.target as HTMLElement});\n          }\n        }\n      }}\n      aria-hidden\n      className=\"min-w-4 cursor-default select-none\"\n    >\n      {segment.text}\n    </div>\n  );\n}\n","import {\n  DateValue,\n  getMinimumDayInMonth,\n  getMinimumMonthInYear,\n} from '@internationalized/date';\n\nexport function getSegmentLimits(\n  date: DateValue,\n  type: string,\n  options: Intl.ResolvedDateTimeFormatOptions\n) {\n  switch (type) {\n    case 'year':\n      return {\n        value: date.year,\n        placeholder: 'yyyy',\n        minValue: 1,\n        maxValue: date.calendar.getYearsInEra(date),\n      };\n    case 'month':\n      return {\n        value: date.month,\n        placeholder: 'mm',\n        minValue: getMinimumMonthInYear(date),\n        maxValue: date.calendar.getMonthsInYear(date),\n      };\n    case 'day':\n      return {\n        value: date.day,\n        minValue: getMinimumDayInMonth(date),\n        maxValue: date.calendar.getDaysInMonth(date),\n        placeholder: 'dd',\n      };\n  }\n\n  if ('hour' in date) {\n    switch (type) {\n      case 'dayPeriod':\n        return {\n          value: date.hour >= 12 ? 12 : 0,\n          minValue: 0,\n          maxValue: 12,\n          placeholder: '--',\n        };\n      case 'hour':\n        if (options.hour12) {\n          const isPM = date.hour >= 12;\n          return {\n            value: date.hour,\n            minValue: isPM ? 12 : 0,\n            maxValue: isPM ? 23 : 11,\n            placeholder: '--',\n          };\n        }\n\n        return {\n          value: date.hour,\n          minValue: 0,\n          maxValue: 23,\n          placeholder: '--',\n        };\n      case 'minute':\n        return {\n          value: date.minute,\n          minValue: 0,\n          maxValue: 59,\n          placeholder: '--',\n        };\n    }\n  }\n\n  return {};\n}\n","import React, {ComponentPropsWithoutRef, useMemo} from 'react';\nimport {ZonedDateTime} from '@internationalized/date';\nimport {EditableDateSegment, EditableSegment} from './editable-date-segment';\nimport {LiteralDateSegment, LiteralSegment} from './literal-segment';\nimport {useDateFormatter} from '@common/i18n/use-date-formatter';\nimport {DatePickerState} from '../date-picker/use-date-picker-state';\nimport {getSegmentLimits} from './utils/get-segment-limits';\nimport {DateRangePickerState} from '../date-range-picker/use-date-range-picker-state';\n\ninterface DateSegmentListProps {\n  segmentProps?: ComponentPropsWithoutRef<'div'>;\n  state: DatePickerState | DateRangePickerState;\n  value: ZonedDateTime;\n  onChange: (newValue: ZonedDateTime) => void;\n  isPlaceholder?: boolean;\n}\nexport function DateSegmentList({\n  segmentProps,\n  state,\n  value,\n  onChange,\n  isPlaceholder,\n}: DateSegmentListProps) {\n  const {granularity} = state;\n  const options = useMemo(() => {\n    const memoOptions: Intl.DateTimeFormatOptions = {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n    };\n    if (granularity === 'minute') {\n      memoOptions.hour = 'numeric';\n      memoOptions.minute = 'numeric';\n    }\n    return memoOptions;\n  }, [granularity]);\n\n  const formatter = useDateFormatter(options);\n\n  const dateValue = useMemo(() => value.toDate(), [value]);\n  const segments = useMemo(() => {\n    return formatter.formatToParts(dateValue).map(segment => {\n      const limits = getSegmentLimits(\n        value,\n        segment.type,\n        formatter.resolvedOptions()\n      );\n      const textValue =\n        isPlaceholder && segment.type !== 'literal'\n          ? limits.placeholder\n          : segment.value;\n      return {\n        type: segment.type,\n        text: segment.value === ', ' ? ' ' : textValue,\n        ...limits,\n        minLength:\n          segment.type !== 'literal' ? String(limits.maxValue).length : 1,\n      } as LiteralSegment | EditableSegment;\n    });\n  }, [dateValue, formatter, isPlaceholder, value]);\n\n  return (\n    <div className=\"flex items-center\">\n      {segments.map((segment, index) => {\n        if (segment.type === 'literal') {\n          return (\n            <LiteralDateSegment\n              domProps={segmentProps}\n              key={index}\n              segment={segment}\n            />\n          );\n        }\n        return (\n          <EditableDateSegment\n            isPlaceholder={isPlaceholder}\n            domProps={segmentProps}\n            state={state}\n            value={value}\n            onChange={onChange}\n            segment={segment}\n            key={index}\n          />\n        );\n      })}\n    </div>\n  );\n}\n","import React, {ReactElement, ReactNode, useRef, useState} from 'react';\nimport {FocusScope, useFocusManager} from '@react-aria/focus';\nimport {ListItemBase, ListItemBaseProps} from './list-item-base';\nimport clsx from 'clsx';\n\ninterface Props {\n  className?: string;\n  padding?: string;\n  children: ReactElement<ListItemProps> | ReactElement<ListItemProps>[];\n  dataTestId?: string;\n}\n\nexport function List({children, className, padding, dataTestId}: Props) {\n  return (\n    <FocusScope>\n      <ul\n        data-testid={dataTestId}\n        className={clsx(\n          'text-base sm:text-sm outline-none',\n          className,\n          padding ?? 'py-4'\n        )}\n      >\n        {children}\n      </ul>\n    </FocusScope>\n  );\n}\n\ninterface ListItemProps extends ListItemBaseProps {\n  children: ReactNode;\n  onSelected?: () => void;\n  borderRadius?: string;\n}\nexport function ListItem({\n  children,\n  onSelected,\n  borderRadius,\n  ...listItemProps\n}: ListItemProps) {\n  const focusManager = useFocusManager();\n  const isSelectable = !!onSelected;\n  const ref = useRef<HTMLDivElement>(null);\n  const [isActive, setIsActive] = useState(false);\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLDivElement>) => {\n    switch (e.key) {\n      case 'ArrowDown':\n        e.preventDefault();\n        focusManager.focusNext();\n        break;\n      case 'ArrowUp':\n        e.preventDefault();\n        focusManager.focusPrevious();\n        break;\n      case 'Home':\n        e.preventDefault();\n        focusManager.focusFirst();\n        break;\n      case 'End':\n        e.preventDefault();\n        focusManager.focusLast();\n        break;\n      case 'Enter':\n      case 'Space':\n        e.preventDefault();\n        onSelected?.();\n        break;\n    }\n  };\n\n  return (\n    <li>\n      <ListItemBase\n        className={borderRadius || 'rounded'}\n        isActive={isActive}\n        isDisabled={listItemProps.isDisabled}\n        {...listItemProps}\n        onFocus={e => {\n          setIsActive((e.target as HTMLElement).matches(':focus-visible'));\n        }}\n        onBlur={() => {\n          setIsActive(false);\n        }}\n        onClick={() => {\n          onSelected?.();\n        }}\n        ref={ref}\n        role={isSelectable ? 'button' : undefined}\n        onKeyDown={isSelectable ? onKeyDown : undefined}\n        tabIndex={isSelectable && !listItemProps.isDisabled ? 0 : undefined}\n      >\n        {children}\n      </ListItemBase>\n    </li>\n  );\n}\n","import {getBootstrapData} from '../core/bootstrap-data/use-backend-bootstrap-data';\nimport {getLocalTimeZone} from '@internationalized/date';\n\nexport function getUserTimezone(): string {\n  const defaultTimezone = getBootstrapData().settings.dates.default_timezone;\n  const preferredTimezone =\n    getBootstrapData().user?.timezone || defaultTimezone || 'auto';\n\n  if (!preferredTimezone || preferredTimezone === 'auto') {\n    return getLocalTimeZone();\n  }\n  return preferredTimezone;\n}\n","import {DateRangeValue} from '../date-range-value';\nimport {message} from '../../../../../../i18n/message';\nimport {MessageDescriptor} from '../../../../../../i18n/message-descriptor';\nimport {\n  endOfWeek,\n  endOfYear,\n  now,\n  startOfWeek,\n  startOfYear,\n} from '@internationalized/date';\nimport {startOfDay} from '../../../../../../utils/date/start-of-day';\nimport {endOfDay} from '../../../../../../utils/date/end-of-day';\nimport {getBootstrapData} from '../../../../../../core/bootstrap-data/use-backend-bootstrap-data';\nimport {getUserTimezone} from '../../../../../../i18n/get-user-timezone';\n\nconst Now = startOfDay(now(getUserTimezone()));\nconst locale = getBootstrapData().i18n?.language || 'en';\n\nexport interface DateRangePreset {\n  key: number;\n  label: MessageDescriptor;\n  getRangeValue: () => DateRangeValue;\n}\n\nexport const DateRangePresets: DateRangePreset[] = [\n  {\n    key: 0,\n    label: message('Today'),\n    getRangeValue: () => ({\n      preset: 0,\n      start: Now,\n      end: endOfDay(Now),\n    }),\n  },\n  {\n    key: 1,\n    label: message('Yesterday'),\n    getRangeValue: () => ({\n      preset: 1,\n      start: Now.subtract({days: 1}),\n      end: endOfDay(Now).subtract({days: 1}),\n    }),\n  },\n  {\n    key: 2,\n    label: message('This week'),\n    getRangeValue: () => ({\n      preset: 2,\n      start: startOfWeek(Now, locale),\n      end: endOfWeek(endOfDay(Now), locale),\n    }),\n  },\n  {\n    key: 3,\n    label: message('Last week'),\n    getRangeValue: () => ({\n      preset: 3,\n      start: startOfWeek(Now, locale).subtract({weeks: 1}),\n      end: endOfWeek(endOfDay(Now), locale).add({weeks: 1}),\n    }),\n  },\n  {\n    key: 4,\n    label: message('Last 7 days'),\n    getRangeValue: () => ({\n      preset: 4,\n      start: Now.subtract({days: 7}),\n      end: endOfDay(Now),\n    }),\n  },\n  {\n    key: 5,\n    label: message('Last 14 days'),\n    getRangeValue: () => ({\n      preset: 5,\n      start: Now.subtract({days: 14}),\n      end: endOfDay(Now),\n    }),\n  },\n  {\n    key: 6,\n    label: message('Last 30 days'),\n    getRangeValue: () => ({\n      preset: 6,\n      start: Now.subtract({days: 30}),\n      end: endOfDay(Now),\n    }),\n  },\n  {\n    key: 7,\n    label: message('Last 3 months'),\n    getRangeValue: () => ({\n      preset: 7,\n      start: Now.subtract({months: 3}),\n      end: endOfDay(Now),\n    }),\n  },\n  {\n    key: 8,\n    label: message('Last 12 months'),\n    getRangeValue: () => ({\n      preset: 8,\n      start: Now.subtract({months: 12}),\n      end: endOfDay(Now),\n    }),\n  },\n  {\n    key: 9,\n    label: message('This year'),\n    getRangeValue: () => ({\n      preset: 9,\n      start: startOfYear(Now),\n      end: endOfYear(endOfDay(Now)),\n    }),\n  },\n  {\n    key: 10,\n    label: message('Last year'),\n    getRangeValue: () => ({\n      preset: 10,\n      start: startOfYear(Now).subtract({years: 1}),\n      end: endOfYear(endOfDay(Now)).subtract({years: 1}),\n    }),\n  },\n];\n","import {List, ListItem} from '../../../../../list/list';\nimport {DateRangePresets} from './date-range-presets';\nimport {Trans} from '../../../../../../i18n/trans';\nimport {DateRangeValue} from '../date-range-value';\n\ninterface DatePresetList {\n  onPresetSelected: (value: DateRangeValue) => void;\n  selectedValue?: DateRangeValue | null;\n}\nexport function DatePresetList({\n  onPresetSelected,\n  selectedValue,\n}: DatePresetList) {\n  return (\n    <List\n      className=\"min-w-192\"\n      padding=\"py-14\"\n      dataTestId=\"date-range-preset-list\"\n    >\n      {DateRangePresets.map(preset => (\n        <ListItem\n          borderRadius=\"rounded-none\"\n          capitalizeFirst\n          key={preset.key}\n          isSelected={selectedValue?.preset === preset.key}\n          onSelected={() => {\n            const newValue = preset.getRangeValue();\n            onPresetSelected(newValue);\n          }}\n        >\n          <Trans {...preset.label} />\n        </ListItem>\n      ))}\n    </List>\n  );\n}\n","import {useMediaQuery, UseMediaQueryOptions} from './use-media-query';\n\nexport function useIsTabletMediaQuery(options?: UseMediaQueryOptions) {\n  return useMediaQuery('(max-width: 1024px)', options);\n}\n","import React, {useRef} from 'react';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {DatePickerField} from '../date-picker-field';\nimport {DateRangePickerState} from '../use-date-range-picker-state';\nimport {Calendar} from '../../calendar/calendar';\nimport {DialogFooter} from '../../../../../overlays/dialog/dialog-footer';\nimport {Button} from '../../../../../buttons/button';\nimport {useDialogContext} from '../../../../../overlays/dialog/dialog-context';\nimport {Dialog} from '../../../../../overlays/dialog/dialog';\nimport {DialogBody} from '../../../../../overlays/dialog/dialog-body';\nimport {ArrowRightAltIcon} from '../../../../../../icons/material/ArrowRightAlt';\nimport {DateSegmentList} from '../../segments/date-segment-list';\nimport {Trans} from '../../../../../../i18n/trans';\nimport {FormattedDateTimeRange} from '../../../../../../i18n/formatted-date-time-range';\nimport {DatePresetList} from './date-preset-list';\nimport {useIsTabletMediaQuery} from '@common/utils/hooks/is-tablet-media-query';\n\ninterface DateRangeDialogProps {\n  state: DateRangePickerState;\n  showInlineDatePickerField?: boolean;\n}\nexport function DateRangeDialog({\n  state,\n  showInlineDatePickerField = false,\n}: DateRangeDialogProps) {\n  const isTablet = useIsTabletMediaQuery();\n  const {close} = useDialogContext();\n  const initialStateRef = useRef<DateRangePickerState>(state);\n\n  const hasPlaceholder = state.isPlaceholder.start || state.isPlaceholder.end;\n\n  const footer = (\n    <DialogFooter\n      dividerTop\n      startAction={\n        !hasPlaceholder && !isTablet ? (\n          <div className=\"text-xs\">\n            <FormattedDateTimeRange\n              start={state.selectedValue.start.toDate()}\n              end={state.selectedValue.end.toDate()}\n              options={{dateStyle: 'medium'}}\n            />\n          </div>\n        ) : undefined\n      }\n    >\n      <Button\n        variant=\"text\"\n        size=\"xs\"\n        onClick={() => {\n          state.setSelectedValue(initialStateRef.current.selectedValue);\n          state.setIsPlaceholder(initialStateRef.current.isPlaceholder);\n          close();\n        }}\n      >\n        <Trans message=\"Cancel\" />\n      </Button>\n      <Button\n        variant=\"flat\"\n        color=\"primary\"\n        size=\"xs\"\n        onClick={() => {\n          close(state.selectedValue);\n        }}\n      >\n        <Trans message=\"Select\" />\n      </Button>\n    </DialogFooter>\n  );\n\n  return (\n    <Dialog size=\"auto\">\n      <DialogBody className=\"flex\" padding=\"p-0\">\n        {!isTablet && (\n          <DatePresetList\n            selectedValue={state.selectedValue}\n            onPresetSelected={preset => {\n              state.setSelectedValue(preset);\n              if (state.closeDialogOnSelection) {\n                close(preset);\n              }\n            }}\n          />\n        )}\n        <AnimatePresence initial={false}>\n          <Calendars\n            state={state}\n            showInlineDatePickerField={showInlineDatePickerField}\n          />\n        </AnimatePresence>\n      </DialogBody>\n      {!state.closeDialogOnSelection && footer}\n    </Dialog>\n  );\n}\n\ninterface CustomRangePanelProps {\n  state: DateRangePickerState;\n  showInlineDatePickerField?: boolean;\n}\nfunction Calendars({state, showInlineDatePickerField}: CustomRangePanelProps) {\n  return (\n    <m.div\n      initial={{width: 0, overflow: 'hidden'}}\n      animate={{width: 'auto'}}\n      exit={{width: 0, overflow: 'hidden'}}\n      transition={{type: 'tween', duration: 0.125}}\n      className=\"border-l px-20 pt-10 pb-20\"\n    >\n      {showInlineDatePickerField && <InlineDatePickerField state={state} />}\n      <div className=\"flex items-start gap-36\">\n        <Calendar state={state} visibleMonths={2} />\n      </div>\n    </m.div>\n  );\n}\n\ninterface InlineDatePickerFieldProps {\n  state: DateRangePickerState;\n}\nfunction InlineDatePickerField({state}: InlineDatePickerFieldProps) {\n  const {selectedValue, setSelectedValue} = state;\n  return (\n    <DatePickerField className=\"mb-20 mt-10\">\n      <DateSegmentList\n        state={state}\n        value={selectedValue.start}\n        onChange={newValue => {\n          setSelectedValue({...selectedValue, start: newValue});\n        }}\n      />\n      <ArrowRightAltIcon className=\"block flex-shrink-0 text-muted\" size=\"md\" />\n      <DateSegmentList\n        state={state}\n        value={selectedValue.end}\n        onChange={newValue => {\n          setSelectedValue({...selectedValue, end: newValue});\n        }}\n      />\n    </DatePickerField>\n  );\n}\n","import {useDateRangePickerState} from '@common/ui/forms/input-field/date/date-range-picker/use-date-range-picker-state';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {Button} from '@common/ui/buttons/button';\nimport {DateRangeIcon} from '@common/icons/material/DateRange';\nimport {FormattedDateTimeRange} from '@common/i18n/formatted-date-time-range';\nimport {DateRangeDialog} from '@common/ui/forms/input-field/date/date-range-picker/dialog/date-range-dialog';\nimport React from 'react';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\nimport {DateFormatPresets} from '@common/i18n/formatted-date';\n\nconst monthDayFormat: Intl.DateTimeFormatOptions = {\n  month: 'short',\n  day: '2-digit',\n};\n\ninterface ReportDataSelectorProps {\n  value: DateRangeValue;\n  onChange: (value: DateRangeValue) => void;\n  compactOnMobile?: boolean;\n}\nexport function ReportDateSelector({\n  value,\n  onChange,\n  compactOnMobile = true,\n}: ReportDataSelectorProps) {\n  const isMobile = useIsMobileMediaQuery();\n  return (\n    <DialogTrigger\n      type=\"popover\"\n      onClose={value => {\n        if (value) {\n          onChange(value);\n        }\n      }}\n    >\n      <Button variant=\"outline\" color=\"chip\" endIcon={<DateRangeIcon />}>\n        <FormattedDateTimeRange\n          start={value.start}\n          end={value.end}\n          options={\n            isMobile && compactOnMobile\n              ? monthDayFormat\n              : DateFormatPresets.short\n          }\n        />\n      </Button>\n      <DateSelectorDialog value={value} />\n    </DialogTrigger>\n  );\n}\n\ninterface DateSelectorDialogProps {\n  value: DateRangeValue;\n}\nfunction DateSelectorDialog({value}: DateSelectorDialogProps) {\n  const isMobile = useIsMobileMediaQuery();\n  const state = useDateRangePickerState({\n    defaultValue: value,\n    closeDialogOnSelection: false,\n  });\n  return (\n    <DateRangeDialog state={state} showInlineDatePickerField={!isMobile} />\n  );\n}\n","import {ReactNode, Ref} from 'react';\nimport clsx from 'clsx';\n\nexport interface ChartLayoutProps {\n  title: ReactNode;\n  description?: ReactNode;\n  className?: string;\n  children: ReactNode;\n  contentIsFlex?: boolean;\n  contentClassName?: string;\n  contentRef?: Ref<HTMLDivElement>;\n  isLoading?: boolean;\n}\nexport function ChartLayout(props: ChartLayoutProps) {\n  const {\n    title,\n    description,\n    children,\n    className,\n    contentIsFlex = true,\n    contentClassName,\n    contentRef,\n  } = props;\n\n  return (\n    <div\n      className={clsx(\n        'border rounded min-h-440 h-full flex flex-col flex-auto',\n        className\n      )}\n    >\n      <div className=\"text-xs p-14 flex-shrink-0 flex justify-between\">\n        <div className=\"font-semibold text-sm\">{title}</div>\n        {description && <div className=\"text-muted\">{description}</div>}\n      </div>\n      <div\n        ref={contentRef}\n        className={clsx(\n          'p-14 relative',\n          contentIsFlex && 'flex-auto flex items-center justify-center',\n          contentClassName\n        )}\n      >\n        {children}\n      </div>\n    </div>\n  );\n}\n","import {ProgressCircle} from '@common/ui/progress/progress-circle';\nimport {Trans} from '@common/i18n/trans';\n\nexport function ChartLoadingIndicator() {\n  return (\n    <div className=\"flex items-center gap-10 text-sm absolute mx-auto\">\n      <ProgressCircle isIndeterminate size=\"sm\" />\n      <Trans message=\"Chart loading\" />\n    </div>\n  );\n}\n","import type {ChartData, ChartOptions, ChartType} from 'chart.js';\nimport {lazy, Suspense} from 'react';\nimport {ChartLayout, ChartLayoutProps} from './chart-layout';\nimport {ChartLoadingIndicator} from '@common/charts/chart-loading-indicator';\n\nconst LazyChart = lazy(() => import('./lazy-chart'));\n\nexport interface BaseChartProps<Type extends ChartType = ChartType>\n  extends Omit<ChartLayoutProps, 'children'> {\n  type: Type;\n  data: ChartData<Type, unknown>;\n  options?: ChartOptions<Type>;\n  hideLegend?: boolean;\n}\nexport function BaseChart<Type extends ChartType = ChartType>(\n  props: BaseChartProps<Type>\n) {\n  const {title, description, className, contentRef, isLoading} = props;\n\n  return (\n    <ChartLayout\n      title={title}\n      description={description}\n      className={className}\n      contentRef={contentRef}\n    >\n      <Suspense fallback={<ChartLoadingIndicator />}>\n        <LazyChart {...props} />\n        {isLoading && <ChartLoadingIndicator />}\n      </Suspense>\n    </ChartLayout>\n  );\n}\n","import {DateFormatter, parseAbsoluteToLocal} from '@internationalized/date';\nimport memoize from 'nano-memoize';\nimport {ChartType} from 'chart.js';\nimport {\n  FormattedDatasetItem,\n  FormattedReportData,\n} from './formatted-dataset-item';\nimport {\n  DatasetItem,\n  RangedDatasetGranularity,\n  ReportMetric,\n} from '../../admin/analytics/report-metric';\nimport {shallowEqual} from '../../utils/shallow-equal';\n\ninterface Options {\n  localeCode: string;\n  shareFirstDatasetLabels?: boolean;\n}\n\ntype FormattedDatasetLabels = Omit<FormattedDatasetItem, 'value'>;\n\nexport function formatReportData(\n  report: ReportMetric | undefined,\n  {localeCode = 'en', shareFirstDatasetLabels = true}: Options\n): FormattedReportData {\n  if (!report) return {datasets: []};\n\n  const firstDatasetLabels: FormattedDatasetLabels[] = [];\n\n  return {\n    ...report,\n    datasets: report.datasets.map((dataset, datasetIndex) => {\n      const data = dataset.data.map((datasetItem, itemIndex) => {\n        let label: FormattedDatasetLabels;\n        // when there are multiple datasets, we'll need to use labels from the first dataset, so charts are\n        // overlapped over one another, otherwise they will be side by side, if labels in all datasets are not identical.\n        if (datasetIndex === 0 || !shareFirstDatasetLabels) {\n          label = generateDatasetLabels(\n            datasetItem,\n            report.granularity,\n            localeCode\n          );\n          firstDatasetLabels[itemIndex] = label;\n        } else {\n          label = firstDatasetLabels[itemIndex];\n        }\n        return {\n          ...label,\n          value: datasetItem.value,\n        };\n      });\n\n      return {...dataset, data};\n    }),\n  };\n}\n\nfunction generateDatasetLabels<T extends ChartType = ChartType>(\n  datum: DatasetItem,\n  granularity: RangedDatasetGranularity | undefined,\n  locale: string\n): FormattedDatasetLabels {\n  if (datum.label != null) {\n    return {label: datum.label};\n  }\n\n  if (!datum.date) {\n    return {label: ''};\n  }\n\n  return generateTimeLabels(datum, granularity, locale);\n}\n\nfunction generateTimeLabels(\n  {date: isoDate, endDate: isoEndDate, value}: DatasetItem,\n  granularity: RangedDatasetGranularity | undefined = 'day',\n  locale: string\n): Omit<FormattedDatasetItem, 'value'> {\n  const date = parseAbsoluteToLocal(isoDate).toDate();\n  const endDate = isoEndDate ? parseAbsoluteToLocal(isoEndDate).toDate() : null;\n\n  switch (granularity) {\n    case 'minute':\n      return {\n        label: getFormatter(locale, {\n          second: '2-digit',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          day: '2-digit',\n          hour: 'numeric',\n          minute: 'numeric',\n          second: '2-digit',\n        }).format(date),\n      };\n    case 'hour':\n      return {\n        label: getFormatter(locale, {\n          hour: 'numeric',\n          minute: 'numeric',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          month: 'short',\n          day: '2-digit',\n          hour: 'numeric',\n          minute: 'numeric',\n        }).format(date),\n      };\n    case 'day':\n      return {\n        label: getFormatter(locale, {\n          day: '2-digit',\n          weekday: 'short',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          day: '2-digit',\n          weekday: 'short',\n          month: 'short',\n        }).format(date),\n      };\n    case 'week':\n      return {\n        label: getFormatter(locale, {\n          month: 'short',\n          day: '2-digit',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          day: '2-digit',\n          month: 'long',\n          year: 'numeric',\n        }).formatRange(date, endDate as Date),\n      };\n    case 'month':\n      return {\n        label: getFormatter(locale, {\n          month: 'short',\n          year: 'numeric',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          month: 'long',\n          year: 'numeric',\n        }).format(date),\n      };\n    case 'year':\n      return {\n        label: getFormatter(locale, {\n          year: 'numeric',\n        }).format(date),\n        tooltipTitle: getFormatter(locale, {\n          year: 'numeric',\n        }).format(date),\n      };\n  }\n}\n\nconst getFormatter = memoize(\n  (locale, options: Intl.DateTimeFormatOptions) => {\n    return new DateFormatter(locale, options);\n  },\n  {\n    equals: (a, b) => {\n      return shallowEqual(a, b);\n    },\n    callTimeout: undefined as any,\n  }\n);\n","export const ChartColors = [\n  ['rgb(66,165,245)', 'rgba(66,165,245,0.2)'],\n  ['rgb(102,187,106)', 'rgba(102,187,106,0.2)'],\n  ['rgb(255,112,67)', 'rgb(255,112,67,0.2)'],\n  ['rgb(92,107,192)', 'rgb(92,107,192,0.2)'],\n  ['rgb(141,110,99)', 'rgb(141,110,99,0.2)'],\n  ['rgb(255,167,38)', 'rgb(255,167,38,0.2)'],\n];\n","import {BaseChart, BaseChartProps} from './base-chart';\nimport {ReportMetric} from '../admin/analytics/report-metric';\nimport {useMemo} from 'react';\nimport {formatReportData} from './data/format-report-data';\nimport {useSelectedLocale} from '../i18n/selected-locale';\nimport {ChartData, ChartOptions} from 'chart.js';\nimport {ChartColors} from './chart-colors';\nimport {FormattedDatasetItem} from './data/formatted-dataset-item';\nimport clsx from 'clsx';\n\nconst LineChartOptions: ChartOptions<'line'> = {\n  parsing: {\n    xAxisKey: 'label',\n    yAxisKey: 'value',\n  },\n  datasets: {\n    line: {\n      fill: 'origin',\n      tension: 0.1,\n      pointBorderWidth: 4,\n      pointHitRadius: 10,\n    },\n  },\n  plugins: {\n    tooltip: {\n      intersect: false,\n      mode: 'index',\n    },\n  },\n};\n\ninterface LineChartProps extends Omit<BaseChartProps<'line'>, 'type' | 'data'> {\n  data?: ReportMetric;\n}\nexport function LineChart({data, className, ...props}: LineChartProps) {\n  const {localeCode} = useSelectedLocale();\n  const formattedData: ChartData<'line', FormattedDatasetItem[]> =\n    useMemo(() => {\n      const formattedData = formatReportData(data, {localeCode});\n      formattedData.datasets = formattedData.datasets.map((dataset, i) => ({\n        ...dataset,\n        backgroundColor: ChartColors[i][1],\n        borderColor: ChartColors[i][0],\n        pointBackgroundColor: ChartColors[i][0],\n      }));\n      return formattedData;\n    }, [data, localeCode]);\n\n  return (\n    <BaseChart\n      {...props}\n      className={clsx(className, 'min-w-500')}\n      data={formattedData}\n      type=\"line\"\n      options={LineChartOptions}\n    />\n  );\n}\n","import {BaseChart, BaseChartProps} from './base-chart';\nimport {ChartData, ChartOptions} from 'chart.js';\nimport {ChartColors} from './chart-colors';\nimport {useSelectedLocale} from '../i18n/selected-locale';\nimport {useMemo} from 'react';\nimport {formatReportData} from './data/format-report-data';\nimport {ReportMetric} from '../admin/analytics/report-metric';\nimport {FormattedDatasetItem} from './data/formatted-dataset-item';\nimport clsx from 'clsx';\n\nconst PolarAreaChartOptions: ChartOptions<'polarArea'> = {\n  parsing: {\n    key: 'value',\n  },\n  plugins: {\n    tooltip: {\n      intersect: true,\n    },\n  },\n};\n\ninterface PolarAreaChartProps\n  extends Omit<BaseChartProps<'polarArea'>, 'type' | 'data'> {\n  data?: ReportMetric;\n}\nexport function PolarAreaChart({\n  data,\n  className,\n  ...props\n}: PolarAreaChartProps) {\n  const {localeCode} = useSelectedLocale();\n  const formattedData: ChartData<'polarArea', FormattedDatasetItem[]> =\n    useMemo(() => {\n      const formattedData = formatReportData(data, {localeCode});\n      formattedData.labels = formattedData.datasets[0]?.data.map(d => d.label);\n      formattedData.datasets = formattedData.datasets.map((dataset, i) => ({\n        ...dataset,\n        backgroundColor: ChartColors.map(c => c[1]),\n        borderColor: ChartColors.map(c => c[0]),\n        borderWidth: 2,\n      }));\n      return formattedData;\n    }, [data, localeCode]);\n\n  return (\n    <BaseChart\n      type=\"polarArea\"\n      data={formattedData}\n      options={PolarAreaChartOptions}\n      className={clsx(className, 'min-w-500')}\n      {...props}\n    />\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport {LinkStyle} from '@common/ui/buttons/external-link';\nimport {Chip} from '@common/ui/forms/input-field/chip-field/chip';\nimport {ChartLayout, ChartLayoutProps} from '@common/charts/chart-layout';\nimport React from 'react';\nimport {ReportMetric} from '@common/admin/analytics/report-metric';\nimport clsx from 'clsx';\nimport {ChartLoadingIndicator} from '@common/charts/chart-loading-indicator';\nimport {removeProtocol} from '@common/utils/urls/remove-protocol';\nimport {RemoteFavicon} from '@common/ui/remote-favicon';\n\ninterface ReferrerChartProps extends Partial<ChartLayoutProps> {\n  data?: ReportMetric;\n}\nexport function ReferrerChart({\n  data,\n  isLoading,\n  ...layoutProps\n}: ReferrerChartProps) {\n  const dataItems = data?.datasets[0].data || [];\n  return (\n    <ChartLayout\n      {...layoutProps}\n      className=\"min-w-500 md:min-w-0 w-1/2\"\n      title={<Trans message=\"Referrers\" />}\n      contentIsFlex={isLoading}\n      contentClassName=\"max-h-[370px] overflow-y-auto\"\n    >\n      {isLoading && <ChartLoadingIndicator />}\n      {dataItems.map((dataItem, index) => (\n        <div\n          key={dataItem.label || index}\n          className=\"mb-20 text-sm flex items-center justify-between gap-24\"\n        >\n          {dataItem.label ? (\n            <div className=\"flex items-center gap-8\">\n              <RemoteFavicon url={dataItem.label} />\n              <a\n                className={clsx(LinkStyle, 'lowercase')}\n                href={dataItem.label}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                {removeProtocol(dataItem.label)}\n              </a>\n            </div>\n          ) : (\n            <Trans message=\"Direct, Email, SMS\" />\n          )}\n          <Chip\n            radius=\"rounded\"\n            size=\"xs\"\n            color=\"primary\"\n            className=\"font-semibold\"\n          >\n            {dataItem.value}\n          </Chip>\n        </div>\n      ))}\n    </ChartLayout>\n  );\n}\n","class $5b160d28a433310d$export$c17fa47878dc55b6 {\n    /** Returns a localized string for the given key and locale. */ getStringForLocale(key, locale) {\n        let strings = this.strings[locale];\n        if (!strings) {\n            strings = $5b160d28a433310d$var$getStringsForLocale(locale, this.strings, this.defaultLocale);\n            this.strings[locale] = strings;\n        }\n        let string = strings[key];\n        if (!string) throw new Error(`Could not find intl message ${key} in ${locale} locale`);\n        return string;\n    }\n    constructor(messages, defaultLocale = 'en-US'){\n        // Clone messages so we don't modify the original object.\n        this.strings = {\n            ...messages\n        };\n        this.defaultLocale = defaultLocale;\n    }\n}\nfunction $5b160d28a433310d$var$getStringsForLocale(locale, strings, defaultLocale = 'en-US') {\n    // If there is an exact match, use it.\n    if (strings[locale]) return strings[locale];\n    // Attempt to find the closest match by language.\n    // For example, if the locale is fr-CA (French Canadian), but there is only\n    // an fr-FR (France) set of strings, use that.\n    // This could be replaced with Intl.LocaleMatcher once it is supported.\n    // https://github.com/tc39/proposal-intl-localematcher\n    let language = $5b160d28a433310d$var$getLanguage(locale);\n    if (strings[language]) return strings[language];\n    for(let key in strings){\n        if (key.startsWith(language + '-')) return strings[key];\n    }\n    // Nothing close, use english.\n    return strings[defaultLocale];\n}\nfunction $5b160d28a433310d$var$getLanguage(locale) {\n    // @ts-ignore\n    if (Intl.Locale) // @ts-ignore\n    return new Intl.Locale(locale).language;\n    return locale.split('-')[0];\n}\n\n\nconst $6db58dc88e78b024$var$pluralRulesCache = new Map();\nconst $6db58dc88e78b024$var$numberFormatCache = new Map();\nclass $6db58dc88e78b024$export$2f817fcdc4b89ae0 {\n    /** Formats a localized string for the given key with the provided variables. */ format(key, variables) {\n        let message = this.strings.getStringForLocale(key, this.locale);\n        return typeof message === 'function' ? message(variables, this) : message;\n    }\n    plural(count, options, type = 'cardinal') {\n        let opt = options['=' + count];\n        if (opt) return typeof opt === 'function' ? opt() : opt;\n        let key = this.locale + ':' + type;\n        let pluralRules = $6db58dc88e78b024$var$pluralRulesCache.get(key);\n        if (!pluralRules) {\n            pluralRules = new Intl.PluralRules(this.locale, {\n                type: type\n            });\n            $6db58dc88e78b024$var$pluralRulesCache.set(key, pluralRules);\n        }\n        let selected = pluralRules.select(count);\n        opt = options[selected] || options.other;\n        return typeof opt === 'function' ? opt() : opt;\n    }\n    number(value) {\n        let numberFormat = $6db58dc88e78b024$var$numberFormatCache.get(this.locale);\n        if (!numberFormat) {\n            numberFormat = new Intl.NumberFormat(this.locale);\n            $6db58dc88e78b024$var$numberFormatCache.set(this.locale, numberFormat);\n        }\n        return numberFormat.format(value);\n    }\n    select(options, value) {\n        let opt = options[value] || options.other;\n        return typeof opt === 'function' ? opt() : opt;\n    }\n    constructor(locale, strings){\n        this.locale = locale;\n        this.strings = strings;\n    }\n}\n\n\n\n\nexport {$5b160d28a433310d$export$c17fa47878dc55b6 as LocalizedStringDictionary, $6db58dc88e78b024$export$2f817fcdc4b89ae0 as LocalizedStringFormatter};\n//# sourceMappingURL=module.js.map\n","import {clamp as $cBgAy$clamp, toFixedNumber as $cBgAy$toFixedNumber, useControlledState as $cBgAy$useControlledState, snapValueToStep as $cBgAy$snapValueToStep} from \"@react-stately/utils\";\nimport {LocalizedStringDictionary as $cBgAy$LocalizedStringDictionary} from \"@internationalized/string\";\nimport {NumberFormatter as $cBgAy$NumberFormatter} from \"@internationalized/number\";\nimport {useRef as $cBgAy$useRef, useMemo as $cBgAy$useMemo, useState as $cBgAy$useState} from \"react\";\nimport {useSliderState as $cBgAy$useSliderState} from \"@react-stately/slider\";\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nvar $7a451c0c6841e6b9$exports = {};\nvar $2d805fd52bb48883$exports = {};\n$2d805fd52bb48883$exports = {\n    \"alpha\": ``,\n    \"blue\": ``,\n    \"brightness\": ``,\n    \"green\": ``,\n    \"hue\": ` `,\n    \"lightness\": ``,\n    \"red\": ``,\n    \"saturation\": ``\n};\n\n\nvar $6c28468dc1df643c$exports = {};\n$6c28468dc1df643c$exports = {\n    \"alpha\": ``,\n    \"blue\": ``,\n    \"brightness\": ``,\n    \"green\": ``,\n    \"hue\": ``,\n    \"lightness\": ``,\n    \"red\": ``,\n    \"saturation\": ``\n};\n\n\nvar $807554f8230db0ed$exports = {};\n$807554f8230db0ed$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Modr`,\n    \"brightness\": `Jas`,\n    \"green\": `Zelen`,\n    \"hue\": `Odstn`,\n    \"lightness\": `Svtlost`,\n    \"red\": `erven`,\n    \"saturation\": `Sytost`\n};\n\n\nvar $7097f64386f1761c$exports = {};\n$7097f64386f1761c$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Bl`,\n    \"brightness\": `Lysstyrke`,\n    \"green\": `Grn`,\n    \"hue\": `Tone`,\n    \"lightness\": `Lyshed`,\n    \"red\": `Rd`,\n    \"saturation\": `Farvemtning`\n};\n\n\nvar $bdd847d8beb08799$exports = {};\n$bdd847d8beb08799$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": `Blau`,\n    \"brightness\": `Helligkeit`,\n    \"green\": `Grn`,\n    \"hue\": `Farbton`,\n    \"lightness\": `Leuchtkraft`,\n    \"red\": `Rot`,\n    \"saturation\": `Sttigung`\n};\n\n\nvar $a53e00b683950971$exports = {};\n$a53e00b683950971$exports = {\n    \"alpha\": ``,\n    \"blue\": ``,\n    \"brightness\": ``,\n    \"green\": ``,\n    \"hue\": ``,\n    \"lightness\": ``,\n    \"red\": ``,\n    \"saturation\": ``\n};\n\n\nvar $21cdd87e84f28d89$exports = {};\n$21cdd87e84f28d89$exports = {\n    \"hue\": `Hue`,\n    \"saturation\": `Saturation`,\n    \"lightness\": `Lightness`,\n    \"brightness\": `Brightness`,\n    \"red\": `Red`,\n    \"green\": `Green`,\n    \"blue\": `Blue`,\n    \"alpha\": `Alpha`\n};\n\n\nvar $92fee9698e4d675a$exports = {};\n$92fee9698e4d675a$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": `Azul`,\n    \"brightness\": `Brillo`,\n    \"green\": `Verde`,\n    \"hue\": `Tono`,\n    \"lightness\": `Luminosidad`,\n    \"red\": `Rojo`,\n    \"saturation\": `Saturacin`\n};\n\n\nvar $7ea012e91a5ad3ee$exports = {};\n$7ea012e91a5ad3ee$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Sinine`,\n    \"brightness\": `Heledus`,\n    \"green\": `Roheline`,\n    \"hue\": `Vrv`,\n    \"lightness\": `Valgus`,\n    \"red\": `Punane`,\n    \"saturation\": `Kllastus`\n};\n\n\nvar $8460c13bb2d75345$exports = {};\n$8460c13bb2d75345$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": `Sininen`,\n    \"brightness\": `Kirkkaus`,\n    \"green\": `Vihre`,\n    \"hue\": `Svy`,\n    \"lightness\": `Valomr`,\n    \"red\": `Punainen`,\n    \"saturation\": `Vrikyllisyys`\n};\n\n\nvar $2a2d5dc14e680587$exports = {};\n$2a2d5dc14e680587$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": `Bleu`,\n    \"brightness\": `Luminosit`,\n    \"green\": `Vert`,\n    \"hue\": `Teinte`,\n    \"lightness\": `Luminosit`,\n    \"red\": `Rouge`,\n    \"saturation\": `Saturation`\n};\n\n\nvar $9a3f292371bb0589$exports = {};\n$9a3f292371bb0589$exports = {\n    \"alpha\": ``,\n    \"blue\": ``,\n    \"brightness\": ``,\n    \"green\": ``,\n    \"hue\": ``,\n    \"lightness\": ` `,\n    \"red\": ``,\n    \"saturation\": ``\n};\n\n\nvar $4742231a685fa068$exports = {};\n$4742231a685fa068$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Plava`,\n    \"brightness\": `Svjetlina`,\n    \"green\": `Zelena`,\n    \"hue\": `Nijansa`,\n    \"lightness\": `Osvijetljenost`,\n    \"red\": `Crvena`,\n    \"saturation\": `Zasienost`\n};\n\n\nvar $05e247fd2960981e$exports = {};\n$05e247fd2960981e$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Kk`,\n    \"brightness\": `Fnyessg`,\n    \"green\": `Zld`,\n    \"hue\": `Sznrnyalat`,\n    \"lightness\": `Vilgossg`,\n    \"red\": `Piros`,\n    \"saturation\": `Teltettsg`\n};\n\n\nvar $a67524a79ccbe190$exports = {};\n$a67524a79ccbe190$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Blu`,\n    \"brightness\": `Luminosit`,\n    \"green\": `Verde`,\n    \"hue\": `Tonalit`,\n    \"lightness\": `Luminosit`,\n    \"red\": `Rosso`,\n    \"saturation\": `Saturazione`\n};\n\n\nvar $a9eefe9d6c8cb7d5$exports = {};\n$a9eefe9d6c8cb7d5$exports = {\n    \"alpha\": ``,\n    \"blue\": ``,\n    \"brightness\": ``,\n    \"green\": ``,\n    \"hue\": ``,\n    \"lightness\": ``,\n    \"red\": ``,\n    \"saturation\": ``\n};\n\n\nvar $4a6b836d4f1bfaba$exports = {};\n$4a6b836d4f1bfaba$exports = {\n    \"alpha\": ``,\n    \"blue\": ``,\n    \"brightness\": ``,\n    \"green\": ``,\n    \"hue\": ``,\n    \"lightness\": ``,\n    \"red\": ``,\n    \"saturation\": ``\n};\n\n\nvar $c950e4b1c482abde$exports = {};\n$c950e4b1c482abde$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Mlyna`,\n    \"brightness\": `Rykumas`,\n    \"green\": `alia`,\n    \"hue\": `Atspalvis`,\n    \"lightness\": `viesumas`,\n    \"red\": `Raudona`,\n    \"saturation\": `sotinimas`\n};\n\n\nvar $d10d6b60dc50b438$exports = {};\n$d10d6b60dc50b438$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Zila`,\n    \"brightness\": `Spilgtums`,\n    \"green\": `Zaa`,\n    \"hue\": `Nokrsa`,\n    \"lightness\": `Gaiums`,\n    \"red\": `Sarkana`,\n    \"saturation\": `Piestinjums`\n};\n\n\nvar $371a732b2494f452$exports = {};\n$371a732b2494f452$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Bl`,\n    \"brightness\": `Lysstyrke`,\n    \"green\": `Grnn`,\n    \"hue\": `Fargetone`,\n    \"lightness\": `Lyshet`,\n    \"red\": `Rd`,\n    \"saturation\": `Metning`\n};\n\n\nvar $6d042cae6243464b$exports = {};\n$6d042cae6243464b$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Blauw`,\n    \"brightness\": `Helderheid`,\n    \"green\": `Groen`,\n    \"hue\": `Kleurtoon`,\n    \"lightness\": `Lichtsterkte`,\n    \"red\": `Rood`,\n    \"saturation\": `Verzadiging`\n};\n\n\nvar $d9ab5c2611e0bcd3$exports = {};\n$d9ab5c2611e0bcd3$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Niebieski`,\n    \"brightness\": `Jasno`,\n    \"green\": `Zielony`,\n    \"hue\": `Odcie`,\n    \"lightness\": `Jaskrawo`,\n    \"red\": `Czerwony`,\n    \"saturation\": `Nasycenie`\n};\n\n\nvar $73f77c9902e29ca6$exports = {};\n$73f77c9902e29ca6$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Azul`,\n    \"brightness\": `Brilho`,\n    \"green\": `Verde`,\n    \"hue\": `Matiz`,\n    \"lightness\": `Luminosidade`,\n    \"red\": `Vermelho`,\n    \"saturation\": `Saturao`\n};\n\n\nvar $4f461eb266a95c10$exports = {};\n$4f461eb266a95c10$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Azul`,\n    \"brightness\": `Luminosidade`,\n    \"green\": `Verde`,\n    \"hue\": `Tonalidade`,\n    \"lightness\": `Claridade`,\n    \"red\": `Vermelho`,\n    \"saturation\": `Saturao`\n};\n\n\nvar $dc46bea2f2597899$exports = {};\n$dc46bea2f2597899$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Albastru`,\n    \"brightness\": `Luminozitate`,\n    \"green\": `Verde`,\n    \"hue\": `Nuan`,\n    \"lightness\": `Luminozitate`,\n    \"red\": `Rou`,\n    \"saturation\": `Saturaie`\n};\n\n\nvar $622bbd6719cc95af$exports = {};\n$622bbd6719cc95af$exports = {\n    \"alpha\": ``,\n    \"blue\": ``,\n    \"brightness\": ``,\n    \"green\": ``,\n    \"hue\": ``,\n    \"lightness\": ``,\n    \"red\": ``,\n    \"saturation\": ``\n};\n\n\nvar $4da03c1ecd9a9c7d$exports = {};\n$4da03c1ecd9a9c7d$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Modr`,\n    \"brightness\": `Jas`,\n    \"green\": `Zelen`,\n    \"hue\": `Odtie`,\n    \"lightness\": `Svetlos`,\n    \"red\": `erven`,\n    \"saturation\": `Stos`\n};\n\n\nvar $edb6b2fe456ed4e8$exports = {};\n$edb6b2fe456ed4e8$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Modra`,\n    \"brightness\": `Svetlost`,\n    \"green\": `Zelena`,\n    \"hue\": `Barva`,\n    \"lightness\": `Lahkost`,\n    \"red\": `Rdea`,\n    \"saturation\": `Nasienost`\n};\n\n\nvar $264cd81c52b30815$exports = {};\n$264cd81c52b30815$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Plava`,\n    \"brightness\": `Osvetljenost`,\n    \"green\": `Zelena`,\n    \"hue\": `Nijansa`,\n    \"lightness\": `Osvetljenje`,\n    \"red\": `Crvena`,\n    \"saturation\": `Zasienje`\n};\n\n\nvar $6f80afde0270dda7$exports = {};\n$6f80afde0270dda7$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Bltt`,\n    \"brightness\": `Ljusstyrka`,\n    \"green\": `Grnt`,\n    \"hue\": `Nyans`,\n    \"lightness\": `Ljushet`,\n    \"red\": `Rtt`,\n    \"saturation\": `Mttnad`\n};\n\n\nvar $23a92651c6957668$exports = {};\n$23a92651c6957668$exports = {\n    \"alpha\": `Alfa`,\n    \"blue\": `Mavi`,\n    \"brightness\": `Parlaklk`,\n    \"green\": `Yeil`,\n    \"hue\": `Ton`,\n    \"lightness\": `Canllk`,\n    \"red\": `Krmz`,\n    \"saturation\": `Doygunluk`\n};\n\n\nvar $0f9b1074d04f4954$exports = {};\n$0f9b1074d04f4954$exports = {\n    \"alpha\": ``,\n    \"blue\": ``,\n    \"brightness\": ``,\n    \"green\": ``,\n    \"hue\": ``,\n    \"lightness\": ``,\n    \"red\": ``,\n    \"saturation\": ``\n};\n\n\nvar $a9cedf75b94e4916$exports = {};\n$a9cedf75b94e4916$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": ``,\n    \"brightness\": ``,\n    \"green\": ``,\n    \"hue\": ``,\n    \"lightness\": ``,\n    \"red\": ``,\n    \"saturation\": ``\n};\n\n\nvar $37cff576474bc8d4$exports = {};\n$37cff576474bc8d4$exports = {\n    \"alpha\": `Alpha`,\n    \"blue\": ``,\n    \"brightness\": ``,\n    \"green\": ``,\n    \"hue\": ``,\n    \"lightness\": ``,\n    \"red\": ``,\n    \"saturation\": ``\n};\n\n\n$7a451c0c6841e6b9$exports = {\n    \"ar-AE\": $2d805fd52bb48883$exports,\n    \"bg-BG\": $6c28468dc1df643c$exports,\n    \"cs-CZ\": $807554f8230db0ed$exports,\n    \"da-DK\": $7097f64386f1761c$exports,\n    \"de-DE\": $bdd847d8beb08799$exports,\n    \"el-GR\": $a53e00b683950971$exports,\n    \"en-US\": $21cdd87e84f28d89$exports,\n    \"es-ES\": $92fee9698e4d675a$exports,\n    \"et-EE\": $7ea012e91a5ad3ee$exports,\n    \"fi-FI\": $8460c13bb2d75345$exports,\n    \"fr-FR\": $2a2d5dc14e680587$exports,\n    \"he-IL\": $9a3f292371bb0589$exports,\n    \"hr-HR\": $4742231a685fa068$exports,\n    \"hu-HU\": $05e247fd2960981e$exports,\n    \"it-IT\": $a67524a79ccbe190$exports,\n    \"ja-JP\": $a9eefe9d6c8cb7d5$exports,\n    \"ko-KR\": $4a6b836d4f1bfaba$exports,\n    \"lt-LT\": $c950e4b1c482abde$exports,\n    \"lv-LV\": $d10d6b60dc50b438$exports,\n    \"nb-NO\": $371a732b2494f452$exports,\n    \"nl-NL\": $6d042cae6243464b$exports,\n    \"pl-PL\": $d9ab5c2611e0bcd3$exports,\n    \"pt-BR\": $73f77c9902e29ca6$exports,\n    \"pt-PT\": $4f461eb266a95c10$exports,\n    \"ro-RO\": $dc46bea2f2597899$exports,\n    \"ru-RU\": $622bbd6719cc95af$exports,\n    \"sk-SK\": $4da03c1ecd9a9c7d$exports,\n    \"sl-SI\": $edb6b2fe456ed4e8$exports,\n    \"sr-SP\": $264cd81c52b30815$exports,\n    \"sv-SE\": $6f80afde0270dda7$exports,\n    \"tr-TR\": $23a92651c6957668$exports,\n    \"uk-UA\": $0f9b1074d04f4954$exports,\n    \"zh-CN\": $a9cedf75b94e4916$exports,\n    \"zh-TW\": $37cff576474bc8d4$exports\n};\n\n\n\n\nconst $799cddbef784668f$var$strings = new $cBgAy$LocalizedStringDictionary((/*@__PURE__*/$parcel$interopDefault($7a451c0c6841e6b9$exports)));\nfunction $799cddbef784668f$export$6e865ea70d7724f(value) {\n    let res = $799cddbef784668f$var$RGBColor.parse(value) || $799cddbef784668f$var$HSBColor.parse(value) || $799cddbef784668f$var$HSLColor.parse(value);\n    if (res) return res;\n    throw new Error('Invalid color value: ' + value);\n}\nfunction $799cddbef784668f$export$4cde5df63f53f473(v) {\n    if (typeof v === 'string') return $799cddbef784668f$export$6e865ea70d7724f(v);\n    else return v;\n}\nclass $799cddbef784668f$var$Color {\n    toHexInt() {\n        return this.toFormat('rgb').toHexInt();\n    }\n    getChannelValue(channel) {\n        if (channel in this) return this[channel];\n        throw new Error('Unsupported color channel: ' + channel);\n    }\n    withChannelValue(channel, value) {\n        if (channel in this) {\n            let x = this.clone();\n            x[channel] = value;\n            return x;\n        }\n        throw new Error('Unsupported color channel: ' + channel);\n    }\n    getChannelName(channel, locale) {\n        return $799cddbef784668f$var$strings.getStringForLocale(channel, locale);\n    }\n    getColorSpaceAxes(xyChannels) {\n        let { xChannel: xChannel , yChannel: yChannel  } = xyChannels;\n        let xCh = xChannel || this.getColorChannels().find((c)=>c !== yChannel\n        );\n        let yCh = yChannel || this.getColorChannels().find((c)=>c !== xCh\n        );\n        let zCh = this.getColorChannels().find((c)=>c !== xCh && c !== yCh\n        );\n        return {\n            xChannel: xCh,\n            yChannel: yCh,\n            zChannel: zCh\n        };\n    }\n}\nclass $799cddbef784668f$var$RGBColor extends $799cddbef784668f$var$Color {\n    static parse(value1) {\n        let colors = [];\n        // matching #rgb, #rgba, #rrggbb, #rrggbbaa\n        if (/^#[\\da-f]+$/i.test(value1) && [\n            4,\n            5,\n            7,\n            9\n        ].includes(value1.length)) {\n            const values = (value1.length < 6 ? value1.replace(/[^#]/gi, '$&$&') : value1).slice(1).split('');\n            while(values.length > 0)colors.push(parseInt(values.splice(0, 2).join(''), 16));\n            colors[3] = colors[3] !== undefined ? colors[3] / 255 : undefined;\n        }\n        // matching rgb(rrr, ggg, bbb), rgba(rrr, ggg, bbb, 0.a)\n        const match = value1.match(/^rgba?\\((.*)\\)$/);\n        if (match === null || match === void 0 ? void 0 : match[1]) {\n            colors = match[1].split(',').map((value)=>Number(value.trim())\n            );\n            colors = colors.map((num, i)=>$cBgAy$clamp(num, 0, i < 3 ? 255 : 1)\n            );\n        }\n        var ref;\n        return colors.length < 3 ? undefined : new $799cddbef784668f$var$RGBColor(colors[0], colors[1], colors[2], (ref = colors[3]) !== null && ref !== void 0 ? ref : 1);\n    }\n    toString(format) {\n        switch(format){\n            case 'hex':\n                return '#' + (this.red.toString(16).padStart(2, '0') + this.green.toString(16).padStart(2, '0') + this.blue.toString(16).padStart(2, '0')).toUpperCase();\n            case 'hexa':\n                return '#' + (this.red.toString(16).padStart(2, '0') + this.green.toString(16).padStart(2, '0') + this.blue.toString(16).padStart(2, '0') + Math.round(this.alpha * 255).toString(16).padStart(2, '0')).toUpperCase();\n            case 'rgb':\n                return `rgb(${this.red}, ${this.green}, ${this.blue})`;\n            case 'css':\n            case 'rgba':\n                return `rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;\n            default:\n                return this.toFormat(format).toString(format);\n        }\n    }\n    toFormat(format) {\n        switch(format){\n            case 'hex':\n            case 'hexa':\n            case 'rgb':\n            case 'rgba':\n                return this;\n            case 'hsb':\n            case 'hsba':\n                return this.toHSB();\n            case 'hsl':\n            case 'hsla':\n                return this.toHSL();\n            default:\n                throw new Error('Unsupported color conversion: rgb -> ' + format);\n        }\n    }\n    toHexInt() {\n        return this.red << 16 | this.green << 8 | this.blue;\n    }\n    /**\n   * Converts an RGB color value to HSB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB.\n   * @returns An HSBColor object.\n   */ toHSB() {\n        const red = this.red / 255;\n        const green = this.green / 255;\n        const blue = this.blue / 255;\n        const min = Math.min(red, green, blue);\n        const brightness = Math.max(red, green, blue);\n        const chroma = brightness - min;\n        const saturation = brightness === 0 ? 0 : chroma / brightness;\n        let hue = 0; // achromatic\n        if (chroma !== 0) {\n            switch(brightness){\n                case red:\n                    hue = (green - blue) / chroma + (green < blue ? 6 : 0);\n                    break;\n                case green:\n                    hue = (blue - red) / chroma + 2;\n                    break;\n                case blue:\n                    hue = (red - green) / chroma + 4;\n                    break;\n            }\n            hue /= 6;\n        }\n        return new $799cddbef784668f$var$HSBColor($cBgAy$toFixedNumber(hue * 360, 2), $cBgAy$toFixedNumber(saturation * 100, 2), $cBgAy$toFixedNumber(brightness * 100, 2), this.alpha);\n    }\n    /**\n   * Converts an RGB color value to HSL.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB.\n   * @returns An HSLColor object.\n   */ toHSL() {\n        const red = this.red / 255;\n        const green = this.green / 255;\n        const blue = this.blue / 255;\n        const min = Math.min(red, green, blue);\n        const max = Math.max(red, green, blue);\n        const lightness = (max + min) / 2;\n        const chroma = max - min;\n        let hue;\n        let saturation;\n        if (chroma === 0) hue = saturation = 0; // achromatic\n        else {\n            saturation = chroma / (lightness < 0.5 ? max + min : 2 - max - min);\n            switch(max){\n                case red:\n                    hue = (green - blue) / chroma + (green < blue ? 6 : 0);\n                    break;\n                case green:\n                    hue = (blue - red) / chroma + 2;\n                    break;\n                case blue:\n                    hue = (red - green) / chroma + 4;\n                    break;\n            }\n            hue /= 6;\n        }\n        return new $799cddbef784668f$var$HSLColor($cBgAy$toFixedNumber(hue * 360, 2), $cBgAy$toFixedNumber(saturation * 100, 2), $cBgAy$toFixedNumber(lightness * 100, 2), this.alpha);\n    }\n    clone() {\n        return new $799cddbef784668f$var$RGBColor(this.red, this.green, this.blue, this.alpha);\n    }\n    getChannelRange(channel) {\n        switch(channel){\n            case 'red':\n            case 'green':\n            case 'blue':\n                return {\n                    minValue: 0,\n                    maxValue: 255,\n                    step: 1,\n                    pageSize: 17\n                };\n            case 'alpha':\n                return {\n                    minValue: 0,\n                    maxValue: 1,\n                    step: 0.01,\n                    pageSize: 0.1\n                };\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n    }\n    formatChannelValue(channel, locale) {\n        let options;\n        let value = this.getChannelValue(channel);\n        switch(channel){\n            case 'red':\n            case 'green':\n            case 'blue':\n                options = {\n                    style: 'decimal'\n                };\n                break;\n            case 'alpha':\n                options = {\n                    style: 'percent'\n                };\n                break;\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n        return new $cBgAy$NumberFormatter(locale, options).format(value);\n    }\n    getColorSpace() {\n        return 'rgb';\n    }\n    getColorChannels() {\n        return $799cddbef784668f$var$RGBColor.colorChannels;\n    }\n    constructor(red, green, blue, alpha){\n        super();\n        this.red = red;\n        this.green = green;\n        this.blue = blue;\n        this.alpha = alpha;\n    }\n}\n$799cddbef784668f$var$RGBColor.colorChannels = [\n    'red',\n    'green',\n    'blue'\n];\n// X = <negative/positive number with/without decimal places>\n// before/after a comma, 0 or more whitespaces are allowed\n// - hsb(X, X%, X%)\n// - hsba(X, X%, X%, X)\nconst $799cddbef784668f$var$HSB_REGEX = /hsb\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%)\\)|hsba\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d(.\\d+)?)\\)/;\nclass $799cddbef784668f$var$HSBColor extends $799cddbef784668f$var$Color {\n    static parse(value) {\n        let m;\n        if (m = value.match($799cddbef784668f$var$HSB_REGEX)) {\n            var ref;\n            const [h, s, b, a] = ((ref = m[1]) !== null && ref !== void 0 ? ref : m[2]).split(',').map((n)=>Number(n.trim().replace('%', ''))\n            );\n            return new $799cddbef784668f$var$HSBColor($799cddbef784668f$var$mod(h, 360), $cBgAy$clamp(s, 0, 100), $cBgAy$clamp(b, 0, 100), $cBgAy$clamp(a !== null && a !== void 0 ? a : 1, 0, 1));\n        }\n    }\n    toString(format) {\n        switch(format){\n            case 'css':\n                return this.toHSL().toString('css');\n            case 'hex':\n                return this.toRGB().toString('hex');\n            case 'hexa':\n                return this.toRGB().toString('hexa');\n            case 'hsb':\n                return `hsb(${this.hue}, ${$cBgAy$toFixedNumber(this.saturation, 2)}%, ${$cBgAy$toFixedNumber(this.brightness, 2)}%)`;\n            case 'hsba':\n                return `hsba(${this.hue}, ${$cBgAy$toFixedNumber(this.saturation, 2)}%, ${$cBgAy$toFixedNumber(this.brightness, 2)}%, ${this.alpha})`;\n            default:\n                return this.toFormat(format).toString(format);\n        }\n    }\n    toFormat(format) {\n        switch(format){\n            case 'hsb':\n            case 'hsba':\n                return this;\n            case 'hsl':\n            case 'hsla':\n                return this.toHSL();\n            case 'rgb':\n            case 'rgba':\n                return this.toRGB();\n            default:\n                throw new Error('Unsupported color conversion: hsb -> ' + format);\n        }\n    }\n    /**\n   * Converts a HSB color to HSL.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_HSL.\n   * @returns An HSLColor object.\n   */ toHSL() {\n        let saturation = this.saturation / 100;\n        let brightness = this.brightness / 100;\n        let lightness = brightness * (1 - saturation / 2);\n        saturation = lightness === 0 || lightness === 1 ? 0 : (brightness - lightness) / Math.min(lightness, 1 - lightness);\n        return new $799cddbef784668f$var$HSLColor($cBgAy$toFixedNumber(this.hue, 2), $cBgAy$toFixedNumber(saturation * 100, 2), $cBgAy$toFixedNumber(lightness * 100, 2), this.alpha);\n    }\n    /**\n   * Converts a HSV color value to RGB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSV_to_RGB_alternative.\n   * @returns An RGBColor object.\n   */ toRGB() {\n        let hue = this.hue;\n        let saturation = this.saturation / 100;\n        let brightness = this.brightness / 100;\n        let fn = (n, k = (n + hue / 60) % 6)=>brightness - saturation * brightness * Math.max(Math.min(k, 4 - k, 1), 0)\n        ;\n        return new $799cddbef784668f$var$RGBColor(Math.round(fn(5) * 255), Math.round(fn(3) * 255), Math.round(fn(1) * 255), this.alpha);\n    }\n    clone() {\n        return new $799cddbef784668f$var$HSBColor(this.hue, this.saturation, this.brightness, this.alpha);\n    }\n    getChannelRange(channel) {\n        switch(channel){\n            case 'hue':\n                return {\n                    minValue: 0,\n                    maxValue: 360,\n                    step: 1,\n                    pageSize: 15\n                };\n            case 'saturation':\n            case 'brightness':\n                return {\n                    minValue: 0,\n                    maxValue: 100,\n                    step: 1,\n                    pageSize: 10\n                };\n            case 'alpha':\n                return {\n                    minValue: 0,\n                    maxValue: 1,\n                    step: 0.01,\n                    pageSize: 0.1\n                };\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n    }\n    formatChannelValue(channel, locale) {\n        let options;\n        let value = this.getChannelValue(channel);\n        switch(channel){\n            case 'hue':\n                options = {\n                    style: 'unit',\n                    unit: 'degree',\n                    unitDisplay: 'narrow'\n                };\n                break;\n            case 'saturation':\n            case 'brightness':\n                options = {\n                    style: 'percent'\n                };\n                value /= 100;\n                break;\n            case 'alpha':\n                options = {\n                    style: 'percent'\n                };\n                break;\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n        return new $cBgAy$NumberFormatter(locale, options).format(value);\n    }\n    getColorSpace() {\n        return 'hsb';\n    }\n    getColorChannels() {\n        return $799cddbef784668f$var$HSBColor.colorChannels;\n    }\n    constructor(hue, saturation, brightness, alpha){\n        super();\n        this.hue = hue;\n        this.saturation = saturation;\n        this.brightness = brightness;\n        this.alpha = alpha;\n    }\n}\n$799cddbef784668f$var$HSBColor.colorChannels = [\n    'hue',\n    'saturation',\n    'brightness'\n];\n// X = <negative/positive number with/without decimal places>\n// before/after a comma, 0 or more whitespaces are allowed\n// - hsl(X, X%, X%)\n// - hsla(X, X%, X%, X)\nconst $799cddbef784668f$var$HSL_REGEX = /hsl\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%)\\)|hsla\\(([-+]?\\d+(?:.\\d+)?\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d+(?:.\\d+)?%\\s*,\\s*[-+]?\\d(.\\d+)?)\\)/;\nfunction $799cddbef784668f$var$mod(n, m) {\n    return (n % m + m) % m;\n}\nclass $799cddbef784668f$var$HSLColor extends $799cddbef784668f$var$Color {\n    static parse(value) {\n        let m;\n        if (m = value.match($799cddbef784668f$var$HSL_REGEX)) {\n            var ref;\n            const [h, s, l, a] = ((ref = m[1]) !== null && ref !== void 0 ? ref : m[2]).split(',').map((n)=>Number(n.trim().replace('%', ''))\n            );\n            return new $799cddbef784668f$var$HSLColor($799cddbef784668f$var$mod(h, 360), $cBgAy$clamp(s, 0, 100), $cBgAy$clamp(l, 0, 100), $cBgAy$clamp(a !== null && a !== void 0 ? a : 1, 0, 1));\n        }\n    }\n    toString(format) {\n        switch(format){\n            case 'hex':\n                return this.toRGB().toString('hex');\n            case 'hexa':\n                return this.toRGB().toString('hexa');\n            case 'hsl':\n                return `hsl(${this.hue}, ${$cBgAy$toFixedNumber(this.saturation, 2)}%, ${$cBgAy$toFixedNumber(this.lightness, 2)}%)`;\n            case 'css':\n            case 'hsla':\n                return `hsla(${this.hue}, ${$cBgAy$toFixedNumber(this.saturation, 2)}%, ${$cBgAy$toFixedNumber(this.lightness, 2)}%, ${this.alpha})`;\n            default:\n                return this.toFormat(format).toString(format);\n        }\n    }\n    toFormat(format) {\n        switch(format){\n            case 'hsl':\n            case 'hsla':\n                return this;\n            case 'hsb':\n            case 'hsba':\n                return this.toHSB();\n            case 'rgb':\n            case 'rgba':\n                return this.toRGB();\n            default:\n                throw new Error('Unsupported color conversion: hsl -> ' + format);\n        }\n    }\n    /**\n   * Converts a HSL color to HSB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_HSV.\n   * @returns An HSBColor object.\n   */ toHSB() {\n        let saturation = this.saturation / 100;\n        let lightness = this.lightness / 100;\n        let brightness = lightness + saturation * Math.min(lightness, 1 - lightness);\n        saturation = brightness === 0 ? 0 : 2 * (1 - lightness / brightness);\n        return new $799cddbef784668f$var$HSBColor($cBgAy$toFixedNumber(this.hue, 2), $cBgAy$toFixedNumber(saturation * 100, 2), $cBgAy$toFixedNumber(brightness * 100, 2), this.alpha);\n    }\n    /**\n   * Converts a HSL color to RGB.\n   * Conversion formula adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_RGB_alternative.\n   * @returns An RGBColor object.\n   */ toRGB() {\n        let hue = this.hue;\n        let saturation = this.saturation / 100;\n        let lightness = this.lightness / 100;\n        let a = saturation * Math.min(lightness, 1 - lightness);\n        let fn = (n, k = (n + hue / 30) % 12)=>lightness - a * Math.max(Math.min(k - 3, 9 - k, 1), -1)\n        ;\n        return new $799cddbef784668f$var$RGBColor(Math.round(fn(0) * 255), Math.round(fn(8) * 255), Math.round(fn(4) * 255), this.alpha);\n    }\n    clone() {\n        return new $799cddbef784668f$var$HSLColor(this.hue, this.saturation, this.lightness, this.alpha);\n    }\n    getChannelRange(channel) {\n        switch(channel){\n            case 'hue':\n                return {\n                    minValue: 0,\n                    maxValue: 360,\n                    step: 1,\n                    pageSize: 15\n                };\n            case 'saturation':\n            case 'lightness':\n                return {\n                    minValue: 0,\n                    maxValue: 100,\n                    step: 1,\n                    pageSize: 10\n                };\n            case 'alpha':\n                return {\n                    minValue: 0,\n                    maxValue: 1,\n                    step: 0.01,\n                    pageSize: 0.1\n                };\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n    }\n    formatChannelValue(channel, locale) {\n        let options;\n        let value = this.getChannelValue(channel);\n        switch(channel){\n            case 'hue':\n                options = {\n                    style: 'unit',\n                    unit: 'degree',\n                    unitDisplay: 'narrow'\n                };\n                break;\n            case 'saturation':\n            case 'lightness':\n                options = {\n                    style: 'percent'\n                };\n                value /= 100;\n                break;\n            case 'alpha':\n                options = {\n                    style: 'percent'\n                };\n                break;\n            default:\n                throw new Error('Unknown color channel: ' + channel);\n        }\n        return new $cBgAy$NumberFormatter(locale, options).format(value);\n    }\n    getColorSpace() {\n        return 'hsl';\n    }\n    getColorChannels() {\n        return $799cddbef784668f$var$HSLColor.colorChannels;\n    }\n    constructor(hue, saturation, lightness, alpha){\n        super();\n        this.hue = hue;\n        this.saturation = saturation;\n        this.lightness = lightness;\n        this.alpha = alpha;\n    }\n}\n$799cddbef784668f$var$HSLColor.colorChannels = [\n    'hue',\n    'saturation',\n    'lightness'\n];\n\n\n\n\n\nconst $6e14a98a7f67141d$var$DEFAULT_COLOR = $799cddbef784668f$export$6e865ea70d7724f('#ffffff');\nfunction $6e14a98a7f67141d$export$6df7f0e2cabc7eef(props) {\n    let { value: value1 , defaultValue: defaultValue , xChannel: xChannel , yChannel: yChannel , onChange: onChange , onChangeEnd: onChangeEnd  } = props;\n    if (!value1 && !defaultValue) defaultValue = $6e14a98a7f67141d$var$DEFAULT_COLOR;\n    let [color, setColor] = $cBgAy$useControlledState(value1 && $799cddbef784668f$export$4cde5df63f53f473(value1), defaultValue && $799cddbef784668f$export$4cde5df63f53f473(defaultValue), onChange);\n    let valueRef = $cBgAy$useRef(color);\n    valueRef.current = color;\n    let channels = $cBgAy$useMemo(()=>valueRef.current.getColorSpaceAxes({\n            xChannel: xChannel,\n            yChannel: yChannel\n        })\n    , [\n        xChannel,\n        yChannel\n    ]);\n    let xChannelRange = color.getChannelRange(channels.xChannel);\n    let yChannelRange = color.getChannelRange(channels.yChannel);\n    let { minValue: minValueX , maxValue: maxValueX , step: stepX , pageSize: pageSizeX  } = xChannelRange;\n    let { minValue: minValueY , maxValue: maxValueY , step: stepY , pageSize: pageSizeY  } = yChannelRange;\n    let [isDragging1, setDragging] = $cBgAy$useState(false);\n    let isDraggingRef = $cBgAy$useRef(false).current;\n    let xValue = color.getChannelValue(channels.xChannel);\n    let yValue = color.getChannelValue(channels.yChannel);\n    let setXValue = (v)=>{\n        if (v === xValue) return;\n        valueRef.current = color.withChannelValue(channels.xChannel, v);\n        setColor(valueRef.current);\n    };\n    let setYValue = (v)=>{\n        if (v === yValue) return;\n        valueRef.current = color.withChannelValue(channels.yChannel, v);\n        setColor(valueRef.current);\n    };\n    return {\n        channels: channels,\n        xChannelStep: stepX,\n        yChannelStep: stepY,\n        xChannelPageStep: pageSizeX,\n        yChannelPageStep: pageSizeY,\n        value: color,\n        setValue (value) {\n            let c = $799cddbef784668f$export$4cde5df63f53f473(value);\n            valueRef.current = c;\n            setColor(c);\n        },\n        xValue: xValue,\n        setXValue: setXValue,\n        yValue: yValue,\n        setYValue: setYValue,\n        setColorFromPoint (x, y) {\n            let newXValue = minValueX + $cBgAy$clamp(x, 0, 1) * (maxValueX - minValueX);\n            let newYValue = minValueY + (1 - $cBgAy$clamp(y, 0, 1)) * (maxValueY - minValueY);\n            let newColor;\n            if (newXValue !== xValue) {\n                // Round new value to multiple of step, clamp value between min and max\n                newXValue = $cBgAy$snapValueToStep(newXValue, minValueX, maxValueX, stepX);\n                newColor = color.withChannelValue(channels.xChannel, newXValue);\n            }\n            if (newYValue !== yValue) {\n                // Round new value to multiple of step, clamp value between min and max\n                newYValue = $cBgAy$snapValueToStep(newYValue, minValueY, maxValueY, stepY);\n                newColor = (newColor || color).withChannelValue(channels.yChannel, newYValue);\n            }\n            if (newColor) setColor(newColor);\n        },\n        getThumbPosition () {\n            let x = (xValue - minValueX) / (maxValueX - minValueX);\n            let y = 1 - (yValue - minValueY) / (maxValueY - minValueY);\n            return {\n                x: x,\n                y: y\n            };\n        },\n        incrementX (stepSize) {\n            setXValue(xValue + stepSize > maxValueX ? maxValueX : $cBgAy$snapValueToStep(xValue + stepSize, minValueX, maxValueX, stepX));\n        },\n        incrementY (stepSize) {\n            setYValue(yValue + stepSize > maxValueY ? maxValueY : $cBgAy$snapValueToStep(yValue + stepSize, minValueY, maxValueY, stepY));\n        },\n        decrementX (stepSize) {\n            setXValue($cBgAy$snapValueToStep(xValue - stepSize, minValueX, maxValueX, stepX));\n        },\n        decrementY (stepSize) {\n            setYValue($cBgAy$snapValueToStep(yValue - stepSize, minValueY, maxValueY, stepY));\n        },\n        setDragging (isDragging) {\n            let wasDragging = isDraggingRef;\n            isDraggingRef = isDragging;\n            if (onChangeEnd && !isDragging && wasDragging) onChangeEnd(valueRef.current);\n            setDragging(isDragging);\n        },\n        isDragging: isDragging1,\n        getDisplayColor () {\n            return color.withChannelValue('alpha', 1);\n        }\n    };\n}\n\n\n\n\n\nfunction $25a25ac0d1624665$export$57bc203e1c9c6d44(props) {\n    let { channel: channel , value: value1 , defaultValue: defaultValue , onChange: onChange , locale: locale , ...otherProps } = props;\n    if (value1 == null && defaultValue == null) throw new Error('useColorSliderState requires a value or defaultValue');\n    let [color, setColor] = $cBgAy$useControlledState(value1 && $799cddbef784668f$export$4cde5df63f53f473(value1), defaultValue && $799cddbef784668f$export$4cde5df63f53f473(defaultValue), onChange);\n    let sliderState = $cBgAy$useSliderState({\n        ...color.getChannelRange(channel),\n        ...otherProps,\n        // Unused except in getThumbValueLabel, which is overridden below. null to appease TypeScript.\n        numberFormatter: null,\n        value: color.getChannelValue(channel),\n        onChange (v) {\n            setColor(color.withChannelValue(channel, v));\n        },\n        onChangeEnd (v) {\n            // onChange will have already been called with the right value, this is just to trigger onChangeEnd\n            if (props.onChangeEnd) props.onChangeEnd(color.withChannelValue(channel, v));\n        }\n    });\n    let { step: step , pageSize: pageSize  } = color.getChannelRange(channel);\n    return {\n        ...sliderState,\n        value: color,\n        setValue (value) {\n            setColor($799cddbef784668f$export$4cde5df63f53f473(value));\n        },\n        getDisplayColor () {\n            switch(channel){\n                case 'hue':\n                    return $799cddbef784668f$export$6e865ea70d7724f(`hsl(${color.getChannelValue('hue')}, 100%, 50%)`);\n                case 'lightness':\n                case 'brightness':\n                case 'saturation':\n                case 'red':\n                case 'green':\n                case 'blue':\n                    return color.withChannelValue('alpha', 1);\n                case 'alpha':\n                    return color;\n                default:\n                    throw new Error('Unknown color channel: ' + channel);\n            }\n        },\n        getThumbValueLabel () {\n            return color.formatChannelValue(channel, locale);\n        },\n        step: step,\n        pageSize: pageSize\n    };\n}\n\n\n\n\n\nconst $ee4262c74a467b07$var$DEFAULT_COLOR = $799cddbef784668f$export$6e865ea70d7724f('hsl(0, 100%, 50%)');\nfunction $ee4262c74a467b07$var$roundToStep(value, step) {\n    return Math.round(value / step) * step;\n}\nfunction $ee4262c74a467b07$var$mod(n, m) {\n    return (n % m + m) % m;\n}\nfunction $ee4262c74a467b07$var$roundDown(v) {\n    let r = Math.floor(v);\n    if (r === v) return v - 1;\n    else return r;\n}\nfunction $ee4262c74a467b07$var$degToRad(deg) {\n    return deg * Math.PI / 180;\n}\nfunction $ee4262c74a467b07$var$radToDeg(rad) {\n    return rad * 180 / Math.PI;\n}\n// 0deg = 3 o'clock. increases clockwise\nfunction $ee4262c74a467b07$var$angleToCartesian(angle, radius) {\n    let rad = $ee4262c74a467b07$var$degToRad(360 - angle + 90);\n    let x = Math.sin(rad) * radius;\n    let y = Math.cos(rad) * radius;\n    return {\n        x: x,\n        y: y\n    };\n}\nfunction $ee4262c74a467b07$var$cartesianToAngle(x, y, radius) {\n    let deg = $ee4262c74a467b07$var$radToDeg(Math.atan2(y / radius, x / radius));\n    return (deg + 360) % 360;\n}\nfunction $ee4262c74a467b07$export$f4301076d9336137(props) {\n    let { defaultValue: defaultValue , onChange: onChange , onChangeEnd: onChangeEnd  } = props;\n    if (!props.value && !defaultValue) defaultValue = $ee4262c74a467b07$var$DEFAULT_COLOR;\n    let [value, setValue] = $cBgAy$useControlledState($799cddbef784668f$export$4cde5df63f53f473(props.value), $799cddbef784668f$export$4cde5df63f53f473(defaultValue), onChange);\n    let valueRef = $cBgAy$useRef(value);\n    valueRef.current = value;\n    let channelRange = value.getChannelRange('hue');\n    let { minValue: minValueX , maxValue: maxValueX , step: step , pageSize: pageStep  } = channelRange;\n    let [isDragging1, setDragging] = $cBgAy$useState(false);\n    let isDraggingRef = $cBgAy$useRef(false).current;\n    let hue = value.getChannelValue('hue');\n    function setHue(v) {\n        if (v > 360) // Make sure you can always get back to 0.\n        v = 0;\n        v = $ee4262c74a467b07$var$roundToStep($ee4262c74a467b07$var$mod(v, 360), step);\n        if (hue !== v) {\n            let color = value.withChannelValue('hue', v);\n            valueRef.current = color;\n            setValue(color);\n        }\n    }\n    return {\n        value: value,\n        step: step,\n        pageStep: pageStep,\n        setValue (v) {\n            let color = $799cddbef784668f$export$4cde5df63f53f473(v);\n            valueRef.current = color;\n            setValue(color);\n        },\n        hue: hue,\n        setHue: setHue,\n        setHueFromPoint (x, y, radius) {\n            setHue($ee4262c74a467b07$var$cartesianToAngle(x, y, radius));\n        },\n        getThumbPosition (radius) {\n            return $ee4262c74a467b07$var$angleToCartesian(value.getChannelValue('hue'), radius);\n        },\n        increment (stepSize = 1) {\n            let s = Math.max(stepSize, step);\n            let newValue = hue + s;\n            if (newValue >= maxValueX) // Make sure you can always get back to 0.\n            newValue = minValueX;\n            setHue($ee4262c74a467b07$var$roundToStep($ee4262c74a467b07$var$mod(newValue, 360), s));\n        },\n        decrement (stepSize = 1) {\n            let s = Math.max(stepSize, step);\n            if (hue === 0) // We can't just subtract step because this might be the case:\n            // |(previous step) - 0| < step size\n            setHue($ee4262c74a467b07$var$roundDown(360 / s) * s);\n            else setHue($ee4262c74a467b07$var$roundToStep($ee4262c74a467b07$var$mod(hue - s, 360), s));\n        },\n        setDragging (isDragging) {\n            let wasDragging = isDraggingRef;\n            isDraggingRef = isDragging;\n            if (onChangeEnd && !isDragging && wasDragging) onChangeEnd(valueRef.current);\n            setDragging(isDragging);\n        },\n        isDragging: isDragging1,\n        getDisplayColor () {\n            return value.toFormat('hsl').withChannelValue('saturation', 100).withChannelValue('lightness', 50).withChannelValue('alpha', 1);\n        }\n    };\n}\n\n\n\n\n\nfunction $aa90ad8b2b1d015f$export$5aadd9c0606af5c2(value) {\n    return $cBgAy$useMemo(()=>{\n        if (typeof value === 'string') try {\n            return $799cddbef784668f$export$6e865ea70d7724f(value);\n        } catch (err) {\n            return undefined;\n        }\n        return value;\n    }, [\n        value\n    ]);\n}\n\n\n\n\nconst $b335ada08155d9c0$var$MIN_COLOR = $799cddbef784668f$export$6e865ea70d7724f('#000000');\nconst $b335ada08155d9c0$var$MAX_COLOR = $799cddbef784668f$export$6e865ea70d7724f('#FFFFFF');\nconst $b335ada08155d9c0$var$MIN_COLOR_INT = $b335ada08155d9c0$var$MIN_COLOR.toHexInt();\nconst $b335ada08155d9c0$var$MAX_COLOR_INT = $b335ada08155d9c0$var$MAX_COLOR.toHexInt();\nfunction $b335ada08155d9c0$export$d52a01683abdfcd6(props) {\n    let { value: value1 , defaultValue: defaultValue , onChange: onChange  } = props;\n    let { step: step  } = $b335ada08155d9c0$var$MIN_COLOR.getChannelRange('red');\n    let initialValue = $aa90ad8b2b1d015f$export$5aadd9c0606af5c2(value1);\n    let initialDefaultValue = $aa90ad8b2b1d015f$export$5aadd9c0606af5c2(defaultValue);\n    let [colorValue, setColorValue] = $cBgAy$useControlledState(initialValue, initialDefaultValue, onChange);\n    let [inputValue, setInputValue] = $cBgAy$useState(()=>(value1 || defaultValue) && colorValue ? colorValue.toString('hex') : ''\n    );\n    let safelySetColorValue = (newColor)=>{\n        if (!colorValue || !newColor) {\n            setColorValue(newColor);\n            return;\n        }\n        if (newColor.toHexInt() !== colorValue.toHexInt()) {\n            setColorValue(newColor);\n            return;\n        }\n    };\n    let prevValue = $cBgAy$useRef(colorValue);\n    if (prevValue.current !== colorValue) {\n        setInputValue(colorValue ? colorValue.toString('hex') : '');\n        prevValue.current = colorValue;\n    }\n    let parsedValue = $cBgAy$useMemo(()=>{\n        let color;\n        try {\n            color = $799cddbef784668f$export$6e865ea70d7724f(inputValue.startsWith('#') ? inputValue : `#${inputValue}`);\n        } catch (err) {\n            color = null;\n        }\n        return color;\n    }, [\n        inputValue\n    ]);\n    let parsed = $cBgAy$useRef(null);\n    parsed.current = parsedValue;\n    let commit = ()=>{\n        // Set to empty state if input value is empty\n        if (!inputValue.length) {\n            safelySetColorValue(null);\n            setInputValue(value1 === undefined ? '' : colorValue.toString('hex'));\n            return;\n        }\n        // if it failed to parse, then reset input to formatted version of current number\n        if (parsed.current == null) {\n            setInputValue(colorValue ? colorValue.toString('hex') : '');\n            return;\n        }\n        safelySetColorValue(parsed.current);\n        // in a controlled state, the numberValue won't change, so we won't go back to our old input without help\n        let newColorValue = '';\n        if (colorValue) newColorValue = colorValue.toString('hex');\n        setInputValue(newColorValue);\n    };\n    let increment = ()=>{\n        let newValue = $b335ada08155d9c0$var$addColorValue(parsed.current, step);\n        // if we've arrived at the same value that was previously in the state, the\n        // input value should be updated to match\n        // ex type 4, press increment, highlight the number in the input, type 4 again, press increment\n        // you'd be at 5, then incrementing to 5 again, so no re-render would happen and 4 would be left in the input\n        if (newValue === colorValue) setInputValue(newValue.toString('hex'));\n        safelySetColorValue(newValue);\n    };\n    let decrement = ()=>{\n        let newValue = $b335ada08155d9c0$var$addColorValue(parsed.current, -step);\n        // if we've arrived at the same value that was previously in the state, the\n        // input value should be updated to match\n        // ex type 4, press increment, highlight the number in the input, type 4 again, press increment\n        // you'd be at 5, then incrementing to 5 again, so no re-render would happen and 4 would be left in the input\n        if (newValue === colorValue) setInputValue(newValue.toString('hex'));\n        safelySetColorValue(newValue);\n    };\n    let incrementToMax = ()=>safelySetColorValue($b335ada08155d9c0$var$MAX_COLOR)\n    ;\n    let decrementToMin = ()=>safelySetColorValue($b335ada08155d9c0$var$MIN_COLOR)\n    ;\n    let validate = (value)=>{\n        var ref;\n        return value === '' || !!((ref = value.match(/^#?[0-9a-f]{0,6}$/i)) === null || ref === void 0 ? void 0 : ref[0]);\n    };\n    return {\n        validate: validate,\n        colorValue: colorValue,\n        inputValue: inputValue,\n        setInputValue: setInputValue,\n        commit: commit,\n        increment: increment,\n        incrementToMax: incrementToMax,\n        decrement: decrement,\n        decrementToMin: decrementToMin\n    };\n}\nfunction $b335ada08155d9c0$var$addColorValue(color, step) {\n    let newColor = color ? color : $b335ada08155d9c0$var$MIN_COLOR;\n    let colorInt = newColor.toHexInt();\n    let clampInt = Math.min(Math.max(colorInt + step, $b335ada08155d9c0$var$MIN_COLOR_INT), $b335ada08155d9c0$var$MAX_COLOR_INT);\n    if (clampInt !== colorInt) {\n        let newColorString = `#${clampInt.toString(16).padStart(6, '0').toUpperCase()}`;\n        newColor = $799cddbef784668f$export$6e865ea70d7724f(newColorString);\n    }\n    return newColor;\n}\n\n\n\n\nexport {$799cddbef784668f$export$6e865ea70d7724f as parseColor, $6e14a98a7f67141d$export$6df7f0e2cabc7eef as useColorAreaState, $25a25ac0d1624665$export$57bc203e1c9c6d44 as useColorSliderState, $ee4262c74a467b07$export$f4301076d9336137 as useColorWheelState, $b335ada08155d9c0$export$d52a01683abdfcd6 as useColorFieldState};\n//# sourceMappingURL=module.js.map\n","import {parseColor} from '@react-stately/color';\n\nexport function themeValueToHex(value: string): string {\n  try {\n    return parseColor(`rgb(${value.split(' ').join(',')})`).toString('hex');\n  } catch (e) {\n    return value;\n  }\n}\n","import lazyLoader from '../../../utils/http/lazy-loader';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {RefObject, useCallback, useEffect, useRef} from 'react';\nimport {useThemeSelector} from '@common/ui/themes/theme-selector-context';\nimport {themeValueToHex} from '@common/ui/themes/utils/theme-value-to-hex';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {LocationDatasetItem} from '@common/admin/analytics/report-metric';\n\nconst loaderUrl = 'https://www.gstatic.com/charts/loader.js';\n\ninterface UseGoogleGeoChartProps {\n  placeholderRef: RefObject<HTMLDivElement>;\n  data: LocationDatasetItem[];\n}\nexport function useGoogleGeoChart({\n  placeholderRef,\n  data,\n}: UseGoogleGeoChartProps) {\n  const {trans} = useTrans();\n  const {analytics} = useSettings();\n  const apiKey = analytics?.gchart_api_key;\n  const {selectedTheme} = useThemeSelector();\n  const geoChartRef = useRef<google.visualization.GeoChart>();\n  const drawGoogleChart = useCallback(() => {\n    if (typeof google === 'undefined') return;\n\n    const seedData = data.map(location => [location.label, location.value]);\n    seedData.unshift([trans(message('Country')), trans(message('Clicks'))]);\n\n    const backgroundColor = `${themeValueToHex(\n      selectedTheme.colors['--be-paper']\n    )}`;\n    const chartColor = `${themeValueToHex(\n      selectedTheme.colors['--be-primary']\n    )}`;\n    const options: google.visualization.GeoChartOptions = {\n      colorAxis: {colors: [chartColor]},\n      backgroundColor,\n    };\n\n    if (\n      !geoChartRef.current &&\n      placeholderRef.current &&\n      google?.visualization?.GeoChart\n    ) {\n      geoChartRef.current = new google.visualization.GeoChart(\n        placeholderRef.current\n      );\n    }\n    geoChartRef.current?.draw(\n      google.visualization.arrayToDataTable(seedData),\n      options\n    );\n  }, [selectedTheme, data, placeholderRef]);\n\n  const initGoogleGeoChart = useCallback(() => {\n    if (lazyLoader.alreadyLoading(loaderUrl)) return;\n    lazyLoader.loadAsset(loaderUrl, {type: 'js'}).then(() => {\n      google.charts.load('current', {\n        packages: ['geochart'],\n        // See: https://developers.google.com/chart/interactive/docs/basic_load_libs#load-settings\n        mapsApiKey: apiKey,\n      });\n      google.charts.setOnLoadCallback(() => {\n        drawGoogleChart();\n      });\n    });\n  }, [apiKey, drawGoogleChart]);\n\n  // on component load: load chart library then draw, otherwise just draw\n  useEffect(() => {\n    initGoogleGeoChart();\n  }, [initGoogleGeoChart]);\n\n  // redraw chart if data or theme changes\n  useEffect(() => {\n    drawGoogleChart();\n  }, [selectedTheme, drawGoogleChart, data]);\n\n  return {drawGoogleChart};\n}\n","import {\n  LocationDatasetItem,\n  ReportMetric,\n} from '@common/admin/analytics/report-metric';\nimport React, {useMemo, useRef} from 'react';\nimport {useGoogleGeoChart} from './use-google-geo-chart';\nimport {ChartLayout, ChartLayoutProps} from '@common/charts/chart-layout';\nimport {Trans} from '@common/i18n/trans';\nimport {ChartLoadingIndicator} from '@common/charts/chart-loading-indicator';\n\ninterface GeoChartData extends Partial<ChartLayoutProps> {\n  data?: ReportMetric<LocationDatasetItem>;\n}\nexport function GeoChart({\n  data: metricData,\n  isLoading,\n  ...layoutProps\n}: GeoChartData) {\n  const placeholderRef = useRef<HTMLDivElement>(null);\n\n  // memo data to avoid redrawing chart on rerender\n  const initialData = metricData?.datasets[0].data;\n  const data = useMemo(() => {\n    return initialData || [];\n  }, [initialData]);\n  useGoogleGeoChart({placeholderRef, data});\n\n  return (\n    <ChartLayout\n      {...layoutProps}\n      className=\"min-w-500\"\n      title={<Trans message=\"Top Locations\" />}\n      contentIsFlex={isLoading}\n    >\n      {isLoading && <ChartLoadingIndicator />}\n      <div className=\"flex\">\n        <div\n          ref={placeholderRef}\n          className=\"flex-auto w-[480px] min-h-[340px]\"\n        />\n        <div className=\"text-sm max-h-[370px] w-[170px] flex-initial overflow-y-auto\">\n          {data.map(location => (\n            <div key={location.label} className=\"flex items-center gap-4 mb-4\">\n              <div className=\"max-w-110 whitespace-nowrap overflow-hidden overflow-ellipsis\">\n                {location.label}\n              </div>\n              <div>({location.percentage})%</div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </ChartLayout>\n  );\n}\n","import {BaseChart, BaseChartProps} from './base-chart';\nimport {ChartData, ChartOptions} from 'chart.js';\nimport {ChartColors} from './chart-colors';\nimport {useSelectedLocale} from '../i18n/selected-locale';\nimport {FormattedDatasetItem} from './data/formatted-dataset-item';\nimport {useMemo} from 'react';\nimport {formatReportData} from './data/format-report-data';\nimport {ReportMetric} from '../admin/analytics/report-metric';\nimport clsx from 'clsx';\n\ninterface BarChartProps extends Omit<BaseChartProps<'bar'>, 'type' | 'data'> {\n  direction?: 'horizontal' | 'vertical';\n  individualBarColors?: boolean;\n  data?: ReportMetric;\n}\nexport function BarChart({\n  data,\n  direction = 'vertical',\n  individualBarColors = false,\n  className,\n  ...props\n}: BarChartProps) {\n  const {localeCode} = useSelectedLocale();\n  const formattedData: ChartData<'bar', FormattedDatasetItem[]> =\n    useMemo(() => {\n      const formattedData = formatReportData(data, {localeCode});\n      formattedData.datasets = formattedData.datasets.map((dataset, i) => ({\n        ...dataset,\n        backgroundColor: individualBarColors\n          ? ChartColors.map(c => c[1])\n          : ChartColors[i][1],\n        borderColor: individualBarColors\n          ? ChartColors.map(c => c[0])\n          : ChartColors[i][0],\n        borderWidth: 2,\n      }));\n      return formattedData;\n    }, [data, localeCode, individualBarColors]);\n\n  const isHorizontal = direction === 'horizontal';\n  const options: ChartOptions<'bar'> = useMemo(() => {\n    return {\n      indexAxis: isHorizontal ? 'y' : 'x',\n      parsing: {\n        xAxisKey: isHorizontal ? 'value' : 'label',\n        yAxisKey: isHorizontal ? 'label' : 'value',\n      },\n    };\n  }, [isHorizontal]);\n\n  return (\n    <BaseChart\n      type=\"bar\"\n      className={clsx(className, 'min-w-500')}\n      data={formattedData}\n      options={options}\n      {...props}\n    />\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {apiClient} from '@common/http/query-client';\nimport {\n  LocationDatasetItem,\n  ReportMetric,\n} from '@common/admin/analytics/report-metric';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\n\nconst endpoint = 'reports/clicks';\n\nexport interface FetchLinkReportResponse extends BackendResponse {\n  report: {\n    totalClicks: number;\n    clicks: ReportMetric;\n    browsers: ReportMetric;\n    locations: ReportMetric<LocationDatasetItem>;\n    devices: ReportMetric;\n    platforms: ReportMetric;\n    referrers: ReportMetric;\n  };\n}\n\nexport type ClicksReportMetric =\n  | 'clicks'\n  | 'devices'\n  | 'browsers'\n  | 'platforms'\n  | 'locations'\n  | 'referrers';\n\ninterface Payload {\n  dateRange: DateRangeValue;\n  model?: string;\n  metrics?: ClicksReportMetric[];\n}\n\ninterface Options {\n  isEnabled: boolean;\n}\n\nexport function useClicksReport(payload: Payload, options: Options) {\n  return useQuery(\n    [endpoint, payload],\n    () => fetchClicksReport(endpoint, payload),\n    {\n      keepPreviousData: true,\n      enabled: options.isEnabled,\n    }\n  );\n}\n\nfunction fetchClicksReport<\n  T extends FetchLinkReportResponse = FetchLinkReportResponse\n>(endpoint: string, payload: Payload): Promise<T> {\n  const params: Record<string, any> = {\n    model: payload.model,\n    metrics: payload.metrics?.join(','),\n  };\n  params.startDate = payload.dateRange.start.toAbsoluteString();\n  params.endDate = payload.dateRange.end.toAbsoluteString();\n  params.timezone = payload.dateRange.start.timeZone;\n\n  return apiClient.get(endpoint, {params}).then(response => response.data);\n}\n","import React, {\n  cloneElement,\n  Fragment,\n  ReactElement,\n  useCallback,\n  useRef,\n  useState,\n} from 'react';\nimport {LineChart} from '@common/charts/line-chart';\nimport {Trans} from '@common/i18n/trans';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {PolarAreaChart} from '@common/charts/polar-area-chart';\nimport {ReferrerChart} from '@app/dashboard/reports/referrer-chart';\nimport {GeoChart} from '@common/admin/analytics/geo-chart/geo-chart';\nimport {BarChart} from '@common/charts/bar-chart';\nimport {\n  ClicksReportMetric,\n  FetchLinkReportResponse,\n  useClicksReport,\n} from '@app/dashboard/reports/clicks/use-clicks-report';\nimport {BaseChartProps} from '@common/charts/base-chart';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {UseQueryResult} from '@tanstack/react-query';\n\ninterface LinkClicksReportChartsProps {\n  dateRange: DateRangeValue;\n  model: string;\n}\nexport function ClicksReportCharts({\n  dateRange,\n  model,\n}: LinkClicksReportChartsProps) {\n  const colGap = 'gap-12 md:gap-24 mb-12 md:mb-24';\n  const rowClassName = `flex flex-col lg:flex-row lg:items-center overflow-x-auto ${colGap}`;\n\n  return (\n    <Fragment>\n      <div className={rowClassName}>\n        <AsyncChart metric=\"clicks\" model={model} dateRange={dateRange}>\n          {({data}) => (\n            <LineChart\n              className=\"flex-auto\"\n              title={<Trans message=\"Click count\" />}\n              hideLegend\n              description={\n                <Trans\n                  message=\":count total clicks\"\n                  values={{\n                    count: (\n                      <FormattedNumber value={data?.report.clicks.total || 0} />\n                    ),\n                  }}\n                />\n              }\n            />\n          )}\n        </AsyncChart>\n        <AsyncChart metric=\"devices\" model={model} dateRange={dateRange}>\n          <PolarAreaChart title={<Trans message=\"Top devices\" />} />\n        </AsyncChart>\n      </div>\n      <div className={rowClassName}>\n        <AsyncChart metric=\"referrers\" model={model} dateRange={dateRange}>\n          <ReferrerChart />\n        </AsyncChart>\n        <AsyncChart metric=\"locations\" model={model} dateRange={dateRange}>\n          <GeoChart className=\"flex-auto w-1/2 lg:max-w-[740px]\" />\n        </AsyncChart>\n      </div>\n      <div className={rowClassName}>\n        <AsyncChart metric=\"browsers\" model={model} dateRange={dateRange}>\n          <BarChart\n            className=\"max-w-500\"\n            direction=\"horizontal\"\n            individualBarColors\n            hideLegend\n            title={<Trans message=\"Top browsers\" />}\n          />\n        </AsyncChart>\n        <AsyncChart metric=\"platforms\" model={model} dateRange={dateRange}>\n          <PolarAreaChart\n            className=\"max-w-500\"\n            title={<Trans message=\"Top platforms\" />}\n          />\n        </AsyncChart>\n      </div>\n    </Fragment>\n  );\n}\n\ninterface AsyncChartProps {\n  children:\n    | ReactElement<BaseChartProps>\n    | ((\n        query: UseQueryResult<FetchLinkReportResponse>\n      ) => ReactElement<BaseChartProps>);\n  metric: ClicksReportMetric;\n  model: string;\n  dateRange: DateRangeValue;\n}\nfunction AsyncChart({children, metric, model, dateRange}: AsyncChartProps) {\n  const [isEnabled, setIsEnabled] = useState(false);\n  const query = useClicksReport(\n    {metrics: [metric], model, dateRange},\n    {isEnabled}\n  );\n  const chart = typeof children === 'function' ? children(query) : children;\n  const observerRef = useRef<IntersectionObserver>();\n\n  const contentRef = useCallback((el: HTMLDivElement | null) => {\n    if (el) {\n      const observer = new IntersectionObserver(\n        ([e]) => {\n          if (e.isIntersecting) {\n            setIsEnabled(true);\n            observerRef.current?.disconnect();\n            observerRef.current = undefined;\n          }\n        },\n        {threshold: 0.1} // if only header is visible, don't load\n      );\n      observerRef.current = observer;\n      observer.observe(el);\n    } else if (observerRef.current) {\n      observerRef.current?.disconnect();\n    }\n  }, []);\n\n  return cloneElement<BaseChartProps>(chart, {\n    data: query.data?.report?.[metric],\n    isLoading: query.isLoading,\n    contentRef,\n  });\n}\n","import {StaticPageTitle} from '@common/seo/static-page-title';\nimport {Trans} from '@common/i18n/trans';\nimport {ReportDateSelector} from '@common/admin/analytics/report-date-selector';\nimport {ClicksReportCharts} from '@app/dashboard/reports/clicks/clicks-report-charts';\nimport React, {ReactNode, useState} from 'react';\nimport {DateRangeValue} from '@common/ui/forms/input-field/date/date-range-picker/date-range-value';\nimport {DateRangePresets} from '@common/ui/forms/input-field/date/date-range-picker/dialog/date-range-presets';\n\ninterface ClicksReportPageLayoutProps {\n  model: string;\n  title: ReactNode;\n  actions?: ReactNode;\n}\nexport function ClicksReportPageLayout({\n  model,\n  title,\n  actions,\n}: ClicksReportPageLayoutProps) {\n  const [dateRange, setDateRange] = useState<DateRangeValue>(() => {\n    // This week\n    return DateRangePresets[2].getRangeValue();\n  });\n  return (\n    <div className=\"min-h-full gap-12 md:gap-24 p-12 md:p-24\">\n      <StaticPageTitle>\n        <Trans message=\"Clicks report\" />\n      </StaticPageTitle>\n      <div className=\"md:flex items-center justify-between gap-24 mb-24\">\n        {title}\n        <div className=\"flex-shrink-0 flex items-center md:justify-end mt-10 md:mt-0 gap-12\">\n          {actions}\n          <div className=\"text-sm font-semibold\">\n            <ReportDateSelector\n              value={dateRange}\n              onChange={setDateRange}\n              compactOnMobile={false}\n            />\n          </div>\n        </div>\n      </div>\n      <ClicksReportCharts dateRange={dateRange} model={model} />\n    </div>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {ClicksReportPageLayout} from '@app/dashboard/reports/clicks/clicks-report-page-layout';\nimport {useActiveWorkspaceId} from '@common/workspace/active-workspace-id-context';\nimport {useAuth} from '@common/auth/use-auth';\n\nexport function AllClicksReportPage() {\n  const {workspaceId} = useActiveWorkspaceId();\n  const {user} = useAuth();\n\n  const model =\n    workspaceId && workspaceId > 0\n      ? `workspace=${workspaceId}`\n      : `user=${user?.id}`;\n\n  return (\n    <ClicksReportPageLayout\n      model={model}\n      title={\n        <h1 className=\"text-3xl font-light\">\n          <Trans message=\"Clicks report\" />\n        </h1>\n      }\n    />\n  );\n}\n","export const BackendFiltersUrlKey = 'filters';\n","import {FilterListValue} from './encode-backend-filters';\n\nexport function decodeBackendFilters(\n  encodedFilters: string | null\n): FilterListValue[] {\n  if (!encodedFilters) return [];\n  let filtersFromQuery: FilterListValue[] = [];\n  try {\n    filtersFromQuery = JSON.parse(atob(decodeURIComponent(encodedFilters)));\n    filtersFromQuery.map(filterValue => {\n      // set value key as value so selects work properly\n      if (filterValue.valueKey != null) {\n        filterValue.value = filterValue.valueKey;\n      }\n      return filterValue;\n    });\n  } catch (e) {\n    //\n  }\n  return filtersFromQuery;\n}\n","import {Key} from 'react';\nimport {BackendFilter} from '../backend-filter';\n\nexport interface FilterListValue {\n  key: Key;\n  value: BackendFilter['defaultValue'];\n  operator?: BackendFilter['defaultOperator'];\n  valueKey?: Key;\n  isInactive?: boolean;\n}\n\nexport function encodeBackendFilters(\n  filterValue: FilterListValue[] | null,\n  filters?: BackendFilter[]\n): string {\n  if (!filterValue) return '';\n\n  // prepare values for backend\n  filterValue = !filters\n    ? filterValue\n    : filterValue\n        .filter(item => item.value !== '')\n        .map(item => {\n          return transformValue(item, filters);\n        });\n\n  // remove all placeholder filters\n  filterValue = filterValue.filter(fm => !fm.isInactive);\n\n  if (!filterValue.length) {\n    return '';\n  }\n\n  return encodeURIComponent(btoa(JSON.stringify(filterValue)));\n}\n\nfunction transformValue(\n  filterValue: FilterListValue,\n  filters: BackendFilter[]\n) {\n  const filterConfig = filters.find(f => f.key === filterValue.key);\n  // select components will use a key always, as we can't use objects as\n  // value, map over select options and replace key with actual value\n  if (filterConfig?.type === 'select') {\n    const option = (filterConfig.options || []).find(\n      o => o.key === filterValue.value\n    );\n    return {...filterValue, value: option?.value, valueKey: option?.key};\n  }\n  return filterValue;\n}\n","import {useNavigate, useSearchParams} from 'react-router-dom';\nimport {Key, useCallback, useMemo} from 'react';\nimport {BackendFilter} from './backend-filter';\nimport {BackendFiltersUrlKey} from './backend-filters-url-key';\nimport {decodeBackendFilters} from './utils/decode-backend-filters';\nimport {\n  encodeBackendFilters,\n  FilterListValue,\n} from './utils/encode-backend-filters';\n\nexport function useBackendFilterUrlParams(\n  filters?: BackendFilter[],\n  pinnedFilters?: string[]\n) {\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n\n  const encodedFilters = searchParams.get(BackendFiltersUrlKey);\n\n  const decodedFilters: FilterListValue[] = useMemo(() => {\n    if (!filters) return [];\n    const decoded = decodeBackendFilters(encodedFilters);\n\n    // if filter is pinned, and it is not applied yet, add a placeholder\n    (pinnedFilters || []).forEach(key => {\n      if (!decoded.find(f => f.key === key)) {\n        const config = filters.find(f => f.key === key)!;\n        decoded.push({\n          key,\n          value: config.defaultValue,\n          operator: config.defaultOperator,\n          isInactive: true,\n        });\n      }\n    });\n\n    // preserve original filter order from configuration\n    decoded.sort(\n      (a, b) =>\n        filters.findIndex(f => f.key === a.key) -\n        filters.findIndex(f => f.key === b.key)\n    );\n\n    return decoded;\n  }, [encodedFilters, pinnedFilters, filters]);\n\n  const getDecodedWithoutKeys = useCallback(\n    (values: (FilterListValue | Key)[]) => {\n      const newFilters = [...decodedFilters];\n      values.forEach(value => {\n        const key = typeof value === 'object' ? value.key : value;\n        const index = newFilters.findIndex(f => f.key === key);\n        if (index > -1) {\n          newFilters.splice(index, 1);\n        }\n      });\n      return newFilters;\n    },\n    [decodedFilters]\n  );\n\n  const replaceAll = useCallback(\n    (filterValues: FilterListValue[]) => {\n      const encodedFilters = encodeBackendFilters(filterValues, filters);\n      if (encodedFilters) {\n        searchParams.set(BackendFiltersUrlKey, encodedFilters);\n      } else {\n        searchParams.delete(BackendFiltersUrlKey);\n      }\n      navigate({search: `?${searchParams}`}, {replace: true});\n    },\n    [filters, navigate, searchParams]\n  );\n\n  const add = useCallback(\n    (filterValues: FilterListValue[]) => {\n      const existing = getDecodedWithoutKeys(filterValues);\n      const decodedFilters = [...existing, ...filterValues];\n      replaceAll(decodedFilters);\n    },\n    [getDecodedWithoutKeys, replaceAll]\n  );\n\n  const remove = useCallback(\n    (key: Key) => replaceAll(getDecodedWithoutKeys([key])),\n    [getDecodedWithoutKeys, replaceAll]\n  );\n\n  return {\n    add,\n    remove,\n    replaceAll,\n    decodedFilters,\n    encodedFilters,\n  };\n}\n","import {useQuery, UseQueryOptions} from '@tanstack/react-query';\nimport {PaginatedBackendResponse} from '../../http/backend-response/pagination-response';\nimport {apiClient} from '../../http/query-client';\n\nexport interface ResourcePaginationParams {\n  orderBy?: string;\n  orderDir?: 'asc' | 'desc';\n  filters?: string | null;\n  query?: string;\n  with?: string;\n  perPage?: number;\n  page?: number;\n  [key: string]: string | number | boolean | undefined | null;\n}\n\nexport const PaginatedResourcesQueryKey = (\n  endpoint: string,\n  params?: ResourcePaginationParams | Record<string, string | number | boolean>\n) => {\n  // split endpoint by slash, so we can clear cache from the root later,\n  // for example, 'link-group' will clear 'link-group/1/links' endpoint\n  const key: (string | ResourcePaginationParams)[] = endpoint.split('/');\n  if (params) {\n    key.push(params);\n  }\n  return key;\n};\n\nexport function usePaginatedResources<T = object>(\n  endpoint: string,\n  params: ResourcePaginationParams,\n  options?: Omit<\n    UseQueryOptions<\n      PaginatedBackendResponse<T>,\n      unknown,\n      PaginatedBackendResponse<T>,\n      any[]\n    >,\n    'queryKey' | 'queryFn'\n  >\n) {\n  return useQuery(\n    PaginatedResourcesQueryKey(endpoint, params),\n    () => paginateResources<T>(endpoint, params),\n    {\n      ...options,\n      keepPreviousData: true,\n    }\n  );\n}\n\nfunction paginateResources<T>(\n  endpoint: string,\n  params: ResourcePaginationParams\n): Promise<PaginatedBackendResponse<T>> {\n  return apiClient.get(endpoint, {params}).then(response => response.data);\n}\n","import React, {Key, useContext} from 'react';\nimport {ResourcePaginationParams} from '../requests/paginated-resources';\nimport {MessageDescriptor} from '../../i18n/message-descriptor';\nimport {UseQueryResult} from '@tanstack/react-query';\nimport {PaginatedBackendResponse} from '../../http/backend-response/pagination-response';\n\nexport interface DataTableContextValue {\n  selectedRows: Key[];\n  setSelectedRows: (keys: Key[]) => void;\n  endpoint: string;\n  searchPlaceholder: MessageDescriptor;\n  params: ResourcePaginationParams;\n  setParams: (value: ResourcePaginationParams) => void;\n  query: UseQueryResult<PaginatedBackendResponse<unknown>, unknown>;\n}\n\nexport const DataTableContext = React.createContext<DataTableContextValue>(\n  null!\n);\n\nexport function useDataTable() {\n  return useContext(DataTableContext);\n}\n","import clsx from 'clsx';\nimport type {ColumnConfig} from '../../datatable/column-config';\n\ninterface CellStyleProps {\n  isFirst?: boolean;\n  isLast?: boolean;\n  width?: string;\n  isRowHeader?: boolean;\n  column?: ColumnConfig<any>;\n}\nexport function cellStyle({\n  isFirst,\n  isLast,\n  isRowHeader,\n  width,\n  column,\n}: CellStyleProps = {}): string {\n  const finalWidth = column?.width || width || '';\n  const userPadding = column?.padding;\n\n  let justify = 'text-left';\n  if (column?.align === 'center') {\n    justify = 'text-center';\n  } else if (column?.align === 'end') {\n    justify = 'text-right';\n  }\n\n  return clsx(\n    'overflow-hidden whitespace-nowrap overflow-ellipsis h-48 outline-none focus-visible:outline focus-visible:outline-offset-2',\n    justify,\n    !userPadding && isFirst && 'pl-24 pr-16',\n    !userPadding && isLast && 'pr-24 pl-16',\n    !isFirst && !isLast && !userPadding && 'px-16',\n    userPadding,\n    finalWidth,\n    column?.className\n  );\n}\n\ninterface RowStyleProps {\n  isHeader?: boolean;\n  isSelected?: boolean;\n  enableSelection?: boolean;\n  isFirst?: boolean;\n  isDarkMode?: boolean;\n}\nexport function rowStyle({\n  isHeader,\n  isSelected,\n  enableSelection,\n  isFirst,\n  isDarkMode,\n}: RowStyleProps = {}): string {\n  return clsx(\n    'break-inside-avoid outline-none',\n    !isHeader && 'border-b',\n    // put border on the first row, instead of the header, so it's easier to style\n    // row border color via :has selector when sorting rows via drag and drop\n    !isHeader && isFirst && 'border-t',\n    isSelected &&\n      !isDarkMode &&\n      'bg-primary/selected hover:bg-primary/focus focus-visible:bg-primary/focus',\n    isSelected &&\n      isDarkMode &&\n      'bg-selected hover:bg-focus focus-visible:bg-focus',\n    !isSelected &&\n      !isHeader &&\n      enableSelection &&\n      'focus-visible:bg-focus hover:bg-hover'\n  );\n}\n","import {isMac} from '@react-aria/utils';\n\ninterface Event {\n  altKey: boolean;\n  ctrlKey: boolean;\n  metaKey: boolean;\n}\n\nexport function isCtrlKeyPressed(e: Event) {\n  if (isMac()) {\n    return e.metaKey;\n  }\n\n  return e.ctrlKey;\n}\n","import React, {KeyboardEventHandler} from 'react';\nimport {getFocusableTreeWalker} from '@react-aria/focus';\nimport {focusWithoutScrolling} from '@react-aria/utils';\nimport {isCtrlKeyPressed} from '../../utils/keybinds/is-ctrl-key-pressed';\n\ninterface Props {\n  cellCount: number;\n  rowCount: number;\n}\nexport function useGridNavigation(props: Props) {\n  const {cellCount, rowCount} = props;\n  const onKeyDown: KeyboardEventHandler<HTMLElement> = e => {\n    switch (e.key) {\n      case 'ArrowLeft':\n        focusSiblingCell(e, {cell: {op: 'decrement'}}, props);\n        break;\n      case 'ArrowRight':\n        focusSiblingCell(e, {cell: {op: 'increment'}}, props);\n        break;\n      case 'ArrowUp':\n        focusSiblingCell(e, {row: {op: 'decrement'}}, props);\n        break;\n      case 'ArrowDown':\n        focusSiblingCell(e, {row: {op: 'increment'}}, props);\n        break;\n      case 'PageUp':\n        focusSiblingCell(e, {row: {op: 'decrement', count: 5}}, props);\n        break;\n      case 'PageDown':\n        focusSiblingCell(e, {row: {op: 'increment', count: 5}}, props);\n        break;\n      case 'Tab':\n        focusFirstElementAfterGrid(e);\n        break;\n      case 'Home':\n        if (isCtrlKeyPressed(e)) {\n          // move to first cell in first row\n          focusSiblingCell(\n            e,\n            {\n              row: {op: 'decrement', count: rowCount},\n              cell: {op: 'decrement', count: cellCount},\n            },\n            props\n          );\n        } else {\n          // move to first cell in current row\n          focusSiblingCell(\n            e,\n            {cell: {op: 'decrement', count: cellCount}},\n            props\n          );\n        }\n        break;\n      case 'End':\n        if (isCtrlKeyPressed(e)) {\n          // move to last cell in last row\n          focusSiblingCell(\n            e,\n            {\n              row: {op: 'increment', count: rowCount},\n              cell: {op: 'increment', count: cellCount},\n            },\n            props\n          );\n        } else {\n          // move to last cell in current row\n          focusSiblingCell(\n            e,\n            {cell: {op: 'increment', count: cellCount}},\n            props\n          );\n        }\n        break;\n    }\n  };\n\n  return {onKeyDown};\n}\n\ninterface Operations {\n  cell?: {\n    op: 'increment' | 'decrement';\n    count?: number;\n  };\n  row?: {\n    op: 'increment' | 'decrement';\n    count?: number;\n  };\n}\nfunction focusSiblingCell(\n  e: React.KeyboardEvent,\n  operations: Operations,\n  {cellCount, rowCount}: Props\n) {\n  if (document.activeElement?.tagName === 'input') return;\n  e.preventDefault();\n  const grid = e.currentTarget as HTMLElement;\n\n  // focused element might be inside the cell and not the cell itself\n  const currentCell = (e.target as HTMLElement).closest('[aria-colindex]');\n  if (!currentCell || !grid) return;\n\n  const row = currentCell.closest('[aria-rowindex]');\n  if (!row) return;\n\n  // grab row and cell index from aria attributes\n  let rowIndex = parseInt(row.getAttribute('aria-rowindex') as string);\n  let cellIndex = parseInt(currentCell.getAttribute('aria-colindex') as string);\n  if (Number.isNaN(rowIndex) || Number.isNaN(cellIndex)) return;\n\n  // adjust row index for next cell selector\n  const rowOpCount = operations.row?.count ?? 1;\n  if (operations.row?.op === 'increment') {\n    rowIndex = Math.min(rowCount, rowIndex + rowOpCount);\n  } else if (operations.row?.op === 'decrement') {\n    rowIndex = Math.max(1, rowIndex - rowOpCount);\n  }\n\n  // adjust cell index for next cell selector\n  const cellOpCount = operations.cell?.count ?? 1;\n  if (operations.cell?.op === 'increment') {\n    cellIndex = Math.min(cellCount, cellIndex + cellOpCount);\n  } else if (operations.cell?.op === 'decrement') {\n    cellIndex = Math.max(1, cellIndex - cellOpCount);\n  }\n\n  // find the next cell that should be focused\n  const nextCell = grid.querySelector(\n    `[aria-rowindex=\"${rowIndex}\"] [aria-colindex=\"${cellIndex}\"]`\n  ) as HTMLElement | undefined;\n  if (!nextCell) return;\n\n  // find any focusable elements inside the cell\n  const walker = getFocusableTreeWalker(nextCell);\n  const nextFocusableElement = (walker.nextNode() || nextCell) as HTMLElement;\n\n  // adjust tab index on current and next cells and focus either next cell or first focusable element inside that cell\n  currentCell.setAttribute('tabindex', '-1');\n  nextFocusableElement.setAttribute('tabindex', '0');\n  nextFocusableElement.focus();\n}\n\n// grid is treated as a single tab stop, focus first element after grid, instead of moving focus withing grid on tab press\nfunction focusFirstElementAfterGrid(e: React.KeyboardEvent) {\n  const grid = e.currentTarget as HTMLElement;\n  if (e.shiftKey) {\n    grid.focus();\n  } else {\n    const walker = getFocusableTreeWalker(grid, {tabbable: true});\n    let next: HTMLElement;\n    let last: HTMLElement;\n    do {\n      last = walker.lastChild() as HTMLElement;\n      if (last) {\n        next = last;\n      }\n    } while (last);\n\n    // @ts-ignore\n    if (next && !next.contains(document.activeElement)) {\n      focusWithoutScrolling(next);\n    }\n  }\n}\n","import {createContext} from 'react';\nimport type {SortDescriptor} from './types/sort-descriptor';\nimport type {TableProps} from './table';\nimport type {ColumnConfig} from '../../datatable/column-config';\nimport type {TableDataItem} from './types/table-data-item';\n\nexport type TableSelectionStyle = 'checkbox' | 'highlight';\n\nexport interface TableContextValue<T extends TableDataItem = TableDataItem> {\n  selectedRows: (string | number)[];\n  onSelectionChange: (keys: (string | number)[]) => void;\n  sortDescriptor?: SortDescriptor;\n  onSortChange?: (descriptor: SortDescriptor) => any;\n  enableSelection?: boolean;\n  selectionStyle: TableSelectionStyle;\n  data: T[];\n  meta?: any;\n  columns: ColumnConfig<T>[];\n  toggleRow: (item: T) => void;\n  selectRow: (item: T | null, merge?: boolean) => void;\n  onAction: TableProps<T>['onAction'];\n  onRowContextMenu: TableProps<T>['onRowContextMenu'];\n}\nexport const TableContext = createContext<TableContextValue>(null!);\n","import {useContext} from 'react';\nimport {TableContext} from './table-context';\nimport {cellStyle} from './table-style';\nimport {Checkbox} from '../forms/toggle/checkbox';\nimport {TableDataItem} from './types/table-data-item';\nimport {useIsMobileMediaQuery} from '../../utils/hooks/is-mobile-media-query';\n\ninterface CheckboxCellProps {\n  item: TableDataItem;\n}\nexport function CheckboxCell({item}: CheckboxCellProps) {\n  const isMobile = useIsMobileMediaQuery();\n  const {selectedRows, enableSelection, toggleRow, selectionStyle} =\n    useContext(TableContext);\n\n  if (!enableSelection || selectionStyle === 'highlight' || isMobile)\n    return null;\n\n  return (\n    <td\n      className={cellStyle({\n        isFirst: true,\n        width: 'w-64 flex-shrink-0 flex-grow-0',\n      })}\n    >\n      <Checkbox\n        checked={selectedRows.includes(item.id)}\n        onChange={() => {\n          toggleRow(item);\n        }}\n      />\n    </td>\n  );\n}\n","import {useContext, useMemo} from 'react';\nimport {cellStyle} from './table-style';\nimport {TableContext} from './table-context';\nimport {TableDataItem} from './types/table-data-item';\nimport {RowContext} from '@common/datatable/column-config';\n\ninterface TableCellProps {\n  rowIsHovered: boolean;\n  rowIndex: number;\n  index: number;\n  item: TableDataItem;\n  id?: string;\n}\nexport function TableCell({\n  rowIndex,\n  rowIsHovered,\n  index,\n  item,\n  id,\n}: TableCellProps) {\n  const {enableSelection, columns} = useContext(TableContext);\n  const isFirst = enableSelection ? false : index === 0;\n  const isLast = index === columns.length - 1;\n  const column = columns[index];\n\n  const rowContext: RowContext = useMemo(() => {\n    return {\n      index: rowIndex,\n      isHovered: rowIsHovered,\n      isPlaceholder: item.isPlaceholder,\n    };\n  }, [rowIndex, rowIsHovered, item.isPlaceholder]);\n\n  return (\n    <td\n      id={id}\n      tabIndex={-1}\n      data-testid={`col-${column.key}`}\n      className={cellStyle({isFirst, isLast, column})}\n    >\n      {column.body(item, rowContext)}\n    </td>\n  );\n}\n","import React, {HTMLAttributes, useRef} from 'react';\nimport {createEventHandler} from '../../utils/dom/create-event-handler';\nimport {useGlobalListeners} from '@react-aria/utils';\n\ninterface PointerState {\n  lastPosition: {x: number; y: number};\n  id?: number;\n  started: boolean;\n  el?: HTMLElement;\n  originalTouchAction?: string;\n  originalUserSelect?: string;\n  longPressTimer?: any;\n  longPressTriggered?: boolean;\n}\n\ninterface UsePointerEventsReturn {\n  domProps: HTMLAttributes<HTMLElement>;\n}\n\nexport interface UsePointerEventsProps {\n  onMoveStart?: (e: PointerEvent, el: HTMLElement) => false | void;\n  onMove?: (e: PointerEvent, deltaX: number, deltaY: number) => void;\n  onMoveEnd?: (e: PointerEvent) => void;\n  onPointerDown?: (e: React.PointerEvent) => void | false;\n  onPointerUp?: (e: PointerEvent, el: HTMLElement) => void;\n  onPress?: (e: PointerEvent, el: HTMLElement) => void;\n  onLongPress?: (e: PointerEvent | React.PointerEvent, el: HTMLElement) => void;\n  preventDefault?: boolean;\n  stopPropagation?: boolean;\n  minimumMovement?: number;\n}\nexport function usePointerEvents({\n  onMoveStart,\n  onMove,\n  onMoveEnd,\n  minimumMovement = 0,\n  preventDefault,\n  stopPropagation = true,\n  onPress,\n  onLongPress,\n  ...props\n}: UsePointerEventsProps): UsePointerEventsReturn {\n  const stateRef = useRef<PointerState>({\n    lastPosition: {x: 0, y: 0},\n    started: false,\n    longPressTriggered: false,\n  });\n  const state = stateRef.current;\n\n  const {addGlobalListener, removeGlobalListener} = useGlobalListeners();\n\n  const start = (e: PointerEvent) => {\n    if (!state.el) return;\n    const result = onMoveStart?.(e, state.el);\n\n    // allow user to cancel interaction\n    if (result === false) return;\n\n    state.originalTouchAction = state.el.style.touchAction;\n    state.el.style.touchAction = 'none';\n    state.originalUserSelect = document.documentElement.style.userSelect;\n    document.documentElement.style.userSelect = 'none';\n    state.started = true;\n  };\n\n  const onPointerDown = (e: React.PointerEvent) => {\n    if (e.button === 0 && state.id == null) {\n      state.started = false;\n\n      const result = props.onPointerDown?.(e);\n      if (result === false) return;\n\n      if (stopPropagation) {\n        e.stopPropagation();\n      }\n      if (preventDefault) {\n        e.preventDefault();\n      }\n      state.id = e.pointerId;\n      state.el = e.currentTarget as HTMLElement;\n      state.lastPosition = {x: e.clientX, y: e.clientY};\n\n      // use global listeners, so we don't have to capture pointer,\n      // which would prevent click events on child nodes\n\n      if (onLongPress) {\n        state.longPressTimer = setTimeout(() => {\n          onLongPress(e, state.el!);\n          state.longPressTriggered = true;\n        }, 400);\n      }\n\n      if (onMoveStart || onMove) {\n        addGlobalListener(window, 'pointermove', onPointerMove, false);\n      }\n      addGlobalListener(window, 'pointerup', onPointerUp, false);\n      addGlobalListener(window, 'pointercancel', onPointerUp, false);\n    }\n  };\n\n  const onPointerMove = (e: PointerEvent) => {\n    if (e.pointerId === state.id) {\n      const deltaX = e.clientX - state.lastPosition.x;\n      const deltaY = e.clientY - state.lastPosition.y;\n\n      if (\n        (Math.abs(deltaX) >= minimumMovement ||\n          Math.abs(deltaY) >= minimumMovement) &&\n        !state.started\n      ) {\n        start(e);\n      }\n\n      if (state.started) {\n        onMove?.(e, deltaX, deltaY);\n        state.lastPosition = {x: e.clientX, y: e.clientY};\n      }\n    }\n  };\n\n  const onPointerUp = (e: PointerEvent) => {\n    if (e.pointerId === state.id) {\n      // cancel long press timer, if exists\n      if (state.longPressTimer) {\n        clearTimeout(state.longPressTimer);\n      }\n\n      const longPressTriggered = state.longPressTriggered;\n      state.longPressTriggered = false;\n\n      // only call onMoveEnd if we actually started moving\n      if (state.started) {\n        onMoveEnd?.(e);\n      }\n\n      if (state.el) {\n        // handle press only if event was not cancelled (via touch scroll on mobile for example)\n        if (e.type !== 'pointercancel') {\n          props.onPointerUp?.(e, state.el);\n\n          // only call onPress if pointer did not leave onPointerDown element\n          if (e.target && state.el.contains(e.target as HTMLElement)) {\n            // trigger either onPress or onLongPress\n            if (longPressTriggered) {\n              onLongPress?.(e, state.el);\n            } else {\n              onPress?.(e, state.el);\n            }\n          }\n        }\n\n        document.documentElement.style.userSelect =\n          state.originalUserSelect || '';\n        state.el.style.touchAction = state.originalTouchAction || '';\n      }\n      state.id = undefined;\n      state.started = false;\n      removeGlobalListener(window, 'pointermove', onPointerMove, false);\n      removeGlobalListener(window, 'pointerup', onPointerUp, false);\n      removeGlobalListener(window, 'pointercancel', onPointerUp, false);\n    }\n  };\n\n  return {\n    domProps: {\n      onPointerDown: createEventHandler(onPointerDown),\n    },\n  };\n}\n","import {isCtrlKeyPressed} from './is-ctrl-key-pressed';\n\ninterface Event {\n  altKey: boolean;\n  ctrlKey: boolean;\n  metaKey: boolean;\n  shiftKey: boolean;\n}\n\nexport function isCtrlOrShiftPressed(e: Event) {\n  return e.shiftKey || isCtrlKeyPressed(e);\n}\n","import {useMediaQuery} from './use-media-query';\n\nexport function useIsTouchDevice() {\n  return useMediaQuery('((hover: none) and (pointer: coarse))');\n}\n","import React, {\n  ComponentPropsWithoutRef,\n  HTMLAttributes,\n  JSXElementConstructor,\n  KeyboardEventHandler,\n  MouseEventHandler,\n  useContext,\n  useState,\n} from 'react';\nimport {rowStyle} from './table-style';\nimport {TableContext} from './table-context';\nimport {CheckboxCell} from './checkbox-cell';\nimport {TableCell} from './table-cell';\nimport {TableDataItem} from './types/table-data-item';\nimport {createEventHandler} from '../../utils/dom/create-event-handler';\nimport {usePointerEvents} from '../interactions/use-pointer-events';\nimport {isCtrlOrShiftPressed} from '../../utils/keybinds/is-ctrl-or-shift-pressed';\nimport {useIsTouchDevice} from '../../utils/hooks/is-touch-device';\nimport {useIsDarkMode} from '@common/ui/themes/use-is-dark-mode';\n\nconst interactableElements = ['button', 'a', 'input', 'select', 'textarea'];\n\nexport interface RowElementProps<T = TableDataItem>\n  extends ComponentPropsWithoutRef<'tr'> {\n  item: T;\n}\n\ninterface TableRowProps {\n  item: TableDataItem;\n  index: number;\n  renderAs?: JSXElementConstructor<RowElementProps>;\n}\nexport function TableRow({item, index, renderAs}: TableRowProps) {\n  const {\n    selectedRows,\n    columns,\n    toggleRow,\n    selectRow,\n    onAction,\n    onRowContextMenu,\n    enableSelection,\n    selectionStyle,\n  } = useContext(TableContext);\n\n  const isTouchDevice = useIsTouchDevice();\n  const isDarkMode = useIsDarkMode();\n  const isRowSelected = selectedRows.includes(item.id);\n  const [isHovered, setIsHovered] = useState(false);\n\n  const clickedOnInteractable = (e: React.MouseEvent | PointerEvent) => {\n    return (e.target as HTMLElement).closest(interactableElements.join(','));\n  };\n\n  const doubleClickHandler: MouseEventHandler<HTMLDivElement> = e => {\n    if (\n      selectionStyle === 'highlight' &&\n      onAction &&\n      !isTouchDevice &&\n      !clickedOnInteractable(e)\n    ) {\n      e.preventDefault();\n      e.stopPropagation();\n      onAction(item, index);\n    }\n  };\n\n  const anyRowsSelected = !!selectedRows.length;\n\n  const handleRowTap = (e: PointerEvent) => {\n    if (clickedOnInteractable(e)) return;\n    if (selectionStyle == 'checkbox') {\n      if (enableSelection && (anyRowsSelected || !onAction)) {\n        toggleRow(item);\n      } else if (onAction) {\n        onAction(item, index);\n      }\n    } else if (selectionStyle === 'highlight') {\n      if (isTouchDevice) {\n        if (enableSelection && anyRowsSelected) {\n          toggleRow(item);\n        } else {\n          onAction?.(item, index);\n        }\n      } else if (enableSelection) {\n        selectRow(item, isCtrlOrShiftPressed(e));\n      }\n    }\n  };\n\n  const {domProps} = usePointerEvents({\n    onPress: handleRowTap,\n    onLongPress:\n      isTouchDevice && enableSelection ? () => toggleRow(item) : undefined,\n  });\n\n  const keyboardHandler: KeyboardEventHandler = e => {\n    if (enableSelection && e.key === ' ') {\n      e.preventDefault();\n      e.stopPropagation();\n      if (selectionStyle === 'checkbox') {\n        toggleRow(item);\n      } else {\n        selectRow(item);\n      }\n    } else if (e.key === 'Enter' && !selectedRows.length && onAction) {\n      e.preventDefault();\n      e.stopPropagation();\n      onAction(item, index);\n    }\n  };\n\n  // prevent context menu on mobile\n  const contextMenuHandler: MouseEventHandler = e => {\n    onRowContextMenu?.(e, item, index);\n    if (isTouchDevice) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  };\n\n  const tableRowProps: HTMLAttributes<HTMLDivElement> = {\n    'aria-selected': isRowSelected,\n    className: rowStyle({\n      isSelected: isRowSelected,\n      enableSelection,\n      isFirst: index === 0,\n      isDarkMode,\n    }),\n    onDoubleClick: createEventHandler(doubleClickHandler),\n    onKeyDown: createEventHandler(keyboardHandler),\n    onContextMenu: createEventHandler(contextMenuHandler),\n    onPointerEnter: createEventHandler(() => setIsHovered(true)),\n    onPointerLeave: createEventHandler(() => setIsHovered(false)),\n    ...domProps,\n  };\n\n  const RowElement = renderAs || 'tr';\n\n  return (\n    <RowElement\n      item={RowElement === 'tr' ? (undefined as any) : item}\n      {...tableRowProps}\n    >\n      <CheckboxCell item={item} />\n      {columns.map((column, cellIndex) => (\n        <TableCell\n          rowIndex={index}\n          rowIsHovered={isHovered}\n          index={cellIndex}\n          item={item}\n          key={`${item.id}-${column.key}`}\n        />\n      ))}\n    </RowElement>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const ArrowDownwardIcon = createSvgIcon(\n  <path d=\"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z\" />\n, 'ArrowDownwardOutlined');\n","import {useContext, useState} from 'react';\nimport clsx from 'clsx';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {TableContext} from './table-context';\nimport {cellStyle} from './table-style';\nimport {SortDescriptor} from './types/sort-descriptor';\nimport {ArrowDownwardIcon} from '../../icons/material/ArrowDownward';\n\ninterface HeaderCellProps {\n  index: number;\n}\nexport function HeaderCell({index}: HeaderCellProps) {\n  const {enableSelection, columns, sortDescriptor, onSortChange} =\n    useContext(TableContext);\n  const isFirst = enableSelection ? false : index === 0;\n  const isLast = index === columns.length - 1;\n  const column = columns[index];\n\n  const style = cellStyle({isFirst, isLast, column});\n\n  const [isHovered, setIsHovered] = useState(false);\n\n  const sortingKey = column.sortingKey || column.key;\n  const allowSorting = column.allowsSorting;\n  const {orderBy, orderDir} = sortDescriptor || {};\n\n  const sortActive = allowSorting && orderBy === sortingKey;\n\n  let ariaSort: 'ascending' | 'descending' | 'none' | undefined;\n  if (sortActive && orderDir === 'asc') {\n    ariaSort = 'ascending';\n  } else if (sortActive && orderDir === 'desc') {\n    ariaSort = 'descending';\n  } else if (allowSorting) {\n    ariaSort = 'none';\n  }\n\n  const toggleSorting = () => {\n    if (!allowSorting) return;\n\n    let newSort: SortDescriptor;\n\n    // if this col was sorted desc, go to asc\n    if (sortActive && orderDir === 'desc') {\n      newSort = {orderDir: 'asc', orderBy: sortingKey};\n\n      // if this col was sorted asc, clear sort\n    } else if (sortActive && orderDir === 'asc') {\n      newSort = {orderBy: undefined, orderDir: undefined};\n\n      // if sort was on another col, or no sort was applied yet, start from desc\n    } else {\n      newSort = {orderDir: 'desc', orderBy: sortingKey};\n    }\n\n    onSortChange?.(newSort);\n  };\n\n  const sortVisible = sortActive || isHovered;\n  const sortVariants = {\n    visible: {opacity: 1, y: 0},\n    hidden: {opacity: 0, y: '-25%'},\n  };\n\n  return (\n    <th\n      onMouseEnter={() => {\n        setIsHovered(true);\n      }}\n      onMouseLeave={() => {\n        setIsHovered(false);\n      }}\n      onKeyDown={e => {\n        if (e.key === ' ' || e.key === 'Enter') {\n          e.preventDefault();\n          toggleSorting();\n        }\n      }}\n      onClick={toggleSorting}\n      tabIndex={-1}\n      aria-sort={ariaSort}\n      data-testid={`header-col-${column.key}`}\n      className={clsx(\n        style,\n        'text-muted font-medium text-xs',\n        allowSorting && 'cursor-pointer'\n      )}\n    >\n      {column.hideHeader ? (\n        <div className=\"sr-only\">{column.header()}</div>\n      ) : (\n        column.header()\n      )}\n      <AnimatePresence>\n        {allowSorting && (\n          <m.span\n            variants={sortVariants}\n            animate={sortVisible ? 'visible' : 'hidden'}\n            initial={false}\n            transition={{type: 'tween'}}\n            key=\"sort-icon\"\n            className=\"inline-block ml-6 -mt-2\"\n            data-testid=\"table-sort-button\"\n            aria-hidden={!sortVisible}\n          >\n            <ArrowDownwardIcon\n              size=\"xs\"\n              className={clsx(\n                'text-muted',\n                orderDir === 'asc' &&\n                  orderBy === sortingKey &&\n                  'rotate-180 transition-transform'\n              )}\n            />\n          </m.span>\n        )}\n      </AnimatePresence>\n    </th>\n  );\n}\n","import {useContext} from 'react';\nimport {TableContext} from './table-context';\nimport {cellStyle} from './table-style';\nimport {Checkbox} from '../forms/toggle/checkbox';\nimport {useTrans} from '../../i18n/use-trans';\nimport {useIsMobileMediaQuery} from '../../utils/hooks/is-mobile-media-query';\n\nexport function SelectAllCell() {\n  const isMobile = useIsMobileMediaQuery();\n  const {trans} = useTrans();\n  const {\n    data,\n    selectedRows,\n    onSelectionChange,\n    enableSelection,\n    selectionStyle,\n  } = useContext(TableContext);\n\n  if (!enableSelection || selectionStyle === 'highlight' || isMobile)\n    return null;\n\n  const allRowsSelected = !!data.length && data.length === selectedRows.length;\n  const someRowsSelected = !allRowsSelected && !!selectedRows.length;\n\n  return (\n    <th\n      aria-colindex={1}\n      className={cellStyle({\n        width: 'w-64 flex-shrink-0 flex-grow-0',\n        isFirst: true,\n      })}\n    >\n      <Checkbox\n        aria-label={trans({message: 'Select all'})}\n        inputTestId=\"select-all-checkbox\"\n        isIndeterminate={someRowsSelected}\n        checked={allRowsSelected}\n        onChange={() => {\n          if (allRowsSelected) {\n            onSelectionChange([]);\n          } else {\n            onSelectionChange(data.map(d => d.id));\n          }\n        }}\n      />\n    </th>\n  );\n}\n","import React, {\n  cloneElement,\n  ComponentProps,\n  JSXElementConstructor,\n  ReactElement,\n  useCallback,\n  useContext,\n  useMemo,\n} from 'react';\nimport {useControlledState} from '@react-stately/utils';\nimport {rowStyle} from './table-style';\nimport {SortDescriptor} from './types/sort-descriptor';\nimport {useGridNavigation} from './navigate-grid';\nimport {RowElementProps, TableRow} from './table-row';\nimport {\n  TableContext,\n  TableContextValue,\n  TableSelectionStyle,\n} from './table-context';\nimport {HeaderCell} from './header-cell';\nimport {SelectAllCell} from './select-all-cell';\nimport {ColumnConfig} from '../../datatable/column-config';\nimport {TableDataItem} from './types/table-data-item';\nimport clsx from 'clsx';\n\nexport interface TableProps<T extends TableDataItem>\n  extends ComponentProps<'table'> {\n  className?: string;\n  columns: ColumnConfig<T>[];\n  hideHeaderRow?: boolean;\n  data: T[];\n  meta?: any;\n  selectedRows?: (number | string)[];\n  defaultSelectedRows?: (number | string)[];\n  onSelectionChange?: (keys: (number | string)[]) => void;\n  sortDescriptor?: SortDescriptor;\n  onSortChange?: (descriptor: SortDescriptor) => any;\n  enableSelection?: boolean;\n  selectionStyle?: TableSelectionStyle;\n  ariaLabelledBy?: string;\n  onAction?: (item: T, index: number) => void;\n  onRowContextMenu?: (e: React.MouseEvent, item: T, index: number) => void;\n  renderRowAs?: JSXElementConstructor<RowElementProps<T>>;\n  tableBody?: ReactElement<TableBodyProps>;\n}\nexport function Table<T extends TableDataItem>({\n  className,\n  columns,\n  hideHeaderRow,\n  data,\n  selectedRows: propsSelectedRows,\n  defaultSelectedRows: propsDefaultSelectedRows,\n  onSelectionChange: propsOnSelectionChange,\n  sortDescriptor: propsSortDescriptor,\n  onSortChange: propsOnSortChange,\n  enableSelection = true,\n  selectionStyle = 'checkbox',\n  ariaLabelledBy,\n  onRowContextMenu,\n  onAction,\n  renderRowAs,\n  tableBody,\n  meta,\n  ...domProps\n}: TableProps<T>) {\n  const [selectedRows, onSelectionChange] = useControlledState(\n    propsSelectedRows,\n    propsDefaultSelectedRows || [],\n    propsOnSelectionChange\n  );\n\n  const [sortDescriptor, onSortChange] = useControlledState(\n    propsSortDescriptor,\n    undefined,\n    propsOnSortChange\n  );\n\n  const toggleRow = useCallback(\n    (item: TableDataItem) => {\n      const newValues = [...selectedRows];\n      if (!newValues.includes(item.id)) {\n        newValues.push(item.id);\n      } else {\n        const index = newValues.indexOf(item.id);\n        newValues.splice(index, 1);\n      }\n      onSelectionChange(newValues);\n    },\n    [selectedRows, onSelectionChange]\n  );\n\n  const selectRow = useCallback(\n    // allow deselecting all rows by passing in null\n    (item: TableDataItem | null, merge?: boolean) => {\n      let newValues: (string | number)[] = [];\n      if (item) {\n        newValues = merge\n          ? [...selectedRows?.filter(id => id !== item.id), item.id]\n          : [item.id];\n      }\n      onSelectionChange(newValues);\n    },\n    [selectedRows, onSelectionChange]\n  );\n\n  const contextValue: TableContextValue<T> = useMemo(() => {\n    return {\n      selectedRows,\n      onSelectionChange,\n      enableSelection,\n      selectionStyle,\n      data,\n      columns,\n      sortDescriptor,\n      onSortChange,\n      toggleRow,\n      selectRow,\n      onAction,\n      onRowContextMenu,\n      meta,\n    };\n  }, [\n    columns,\n    data,\n    enableSelection,\n    selectionStyle,\n    onAction,\n    onRowContextMenu,\n    onSelectionChange,\n    onSortChange,\n    selectedRows,\n    sortDescriptor,\n    toggleRow,\n    selectRow,\n    meta,\n  ]);\n\n  const navProps = useGridNavigation({\n    cellCount: enableSelection ? columns.length + 1 : columns.length,\n    rowCount: data.length + 1,\n  });\n\n  const headerRow = hideHeaderRow ? null : (\n    <thead>\n      <tr aria-rowindex={1} className={rowStyle({isHeader: true})}>\n        <SelectAllCell />\n        {columns.map((column, columnIndex) => (\n          <HeaderCell index={columnIndex} key={column.key} />\n        ))}\n      </tr>\n    </thead>\n  );\n\n  const rowRenderer = renderRowAs as any;\n  if (!tableBody) {\n    tableBody = <BasicTableBody renderRowAs={rowRenderer} />;\n  } else {\n    tableBody = cloneElement(tableBody, {renderRowAs: rowRenderer});\n  }\n\n  return (\n    <TableContext.Provider value={contextValue as any}>\n      <table\n        {...domProps}\n        aria-multiselectable={enableSelection ? true : undefined}\n        aria-labelledby={ariaLabelledBy}\n        className={clsx(\n          className,\n          'select-none isolate outline-none text-sm w-full max-w-full align-top'\n        )}\n        {...navProps}\n      >\n        {headerRow}\n        {tableBody}\n      </table>\n    </TableContext.Provider>\n  );\n}\n\nexport interface TableBodyProps {\n  renderRowAs?: TableProps<TableDataItem>['renderRowAs'];\n}\nfunction BasicTableBody({renderRowAs}: TableBodyProps) {\n  const {data} = useContext(TableContext);\n  return (\n    <tbody>\n      {data.map((item, rowIndex) => (\n        <TableRow\n          item={item}\n          index={rowIndex}\n          key={item.id}\n          renderAs={renderRowAs}\n        />\n      ))}\n    </tbody>\n  );\n}\n","import {TableDataItem} from '../ui/tables/types/table-data-item';\nimport {UseQueryResult} from '@tanstack/react-query';\nimport {PaginatedBackendResponse} from '../http/backend-response/pagination-response';\nimport {useNumberFormatter} from '../i18n/use-number-formatter';\nimport {useDataTable} from './page/data-table-context';\nimport {Select} from '../ui/forms/select/select';\nimport {Trans} from '../i18n/trans';\nimport {Item} from '../ui/forms/listbox/item';\nimport {IconButton} from '../ui/buttons/icon-button';\nimport {KeyboardArrowLeftIcon} from '../icons/material/KeyboardArrowLeft';\nimport {KeyboardArrowRightIcon} from '../icons/material/KeyboardArrowRight';\nimport React from 'react';\nimport {useIsMobileMediaQuery} from '../utils/hooks/is-mobile-media-query';\n\nconst defaultPerPage = 15;\nconst perPageOptions = [{key: 10}, {key: 15}, {key: 20}, {key: 50}, {key: 100}];\n\ntype DataTablePaginationFooterProps<T extends TableDataItem> = {\n  query: UseQueryResult<PaginatedBackendResponse<T>>;\n};\nexport function DataTablePaginationFooter<T extends TableDataItem>({\n  query,\n}: DataTablePaginationFooterProps<T>) {\n  const isMobile = useIsMobileMediaQuery();\n  const numberFormatter = useNumberFormatter();\n  const {params, setParams} = useDataTable();\n  const pagination = query.data?.pagination;\n\n  if (!pagination) return null;\n\n  const perPageSelect = (\n    <Select\n      data-testid=\"paginate-per-page\"\n      minWidth=\"min-w-auto\"\n      selectionMode=\"single\"\n      disabled={query.isLoading}\n      labelPosition=\"side\"\n      size=\"xs\"\n      label={<Trans message=\"Items per page\" />}\n      selectedValue={params.perPage || defaultPerPage}\n      onSelectionChange={value => {\n        setParams({\n          ...params,\n          perPage: value as number,\n        });\n      }}\n    >\n      {perPageOptions.map(option => (\n        <Item key={option.key} value={option.key}>\n          {option.key}\n        </Item>\n      ))}\n    </Select>\n  );\n\n  return (\n    <div className=\"flex items-center justify-end gap-20 px-20 h-54 select-none\">\n      {!isMobile && perPageSelect}\n      {pagination.from && pagination.to && (\n        <div\n          className=\"text-sm\"\n          data-testid=\"pagination-info\"\n          data-total={pagination.total}\n        >\n          <Trans\n            message=\":from - :to of :total\"\n            values={{\n              from: pagination.from,\n              to: pagination.to,\n              total: numberFormatter.format(pagination.total),\n            }}\n          />\n        </div>\n      )}\n      <div className=\"text-muted\">\n        <IconButton\n          data-testid=\"paginate-prev\"\n          disabled={query.isLoading || !pagination.prev_page}\n          onClick={() => {\n            setParams({\n              ...params,\n              page: pagination.prev_page!,\n            });\n          }}\n        >\n          <KeyboardArrowLeftIcon />\n        </IconButton>\n        <IconButton\n          data-testid=\"paginate-next\"\n          disabled={query.isLoading || !pagination.next_page}\n          onClick={() => {\n            setParams({\n              ...params,\n              page: pagination.next_page!,\n            });\n          }}\n        >\n          <KeyboardArrowRightIcon />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const SearchIcon = createSvgIcon(\n  <path d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\" />\n, 'SearchOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FilterAltIcon = createSvgIcon(\n  <path d=\"M7 6h10l-5.01 6.3L7 6zm-2.75-.39C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z\" />\n, 'FilterAltOutlined');\n","import {Key} from 'react';\nimport {MessageDescriptor} from '../../i18n/message-descriptor';\n\nexport class BackendFilter {\n  defaultValue: BackendFilterOptions['defaultValue'];\n  defaultOperator: BackendFilterOptions['defaultOperator'];\n  key: BackendFilterOptions['key'];\n  label: BackendFilterOptions['label'];\n  description?: BackendFilterOptions['description'];\n  type: BackendFilterOptions['type'];\n  inputType?: BackendFilterOptions['inputType'];\n  options: BackendFilterOptions['options'];\n  operators: BackendFilterOptions['operators'];\n  model?: BackendFilterOptions['model'];\n\n  constructor(options: Partial<BackendFilterOptions>) {\n    this.defaultValue =\n      options.defaultValue !== undefined ? options.defaultValue : '';\n    this.key = options.key!;\n    this.label = options.label!;\n    this.description = options.description;\n    this.defaultOperator = options.defaultOperator || FilterOperator.eq;\n    this.type = options.type || FilterControlType.Select;\n    this.inputType = options.inputType;\n    this.options = options.options || [];\n    this.operators = options.operators || [];\n    this.model = options.model;\n  }\n}\n\nexport interface BackendFilterOptions {\n  defaultValue: any;\n  key: string;\n  label: MessageDescriptor;\n  description?: MessageDescriptor;\n  defaultOperator: FilterOperator;\n  type: FilterControlType;\n  // for input filter\n  inputType: 'string' | 'number';\n  // for select filter\n  options: BackendFilterSelectOption[];\n  operators: FilterOperator[];\n  // for select normalized model filter\n  model: string;\n}\n\nexport interface BackendFilterSelectOption {\n  label: MessageDescriptor;\n  key: Key;\n  value: any;\n}\n\nexport enum FilterControlType {\n  Select = 'select',\n  DatePicker = 'datePicker',\n  SelectModel = 'selectModel',\n  Input = 'input',\n  BooleanToggle = 'booleanToggle',\n}\n\nexport enum FilterOperator {\n  eq = '=',\n  ne = '!=',\n  gt = '>',\n  gte = '>=',\n  lt = '<',\n  lte = '<=',\n  has = 'has',\n  doesntHave = 'doesntHave',\n  between = 'between',\n}\n\nexport const ALL_PRIMITIVE_OPERATORS = [\n  FilterOperator.eq,\n  FilterOperator.ne,\n  FilterOperator.gt,\n  FilterOperator.gte,\n  FilterOperator.lt,\n  FilterOperator.lte,\n];\n","import React, {\n  cloneElement,\n  isValidElement,\n  Key,\n  ReactElement,\n  ReactNode,\n  useId,\n  useRef,\n} from 'react';\nimport clsx from 'clsx';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {useControlledState} from '@react-stately/utils';\nimport {FocusScope, useFocusManager} from '@react-aria/focus';\nimport {KeyboardArrowDownIcon} from '../../icons/material/KeyboardArrowDown';\n\ntype Props = {\n  variant?: 'outline' | 'default' | 'minimal';\n  children?: ReactNode;\n  mode?: 'single' | 'multiple';\n  expandedValues?: Key[];\n  defaultExpandedValues?: Key[];\n  onExpandedChange?: (key: Key[]) => void;\n  className?: string;\n};\nexport const Accordion = React.forwardRef<HTMLDivElement, Props>(\n  (\n    {variant = 'default', mode = 'single', children, className, ...other},\n    ref\n  ) => {\n    const [expandedValues, setExpandedValues] = useControlledState(\n      other.expandedValues,\n      other.defaultExpandedValues || [],\n      other.onExpandedChange\n    );\n\n    return (\n      <div\n        className={clsx(variant === 'outline' && 'space-y-10', className)}\n        ref={ref}\n        role=\"presentation\"\n      >\n        <AnimatePresence>\n          <FocusScope>\n            {React.Children.map(children, (child, index) => {\n              if (!isValidElement<ClonedItemProps>(child)) return null;\n              return cloneElement<ClonedItemProps>(child, {\n                key: child.key || index,\n                value: child.props.value || index,\n                mode,\n                variant,\n                expandedValues,\n                setExpandedValues,\n              });\n            })}\n          </FocusScope>\n        </AnimatePresence>\n      </div>\n    );\n  }\n);\n\ninterface AccordionItemProps {\n  children: ReactNode;\n  disabled?: boolean;\n  label: ReactNode;\n  description?: ReactNode;\n  value?: Key;\n  bodyClassName?: string;\n  chevronPosition?: 'left' | 'right';\n  startIcon?: ReactElement;\n  endAppend?: ReactElement;\n  dataTestId?: string;\n}\ninterface ClonedItemProps extends AccordionItemProps {\n  variant?: 'outline' | 'default' | 'minimal';\n  expandedValues: Key[];\n  setExpandedValues: (keys: Key[]) => void;\n  mode: 'single' | 'multiple';\n  value: Key;\n}\nexport function AccordionItem({\n  children,\n  label,\n  disabled,\n  bodyClassName,\n  startIcon,\n  description,\n  endAppend,\n  chevronPosition = 'right',\n  dataTestId,\n  ...other\n}: AccordionItemProps) {\n  const {expandedValues, setExpandedValues, variant, value, mode} =\n    other as ClonedItemProps;\n  const ref = useRef<HTMLButtonElement>(null);\n  const isExpanded = !disabled && expandedValues.includes(value);\n  const focusManager = useFocusManager();\n  const id = useId();\n  const buttonId = `${id}-button`;\n  const panelId = `${id}-panel`;\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLButtonElement>) => {\n    switch (e.key) {\n      case 'ArrowDown':\n        focusManager.focusNext();\n        break;\n      case 'ArrowUp':\n        focusManager.focusPrevious();\n        break;\n      case 'Home':\n        focusManager.focusFirst();\n        break;\n      case 'End':\n        focusManager.focusLast();\n        break;\n    }\n  };\n\n  const variants = {\n    open: {\n      height: 'auto',\n      visibility: 'visible',\n      transitionEnd: {\n        overflow: 'auto',\n      },\n    },\n    closed: {\n      height: 0,\n      overflow: 'hidden',\n      transitionEnd: {\n        visibility: 'hidden',\n      },\n    },\n  } as const;\n\n  const toggle = () => {\n    const i = expandedValues.indexOf(value);\n    if (i > -1) {\n      const newKeys = [...expandedValues];\n      newKeys.splice(i, 1);\n      setExpandedValues(newKeys);\n    } else if (mode === 'single') {\n      setExpandedValues([value]);\n    } else {\n      setExpandedValues([...expandedValues, value]);\n    }\n  };\n\n  const chevron = (\n    <div className={clsx(variant === 'minimal' && '')}>\n      <KeyboardArrowDownIcon\n        aria-hidden=\"true\"\n        size=\"md\"\n        className={clsx(\n          disabled ? 'text-disabled' : 'text-muted',\n          isExpanded && 'rotate-180 transition-transform'\n        )}\n      />\n    </div>\n  );\n\n  return (\n    <div\n      className={clsx(\n        variant === 'default' && 'border-b',\n        variant === 'outline' && 'border rounded',\n        disabled && 'text-disabled'\n      )}\n    >\n      <h3\n        className={clsx(\n          'flex items-center text-sm justify-between w-full',\n          disabled && 'pointer-events-none',\n          isExpanded && variant !== 'minimal' && 'border-b',\n          variant === 'outline'\n            ? isExpanded\n              ? 'rounded-t'\n              : 'rounded'\n            : undefined\n        )}\n      >\n        <button\n          data-testid={dataTestId}\n          disabled={disabled}\n          aria-expanded={isExpanded}\n          id={buttonId}\n          aria-controls={panelId}\n          type=\"button\"\n          ref={ref}\n          onKeyDown={onKeyDown}\n          onClick={() => {\n            if (!disabled) {\n              toggle();\n            }\n          }}\n          className=\"flex items-center text-left gap-10 flex-auto pl-14 pr-10 py-10 hover:bg-hover outline-none focus-visible:bg-primary/focus\"\n        >\n          {chevronPosition === 'left' && chevron}\n          {startIcon &&\n            cloneElement(startIcon, {\n              size: 'md',\n              className: clsx(\n                startIcon.props.className,\n                disabled ? 'text-disabled' : 'text-muted'\n              ),\n            })}\n          <div className=\"flex-auto overflow-hidden overflow-ellipsis\">\n            <div data-testid=\"accordion-label\">{label}</div>\n            {description && (\n              <div className=\"text-muted text-xs\">{description}</div>\n            )}\n          </div>\n          {chevronPosition === 'right' && chevron}\n        </button>\n        {endAppend && (\n          <div className=\"flex-shrink-0 text-sm text-muted px-4\">\n            {endAppend}\n          </div>\n        )}\n      </h3>\n      <m.div\n        aria-labelledby={id}\n        role=\"region\"\n        variants={variants}\n        transition={{type: 'tween', duration: 0.2}}\n        initial={false}\n        animate={isExpanded ? 'open' : 'closed'}\n      >\n        <div className={clsx('p-16', bodyClassName)}>{children}</div>\n      </m.div>\n    </div>\n  );\n}\n","import {FormSelect} from '../../../ui/forms/select/select';\nimport {Item} from '../../../ui/forms/listbox/item';\nimport {Trans} from '../../../i18n/trans';\nimport {FilterPanelProps} from './filter-panel-props';\n\nexport function SelectFilterPanel({filter}: FilterPanelProps) {\n  return (\n    <FormSelect\n      size=\"sm\"\n      autoFocus\n      name={`${filter.key}.value`}\n      selectionMode=\"single\"\n    >\n      {filter.options.map(option => (\n        <Item key={option.key} value={option.key}>\n          <Trans {...option.label} />\n        </Item>\n      ))}\n    </FormSelect>\n  );\n}\n","import React, {\n  ComponentPropsWithoutRef,\n  Fragment,\n  MouseEvent,\n  useRef,\n} from 'react';\nimport {DateRangeIcon} from '../../../../../icons/material/DateRange';\nimport {DialogTrigger} from '../../../../overlays/dialog/dialog-trigger';\nimport {DatePickerField, DatePickerFieldProps} from './date-picker-field';\nimport {useDateRangePickerState} from './use-date-range-picker-state';\nimport {ArrowRightAltIcon} from '../../../../../icons/material/ArrowRightAlt';\nimport {DatePickerValueProps} from '../date-picker/use-date-picker-state';\nimport {DateRangeValue} from './date-range-value';\nimport {DateSegmentList} from '../segments/date-segment-list';\nimport {DateRangeDialog} from './dialog/date-range-dialog';\nimport {useIsMobileMediaQuery} from '../../../../../utils/hooks/is-mobile-media-query';\n\nexport interface DateRangePickerProps\n  extends DatePickerValueProps<Partial<DateRangeValue>>,\n    Omit<DatePickerFieldProps, 'children'> {}\nexport function DateRangePicker(props: DateRangePickerProps) {\n  const {granularity, closeDialogOnSelection, ...fieldProps} = props;\n  const state = useDateRangePickerState(props);\n  const inputRef = useRef<HTMLDivElement>(null);\n  const isMobile = useIsMobileMediaQuery();\n  const hideCalendarIcon = isMobile && granularity !== 'day';\n\n  const dialog = (\n    <DialogTrigger\n      offset={8}\n      placement=\"bottom-start\"\n      isOpen={state.calendarIsOpen}\n      onOpenChange={state.setCalendarIsOpen}\n      type=\"popover\"\n      triggerRef={inputRef}\n      returnFocusToTrigger={false}\n      moveFocusToDialog={false}\n    >\n      <DateRangeDialog state={state} />\n    </DialogTrigger>\n  );\n\n  const openOnClick: ComponentPropsWithoutRef<'div'> = {\n    onClick: e => {\n      e.stopPropagation();\n      e.preventDefault();\n      if (!isHourSegment(e)) {\n        state.setCalendarIsOpen(true);\n      } else {\n        state.setCalendarIsOpen(false);\n      }\n    },\n  };\n\n  const value = state.selectedValue;\n  const onChange = state.setSelectedValue;\n\n  return (\n    <Fragment>\n      <DatePickerField\n        ref={inputRef}\n        wrapperProps={openOnClick}\n        endAdornment={!hideCalendarIcon ? <DateRangeIcon /> : undefined}\n        {...fieldProps}\n      >\n        <DateSegmentList\n          isPlaceholder={state.isPlaceholder?.start}\n          state={state}\n          segmentProps={openOnClick}\n          value={value.start}\n          onChange={newValue => {\n            onChange({...value, start: newValue});\n          }}\n        />\n        <ArrowRightAltIcon\n          className=\"block flex-shrink-0 text-muted\"\n          size=\"md\"\n        />\n        <DateSegmentList\n          isPlaceholder={state.isPlaceholder?.end}\n          state={state}\n          segmentProps={openOnClick}\n          value={value.end}\n          onChange={newValue => {\n            onChange({...value, end: newValue});\n          }}\n        />\n      </DatePickerField>\n      {dialog}\n    </Fragment>\n  );\n}\n\nfunction isHourSegment(e: MouseEvent<HTMLDivElement>): boolean {\n  return ['hour', 'minute', 'dayPeriod'].includes(\n    (e.currentTarget as HTMLElement).ariaLabel || ''\n  );\n}\n","import {parseAbsoluteToLocal, ZonedDateTime} from '@internationalized/date';\nimport {DateRangeValue} from './date-range-value';\nimport {useController} from 'react-hook-form';\nimport {mergeProps} from '@react-aria/utils';\nimport React from 'react';\nimport {DateRangePicker, DateRangePickerProps} from './date-range-picker';\n\nexport interface AbsoluteDateRange {\n  start?: string;\n  end?: string;\n  preset?: number;\n}\n\ninterface FormDateRange {\n  start?: string | ZonedDateTime;\n  end?: string | ZonedDateTime;\n  preset?: number;\n}\n\ninterface FormDateRangePickerProps extends DateRangePickerProps {\n  name: string;\n}\nexport function FormDateRangePicker(props: FormDateRangePickerProps) {\n  const {\n    field: {onChange, onBlur, value, ref},\n    fieldState: {invalid, error},\n  } = useController({\n    name: props.name,\n  });\n\n  const formProps: Partial<DateRangePickerProps> = {\n    onChange: e => {\n      onChange(e ? dateRangeToAbsoluteRange(e) : null);\n    },\n    onBlur,\n    value: absoluteRangeToDateRange(value),\n    invalid,\n    errorMessage: error?.message,\n    inputRef: ref,\n  };\n\n  return <DateRangePicker {...mergeProps(formProps, props)} />;\n}\n\nexport function absoluteRangeToDateRange(props: FormDateRange | null) {\n  const {start, end, preset} = props || {};\n  const dateRange: Partial<DateRangeValue> = {preset};\n  if (start) {\n    dateRange.start =\n      typeof start === 'string' ? parseAbsoluteToLocal(start) : start;\n  }\n  if (end) {\n    dateRange.end = typeof end === 'string' ? parseAbsoluteToLocal(end) : end;\n  }\n  return dateRange;\n}\n\nexport function dateRangeToAbsoluteRange({\n  start,\n  end,\n  preset,\n}: Partial<DateRangeValue> = {}) {\n  const absoluteRange: AbsoluteDateRange = {\n    preset,\n  };\n  if (start) {\n    absoluteRange.start = start.toAbsoluteString();\n  }\n  if (end) {\n    absoluteRange.end = end.toAbsoluteString();\n  }\n  return absoluteRange;\n}\n","import {FormDateRangePicker} from '../../../ui/forms/input-field/date/date-range-picker/form-date-range-picker';\nimport {FilterPanelProps} from './filter-panel-props';\n\nexport function DateFilterPanel({filter}: FilterPanelProps) {\n  return (\n    <FormDateRangePicker\n      size=\"sm\"\n      name={`${filter.key}.value`}\n      autoFocus\n      granularity=\"day\"\n      closeDialogOnSelection={true}\n    />\n  );\n}\n","import {useQuery, UseQueryOptions} from '@tanstack/react-query';\nimport {NormalizedModel} from '../../datatable/filters/normalized-model';\nimport {apiClient} from '../../http/query-client';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\n\nconst endpoint = (model: string) => `normalized-models/${model}`;\n\ninterface Response extends BackendResponse {\n  results: NormalizedModel[];\n}\n\ninterface Params {\n  query?: string;\n  perPage?: number;\n}\n\nexport function useNormalizedModels(\n  model: string,\n  params: Params,\n  options?: Omit<\n    UseQueryOptions<Response, unknown, Response, [string, Params]>,\n    'queryKey' | 'queryFn'\n  >\n) {\n  return useQuery([endpoint(model), params], () => fetchUsers(model, params), {\n    keepPreviousData: true,\n    ...options,\n  });\n}\n\nasync function fetchUsers(model: string, params: Params): Promise<Response> {\n  return apiClient\n    .get(endpoint(model), {\n      params,\n    })\n    .then(r => r.data);\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {NormalizedModel} from '../../datatable/filters/normalized-model';\nimport {apiClient} from '../../http/query-client';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\n\nconst endpoint = (modelName: string, modelId: string | number) =>\n  `normalized-models/${modelName}/${modelId}`;\n\ninterface Response extends BackendResponse {\n  model: NormalizedModel;\n}\n\nexport function useNormalizedModel(model: string, modelId: string | number) {\n  return useQuery(\n    [endpoint(model, modelId)],\n    () => fetchModel(model, modelId),\n    {enabled: model != null && modelId != null}\n  );\n}\n\nasync function fetchModel(\n  model: string,\n  modelId: string | number\n): Promise<Response> {\n  return apiClient.get(endpoint(model, modelId), {}).then(r => r.data);\n}\n","import React, {ReactNode, useRef, useState} from 'react';\nimport {useTrans} from '../../i18n/use-trans';\nimport {Trans} from '../../i18n/trans';\nimport {Avatar} from '../images/avatar';\nimport {Tooltip} from '../tooltip/tooltip';\nimport {IconButton} from '../buttons/icon-button';\nimport {EditIcon} from '../../icons/material/Edit';\nimport {message} from '../../i18n/message';\nimport {Item} from './listbox/item';\nimport {ComboBox} from './combobox/combobox';\nimport {useController} from 'react-hook-form';\nimport {useControlledState} from '@react-stately/utils';\nimport {getInputFieldClassNames} from './input-field/get-input-field-class-names';\nimport clsx from 'clsx';\nimport {Skeleton} from '../skeleton/skeleton';\nimport {useNormalizedModels} from '../../users/queries/use-normalized-models';\nimport {useNormalizedModel} from '../../users/queries/use-normalized-model';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {opacityAnimation} from '../animation/opacity-animation';\n\ninterface NormalizedModelFieldProps {\n  modelType: string;\n  label?: ReactNode;\n  className?: string;\n  value?: string | number;\n  defaultValue?: string | number;\n  onChange?: (value: string | number) => void;\n  invalid?: boolean;\n  errorMessage?: string;\n  description?: ReactNode;\n  openMenuOnFocus?: boolean;\n  autoFocus?: boolean;\n}\nexport function NormalizedModelField({\n  modelType,\n  label,\n  className,\n  value,\n  defaultValue = '',\n  onChange,\n  description,\n  errorMessage,\n  invalid,\n  openMenuOnFocus,\n  autoFocus,\n}: NormalizedModelFieldProps) {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const [inputValue, setInputValue] = useState('');\n  const [selectedValue, setSelectedValue] = useControlledState(\n    value,\n    defaultValue,\n    onChange\n  );\n  const query = useNormalizedModels(modelType, {query: inputValue});\n  const {trans} = useTrans();\n\n  const fieldClassNames = getInputFieldClassNames({size: 'md'});\n\n  if (selectedValue) {\n    return (\n      <div className={className}>\n        <div className={fieldClassNames.label}>{label}</div>\n        <div\n          className={clsx(\n            'p-10 border rounded mb-20',\n            invalid && 'border-danger'\n          )}\n        >\n          <AnimatePresence initial={false} mode=\"wait\">\n            <SelectedModelPreview\n              modelType={modelType}\n              modelId={selectedValue}\n              onEditClick={() => {\n                setSelectedValue('');\n                setInputValue('');\n                requestAnimationFrame(() => {\n                  inputRef.current?.focus();\n                });\n              }}\n            />\n          </AnimatePresence>\n        </div>\n        {description && !errorMessage && (\n          <div className={fieldClassNames.description}>{description}</div>\n        )}\n        {errorMessage && (\n          <div className={fieldClassNames.error}>{errorMessage}</div>\n        )}\n      </div>\n    );\n  }\n\n  return (\n    <ComboBox\n      className={className}\n      invalid={invalid}\n      errorMessage={errorMessage}\n      description={description}\n      isAsync\n      placeholder={trans(message('Find item..'))}\n      label={label}\n      isLoading={query.isFetching}\n      items={query.data?.results}\n      inputValue={inputValue}\n      onInputValueChange={setInputValue}\n      clearInputOnItemSelection\n      selectionMode=\"single\"\n      selectedValue={selectedValue}\n      onSelectionChange={setSelectedValue}\n      ref={inputRef}\n      openMenuOnFocus={openMenuOnFocus}\n      autoFocus={autoFocus}\n    >\n      {model => (\n        <Item\n          value={model.id}\n          key={model.id}\n          description={model.description}\n          startIcon={<Avatar src={model.image} />}\n        >\n          {model.name}\n        </Item>\n      )}\n    </ComboBox>\n  );\n}\n\ninterface SelectedModelPreviewProps {\n  modelType: string;\n  modelId: string | number;\n  selectedValue?: number | string;\n  onEditClick?: () => void;\n}\nfunction SelectedModelPreview({\n  modelType,\n  modelId,\n  onEditClick,\n}: SelectedModelPreviewProps) {\n  const {data, isLoading} = useNormalizedModel(modelType, modelId);\n\n  if (isLoading || !data?.model) {\n    return <LoadingSkeleton key=\"skeleton\" />;\n  }\n\n  return (\n    <m.div\n      className=\"flex items-center gap-10\"\n      key=\"preview\"\n      {...opacityAnimation}\n    >\n      <Avatar src={data.model.image} />\n      <div>\n        <div>{data.model.name}</div>\n        <div className=\"text-muted text-xs\">{data.model.description}</div>\n      </div>\n      <Tooltip label={<Trans message=\"Change item\" />}>\n        <IconButton\n          className=\"ml-auto text-muted\"\n          size=\"sm\"\n          onClick={onEditClick}\n        >\n          <EditIcon />\n        </IconButton>\n      </Tooltip>\n    </m.div>\n  );\n}\n\nfunction LoadingSkeleton() {\n  return (\n    <m.div className=\"flex items-center gap-10\" {...opacityAnimation}>\n      <Skeleton variant=\"rect\" size=\"w-32 h-32\" />\n      <div className=\"flex-auto max-h-[36px]\">\n        <Skeleton className=\"text-xs\" />\n        <Skeleton className=\"text-xs max-h-8\" />\n      </div>\n      <Skeleton variant=\"icon\" size=\"w-24 h-24\" />\n    </m.div>\n  );\n}\n\ninterface FormNormalizedModelFieldProps extends NormalizedModelFieldProps {\n  name: string;\n}\nexport function FormNormalizedModelField({\n  name,\n  ...fieldProps\n}: FormNormalizedModelFieldProps) {\n  const {\n    field: {onChange, value = ''},\n    fieldState: {invalid, error},\n  } = useController({\n    name,\n  });\n\n  return (\n    <NormalizedModelField\n      value={value}\n      onChange={onChange}\n      invalid={invalid}\n      errorMessage={error?.message}\n      {...fieldProps}\n    />\n  );\n}\n","import {FilterPanelProps} from './filter-panel-props';\nimport {FormNormalizedModelField} from '../../../ui/forms/normalized-model-field';\n\nexport function NormalizedModelFilterPanel({filter}: FilterPanelProps) {\n  return (\n    <FormNormalizedModelField\n      name={`${filter.key}.value`}\n      className=\"mb-20\"\n      modelType={filter.model!}\n      openMenuOnFocus\n      autoFocus\n    />\n  );\n}\n","import {FilterOperator} from './backend-filter';\nimport {message} from '../../i18n/message';\nimport {MessageDescriptor} from '../../i18n/message-descriptor';\n\nexport const FilterOperatorNames: {[op in FilterOperator]: MessageDescriptor} =\n  {\n    '=': message('is'),\n    '!=': message('is not'),\n    '>': message('is greater than'),\n    '>=': message('is greater than or equal to'),\n    '<': message('is less than'),\n    '<=': message('is less than or equal to'),\n    has: message('Include'),\n    doesntHave: message('Do not include'),\n    between: message('Is between'),\n  };\n","import {FormTextField} from '../../../ui/forms/input-field/text-field/text-field';\nimport {Trans} from '../../../i18n/trans';\nimport {FormSelect} from '../../../ui/forms/select/select';\nimport {Item} from '../../../ui/forms/listbox/item';\nimport {FilterOperatorNames} from '../filter-operator-names';\nimport {Fragment} from 'react';\nimport {FilterPanelProps} from './filter-panel-props';\n\nexport function InputFilterPanel({filter}: FilterPanelProps) {\n  return (\n    <Fragment>\n      <FormSelect\n        autoFocus\n        selectionMode=\"single\"\n        name={`${filter.key}.operator`}\n        className=\"mb-14\"\n        size=\"sm\"\n        required\n      >\n        {filter.operators.map(operator => (\n          <Item key={operator} value={operator}>\n            {<Trans {...FilterOperatorNames[operator]} />}\n          </Item>\n        ))}\n      </FormSelect>\n      <FormTextField\n        size=\"sm\"\n        name={`${filter.key}.value`}\n        type={filter.inputType}\n        required\n      />\n    </Fragment>\n  );\n}\n","import {FilterPanelProps} from './filter-panel-props';\n\nexport function BooleanFilterPanel({filter}: FilterPanelProps) {\n  // Toggling accordion in the dialog will already apply boolean filter, no need for any extra fields here\n  return null;\n}\n","import {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from './backend-filter';\nimport {Trans} from '../../i18n/trans';\nimport {Key, useState} from 'react';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {useBackendFilterUrlParams} from './backend-filter-url-params';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {Accordion, AccordionItem} from '../../ui/accordion/accordion';\nimport {Button} from '../../ui/buttons/button';\nimport {useForm} from 'react-hook-form';\nimport {Form} from '../../ui/forms/form';\nimport {Checkbox} from '../../ui/forms/toggle/checkbox';\nimport {SelectFilterPanel} from './panels/select-filter-panel';\nimport {DateFilterPanel} from './panels/date-filter-panel';\nimport {NormalizedModelFilterPanel} from './panels/normalized-model-filter-panel';\nimport {InputFilterPanel} from './panels/input-filter-panel';\nimport {BooleanFilterPanel} from './panels/boolean-filter-panel';\nimport clsx from 'clsx';\n\nexport interface FilterItemFormValue<T = any> {\n  value: T;\n  operator?: FilterOperator;\n}\n\ninterface AddFilterDialogProps {\n  filters: BackendFilter[];\n}\nexport function AddFilterDialog({filters}: AddFilterDialogProps) {\n  const {decodedFilters} = useBackendFilterUrlParams(filters);\n  const {formId} = useDialogContext();\n\n  // expand currently active filters\n  const [expandedFilters, setExpandedFilters] = useState<Key[]>(() => {\n    return decodedFilters.map(f => f.key);\n  });\n\n  const clearButton = (\n    <Button\n      size=\"xs\"\n      variant=\"outline\"\n      className=\"mr-auto\"\n      onClick={() => {\n        setExpandedFilters([]);\n      }}\n      data-testid=\"clear-filters-button\"\n    >\n      <Trans message=\"Clear\" />\n    </Button>\n  );\n\n  const applyButton = (\n    <Button\n      size=\"xs\"\n      variant=\"flat\"\n      color=\"primary\"\n      className=\"ml-auto\"\n      type=\"submit\"\n      form={formId}\n      data-testid=\"apply-filters-button\"\n    >\n      <Trans message=\"Apply\" />\n    </Button>\n  );\n\n  return (\n    <Dialog className=\"min-w-[300px]\" maxWidth=\"max-w-400\" size=\"auto\">\n      <DialogHeader\n        padding=\"px-14 py-10\"\n        leftAdornment={clearButton}\n        rightAdornment={applyButton}\n      >\n        <Trans message=\"Filter\" />\n      </DialogHeader>\n      <DialogBody padding=\"p-0\">\n        <FilterList\n          filters={filters}\n          expandedFilters={expandedFilters}\n          setExpandedFilters={setExpandedFilters}\n        />\n      </DialogBody>\n    </Dialog>\n  );\n}\n\ninterface FilterListProps {\n  filters: BackendFilter[];\n  expandedFilters: Key[];\n  setExpandedFilters: (value: Key[]) => void;\n}\nfunction FilterList({\n  filters,\n  expandedFilters,\n  setExpandedFilters,\n}: FilterListProps) {\n  const {decodedFilters, replaceAll} = useBackendFilterUrlParams(filters);\n\n  // either get value and operator from url params if filter is active, or get defaults from filter config\n  const defaultValues: Record<string, FilterItemFormValue> = {};\n  filters.forEach(filter => {\n    const appliedFilter = decodedFilters.find(f => f.key === filter.key);\n    defaultValues[filter.key] =\n      appliedFilter?.value !== undefined\n        ? {value: appliedFilter.value, operator: appliedFilter.operator}\n        : {value: filter.defaultValue, operator: filter.defaultOperator};\n  });\n  const form = useForm<Record<string, FilterItemFormValue>>({defaultValues});\n  const {formId, close} = useDialogContext();\n\n  return (\n    <Form\n      form={form}\n      id={formId}\n      onSubmit={formValue => {\n        const filterValue = Object.entries(formValue)\n          // remove undefined and non-expanded filters, so \"clear\" button will correctly remove active filters\n          .filter(\n            ([key, fieldValue]) =>\n              expandedFilters.includes(key) && fieldValue !== undefined\n          )\n          .map(([key, fieldValue]) => ({\n            key,\n            ...fieldValue, // value and operator from form\n          }));\n\n        replaceAll(filterValue);\n        close();\n      }}\n    >\n      <Accordion\n        mode=\"multiple\"\n        expandedValues={expandedFilters}\n        onExpandedChange={setExpandedFilters}\n      >\n        {filters.map(filter => (\n          <AccordionItem\n            dataTestId={`filter-${filter.key}-toggle`}\n            startIcon={\n              <Checkbox checked={expandedFilters.includes(filter.key)} />\n            }\n            key={filter.key}\n            value={filter.key}\n            label={<Trans {...filter.label} />}\n          >\n            {filter.description && (\n              <div\n                className={clsx(\n                  'text-muted text-xs',\n                  // boolean filter will have nothing in the panel, no need to add margin\n                  filter.type !== FilterControlType.BooleanToggle && 'mb-14'\n                )}\n              >\n                <Trans {...filter.description} />\n              </div>\n            )}\n            <AddFilterDialogPanel filter={filter} />\n          </AccordionItem>\n        ))}\n      </Accordion>\n    </Form>\n  );\n}\n\ninterface ActiveFilterPanelProps {\n  filter: BackendFilter;\n}\nexport function AddFilterDialogPanel({filter}: ActiveFilterPanelProps) {\n  switch (filter.type) {\n    case FilterControlType.Select:\n      return <SelectFilterPanel filter={filter} />;\n    case FilterControlType.DatePicker:\n      return <DateFilterPanel filter={filter} />;\n    case FilterControlType.SelectModel:\n      return <NormalizedModelFilterPanel filter={filter} />;\n    case FilterControlType.Input:\n      return <InputFilterPanel filter={filter} />;\n    case FilterControlType.BooleanToggle:\n      return <BooleanFilterPanel filter={filter} />;\n  }\n}\n","import {Button} from '../../ui/buttons/button';\nimport {BackendFilter} from './backend-filter';\nimport {FilterAltIcon} from '../../icons/material/FilterAlt';\nimport {Trans} from '../../i18n/trans';\nimport {useIsMobileMediaQuery} from '../../utils/hooks/is-mobile-media-query';\nimport {IconButton} from '../../ui/buttons/icon-button';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {AddFilterDialog} from './add-filter-dialog';\n\ninterface AddFilterButtonProps {\n  filters: BackendFilter[];\n}\nexport function AddFilterButton({filters}: AddFilterButtonProps) {\n  const isMobile = useIsMobileMediaQuery();\n\n  const desktopButton = (\n    <Button\n      variant=\"outline\"\n      color=\"primary\"\n      startIcon={<FilterAltIcon />}\n      size=\"sm\"\n      className=\"text-muted\"\n      data-testid=\"add-filter-button\"\n    >\n      <Trans message=\"Filter\" />\n    </Button>\n  );\n\n  const mobileButton = (\n    <IconButton\n      color=\"primary\"\n      size=\"sm\"\n      variant=\"outline\"\n      radius=\"rounded\"\n      className=\"flex-shrink-0\"\n      data-testid=\"add-filter-button\"\n    >\n      <FilterAltIcon />\n    </IconButton>\n  );\n\n  return (\n    <DialogTrigger type=\"popover\">\n      {isMobile ? mobileButton : desktopButton}\n      <AddFilterDialog filters={filters} />\n    </DialogTrigger>\n  );\n}\n","import React, {ComponentPropsWithoutRef, ReactNode} from 'react';\nimport {BackendFilter} from './filters/backend-filter';\nimport {useTrans} from '../i18n/use-trans';\nimport {useDataTable} from './page/data-table-context';\nimport {TextField} from '../ui/forms/input-field/text-field/text-field';\nimport {SearchIcon} from '../icons/material/Search';\nimport {AddFilterButton} from './filters/add-filter-button';\nimport {Trans} from '../i18n/trans';\n\ninterface PageHeaderProps {\n  actions?: ReactNode;\n  filters?: BackendFilter[];\n}\nexport function DataTableHeader({actions, filters}: PageHeaderProps) {\n  const {trans} = useTrans();\n  const {params, setParams, searchPlaceholder} = useDataTable();\n  return (\n    <HeaderLayout>\n      <TextField\n        inputTestId=\"datatable-search\"\n        className=\"flex-auto max-w-440 mr-auto\"\n        inputWrapperClassName=\"mr-24 md:mr-0\"\n        placeholder={trans(searchPlaceholder)}\n        startAdornment={<SearchIcon />}\n        value={params.query || ''}\n        onChange={e => {\n          setParams({...params, query: e.target.value});\n        }}\n      />\n      {filters && <AddFilterButton filters={filters} />}\n      {actions}\n    </HeaderLayout>\n  );\n}\n\ninterface SelectedPageHeaderProps {\n  actions?: ReactNode;\n}\nexport function SelectedStateDataTableHeader({\n  actions,\n}: SelectedPageHeaderProps) {\n  const {selectedRows} = useDataTable();\n  return (\n    <HeaderLayout data-testid=\"datatable-selected-header\">\n      <div className=\"mr-auto\">\n        <Trans\n          message=\"[one 1 item|other :count items] selected\"\n          values={{count: selectedRows.length}}\n        />\n      </div>\n      {actions}\n    </HeaderLayout>\n  );\n}\n\ninterface AnimatedHeaderProps extends ComponentPropsWithoutRef<'div'> {\n  children: ReactNode;\n}\nfunction HeaderLayout({children, ...domProps}: AnimatedHeaderProps) {\n  return (\n    <div\n      className=\"mb-24 flex items-center gap-8 md:gap-12 text-muted relative h-42\"\n      {...domProps}\n    >\n      {children}\n    </div>\n  );\n}\n","import {BackendFilter, FilterControlType} from '../backend-filter';\nimport {ComponentPropsWithRef, forwardRef, ReactNode} from 'react';\nimport {Button} from '../../../ui/buttons/button';\nimport {KeyboardArrowDownIcon} from '../../../icons/material/KeyboardArrowDown';\nimport {Trans} from '../../../i18n/trans';\nimport clsx from 'clsx';\n\ninterface TriggerButtonProps\n  extends Omit<ComponentPropsWithRef<'button'>, 'color'> {\n  isInactive?: boolean;\n  filter: BackendFilter;\n  children?: ReactNode;\n}\nexport const FilterListTriggerButton = forwardRef<\n  HTMLButtonElement,\n  TriggerButtonProps\n>((props, ref) => {\n  // pass through all props from menu trigger and dialog trigger to button\n  const {isInactive, filter, ...domProps} = props;\n\n  if (isInactive) {\n    return <InactiveFilterButton filter={filter} {...domProps} ref={ref} />;\n  }\n\n  return <ActiveFilterButton filter={filter} {...domProps} ref={ref} />;\n});\n\ninterface InactiveFilterButtonProps\n  extends Omit<ComponentPropsWithRef<'button'>, 'color'> {\n  filter: BackendFilter;\n}\nexport const InactiveFilterButton = forwardRef<\n  HTMLButtonElement,\n  InactiveFilterButtonProps\n>(({filter, ...domProps}, ref) => {\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"xs\"\n      color=\"paper\"\n      radius=\"rounded-md\"\n      border=\"border\"\n      ref={ref}\n      endIcon={<KeyboardArrowDownIcon />}\n      {...domProps}\n    >\n      <Trans {...filter.label} />\n    </Button>\n  );\n});\n\nexport const ActiveFilterButton = forwardRef<\n  HTMLButtonElement,\n  InactiveFilterButtonProps\n>(({filter, children, ...domProps}, ref) => {\n  const isBoolean = filter.type === FilterControlType.BooleanToggle;\n  return (\n    <Button\n      variant=\"outline\"\n      size=\"xs\"\n      color=\"primary\"\n      radius=\"rounded-r-md\"\n      border=\"border-y border-r\"\n      endIcon={!isBoolean && <KeyboardArrowDownIcon />}\n      ref={ref}\n      {...domProps}\n    >\n      <span\n        className={clsx(\n          !isBoolean && 'border-r border-r-primary-light mr-8 pr-8'\n        )}\n      >\n        <Trans {...filter.label} />\n      </span>\n      {children}\n    </Button>\n  );\n});\n","import {DialogTrigger} from '../../../ui/overlays/dialog/dialog-trigger';\nimport {FilterListTriggerButton} from './filter-list-trigger-button';\nimport {ReactNode} from 'react';\nimport {useForm} from 'react-hook-form';\nimport {FilterItemFormValue} from '../add-filter-dialog';\nimport {useDialogContext} from '../../../ui/overlays/dialog/dialog-context';\nimport {Dialog} from '../../../ui/overlays/dialog/dialog';\nimport {DialogHeader} from '../../../ui/overlays/dialog/dialog-header';\nimport {Trans} from '../../../i18n/trans';\nimport {DialogBody} from '../../../ui/overlays/dialog/dialog-body';\nimport {Form} from '../../../ui/forms/form';\nimport {DialogFooter} from '../../../ui/overlays/dialog/dialog-footer';\nimport {Button} from '../../../ui/buttons/button';\nimport {FilterListControlProps} from './filter-list-control';\n\ninterface FilterListItemDialogTriggerProps extends FilterListControlProps<any> {\n  label: ReactNode;\n  panel: ReactNode;\n}\nexport function FilterListItemDialogTrigger(\n  props: FilterListItemDialogTriggerProps\n) {\n  const {onValueChange, isInactive, filter, label} = props;\n  return (\n    <DialogTrigger\n      offset={10}\n      type=\"popover\"\n      onClose={(value?: FilterItemFormValue) => {\n        if (value !== undefined) {\n          onValueChange(value);\n        }\n      }}\n    >\n      <FilterListTriggerButton isInactive={isInactive} filter={filter}>\n        {label}\n      </FilterListTriggerButton>\n      <FilterListControlDialog {...props} />\n    </DialogTrigger>\n  );\n}\n\nexport function FilterListControlDialog({\n  filter,\n  panel,\n  value,\n  operator,\n}: FilterListItemDialogTriggerProps) {\n  const form = useForm<Record<string, FilterItemFormValue>>({\n    defaultValues: {\n      [filter.key]: {value, operator},\n    },\n  });\n  const {close, formId} = useDialogContext();\n  return (\n    <Dialog size=\"xs\">\n      <DialogHeader>\n        <Trans {...filter.label} />\n      </DialogHeader>\n      <DialogBody padding=\"px-14 pt-14 pb-4\">\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={formValue => {\n            close(formValue[filter.key]);\n          }}\n        >\n          {filter.description && (\n            <div className=\"text-muted text-xs mb-14\">\n              <Trans {...filter.description} />\n            </div>\n          )}\n          {panel}\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          form={formId}\n          type=\"submit\"\n          variant=\"flat\"\n          color=\"primary\"\n          size=\"xs\"\n        >\n          <Trans message=\"Apply\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '../backend-filter';\nimport {FilterListTriggerButton} from './filter-list-trigger-button';\nimport {Trans} from '../../../i18n/trans';\nimport {SelectFilterPanel} from '../panels/select-filter-panel';\nimport {FilterListItemDialogTrigger} from './filter-list-item-dialog-trigger';\nimport {Avatar} from '../../../ui/images/avatar';\nimport {NormalizedModelFilterPanel} from '../panels/normalized-model-filter-panel';\nimport {DateFilterPanel} from '../panels/date-filter-panel';\nimport {Fragment, Key, ReactNode} from 'react';\nimport {DateRangePresets} from '../../../ui/forms/input-field/date/date-range-picker/dialog/date-range-presets';\nimport {FormattedDateTimeRange} from '../../../i18n/formatted-date-time-range';\nimport {AbsoluteDateRange} from '../../../ui/forms/input-field/date/date-range-picker/form-date-range-picker';\nimport {InputFilterPanel} from '../panels/input-filter-panel';\nimport {FilterOperatorNames} from '../filter-operator-names';\nimport {FilterItemFormValue} from '../add-filter-dialog';\nimport {useNormalizedModel} from '../../../users/queries/use-normalized-model';\nimport {Skeleton} from '../../../ui/skeleton/skeleton';\n\nexport interface FilterListControlProps<T = unknown> {\n  filter: BackendFilter;\n  onValueChange: (value: FilterItemFormValue<T>) => void;\n  value: T;\n  operator?: FilterOperator;\n  isInactive?: boolean;\n}\nexport function FilterListControl(props: FilterListControlProps<any>) {\n  switch (props.filter.type) {\n    case FilterControlType.DatePicker:\n      return <DatePickerControl {...props} />;\n    case FilterControlType.BooleanToggle:\n      return <BooleanToggleControl {...props} />;\n    case FilterControlType.Select: {\n      return <SelectControl {...props} />;\n    }\n    case FilterControlType.Input: {\n      return <InputControl {...props} />;\n    }\n    case FilterControlType.SelectModel: {\n      return <SelectModelControl {...props} />;\n    }\n  }\n}\n\nfunction DatePickerControl(\n  props: FilterListControlProps<Required<AbsoluteDateRange>>\n) {\n  const {value, filter} = props;\n\n  let valueLabel: ReactNode;\n  if (value.preset !== undefined) {\n    valueLabel = <Trans {...DateRangePresets[value.preset].label} />;\n  } else {\n    valueLabel = (\n      <FormattedDateTimeRange\n        start={new Date(value.start)}\n        end={new Date(value.end)}\n        options={{dateStyle: 'medium'}}\n      />\n    );\n  }\n\n  return (\n    <FilterListItemDialogTrigger\n      {...props}\n      label={valueLabel}\n      panel={<DateFilterPanel filter={filter} />}\n    />\n  );\n}\n\nfunction BooleanToggleControl({\n  filter,\n  isInactive,\n  onValueChange,\n}: FilterListControlProps<boolean>) {\n  return (\n    <FilterListTriggerButton\n      onClick={() => {\n        onValueChange({value: true});\n      }}\n      filter={filter}\n      isInactive={isInactive}\n    />\n  );\n}\n\nfunction SelectControl(props: FilterListControlProps<Key>) {\n  const {filter, value} = props;\n  const option = filter.options.find(o => o.key === value);\n  return (\n    <FilterListItemDialogTrigger\n      {...props}\n      label={option ? <Trans {...option.label} /> : null}\n      panel={<SelectFilterPanel filter={filter} />}\n    />\n  );\n}\n\nfunction InputControl(props: FilterListControlProps<string>) {\n  const {filter, value, operator} = props;\n\n  const operatorLabel = operator ? (\n    <Trans {...FilterOperatorNames[operator]} />\n  ) : null;\n\n  return (\n    <FilterListItemDialogTrigger\n      {...props}\n      label={\n        <Fragment>\n          {operatorLabel} {value}\n        </Fragment>\n      }\n      panel={<InputFilterPanel filter={filter} />}\n    />\n  );\n}\n\nfunction SelectModelControl(props: FilterListControlProps<string>) {\n  const {value, filter} = props;\n  const {isLoading, data} = useNormalizedModel(filter.model!, value);\n\n  const skeleton = (\n    <Fragment>\n      <Skeleton variant=\"avatar\" size=\"w-18 h-18 mr-6\" />\n      <Skeleton variant=\"rect\" size=\"w-50\" />\n    </Fragment>\n  );\n  const modelPreview = (\n    <Fragment>\n      <Avatar size=\"xs\" src={data?.model.image} className=\"mr-6\" />\n      {data?.model.name}\n    </Fragment>\n  );\n\n  const label = isLoading || !data ? skeleton : modelPreview;\n\n  return (\n    <FilterListItemDialogTrigger\n      {...props}\n      label={label}\n      panel={<NormalizedModelFilterPanel filter={filter} />}\n    />\n  );\n}\n","import clsx from 'clsx';\nimport {BackendFilter} from '../backend-filter';\nimport {useBackendFilterUrlParams} from '../backend-filter-url-params';\nimport {IconButton} from '../../../ui/buttons/icon-button';\nimport {CloseIcon} from '../../../icons/material/Close';\nimport {FilterListControl} from './filter-list-control';\nimport {FilterItemFormValue} from '../add-filter-dialog';\n\ninterface FilterListProps {\n  filters: BackendFilter[];\n  // these filters will always be shown, even if value is not yet selected for filter\n  pinnedFilters?: string[];\n  className?: string;\n}\nexport function FilterList({\n  filters,\n  pinnedFilters,\n  className,\n}: FilterListProps) {\n  const {decodedFilters, remove, replaceAll} = useBackendFilterUrlParams(\n    filters,\n    pinnedFilters\n  );\n\n  if (!decodedFilters.length) return null;\n\n  return (\n    <div className={clsx('flex items-center gap-6 overflow-x-auto', className)}>\n      {decodedFilters.map((field, index) => {\n        const filter = filters.find(f => f.key === field.key)!;\n\n        const handleValueChange = (payload: FilterItemFormValue) => {\n          const newFilters = [...decodedFilters];\n          newFilters.splice(index, 1, {\n            key: filter.key,\n            value: payload.value,\n            isInactive: false,\n            operator: payload.operator || filter.defaultOperator,\n          });\n          replaceAll(newFilters);\n        };\n\n        return (\n          <div key={field.key}>\n            {!field.isInactive && (\n              <IconButton\n                variant=\"outline\"\n                color=\"primary\"\n                size=\"xs\"\n                radius=\"rounded-l-md\"\n                onClick={() => {\n                  remove(field.key);\n                }}\n              >\n                <CloseIcon />\n              </IconButton>\n            )}\n            <FilterListControl\n              filter={filter}\n              isInactive={field.isInactive}\n              value={field.valueKey != null ? field.valueKey : field.value}\n              operator={field.operator}\n              onValueChange={handleValueChange}\n            />\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import React, {\n  cloneElement,\n  ComponentProps,\n  Key,\n  ReactElement,\n  ReactNode,\n  useState,\n} from 'react';\nimport {TableDataItem} from '../ui/tables/types/table-data-item';\nimport {BackendFilter} from './filters/backend-filter';\nimport {MessageDescriptor} from '../i18n/message-descriptor';\nimport {ColumnConfig} from './column-config';\nimport {useTrans} from '../i18n/use-trans';\nimport {useBackendFilterUrlParams} from './filters/backend-filter-url-params';\nimport {\n  ResourcePaginationParams,\n  usePaginatedResources,\n} from './requests/paginated-resources';\nimport {message} from '../i18n/message';\nimport {DataTableContext} from './page/data-table-context';\nimport {AnimatePresence} from 'framer-motion';\nimport {ProgressBar} from '../ui/progress/progress-bar';\nimport {Table, TableProps} from '../ui/tables/table';\nimport {DataTablePaginationFooter} from './data-table-pagination-footer';\nimport {\n  DataTableHeader,\n  SelectedStateDataTableHeader,\n} from './data-table-header';\nimport {FilterList} from './filters/filter-list/filter-list';\n\nexport interface DataTableProps<T extends TableDataItem> {\n  filters?: BackendFilter[];\n  columns: ColumnConfig<T>[];\n  searchPlaceholder?: MessageDescriptor;\n  queryParams?: Record<string, string | number | undefined | null>;\n  endpoint: string;\n  resourceName?: ReactNode;\n  emptyStateMessage: ReactElement<{isFiltering: boolean}>;\n  actions?: ReactNode;\n  enableSelection?: boolean;\n  selectedActions?: ReactNode;\n  onRowAction?: TableProps<T>['onAction'];\n  tableDomProps?: ComponentProps<'table'>;\n  children?: ReactNode;\n}\nexport function DataTable<T extends TableDataItem>({\n  filters,\n  columns,\n  searchPlaceholder,\n  queryParams,\n  endpoint,\n  actions,\n  selectedActions,\n  emptyStateMessage,\n  tableDomProps,\n  onRowAction,\n  enableSelection = true,\n  children,\n}: DataTableProps<T>) {\n  const {trans} = useTrans();\n  const {encodedFilters} = useBackendFilterUrlParams(filters);\n  const [params, setParams] = useState<ResourcePaginationParams>({perPage: 15});\n  const [selectedRows, setSelectedRows] = useState<Key[]>([]);\n  const query = usePaginatedResources<T>(\n    endpoint,\n    {\n      ...params,\n      ...queryParams,\n      filters: encodedFilters,\n    },\n    {\n      onSuccess: () => {\n        // clear selected rows when table is reloaded from backend to avoid stale ids\n        setSelectedRows([]);\n      },\n    }\n  );\n\n  const isFiltering = !!(params.query || params.filters || encodedFilters);\n  const pagination = query.data?.pagination;\n  if (!searchPlaceholder) {\n    searchPlaceholder = message('Type to search...');\n  }\n\n  return (\n    <DataTableContext.Provider\n      value={{\n        selectedRows,\n        setSelectedRows,\n        endpoint,\n        searchPlaceholder,\n        params,\n        setParams,\n        query,\n      }}\n    >\n      {children}\n      <AnimatePresence initial={false} mode=\"wait\">\n        {selectedRows.length ? (\n          <SelectedStateDataTableHeader\n            actions={selectedActions}\n            key=\"selected\"\n          />\n        ) : (\n          <DataTableHeader actions={actions} filters={filters} key=\"default\" />\n        )}\n      </AnimatePresence>\n      {filters && <FilterList className=\"mb-14\" filters={filters} />}\n      <div className=\"relative border rounded\">\n        {query.isLoading && (\n          <ProgressBar\n            isIndeterminate\n            className=\"absolute top-0 left-0 w-full z-10\"\n            aria-label={trans({message: 'Loading'})}\n            size=\"xs\"\n          />\n        )}\n\n        <div className=\"relative overflow-x-auto md:overflow-hidden\">\n          <Table\n            {...tableDomProps}\n            data-loaded={!query.isLoading}\n            columns={columns}\n            data={pagination?.data || []}\n            sortDescriptor={params}\n            onSortChange={descriptor => {\n              setParams({...params, ...descriptor});\n            }}\n            selectedRows={selectedRows}\n            enableSelection={enableSelection}\n            onSelectionChange={setSelectedRows}\n            onAction={onRowAction}\n          />\n        </div>\n\n        {(query.isFetched || query.isPreviousData) &&\n        !pagination?.data.length ? (\n          <div className=\"pt-50\" data-testid=\"empty-state-message\">\n            {cloneElement(emptyStateMessage, {\n              isFiltering,\n            })}\n          </div>\n        ) : undefined}\n\n        <DataTablePaginationFooter query={query} />\n      </div>\n    </DataTableContext.Provider>\n  );\n}\n","import React, {ReactElement, ReactNode, useId} from 'react';\nimport {TableDataItem} from '../../ui/tables/types/table-data-item';\nimport {DataTable, DataTableProps} from '../data-table';\nimport {TableProps} from '../../ui/tables/table';\nimport {StaticPageTitle} from '../../seo/static-page-title';\nimport {MessageDescriptor} from '../../i18n/message-descriptor';\nimport clsx from 'clsx';\n\ninterface Props<T extends TableDataItem> extends DataTableProps<T> {\n  title?: ReactElement<MessageDescriptor>;\n  headerContent?: ReactNode;\n  headerItemsAlign?: string;\n  enableSelection?: boolean;\n  onRowAction?: TableProps<T>['onAction'];\n}\nexport function DataTablePage<T extends TableDataItem>({\n  title,\n  headerContent,\n  headerItemsAlign = 'items-end',\n  ...dataTableProps\n}: Props<T>) {\n  const titleId = useId();\n\n  return (\n    <div className=\"p-12 md:p-24\">\n      {title && (\n        <div\n          className={clsx(\n            'mb-16',\n            headerContent && `flex ${headerItemsAlign} gap-4`\n          )}\n        >\n          <StaticPageTitle>{title}</StaticPageTitle>\n          <h1 className=\"text-3xl font-light\" id={titleId}>\n            {title}\n          </h1>\n          {headerContent}\n        </div>\n      )}\n\n      <DataTable\n        {...dataTableProps}\n        tableDomProps={{\n          'aria-labelledby': title ? titleId : undefined,\n        }}\n      />\n    </div>\n  );\n}\n","import {AddIcon} from '../icons/material/Add';\nimport {Button} from '../ui/buttons/button';\nimport React, {ReactNode} from 'react';\nimport {useIsMobileMediaQuery} from '../utils/hooks/is-mobile-media-query';\nimport {IconButton} from '../ui/buttons/icon-button';\nimport {To} from 'react-router-dom';\nimport {ButtonBaseProps} from '../ui/buttons/button-base';\n\nexport interface DataTableAddItemButtonProps {\n  children: ReactNode;\n  to?: To;\n  elementType?: ButtonBaseProps['elementType'];\n  onClick?: ButtonBaseProps['onClick'];\n}\nexport const DataTableAddItemButton = React.forwardRef<\n  HTMLButtonElement,\n  DataTableAddItemButtonProps\n>(({children, to, elementType, onClick}, ref) => {\n  const isMobile = useIsMobileMediaQuery();\n\n  if (isMobile) {\n    return (\n      <IconButton\n        ref={ref}\n        variant=\"flat\"\n        color=\"primary\"\n        radius=\"rounded\"\n        className=\"flex-shrink-0\"\n        size=\"sm\"\n        to={to}\n        elementType={elementType}\n        onClick={onClick}\n      >\n        <AddIcon />\n      </IconButton>\n    );\n  }\n\n  return (\n    <Button\n      ref={ref}\n      startIcon={<AddIcon />}\n      variant=\"flat\"\n      color=\"primary\"\n      size=\"sm\"\n      to={to}\n      elementType={elementType}\n      onClick={onClick}\n    >\n      {children}\n    </Button>\n  );\n});\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '../../http/query-client';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {toast} from '../../ui/toast/toast';\nimport {PaginatedResourcesQueryKey} from './paginated-resources';\nimport {useDataTable} from '../page/data-table-context';\nimport {message} from '../../i18n/message';\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\nimport {Key} from 'react';\n\ninterface Response extends BackendResponse {\n  //\n}\n\nfunction deleteSelectedRows(endpoint: string, ids: Key[]): Promise<Response> {\n  return apiClient.delete(`${endpoint}/${ids.join(',')}`).then(r => r.data);\n}\n\nexport function useDeleteSelectedRows() {\n  const {endpoint, selectedRows, setSelectedRows} = useDataTable();\n  return useMutation(() => deleteSelectedRows(endpoint, selectedRows), {\n    onSuccess: () => {\n      toast(\n        message('Deleted [one 1 record|other :count records]', {\n          values: {count: selectedRows.length},\n        })\n      );\n      setSelectedRows([]);\n      queryClient.invalidateQueries(PaginatedResourcesQueryKey(endpoint));\n    },\n    onError: err =>\n      showHttpErrorToast(err, message('Could not delete records')),\n  });\n}\n","import {Button} from '../../ui/buttons/button';\nimport {Trans} from '../../i18n/trans';\nimport {ConfirmationDialog} from '../../ui/overlays/dialog/confirmation-dialog';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport React from 'react';\nimport {useDeleteSelectedRows} from '../requests/delete-selected-rows';\nimport {useDataTable} from './data-table-context';\n\nexport function DeleteSelectedItemsAction() {\n  const deleteSelectedRows = useDeleteSelectedRows();\n  const {selectedRows} = useDataTable();\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={isConfirmed => {\n        if (isConfirmed) {\n          deleteSelectedRows.mutate();\n        }\n      }}\n    >\n      <Button\n        variant=\"flat\"\n        color=\"danger\"\n        className=\"ml-auto\"\n        disabled={deleteSelectedRows.isLoading}\n        data-testid=\"delete-rows-button\"\n      >\n        <Trans message=\"Delete\" />\n      </Button>\n      <ConfirmationDialog\n        title={\n          <Trans\n            message=\"Delete [one 1 item|other :count items]?\"\n            values={{count: selectedRows.length}}\n          />\n        }\n        body={\n          <Trans message=\"This will permanently remove the items and cannot be undone.\" />\n        }\n        confirm={<Trans message=\"Delete\" />}\n        isDanger\n      />\n    </DialogTrigger>\n  );\n}\n","import React, {ReactNode} from 'react';\nimport {IllustratedMessage} from '../../ui/images/illustrated-message';\nimport {SvgImage} from '../../ui/images/svg-image/svg-image';\nimport {Trans} from '../../i18n/trans';\nimport {useIsMobileMediaQuery} from '../../utils/hooks/is-mobile-media-query';\n\nexport interface DataTableEmptyStateMessageProps {\n  isFiltering?: boolean;\n  title: ReactNode;\n  filteringTitle?: ReactNode;\n  image: string;\n}\nexport function DataTableEmptyStateMessage({\n  isFiltering,\n  title,\n  filteringTitle,\n  image,\n}: DataTableEmptyStateMessageProps) {\n  const isMobile = useIsMobileMediaQuery();\n\n  // allow user to disable filtering message variation by not passing in \"filteringTitle\"\n  return (\n    <IllustratedMessage\n      size={isMobile ? 'sm' : 'md'}\n      image={<SvgImage src={image} />}\n      title={isFiltering && filteringTitle ? filteringTitle : title}\n      description={\n        isFiltering && filteringTitle ? (\n          <Trans message=\"Try another search query or different filters\" />\n        ) : undefined\n      }\n    />\n  );\n}\n","import {\n  BackendFilter,\n  BackendFilterOptions,\n  FilterControlType,\n  FilterOperator,\n} from './backend-filter';\nimport {\n  DateRangePreset,\n  DateRangePresets,\n} from '../../ui/forms/input-field/date/date-range-picker/dialog/date-range-presets';\nimport {message} from '../../i18n/message';\nimport {dateRangeToAbsoluteRange} from '../../ui/forms/input-field/date/date-range-picker/form-date-range-picker';\n\nexport class TimestampFilter extends BackendFilter {\n  type = FilterControlType.DatePicker;\n  defaultOperator = FilterOperator.between;\n  constructor(options: Partial<BackendFilterOptions>) {\n    if (!options.defaultValue) {\n      options.defaultValue = dateRangeToAbsoluteRange(\n        (DateRangePresets[3] as Required<DateRangePreset>).getRangeValue()\n      );\n    }\n    super(options);\n  }\n}\n\nexport class CreatedAtFilter extends TimestampFilter {\n  key = 'created_at';\n  label = message('Date created');\n}\n\nexport class UpdatedAtFilter extends TimestampFilter {\n  key = 'updated_at';\n  label = message('Last updated');\n}\n","import {Permission} from './permission';\nimport {Subscription} from '../billing/subscription';\nimport {Role} from './role';\nimport {SocialProfile} from './social-profile';\nimport {AccessToken} from './access-token';\n\nexport const USER_MODEL = 'user';\n\nexport interface User {\n  id: number;\n  display_name: string;\n  username?: string;\n  first_name?: string;\n  last_name?: string;\n  avatar?: string;\n  email_verified_at: string;\n  permissions?: Permission[];\n  email: string;\n  password: string;\n  language: string;\n  timezone: string;\n  country: string;\n  created_at: string;\n  updated_at: string;\n  subscriptions?: Omit<Subscription, 'user'>[];\n  roles: Role[];\n  social_profiles: SocialProfile[];\n  tokens?: AccessToken[];\n  has_password: boolean;\n  available_space: number | null;\n  unread_notifications_count?: number;\n  card_last_four?: number;\n  card_brand?: string;\n  card_expires?: string;\n  model_type: typeof USER_MODEL;\n}\n","import {\n  ALL_PRIMITIVE_OPERATORS,\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '@common/datatable/filters/backend-filter';\nimport {message} from '@common/i18n/message';\nimport {\n  CreatedAtFilter,\n  TimestampFilter,\n  UpdatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\nimport {USER_MODEL} from '@common/auth/user';\n\nexport const LinksDatatableFilters: BackendFilter[] = [\n  new BackendFilter({\n    type: FilterControlType.Select,\n    key: 'type',\n    label: message('Type'),\n    description: message('Type of the link'),\n    defaultValue: '01',\n    defaultOperator: FilterOperator.eq,\n    options: [\n      {\n        key: '01',\n        label: message('Direct'),\n        value: 'direct',\n      },\n      {\n        key: '02',\n        label: message('Overlay'),\n        value: 'overlay',\n      },\n      {\n        key: '03',\n        label: message('Frame'),\n        value: 'frame',\n      },\n      {\n        key: '04',\n        label: message('Custom page'),\n        value: 'link_page',\n      },\n    ],\n  }),\n  new BackendFilter({\n    type: FilterControlType.Select,\n    key: 'active',\n    label: message('Status'),\n    description: message('Whether link is disabled or not'),\n    defaultValue: '01',\n    defaultOperator: FilterOperator.eq,\n    options: [\n      {\n        key: '01',\n        label: message('Enabled'),\n        value: true,\n      },\n      {\n        key: '02',\n        label: message('Disabled'),\n        value: false,\n      },\n    ],\n  }),\n  new BackendFilter({\n    type: FilterControlType.Select,\n    key: 'password',\n    label: message('Password'),\n    description: message('Whether link is password protected'),\n    defaultValue: '01',\n    defaultOperator: FilterOperator.eq,\n    options: [\n      {\n        key: '01',\n        label: message('Has a password'),\n        value: {value: null, operator: FilterOperator.ne},\n      },\n      {\n        key: '02',\n        label: message('Does not have a password'),\n        value: {value: null, operator: FilterOperator.eq},\n      },\n    ],\n  }),\n  new BackendFilter({\n    type: FilterControlType.Input,\n    inputType: 'number',\n    key: 'clicks_count',\n    label: message('Click count'),\n    description: message('Total number of clicks for link'),\n    defaultValue: 1,\n    defaultOperator: FilterOperator.gte,\n    operators: ALL_PRIMITIVE_OPERATORS,\n  }),\n  new TimestampFilter({\n    key: 'clicked_at',\n    label: message('Clicked at'),\n    description: message('Date link was last clicked'),\n  }),\n  new TimestampFilter({\n    key: 'expires_at',\n    label: message('Expires at'),\n    description: message('Date link will expire'),\n  }),\n  new CreatedAtFilter({\n    description: message('Date link was created'),\n  }),\n  new UpdatedAtFilter({\n    description: message('Date link was last updated'),\n  }),\n  new BackendFilter({\n    type: FilterControlType.SelectModel,\n    model: USER_MODEL,\n    key: 'user_id',\n    label: message('User'),\n    description: message('User link was created by'),\n  }),\n];\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const SettingsIcon = createSvgIcon(\n  <path d=\"M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z\" />\n, 'SettingsOutlined');\n","import {\n  FetchValueListsResponse,\n  prefetchValueLists,\n  useValueLists,\n} from '@common/http/value-lists';\nimport {useAuth} from '@common/auth/use-auth';\nimport {getBootstrapData} from '@common/core/bootstrap-data/use-backend-bootstrap-data';\n\nconst names: (keyof FetchValueListsResponse)[] = [\n  'countries',\n  'domains',\n  'pages',\n  'overlays',\n  'pixels',\n  'groups',\n];\n\nexport function useLinkFormValueLists() {\n  const {user} = useAuth();\n  return useValueLists(names, {userId: user?.id, pageType: 'link_page'});\n}\n\nexport function prefetchLinkFormValueLists() {\n  prefetchValueLists(names, {\n    userId: getBootstrapData().user?.id,\n    pageType: 'link_page',\n  });\n}\n","import {useSettings} from '@common/core/settings/use-settings';\nimport {useLinkFormValueLists} from '../requests/use-link-form-value-lists';\nimport {useFormContext} from 'react-hook-form';\nimport {FormSelect} from '@common/ui/forms/select/select';\nimport {Trans} from '@common/i18n/trans';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {CrupdateLinkFormValues} from '@app/dashboard/links/forms/crupdate-link-form';\n\nexport function LinkTypeField() {\n  const {\n    branding: {site_name},\n  } = useSettings();\n  const {data} = useLinkFormValueLists();\n  const {watch, setValue} = useFormContext<CrupdateLinkFormValues>();\n  const type = watch('type');\n\n  return (\n    <div className=\"flex items-center gap-12\">\n      <FormSelect\n        className=\"mb-24 flex-auto\"\n        name=\"type\"\n        label={<Trans message=\"Type\" />}\n        selectionMode=\"single\"\n        onSelectionChange={() => {\n          // clear type id when link type changes\n          setValue('type_id', null);\n        }}\n      >\n        <Item\n          value=\"direct\"\n          description={<Trans message=\"Redirect user to url instantly\" />}\n        >\n          <Trans message=\"Direct\" />\n        </Item>\n        <Item\n          value=\"frame\"\n          description={\n            <Trans\n              message=\" Show url inside iframe with :siteName navigation bar.\"\n              values={{siteName: site_name}}\n            />\n          }\n        >\n          <Trans message=\"Frame\" />\n        </Item>\n        <Item\n          value=\"splash\"\n          description={\n            <Trans message=\"Show splash page with optional ads and redirect user to url after a delay.\" />\n          }\n        >\n          <Trans message=\"Splash\" />\n        </Item>\n        {data?.pages?.length ? (\n          <Item\n            value=\"page\"\n            description={\n              <Trans\n                message=\"Show specified link page with :siteName navigation bar and button to open\n      long url.\"\n                values={{siteName: site_name}}\n              />\n            }\n          >\n            <Trans message=\"Link page\" />\n          </Item>\n        ) : null}\n        {data?.overlays.length ? (\n          <Item\n            value=\"overlay\"\n            description={\n              <Trans message=\"Redirect user instantly and show specified overlay over the link.\" />\n            }\n          >\n            <Trans message=\"Overlay\" />\n          </Item>\n        ) : null}\n      </FormSelect>\n      {type === 'page' && (\n        <FormSelect\n          label={<Trans message=\"Link page\" />}\n          name=\"type_id\"\n          selectionMode=\"single\"\n          className=\"mb-24 flex-auto\"\n          required\n        >\n          {data?.pages?.map(page => (\n            <Item key={page.id} value={page.id}>\n              {page.title}\n            </Item>\n          ))}\n        </FormSelect>\n      )}\n      {type === 'overlay' && (\n        <FormSelect\n          label={<Trans message=\"Link overlay\" />}\n          name=\"type_id\"\n          selectionMode=\"single\"\n          className=\"mb-24 flex-auto\"\n          required\n        >\n          {data?.overlays?.map(overlay => (\n            <Item key={overlay.id} value={overlay.id}>\n              {overlay.name}\n            </Item>\n          ))}\n        </FormSelect>\n      )}\n    </div>\n  );\n}\n","import React, {ComponentPropsWithoutRef, ReactNode, useId} from 'react';\nimport clsx from 'clsx';\nimport {useController} from 'react-hook-form';\nimport {mergeProps, useObjectRef} from '@react-aria/utils';\nimport {InputSize} from '../input-field/input-size';\nimport {getInputFieldClassNames} from '../input-field/get-input-field-class-names';\nimport {AutoFocusProps, useAutoFocus} from '../../focus/use-auto-focus';\n\ninterface SwitchProps\n  extends AutoFocusProps,\n    Omit<ComponentPropsWithoutRef<'input'>, 'size'> {\n  size?: InputSize;\n  className?: string;\n  description?: ReactNode;\n  invalid?: boolean;\n  errorMessage?: string;\n}\nexport const Switch = React.forwardRef<HTMLInputElement, SwitchProps>(\n  (props, ref) => {\n    const {\n      children,\n      size = 'sm',\n      description,\n      className,\n      invalid,\n      autoFocus,\n      errorMessage,\n      ...domProps\n    } = props;\n\n    const inputRef = useObjectRef(ref);\n    useAutoFocus({autoFocus}, inputRef);\n\n    const style = getSizeClassName(size);\n    const fieldClassNames = getInputFieldClassNames(props);\n\n    const descriptionId = useId();\n\n    return (\n      <div className={clsx(className, 'isolate')}>\n        <label className=\"flex items-center select-none\">\n          <input\n            {...domProps}\n            type=\"checkbox\"\n            role=\"switch\"\n            aria-invalid={invalid || undefined}\n            aria-describedby={description ? descriptionId : undefined}\n            ref={inputRef}\n            aria-checked={domProps.checked}\n            className={clsx(\n              style,\n              !invalid &&\n                'checked:bg-primary dark:checked:bg-primary-dark checked:border-primary dark:checked:border-primary-dark',\n              invalid && 'checked:bg-danger checked:border-danger',\n              'outline-none cursor-pointer bg-chip border-chip border checked:bg-primary checked:border-primary p-0 overflow-hidden relative rounded-3xl appearance-none transition-colors flex-shrink-0 flex items-center outline-none',\n              'before:z-10 before:border before:rounded-3xl before:block before:bg-white before:transition-transform before:translate-x-2',\n              'checked:before:border-white',\n              'focus-visible:ring',\n              props.disabled && 'opacity-80 cursor-not-allowed'\n            )}\n          />\n          {children && (\n            <span\n              className={clsx(\n                fieldClassNames.size.font,\n                'ml-12',\n                invalid && 'text-danger',\n                props.disabled && 'text-disabled'\n              )}\n            >\n              {children}\n            </span>\n          )}\n        </label>\n        {description && !errorMessage && (\n          <div id={descriptionId} className={fieldClassNames.description}>\n            {description}\n          </div>\n        )}\n        {errorMessage && (\n          <div id={descriptionId} className={fieldClassNames.error}>\n            {errorMessage}\n          </div>\n        )}\n      </div>\n    );\n  }\n);\n\ninterface FormSwitchProps extends SwitchProps {\n  name: string;\n}\nexport function FormSwitch(props: FormSwitchProps) {\n  const {\n    field: {onChange, onBlur, value = false, ref},\n    fieldState: {invalid, error},\n  } = useController({\n    name: props.name,\n  });\n\n  const formProps: Partial<SwitchProps> = {\n    onChange,\n    onBlur,\n    checked: value,\n    invalid,\n    errorMessage: error?.message,\n    name: props.name,\n  };\n\n  return <Switch ref={ref} {...mergeProps(props, formProps)} />;\n}\n\nfunction getSizeClassName(size: InputSize): string {\n  switch (size) {\n    case 'xl':\n      return 'w-68 h-36 before:w-28 before:h-28 checked:before:translate-x-36';\n    case 'lg':\n      return 'w-56 h-30 before:w-22 before:h-22 checked:before:translate-x-30';\n    case 'md':\n      return 'w-46 h-24 before:w-18 before:h-18 checked:before:translate-x-24';\n    case 'xs':\n      return 'w-30 h-16 before:w-12 before:h-12 checked:before:translate-x-16';\n    default:\n      return 'w-38 h-20 before:w-14 before:h-14 checked:before:translate-x-20';\n  }\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const LockIcon = createSvgIcon(\n  <path d=\"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z\" />\n, 'LockOutlined');\n","import {useControlledState} from '@react-stately/utils';\nimport {HTMLAttributes, useCallback, useState} from 'react';\nimport {\n  CalendarDate,\n  DateValue,\n  isSameDay,\n  toCalendarDate,\n  toZoned,\n  ZonedDateTime,\n} from '@internationalized/date';\nimport {useBaseDatePickerState} from '../use-base-date-picker-state';\nimport {useCurrentDateTime} from '@common/i18n/use-current-date-time';\n\nexport type Granularity = 'day' | 'minute';\n\nexport type DatePickerState = BaseDatePickerState;\n\nexport interface BaseDatePickerState<T = ZonedDateTime, P = boolean> {\n  timezone: string;\n  granularity: Granularity;\n  selectedValue: T;\n  setSelectedValue: (value: T) => void;\n  calendarIsOpen: boolean;\n  setCalendarIsOpen: (isOpen: boolean) => void;\n  calendarDates: CalendarDate[];\n  setCalendarDates: (dates: CalendarDate[]) => void;\n  dayIsActive: (day: CalendarDate) => boolean;\n  dayIsHighlighted: (day: CalendarDate) => boolean;\n  dayIsRangeStart: (day: CalendarDate) => boolean;\n  dayIsRangeEnd: (day: CalendarDate) => boolean;\n  isPlaceholder: P;\n  setIsPlaceholder: (value: P) => void;\n  clear: () => void;\n  min?: ZonedDateTime;\n  max?: ZonedDateTime;\n  closeDialogOnSelection: boolean;\n  getCellProps: (\n    date: CalendarDate,\n    isSameMonth: boolean\n  ) => HTMLAttributes<HTMLElement>;\n}\n\nexport interface DatePickerValueProps<V, CV = V> {\n  value?: V | null | '';\n  defaultValue?: V | null;\n  onChange?: (value: CV | null) => void;\n  min?: DateValue;\n  max?: DateValue;\n  granularity?: Granularity;\n  closeDialogOnSelection?: boolean;\n}\nexport function useDatePickerState(\n  props: DatePickerValueProps<ZonedDateTime>\n): BaseDatePickerState {\n  const now = useCurrentDateTime();\n  const [isPlaceholder, setIsPlaceholder] = useState(\n    !props.value && !props.defaultValue\n  );\n\n  // if user clears the date, we will want to still keep an\n  // instance internally, but return null via \"onChange\" callback\n  const setStateValue = props.onChange;\n  const [internalValue, setInternalValue] = useControlledState(\n    props.value || now,\n    props.defaultValue || now,\n    setStateValue\n  );\n\n  const {\n    min,\n    max,\n    granularity,\n    timezone,\n    calendarIsOpen,\n    setCalendarIsOpen,\n    closeDialogOnSelection,\n  } = useBaseDatePickerState(internalValue, props);\n\n  const clear = useCallback(() => {\n    setIsPlaceholder(true);\n    setInternalValue(now);\n    setStateValue?.(null);\n    setCalendarIsOpen(false);\n  }, [now, setInternalValue, setStateValue, setCalendarIsOpen]);\n\n  const [calendarDates, setCalendarDates] = useState<CalendarDate[]>(() => {\n    return [toCalendarDate(internalValue)];\n  });\n\n  const setSelectedValue = useCallback(\n    (newValue: DateValue) => {\n      if (min && newValue.compare(min) < 0) {\n        newValue = min;\n      } else if (max && newValue.compare(max) > 0) {\n        newValue = max;\n      }\n\n      // preserve time\n      const value = internalValue\n        ? internalValue.set(newValue)\n        : toZoned(newValue, timezone);\n      setInternalValue(value);\n      setCalendarDates([toCalendarDate(value)]);\n      setIsPlaceholder(false);\n    },\n    [setInternalValue, min, max, internalValue, timezone]\n  );\n\n  const dayIsActive = useCallback(\n    (day: DateValue) => !isPlaceholder && isSameDay(internalValue, day),\n    [internalValue, isPlaceholder]\n  );\n\n  const getCellProps = useCallback(\n    (date: DateValue): HTMLAttributes<HTMLElement> => {\n      return {\n        onClick: () => {\n          setSelectedValue?.(date);\n          if (closeDialogOnSelection) {\n            setCalendarIsOpen?.(false);\n          }\n        },\n      };\n    },\n    [setSelectedValue, setCalendarIsOpen, closeDialogOnSelection]\n  );\n\n  return {\n    selectedValue: internalValue,\n    setSelectedValue: setInternalValue,\n    calendarIsOpen,\n    setCalendarIsOpen,\n    dayIsActive,\n    dayIsHighlighted: () => false,\n    dayIsRangeStart: () => false,\n    dayIsRangeEnd: () => false,\n    getCellProps,\n    calendarDates,\n    setCalendarDates,\n    isPlaceholder,\n    clear,\n    setIsPlaceholder,\n    min,\n    max,\n    granularity,\n    timezone,\n    closeDialogOnSelection,\n  };\n}\n","import React, {\n  ComponentPropsWithoutRef,\n  Fragment,\n  MouseEvent,\n  useRef,\n} from 'react';\nimport {parseAbsoluteToLocal, ZonedDateTime} from '@internationalized/date';\nimport {useController} from 'react-hook-form';\nimport {mergeProps} from '@react-aria/utils';\nimport {\n  DatePickerValueProps,\n  useDatePickerState,\n} from './use-date-picker-state';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {DateRangeIcon} from '@common/icons/material/DateRange';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {Calendar} from '../calendar/calendar';\nimport {\n  DatePickerField,\n  DatePickerFieldProps,\n} from '../date-range-picker/date-picker-field';\nimport {DateSegmentList} from '../segments/date-segment-list';\nimport {useDateFormatter} from '@common/i18n/use-date-formatter';\nimport {useTrans} from '@common/i18n/use-trans';\nimport clsx from 'clsx';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {Trans} from '@common/i18n/trans';\nimport {useCurrentDateTime} from '@common/i18n/use-current-date-time';\n\nexport interface DatePickerProps\n  extends Omit<DatePickerFieldProps, 'children'>,\n    DatePickerValueProps<ZonedDateTime> {}\nexport function DatePicker({showCalendarFooter, ...props}: DatePickerProps) {\n  const state = useDatePickerState(props);\n  const inputRef = useRef<HTMLDivElement>(null);\n  const now = useCurrentDateTime();\n\n  const footer = showCalendarFooter && (\n    <DialogFooter\n      padding=\"px-14 pb-14\"\n      startAction={\n        <Button\n          disabled={state.isPlaceholder}\n          variant=\"text\"\n          color=\"primary\"\n          onClick={() => {\n            state.clear();\n          }}\n        >\n          <Trans message=\"Clear\" />\n        </Button>\n      }\n    >\n      <Button\n        variant=\"text\"\n        color=\"primary\"\n        onClick={() => {\n          state.setSelectedValue(now);\n          state.setCalendarIsOpen(false);\n        }}\n      >\n        <Trans message=\"Today\" />\n      </Button>\n    </DialogFooter>\n  );\n\n  const dialog = (\n    <DialogTrigger\n      offset={8}\n      placement=\"bottom-start\"\n      isOpen={state.calendarIsOpen}\n      onOpenChange={state.setCalendarIsOpen}\n      type=\"popover\"\n      triggerRef={inputRef}\n      returnFocusToTrigger={false}\n      moveFocusToDialog={false}\n    >\n      <Dialog size=\"auto\">\n        <DialogBody\n          className=\"flex items-start gap-40\"\n          padding={showCalendarFooter ? 'px-24 pt-20 pb-10' : null}\n        >\n          <Calendar state={state} visibleMonths={1} />\n        </DialogBody>\n        {footer}\n      </Dialog>\n    </DialogTrigger>\n  );\n\n  const openOnClick: ComponentPropsWithoutRef<'div'> = {\n    onClick: e => {\n      e.stopPropagation();\n      e.preventDefault();\n      if (!isHourSegment(e)) {\n        state.setCalendarIsOpen(true);\n      } else {\n        state.setCalendarIsOpen(false);\n      }\n    },\n  };\n\n  return (\n    <Fragment>\n      <DatePickerField\n        ref={inputRef}\n        wrapperProps={openOnClick}\n        endAdornment={\n          <DateRangeIcon className={clsx(props.disabled && 'text-disabled')} />\n        }\n        {...props}\n      >\n        <DateSegmentList\n          segmentProps={openOnClick}\n          state={state}\n          value={state.selectedValue}\n          onChange={state.setSelectedValue}\n          isPlaceholder={state.isPlaceholder}\n        />\n      </DatePickerField>\n      {dialog}\n    </Fragment>\n  );\n}\n\ninterface FormDatePickerProps extends DatePickerProps {\n  name: string;\n}\nexport function FormDatePicker(props: FormDatePickerProps) {\n  const {min, max} = props;\n  const {trans} = useTrans();\n  const {format} = useDateFormatter();\n  const {\n    field: {onChange, onBlur, value = null, ref},\n    fieldState: {invalid, error},\n  } = useController({\n    name: props.name,\n    rules: {\n      validate: v => {\n        if (!v) return;\n        const date = parseAbsoluteToLocal(v);\n        if (min && date.compare(min) < 0) {\n          return trans({\n            message: 'Enter a date after :date',\n            values: {date: format(v)},\n          });\n        }\n        if (max && date.compare(max) > 0) {\n          return trans({\n            message: 'Enter a date before :date',\n            values: {date: format(v)},\n          });\n        }\n      },\n    },\n  });\n\n  const parsedValue: null | ZonedDateTime = value\n    ? parseAbsoluteToLocal(value)\n    : null;\n\n  const formProps: Partial<DatePickerProps> = {\n    onChange: e => {\n      onChange(e ? e.toAbsoluteString() : e);\n    },\n    onBlur,\n    value: parsedValue,\n    invalid,\n    errorMessage: error?.message,\n    inputRef: ref,\n  };\n\n  return <DatePicker {...mergeProps(formProps, props)} />;\n}\n\nfunction isHourSegment(e: MouseEvent<HTMLDivElement>): boolean {\n  return ['hour', 'minute', 'dayPeriod'].includes(\n    (e.currentTarget as HTMLElement).ariaLabel || ''\n  );\n}\n","export default \"__VITE_ASSET__1a8523e3__\"","import {ReactNode} from 'react';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {SvgImage} from '@common/ui/images/svg-image/svg-image';\nimport upgradeSvg from '@app/dashboard/upgrade/upgrade.svg';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {Link} from 'react-router-dom';\n\ninterface UpgradeDialogProps {\n  message?: ReactNode;\n  messageSuffix?: ReactNode;\n}\nexport function UpgradeDialog({message, messageSuffix}: UpgradeDialogProps) {\n  const {close} = useDialogContext();\n\n  return (\n    <Dialog size=\"sm\">\n      <DialogHeader>\n        <Trans message=\"Join the PROs\" />\n      </DialogHeader>\n      <DialogBody>\n        <div className=\"text-center mb-20\">\n          <SvgImage src={upgradeSvg} className=\"h-100 mx-auto\" />\n        </div>\n        <div>\n          {message} {messageSuffix}\n        </div>\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          variant=\"text\"\n          size=\"xs\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Maybe later\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          size=\"xs\"\n          color=\"primary\"\n          elementType={Link}\n          to=\"/pricing\"\n          target=\"_blank\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Find out more\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {UpgradeDialog} from '@app/dashboard/upgrade/upgrade-dialog';\nimport {Trans} from '@common/i18n/trans';\nimport {ReactNode} from 'react';\n\ninterface FeatureLockedDialogProps {\n  message?: ReactNode;\n}\nexport function FeatureLockedDialog({message}: FeatureLockedDialogProps) {\n  return (\n    <UpgradeDialog\n      message={message}\n      messageSuffix={\n        <Trans message=\"Upgrade to unlock this feature and many more.\" />\n      }\n    />\n  );\n}\n","import {LockIcon} from '@common/icons/material/Lock';\nimport {Trans} from '@common/i18n/trans';\nimport {Button} from '@common/ui/buttons/button';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {ReactNode} from 'react';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {FeatureLockedDialog} from '@app/dashboard/upgrade/feature-locked-dialog';\n\ninterface UpgradeButtonProps {\n  message?: ReactNode;\n  className?: string;\n}\nexport function NoPermissionButton({message, className}: UpgradeButtonProps) {\n  const {billing} = useSettings();\n\n  if (!billing.enable) {\n    return <GenericButton />;\n  }\n\n  return (\n    <DialogTrigger type=\"popover\">\n      <Button\n        variant=\"flat\"\n        color=\"primary\"\n        size=\"2xs\"\n        startIcon={<LockIcon />}\n        className={className}\n      >\n        <Trans message=\"Upgrade\" />\n      </Button>\n      <FeatureLockedDialog message={message} />\n    </DialogTrigger>\n  );\n}\n\nfunction GenericButton() {\n  return (\n    <Tooltip\n      label={\n        <Trans message=\"You don't have permissions to access this feature.\" />\n      }\n    >\n      <LockIcon size=\"sm\" className=\"text-muted\" />\n    </Tooltip>\n  );\n}\n","import {ReactElement, ReactNode} from 'react';\nimport {NoPermissionButton} from '@app/dashboard/upgrade/no-permission-button';\nimport clsx from 'clsx';\n\ninterface LinkFormSectionProps {\n  title: ReactElement;\n  description: ReactElement;\n  children: ReactNode;\n  upgradeMessage?: ReactNode;\n}\nexport function LinkFormSection({\n  title,\n  description,\n  children,\n  upgradeMessage,\n}: LinkFormSectionProps) {\n  return (\n    <div className=\"border-t pt-24\">\n      <div\n        className={clsx(\n          'font-semibold',\n          upgradeMessage && 'flex items-center gap-10 mb-8'\n        )}\n      >\n        <div className=\"text-sm\">{title}</div>\n        {upgradeMessage && <NoPermissionButton message={upgradeMessage} />}\n      </div>\n      <div className=\"text-muted text-sm\">{description}</div>\n      {children}\n    </div>\n  );\n}\n","import {\n  LinkFeaturePermissions,\n  useLinkSummary,\n} from '@app/dashboard/layout/sidenav/use-link-summary';\nimport {useAuth} from '@common/auth/use-auth';\n\nexport function useLinkFeatureStatus(feature: keyof LinkFeaturePermissions) {\n  const {data} = useLinkSummary();\n  const {hasPermission} = useAuth();\n\n  const disabled: boolean =\n    !data?.usage.links[feature] && !hasPermission('admin');\n  return {disabled};\n}\n","import {Fragment, ReactElement} from 'react';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {useCurrentDateTime} from '@common/i18n/use-current-date-time';\nimport {FormDatePicker} from '@common/ui/forms/input-field/date/date-picker/date-picker';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {LinkFormSection} from './link-form-section';\nimport {useLinkFeatureStatus} from '@app/dashboard/upgrade/use-link-feature-status';\nimport {NoPermissionButton} from '@app/dashboard/upgrade/no-permission-button';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\n\ninterface LinkRestrictionFieldsProps {\n  linkName: ReactElement<MessageDescriptor>;\n}\nexport function LinkRestrictionFields({linkName}: LinkRestrictionFieldsProps) {\n  const {disabled} = useLinkFeatureStatus('password');\n\n  return (\n    <Fragment>\n      <FormTextField\n        type=\"password\"\n        name=\"password\"\n        label={<Trans message=\"Password\" />}\n        autoComplete=\"new-password\"\n        className=\"mb-24\"\n        labelSuffix={\n          disabled && (\n            <NoPermissionButton\n              message={\n                <Trans message=\"Your current plan doesn't include link password protection.\" />\n              }\n            />\n          )\n        }\n        disabled={disabled}\n      />\n      <ScheduleFields linkName={linkName} />\n      <ExpirationClicksField linkName={linkName} />\n    </Fragment>\n  );\n}\n\nfunction ScheduleFields({linkName}: LinkRestrictionFieldsProps) {\n  const now = useCurrentDateTime();\n  const {disabled} = useLinkFeatureStatus('expiration');\n\n  return (\n    <LinkFormSection\n      title={<Trans message=\"Schedule\" />}\n      description={\n        <Trans\n          message=\"Specify a date when :name should become active and when it should expire. Both activation and expiration dates are optional.\"\n          values={{name: linkName}}\n        />\n      }\n      upgradeMessage={\n        disabled && (\n          <Trans\n            message=\"Your current plan doesn't include :name scheduling.\"\n            values={{name: linkName}}\n          />\n        )\n      }\n    >\n      <div className=\"block md:flex items-center gap-24 mt-24\">\n        <FormDatePicker\n          showCalendarFooter\n          label={<Trans message=\"Activation date\" />}\n          min={now}\n          name=\"activates_at\"\n          className=\"mb-24 flex-auto\"\n          disabled={disabled}\n        />\n        <FormDatePicker\n          showCalendarFooter\n          label={<Trans message=\"Expiration date\" />}\n          min={now}\n          name=\"expires_at\"\n          className=\"mb-24 flex-auto\"\n          disabled={disabled}\n        />\n      </div>\n    </LinkFormSection>\n  );\n}\n\nfunction ExpirationClicksField({linkName}: LinkRestrictionFieldsProps) {\n  const {trans} = useTrans();\n  const {disabled} = useLinkFeatureStatus('expiration');\n\n  return (\n    <LinkFormSection\n      title={<Trans message=\"Expiration clicks\" />}\n      description={\n        <Trans\n          message=\"After :name is visited specified amount of times, it will no longer be accessible.\nOptionally, after click amount is reached :name can redirect to specified url instead.\"\n          values={{name: linkName}}\n        />\n      }\n      upgradeMessage={\n        disabled && (\n          <Trans message=\"Your current plan doesn't include expiration clicks.\" />\n        )\n      }\n    >\n      <div className=\"block md:flex items-center gap-24 mt-24\">\n        <FormTextField\n          type=\"number\"\n          label={<Trans message=\"Max clicks\" />}\n          name=\"exp_clicks_rule.key\"\n          className=\"mb-24 flex-auto\"\n          disabled={disabled}\n        />\n        <FormTextField\n          type=\"url\"\n          label={<Trans message=\"Redirect URL\" />}\n          placeholder={trans(message('Optional'))}\n          name=\"exp_clicks_rule.value\"\n          className=\"mb-24 flex-auto\"\n          disabled={disabled}\n        />\n      </div>\n    </LinkFormSection>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const SwapVertIcon = createSvgIcon(\n  <path d=\"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3zm7 14.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3 5 6.99h3V14h2V6.99h3L9 3z\" />\n, 'SwapVertOutlined');\n","import {LinkFormSection} from './link-form-section';\nimport {Trans} from '@common/i18n/trans';\nimport {FormComboBox} from '@common/ui/forms/combobox/form-combobox';\nimport {useLinkFormValueLists} from '../requests/use-link-form-value-lists';\nimport {useFieldArray} from 'react-hook-form';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Button} from '@common/ui/buttons/button';\nimport {AddIcon} from '@common/icons/material/Add';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {cloneElement, ReactElement} from 'react';\nimport {FormSelect} from '@common/ui/forms/select/select';\nimport {CrupdateLinkFormValues} from '@app/dashboard/links/forms/crupdate-link-form';\nimport {useLinkFeatureStatus} from '@app/dashboard/upgrade/use-link-feature-status';\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\n\nexport function LinkRetargetingFields() {\n  return (\n    <div>\n      <GeoFields />\n      <DeviceFields />\n      <PlatformFields />\n    </div>\n  );\n}\n\nfunction GeoFields() {\n  const {data} = useLinkFormValueLists();\n  return (\n    <FieldsLayout\n      defaultKey=\"us\"\n      name=\"geo_rules\"\n      title={<Trans message=\"Location targeting\" />}\n      description={\n        <Trans message=\"Redirect users to different url based on their location.\" />\n      }\n      buttonLabel={<Trans message=\"Add location\" />}\n    >\n      <FormComboBox\n        required\n        useOptionLabelAsInputValue={true}\n        items={data?.countries}\n        name=\"temp\"\n        label={<Trans message=\"Country\" />}\n        className=\"flex-auto mt-24\"\n      >\n        {country => (\n          <Item key={country.code} value={country.code}>\n            {country.name}\n          </Item>\n        )}\n      </FormComboBox>\n    </FieldsLayout>\n  );\n}\n\nfunction DeviceFields() {\n  return (\n    <FieldsLayout\n      name=\"device_rules\"\n      title={<Trans message=\"Device targeting\" />}\n      description={\n        <Trans message=\"Redirect users to different url based on their device.\" />\n      }\n      buttonLabel={<Trans message=\"Add device\" />}\n      defaultKey=\"desktop\"\n    >\n      <FormSelect\n        required\n        selectionMode=\"single\"\n        name=\"temp\"\n        label={<Trans message=\"Device\" />}\n        className=\"flex-auto mt-24\"\n      >\n        <Item value=\"desktop\">\n          <Trans message=\"Desktop\" />\n        </Item>\n        <Item value=\"table\">\n          <Trans message=\"Tablet\" />\n        </Item>\n        <Item value=\"mobile\">\n          <Trans message=\"Mobile\" />\n        </Item>\n      </FormSelect>\n    </FieldsLayout>\n  );\n}\n\nfunction PlatformFields() {\n  return (\n    <FieldsLayout\n      name=\"platform_rules\"\n      title={<Trans message=\"Platform targeting\" />}\n      description={\n        <Trans message=\"Redirect users to different url based on their platform.\" />\n      }\n      defaultKey=\"windows\"\n      buttonLabel={<Trans message=\"Add platform\" />}\n    >\n      <FormSelect\n        name=\"temp\"\n        required\n        selectionMode=\"single\"\n        label={<Trans message=\"Platform\" />}\n        className=\"flex-auto mt-24\"\n      >\n        <Item value=\"windows\">\n          <Trans message=\"Windows\" />\n        </Item>\n        <Item value=\"osx\">\n          <Trans message=\"MacOs\" />\n        </Item>\n        <Item value=\"ios\">\n          <Trans message=\"iOS\" />\n        </Item>\n        <Item value=\"android\">\n          <Trans message=\"Android\" />\n        </Item>\n        <Item value=\"linux\">\n          <Trans message=\"Linux\" />\n        </Item>\n      </FormSelect>\n    </FieldsLayout>\n  );\n}\n\ninterface FieldsLayoutProps {\n  name: 'geo_rules' | 'device_rules' | 'platform_rules';\n  title: ReactElement;\n  description: ReactElement;\n  buttonLabel: ReactElement;\n  defaultKey: string;\n  children: ReactElement;\n}\nfunction FieldsLayout({\n  name,\n  title,\n  description,\n  buttonLabel,\n  defaultKey,\n  children,\n}: FieldsLayoutProps) {\n  const {fields, append, remove} = useFieldArray<CrupdateLinkFormValues>({\n    name,\n  });\n  const {disabled} = useLinkFeatureStatus('retargeting');\n\n  return (\n    <LinkFormSection\n      title={title}\n      description={description}\n      upgradeMessage={\n        disabled && (\n          <Trans message=\"Your current plan doesn't include link retargeting.\" />\n        )\n      }\n    >\n      {fields.map((field, index) => (\n        <div key={field.id} className=\"block md:flex items-end gap-14\">\n          {cloneElement(children, {name: `${name}.${index}.key`, disabled})}\n          <FormTextField\n            required\n            type=\"url\"\n            name={`${name}.${index}.value`}\n            label={<Trans message=\"URL\" />}\n            className=\"flex-auto mt-24\"\n            disabled={disabled}\n          />\n          <RemoveButton onClick={() => remove(index)} />\n        </div>\n      ))}\n      <Button\n        className=\"my-8\"\n        variant=\"text\"\n        color=\"primary\"\n        startIcon={<AddIcon />}\n        onClick={() => {\n          append({key: defaultKey, value: ''} as any);\n        }}\n        disabled={disabled}\n      >\n        {buttonLabel}\n      </Button>\n    </LinkFormSection>\n  );\n}\n\ninterface RemoveButtonProps {\n  onClick: () => void;\n}\nfunction RemoveButton({onClick}: RemoveButtonProps) {\n  const isMobile = useIsMobileMediaQuery();\n\n  if (isMobile) {\n    return (\n      <div className=\"mt-12\">\n        <Button variant=\"outline\" color=\"danger\" size=\"xs\" onClick={onClick}>\n          <Trans message=\"Remove\" />\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <IconButton color=\"danger\" onClick={onClick}>\n      <CloseIcon />\n    </IconButton>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const PublicIcon = createSvgIcon(\n  <path d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-.61.08-1.21.21-1.78L8.99 15v1c0 1.1.9 2 2 2v1.93C7.06 19.43 4 16.07 4 12zm13.89 5.4c-.26-.81-1-1.4-1.9-1.4h-1v-3c0-.55-.45-1-1-1h-6v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41C17.92 5.77 20 8.65 20 12c0 2.08-.81 3.98-2.11 5.4z\" />\n, 'PublicOutlined');\n","import {useController} from 'react-hook-form';\nimport {mergeProps} from '@react-aria/utils';\nimport React from 'react';\nimport {ChipField, ChipFieldProps} from './chip-field';\n\nexport type FormChipFieldProps<T> = ChipFieldProps<T> & {\n  name: string;\n};\n\nexport function FormChipField<T>({children, ...props}: FormChipFieldProps<T>) {\n  const {\n    field: {onChange, onBlur, value = [], ref},\n    fieldState: {invalid, error},\n  } = useController({\n    name: props.name,\n  });\n\n  const formProps: Partial<ChipFieldProps<T>> = {\n    onChange,\n    onBlur,\n    value,\n    invalid,\n    errorMessage: error?.message,\n  };\n\n  return (\n    <ChipField ref={ref} {...mergeProps(formProps, props)}>\n      {children}\n    </ChipField>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {FormChipField} from '@common/ui/forms/input-field/chip-field/form-chip-field';\nimport {FormImageSelector} from '@common/ui/images/image-selector';\n\ninterface LinkSeoFieldsProps {\n  hideTitle?: boolean;\n}\nexport function LinkSeoFields({hideTitle}: LinkSeoFieldsProps) {\n  return (\n    <div>\n      <div className=\"block md:flex gap-24 mb-24\">\n        <FileUploadProvider>\n          <FormImageSelector\n            name=\"image\"\n            diskPrefix=\"links\"\n            variant=\"avatar\"\n            previewSize=\"w-90 h-90\"\n            previewRadius=\"rounded\"\n            placeholderIcon={<div className=\"w-full h-full bg-alt rounded\" />}\n            showRemoveButton\n          />\n        </FileUploadProvider>\n        <div className=\"flex-auto my-24 md:my-0\">\n          {!hideTitle && (\n            <FormTextField\n              name=\"name\"\n              label={<Trans message=\"Title\" />}\n              className=\"mb-24\"\n            />\n          )}\n          <FormTextField\n            inputElementType=\"textarea\"\n            name=\"description\"\n            rows={2}\n            label={<Trans message=\"description\" />}\n          />\n        </div>\n      </div>\n      <FormChipField\n        name=\"tags\"\n        label={<Trans message=\"Tags\" />}\n        valueKey=\"name\"\n      />\n    </div>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const AccountTreeIcon = createSvgIcon(\n  <path d=\"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3h7zM7 9H4V5h3v4zm10 6h3v4h-3v-4zm0-10h3v4h-3V5z\" />\n, 'AccountTreeOutlined');\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {AddIcon} from '@common/icons/material/Add';\nimport {Button} from '@common/ui/buttons/button';\nimport {useFieldArray} from 'react-hook-form';\nimport {CrupdateLinkFormValues} from '@app/dashboard/links/forms/crupdate-link-form';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {LinkFormSection} from '@app/dashboard/links/forms/link-form-section';\nimport {useLinkFeatureStatus} from '@app/dashboard/upgrade/use-link-feature-status';\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\n\nexport function LinkUtmFields() {\n  const {trans} = useTrans();\n  const {disabled} = useLinkFeatureStatus('utm');\n\n  return (\n    <LinkFormSection\n      title={<Trans message=\"UTM tags\" />}\n      description={\n        <Trans message=\"Add UTMs to track web traffic in analytics tools.\" />\n      }\n      upgradeMessage={\n        disabled && (\n          <Trans message=\"Your current plan doesn't include UTM functionality.\" />\n        )\n      }\n    >\n      <div className=\"block md:flex gap-24 items-center mt-24\">\n        <FormTextField\n          name=\"utm.source\"\n          label={<Trans message=\"Source\" />}\n          placeholder={trans(message('e.g: adwords, google, facebook'))}\n          className=\"mb-24 flex-auto\"\n          disabled={disabled}\n        />\n        <FormTextField\n          name=\"utm.medium\"\n          label={<Trans message=\"Medium\" />}\n          placeholder={trans(message('e.g: banner, email, social post'))}\n          className=\"mb-24 flex-auto\"\n          disabled={disabled}\n        />\n      </div>\n      <div className=\"block md:flex gap-24 items-center\">\n        <FormTextField\n          name=\"utm.campaign\"\n          label={<Trans message=\"Campaign\" />}\n          placeholder={trans(message('e.g: holiday special, birthday promo'))}\n          className=\"mb-24 flex-auto\"\n          disabled={disabled}\n        />\n        <FormTextField\n          name=\"utm.term\"\n          label={<Trans message=\"Term\" />}\n          placeholder={trans(message('Use to identify ppc keywords'))}\n          className=\"mb-24 flex-auto\"\n          disabled={disabled}\n        />\n      </div>\n      <FormTextField\n        name=\"utm.content\"\n        label={<Trans message=\"Content\" />}\n        placeholder={trans(\n          message('Use to differentiate ads or words on a page')\n        )}\n        className=\"mb-24\"\n        disabled={disabled}\n      />\n      <CustomTagsSection />\n    </LinkFormSection>\n  );\n}\n\nfunction CustomTagsSection() {\n  const {fields, append, remove} = useFieldArray<CrupdateLinkFormValues>({\n    name: 'utm_custom',\n  });\n  const {disabled} = useLinkFeatureStatus('utm');\n\n  return (\n    <LinkFormSection\n      title={<Trans message=\"Custom parameters\" />}\n      description={\n        <Trans message=\"Add query parameters to track web traffic in analytics tools.\" />\n      }\n      upgradeMessage={\n        disabled && (\n          <Trans message=\"Your current plan doesn't include query parameters functionality.\" />\n        )\n      }\n    >\n      {fields.map((field, index) => (\n        <div key={field.id} className=\"block md:flex items-end gap-14\">\n          <FormTextField\n            required\n            name={`utm_custom.${index}.key`}\n            label={<Trans message=\"Key\" />}\n            className=\"flex-auto mt-24\"\n            disabled={disabled}\n          />\n          <FormTextField\n            required\n            name={`utm_custom.${index}.value`}\n            label={<Trans message=\"Value\" />}\n            className=\"flex-auto mt-24\"\n            disabled={disabled}\n          />\n          <RemoveButton onClick={() => remove(index)} />\n        </div>\n      ))}\n      <Button\n        className=\"mb-24 mt-12\"\n        variant=\"text\"\n        color=\"primary\"\n        startIcon={<AddIcon />}\n        onClick={() => {\n          append({key: '', value: ''});\n        }}\n        disabled={disabled}\n      >\n        <Trans message=\"Add parameter\" />\n      </Button>\n    </LinkFormSection>\n  );\n}\n\ninterface RemoveButtonProps {\n  onClick: () => void;\n}\nfunction RemoveButton({onClick}: RemoveButtonProps) {\n  const isMobile = useIsMobileMediaQuery();\n\n  if (isMobile) {\n    return (\n      <div className=\"mt-12\">\n        <Button variant=\"outline\" color=\"danger\" size=\"xs\" onClick={onClick}>\n          <Trans message=\"Remove\" />\n        </Button>\n      </div>\n    );\n  }\n\n  return (\n    <IconButton color=\"danger\" onClick={onClick}>\n      <CloseIcon />\n    </IconButton>\n  );\n}\n","import {useMemo} from 'react';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {CustomDomain} from '@common/custom-domains/custom-domain';\n\nexport function useDefaultCustomDomainHost(\n  allDomains?: CustomDomain[]\n): string {\n  const {custom_domains, base_url} = useSettings();\n  return useMemo(() => {\n    const selectedHost = custom_domains?.default_host;\n    if (selectedHost) {\n      const host = allDomains?.find(d => d.host === selectedHost)?.host;\n      if (host) return host;\n    }\n    return base_url.replace(/\\/$/, '').replace(/(^\\w+:|^)\\/\\//, '');\n  }, [custom_domains, base_url, allDomains]);\n}\n","import {FormSelect, FormSelectProps} from '@common/ui/forms/select/select';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {Trans} from '@common/i18n/trans';\nimport {useDefaultCustomDomainHost} from '@common/custom-domains/use-default-custom-domain-host';\nimport {removeProtocol} from '@common/utils/urls/remove-protocol';\nimport {RemoteFavicon} from '@common/ui/remote-favicon';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {useLinkFormValueLists} from '@app/dashboard/links/requests/use-link-form-value-lists';\n\ninterface FormCustomDomainSelectProps\n  extends Omit<FormSelectProps, 'children' | 'selectionMode'> {}\nexport function LinkDomainSelect({\n  ...selectProps\n}: FormCustomDomainSelectProps) {\n  const {data} = useLinkFormValueLists();\n  const defaultHost = useDefaultCustomDomainHost(data?.domains);\n  const {custom_domains} = useSettings();\n  const domains = data?.domains || [];\n\n  if (!custom_domains?.allow_select || !domains.length) return null;\n\n  return (\n    <FormSelect\n      selectionMode=\"single\"\n      label={<Trans message=\"Domain\" />}\n      {...selectProps}\n    >\n      {custom_domains.allow_all_option && (\n        <Item value={undefined} key=\"all\">\n          <Trans message=\"All my domains (including default)\" />\n        </Item>\n      )}\n      <Item\n        value={0}\n        key=\"default\"\n        startIcon={<RemoteFavicon url={defaultHost} />}\n      >\n        {removeProtocol(defaultHost)}\n      </Item>\n      {data?.domains?.map(domain => {\n        if (domain.host === defaultHost) return null;\n        return (\n          <Item\n            value={domain.id}\n            key={domain.id}\n            startIcon={<RemoteFavicon url={domain.host} />}\n          >\n            {removeProtocol(domain.host)}\n          </Item>\n        );\n      })}\n    </FormSelect>\n  );\n}\n","import {Accordion, AccordionItem} from '@common/ui/accordion/accordion';\nimport {Trans} from '@common/i18n/trans';\nimport {SettingsIcon} from '@common/icons/material/Settings';\nimport {LinkTypeField} from '@app/dashboard/links/forms/link-type-field';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {LockIcon} from '@common/icons/material/Lock';\nimport {LinkRestrictionFields} from '@app/dashboard/links/forms/link-restriction-fields';\nimport {SwapVertIcon} from '@common/icons/material/SwapVert';\nimport {LinkRetargetingFields} from '@app/dashboard/links/forms/link-retargeting-fields';\nimport {PublicIcon} from '@common/icons/material/Public';\nimport {LinkSeoFields} from '@app/dashboard/links/forms/link-seo-fields';\nimport {AccountTreeIcon} from '@common/icons/material/AccountTree';\nimport {LinkUtmFields} from '@app/dashboard/links/forms/link-utm-fields';\nimport {useLinkFormValueLists} from '@app/dashboard/links/requests/use-link-form-value-lists';\nimport {FormChipField} from '@common/ui/forms/input-field/chip-field/form-chip-field';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {LinkDomainSelect} from '@app/dashboard/links/forms/link-domain-select';\nimport {Fragment, ReactElement, useState} from 'react';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\n\ntype AccordionKey = 'options' | 'restrictions' | 'retargeting' | 'seo' | 'utm';\nexport type HidableLinkSettingsField =\n  | 'type'\n  | 'groups'\n  | 'seo'\n  | 'enabled'\n  | 'alias'\n  | 'title';\n\ninterface LinkSettingsFormProps {\n  multipleLinks?: boolean;\n  defaultExpanded?: AccordionKey[];\n  hiddenFields?: HidableLinkSettingsField[];\n  linkName?: ReactElement<MessageDescriptor>;\n}\nexport function LinkSettingsForm({\n  defaultExpanded,\n  multipleLinks,\n  hiddenFields = [],\n  linkName = <Trans message=\"link\" />,\n}: LinkSettingsFormProps) {\n  const {\n    links: {retargeting},\n  } = useSettings();\n  const [expandedValues, setExpandedValues] = useState<AccordionKey[]>(\n    defaultExpanded || []\n  );\n\n  return (\n    <Accordion\n      className=\"-ml-14 -mr-14\"\n      mode=\"multiple\"\n      variant=\"minimal\"\n      expandedValues={expandedValues}\n      onExpandedChange={values => {\n        setExpandedValues(values as AccordionKey[]);\n      }}\n    >\n      <AccordionItem\n        value=\"options\"\n        label={<Trans message=\"Settings\" />}\n        startIcon={<SettingsIcon />}\n      >\n        <LinkOptionsFields\n          multipleLinks={multipleLinks}\n          hiddenFields={hiddenFields}\n          linkName={linkName}\n        />\n      </AccordionItem>\n      <AccordionItem\n        value=\"restrictions\"\n        label={<Trans message=\"Restrictions\" />}\n        startIcon={<LockIcon />}\n      >\n        <LinkRestrictionFields linkName={linkName} />\n      </AccordionItem>\n      {retargeting && (\n        <AccordionItem\n          value=\"retargeting\"\n          label={<Trans message=\"Retargeting\" />}\n          startIcon={<SwapVertIcon />}\n        >\n          <LinkRetargetingFields />\n        </AccordionItem>\n      )}\n      {!hiddenFields.includes('seo') && (\n        <AccordionItem\n          label={<Trans message=\"SEO\" />}\n          startIcon={<PublicIcon />}\n          value=\"seo\"\n        >\n          <LinkSeoFields hideTitle={hiddenFields?.includes('title')} />\n        </AccordionItem>\n      )}\n      <AccordionItem\n        value=\"utm\"\n        label={<Trans message=\"UTM\" />}\n        startIcon={<AccountTreeIcon />}\n      >\n        <LinkUtmFields />\n      </AccordionItem>\n    </Accordion>\n  );\n}\n\ninterface LinkOptionsFieldsProps {\n  multipleLinks?: boolean;\n  hiddenFields: HidableLinkSettingsField[];\n  linkName: ReactElement<MessageDescriptor>;\n}\nfunction LinkOptionsFields({\n  multipleLinks,\n  hiddenFields,\n  linkName,\n}: LinkOptionsFieldsProps) {\n  const {\n    links: {enable_type, pixels},\n  } = useSettings();\n  const linkCount = multipleLinks ? 2 : 1;\n  const hideGroups = hiddenFields.includes('groups');\n  const hideType = hiddenFields.includes('type');\n  const hideEnabled = hiddenFields.includes('enabled');\n\n  return (\n    <Fragment>\n      {enable_type && !hideType && <LinkTypeField />}\n      <LinkDomainSelect\n        name=\"domain_id\"\n        className=\"mb-24\"\n        description={\n          <Trans\n            message=\"Select which domain should [one :name|other :names] be accessible with.\"\n            values={{name: linkName, count: linkCount}}\n          />\n        }\n      />\n      {!hideGroups && <LinkGroupsField multipleLinks={multipleLinks} />}\n      {pixels && (\n        <LinkPixelsField multipleLinks={multipleLinks} linkName={linkName} />\n      )}\n      {!hideEnabled && (\n        <FormSwitch\n          name=\"active\"\n          description={\n            <Trans\n              message=\"When [one :name is|other :names are] disabled, 404 page will be shown when short URL is visited.\"\n              values={{name: linkName, count: linkCount}}\n            />\n          }\n        >\n          <Trans message=\"Enabled\" />\n        </FormSwitch>\n      )}\n    </Fragment>\n  );\n}\n\ninterface LinkGroupsFieldProps {\n  multipleLinks?: boolean;\n}\nfunction LinkGroupsField({multipleLinks}: LinkGroupsFieldProps) {\n  const {data} = useLinkFormValueLists();\n  return (\n    <FormChipField\n      suggestions={data?.groups}\n      openMenuOnFocus={true}\n      allowCustomValue={false}\n      showDropdownArrow\n      className=\"mb-24\"\n      name=\"groups\"\n      label={<Trans message=\"Groups\" />}\n      description={\n        <Trans\n          message=\"Which groups should [one link|other these links] belong to.\"\n          values={{count: multipleLinks ? 2 : 1}}\n        />\n      }\n    >\n      {group => <Item value={group.id}>{group.name}</Item>}\n    </FormChipField>\n  );\n}\n\ninterface LinkPixelsFieldProps {\n  multipleLinks?: boolean;\n  linkName: ReactElement<MessageDescriptor>;\n}\nfunction LinkPixelsField({multipleLinks, linkName}: LinkPixelsFieldProps) {\n  const {data} = useLinkFormValueLists();\n  return (\n    <FormChipField\n      suggestions={data?.pixels}\n      openMenuOnFocus={true}\n      className=\"mb-24\"\n      name=\"pixels\"\n      label={<Trans message=\"Pixels\" />}\n      description={\n        <Trans\n          message=\"Which tracking pixels should be used for [one this :name|other these :names].\"\n          values={{count: multipleLinks ? 2 : 1, name: linkName}}\n        />\n      }\n    >\n      {pixel => <Item value={pixel.id}>{pixel.name}</Item>}\n    </FormChipField>\n  );\n}\n","import React, {Fragment, useEffect, useState} from 'react';\nimport clsx from 'clsx';\nimport {RefCallBack} from 'react-hook-form';\nimport {Button} from './buttons/button';\nimport {LinkIcon} from '../icons/material/Link';\nimport {TextField} from './forms/input-field/text-field/text-field';\nimport {Trans} from '../i18n/trans';\nimport {useSettings} from '../core/settings/use-settings';\n\nexport interface SlugEditorProps {\n  suffix?: string;\n  host?: string;\n  value?: string | null;\n  onChange?: (value: string) => void;\n  className?: string;\n  inputRef?: RefCallBack;\n  onInputBlur?: () => void;\n  showLinkIcon?: boolean;\n  pattern?: string;\n  minLength?: number;\n  maxLength?: number;\n  hideButton?: boolean;\n}\nexport function SlugEditor({\n  suffix,\n  host,\n  value: initialValue,\n  onChange,\n  className,\n  inputRef,\n  onInputBlur,\n  showLinkIcon = true,\n  pattern,\n  minLength,\n  maxLength,\n  hideButton,\n}: SlugEditorProps) {\n  const {base_url} = useSettings();\n  const fullSuffix = suffix ? `/${suffix}` : '';\n  const [isEditing, setIsEditing] = useState(false);\n  const [value, setValue] = useState(initialValue);\n  host = host || base_url;\n\n  useEffect(() => {\n    setValue(initialValue);\n  }, [initialValue]);\n\n  const handleSubmit = () => {\n    if (!isEditing) {\n      setIsEditing(true);\n    } else {\n      setIsEditing(false);\n      if (value) {\n        onChange?.(value);\n      }\n    }\n  };\n\n  return (\n    // can't use <form/> here as component might be used inside another form\n    <div className={clsx('flex items-center', className)}>\n      {showLinkIcon && <LinkIcon className=\"icon-md text-muted\" />}\n      <div className=\"text-primary ml-6 mr-14\">\n        {host}\n        {fullSuffix}\n        {!isEditing && value && (\n          <Fragment>\n            <span>/</span>\n            <span className=\"font-medium\">{value}</span>\n          </Fragment>\n        )}\n      </div>\n      {isEditing && (\n        <TextField\n          pattern={pattern}\n          minLength={minLength}\n          maxLength={maxLength}\n          onKeyDown={e => {\n            if (e.key === 'Enter') {\n              handleSubmit();\n            }\n          }}\n          ref={inputRef}\n          aria-label=\"slug\"\n          autoFocus\n          className=\"mr-14\"\n          size=\"2xs\"\n          value={value as string}\n          onBlur={onInputBlur}\n          onChange={e => {\n            setValue(e.target.value);\n          }}\n        />\n      )}\n      {!hideButton && (\n        <Button\n          type=\"button\"\n          color=\"chip\"\n          variant=\"outline\"\n          size=\"2xs\"\n          onClick={() => {\n            handleSubmit();\n          }}\n        >\n          {isEditing ? <Trans message=\"Save\" /> : <Trans message=\"Edit\" />}\n        </Button>\n      )}\n    </div>\n  );\n}\n","import {useSettings} from '@common/core/settings/use-settings';\nimport {useLinkFeatureStatus} from '@app/dashboard/upgrade/use-link-feature-status';\nimport {SlugEditor} from '@common/ui/slug-editor';\nimport {NoPermissionButton} from '@app/dashboard/upgrade/no-permission-button';\nimport {Trans} from '@common/i18n/trans';\nimport {UseFormReturn} from 'react-hook-form';\n\ninterface AliasFieldProps {\n  form: UseFormReturn<{hash: string; alias: string} | any>;\n  name: 'alias' | 'hash';\n}\nexport function AliasField({form, name}: AliasFieldProps) {\n  const {\n    links: {alias_min, alias_max},\n    custom_domains,\n  } = useSettings();\n  const {disabled} = useLinkFeatureStatus('alias');\n  const {watch, setValue, formState} = form;\n  const currentAlias = watch('alias') || watch('hash');\n  const aliasError =\n    formState.errors.alias?.message || formState.errors.hash?.message;\n\n  return (\n    <div className=\"mb-24\">\n      <div className=\"flex items-center\">\n        <SlugEditor\n          host={custom_domains?.default_host}\n          pattern=\"[A-Za-z0-9_-]+\"\n          minLength={alias_min}\n          maxLength={alias_max}\n          value={currentAlias}\n          onChange={newAlias => {\n            setValue(name, newAlias);\n          }}\n          hideButton={disabled}\n        />\n        {disabled && (\n          <NoPermissionButton\n            message={\n              <Trans message=\"Your current plan does not include alias editing.\" />\n            }\n          />\n        )}\n      </div>\n      {aliasError && (\n        <div className=\"text-xs text-danger mt-6\">{aliasError as string}</div>\n      )}\n    </div>\n  );\n}\n","import {UseFormReturn} from 'react-hook-form';\nimport {Form} from '@common/ui/forms/form';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {Link} from '../link';\nimport {\n  HidableLinkSettingsField,\n  LinkSettingsForm,\n} from '@app/dashboard/links/forms/link-settings-form';\nimport {urlIsValid} from '@app/dashboard/links/utils/url-is-valid';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {AliasField} from '@app/dashboard/links/forms/alias-field';\nimport {LinkeableFormValues} from '@app/dashboard/links/utils/build-linkeable-payload';\nimport clsx from 'clsx';\n\nexport interface CrupdateLinkFormValues\n  extends Omit<Link, 'id' | 'utm'>,\n    LinkeableFormValues {\n  position?: number;\n}\n\ninterface CrupdateLinkFormProps {\n  onSubmit: (values: CrupdateLinkFormValues) => void;\n  formId?: string;\n  form: UseFormReturn<CrupdateLinkFormValues>;\n  showButtonLabelField?: boolean;\n  hiddenFields?: HidableLinkSettingsField[];\n}\nexport function CrupdateLinkForm({\n  form,\n  onSubmit,\n  formId,\n  showButtonLabelField,\n  hiddenFields,\n}: CrupdateLinkFormProps) {\n  const {clearErrors} = form;\n  const {trans} = useTrans();\n  const {\n    links: {min_len, max_len},\n  } = useSettings();\n  const hideAlias = hiddenFields?.includes('alias');\n\n  return (\n    <Form\n      form={form}\n      onSubmit={values => {\n        if (!urlIsValid(values.long_url)) {\n          form.setError('long_url', {\n            message: trans(message('This url is invalid.')),\n          });\n        } else {\n          onSubmit(values);\n        }\n      }}\n      onBeforeSubmit={() => {\n        // hook form won't clear errors for fields that are not bound to input\n        clearErrors('alias');\n      }}\n      id={formId}\n    >\n      {showButtonLabelField && (\n        <FormTextField\n          name=\"name\"\n          label={<Trans message=\"Button label\" />}\n          className=\"mb-24 flex-auto\"\n          placeholder={trans(message('e.g. My Webpage'))}\n          autoFocus\n        />\n      )}\n      <FormTextField\n        label={<Trans message=\"Destination URL\" />}\n        name=\"long_url\"\n        placeholder=\"https://example.com\"\n        autoComplete=\"off\"\n        spellCheck=\"false\"\n        required\n        className={clsx(hideAlias ? 'mb-24' : 'mb-12')}\n        autoFocus={!showButtonLabelField}\n        minLength={min_len}\n        maxLength={max_len}\n      />\n      {!hideAlias && <AliasField form={form} name=\"alias\" />}\n      <LinkSettingsForm hiddenFields={hiddenFields} />\n    </Form>\n  );\n}\n","import {Biolink} from '@app/dashboard/biolink/biolink';\nimport {LinkGroup} from '@app/dashboard/link-groups/link-group';\nimport {Link} from '@app/dashboard/links/link';\nimport {CrupdateLinkFormValues} from '@app/dashboard/links/forms/crupdate-link-form';\nimport {defaultUtmTags} from '@app/dashboard/links/utils/build-linkeable-payload';\n\nexport const placeholderPassword = '********';\n\nexport function buildLinkeableDefaultFormValues(\n  linkeable: Biolink | LinkGroup | Link\n) {\n  const rules = linkeable.rules || [];\n  const defaultUtm: CrupdateLinkFormValues['utm'] = {};\n  const customUtm: CrupdateLinkFormValues['utm_custom'] = [];\n\n  if (linkeable.utm) {\n    const queryParams = new URLSearchParams(linkeable.utm);\n    for (const [key, value] of queryParams.entries()) {\n      if (defaultUtmTags.includes(key)) {\n        defaultUtm[key] = value;\n      } else {\n        customUtm.push({key, value});\n      }\n    }\n  }\n\n  return {\n    hash: linkeable.hash,\n    active: linkeable.active,\n    activates_at: linkeable.activates_at,\n    expires_at: linkeable.expires_at,\n    name: linkeable.name,\n    description: linkeable.description,\n    image: linkeable.image,\n    geo_rules: rules.filter(rule => rule.type === 'geo'),\n    device_rules: rules.filter(rule => rule.type === 'device'),\n    platform_rules: rules.filter(rule => rule.type === 'platform'),\n    exp_clicks_rule: rules.find(r => r.type === 'exp_clicks'),\n    // show an indication to user that password exists\n    password: linkeable.has_password ? placeholderPassword : '',\n    utm: defaultUtm,\n    utm_custom: customUtm,\n    domain_id: linkeable.domain_id,\n    pixels: linkeable.pixels,\n    tags: linkeable.tags,\n  };\n}\n","import {removeEmptyValuesFromObject} from '@common/utils/objects/remove-empty-values-from-object';\nimport {Tag} from '@common/tags/tag';\nimport {LinkRule} from '@app/dashboard/links/link-rule';\nimport {TrackingPixel} from '@app/dashboard/tracking-pixels/tracking-pixel';\nimport {placeholderPassword} from '@app/dashboard/links/utils/build-linkeable-default-form-values';\n\nexport const defaultUtmTags = [\n  'source',\n  'medium',\n  'campaign',\n  'term',\n  'content',\n];\n\nexport interface CrupdateLinkeablePayload\n  extends Omit<LinkeableFormValues, 'utm' | 'groups' | 'pixels' | 'tags'> {\n  utm?: string | null;\n  groups?: number[] | null;\n  pixels?: number[] | null;\n  tags?: string[] | null;\n}\n\nexport interface LinkeableFormValues {\n  exp_clicks_rule?: LinkRule;\n  geo_rules?: LinkRule[];\n  device_rules?: LinkRule[];\n  platform_rules?: LinkRule[];\n  pixels?: TrackingPixel[];\n  tags?: Tag[];\n  password?: string;\n  utm?: {\n    source?: string;\n    medium?: string;\n    campaign?: string;\n    term?: string;\n    content?: string;\n    [key: string]: string | undefined;\n  };\n  utm_custom?: {key: string; value: string}[];\n}\n\nexport function buildLinkeablePayload<R extends CrupdateLinkeablePayload>(\n  values: LinkeableFormValues\n): R {\n  // remove placeholder password, otherwise it will be set every time link is updated\n  if (values.password === placeholderPassword) {\n    delete values.password;\n  }\n  let payload: CrupdateLinkeablePayload = {\n    ...values,\n    utm: null,\n    groups: null,\n    pixels: null,\n    tags: null,\n  };\n  payload = addUtmAndCustomQueryParams(payload, values);\n  payload.pixels = values.pixels ? values.pixels.map(pixel => pixel.id) : [];\n  payload.tags = values.tags?.map((tag: Tag | string) =>\n    typeof tag === 'string' ? tag : tag.name\n  );\n  return payload as R;\n}\n\nfunction addUtmAndCustomQueryParams(\n  payload: CrupdateLinkeablePayload,\n  values: LinkeableFormValues\n): CrupdateLinkeablePayload {\n  if (!values.utm && !values.utm_custom) return payload;\n  const utm = removeEmptyValuesFromObject(values.utm || {}) as Record<\n    string,\n    string\n  >;\n  values.utm_custom?.forEach(({key, value}) => {\n    utm[key] = value;\n  });\n\n  payload.utm = new URLSearchParams(utm).toString();\n  return payload;\n}\n","import {CrupdateLinkFormValues} from '@app/dashboard/links/forms/crupdate-link-form';\nimport {\n  buildLinkeablePayload,\n  CrupdateLinkeablePayload,\n} from '@app/dashboard/links/utils/build-linkeable-payload';\n\nexport interface CrupdateLinkPayload\n  extends Omit<CrupdateLinkFormValues, 'utm' | 'groups' | 'pixels' | 'tags'>,\n    CrupdateLinkeablePayload {}\n\nexport function buildLinkPayload(\n  values: CrupdateLinkFormValues\n): CrupdateLinkPayload {\n  const payload = buildLinkeablePayload<CrupdateLinkPayload>(values);\n  payload.groups = values.groups?.map(group => group.id);\n  return payload;\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {UseFormReturn} from 'react-hook-form';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {CrupdateLinkFormValues} from '@app/dashboard/links/forms/crupdate-link-form';\nimport {buildLinkPayload} from '@app/dashboard/links/requests/build-link-payload';\n\ninterface Response extends BackendResponse {}\n\ninterface Options {\n  endpoint?: string;\n  invalidateQueries?: boolean;\n}\n\nexport function useCreateLink(\n  form: UseFormReturn<CrupdateLinkFormValues>,\n  {endpoint, invalidateQueries = true}: Options = {}\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (payload: CrupdateLinkFormValues) => createLink(payload, endpoint),\n    {\n      onSuccess: () => {\n        toast.positive(trans(message('Link created')));\n        if (invalidateQueries) {\n          queryClient.invalidateQueries(PaginatedResourcesQueryKey('link'));\n          queryClient.invalidateQueries(\n            PaginatedResourcesQueryKey('link-group')\n          );\n          queryClient.invalidateQueries(PaginatedResourcesQueryKey('biolink'));\n        }\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction createLink(\n  values: CrupdateLinkFormValues,\n  endpoint?: string\n): Promise<Response> {\n  return apiClient\n    .post(endpoint || `link`, buildLinkPayload(values))\n    .then(r => r.data);\n}\n","import {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {\n  CrupdateLinkForm,\n  CrupdateLinkFormValues,\n} from '../forms/crupdate-link-form';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {useCreateLink} from '../requests/use-create-link';\nimport {useForm} from 'react-hook-form';\nimport {nanoid} from 'nanoid';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {LinkGroup} from '@app/dashboard/link-groups/link-group';\nimport {useRecaptcha} from '@common/recaptcha/use-recaptcha';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\nimport {HidableLinkSettingsField} from '@app/dashboard/links/forms/link-settings-form';\n\nexport interface CreateLinkDialogProps {\n  group?: LinkGroup | Biolink | null;\n  showButtonLabelField?: boolean;\n  hiddenFields?: HidableLinkSettingsField[];\n  endpoint?: string;\n  position?: number;\n  invalidateQueries?: boolean;\n  onSuccess?: (response: any) => void;\n}\nexport function CreateLinkDialog({\n  group,\n  position,\n  showButtonLabelField,\n  hiddenFields,\n  endpoint,\n  onSuccess,\n  invalidateQueries,\n}: CreateLinkDialogProps) {\n  const {close, formId} = useDialogContext();\n  const {\n    links: {default_type},\n    custom_domains,\n  } = useSettings();\n  const {verify, isVerifying} = useRecaptcha('link_creation');\n\n  const form = useForm<CrupdateLinkFormValues>({\n    defaultValues: {\n      hash: nanoid(5),\n      active: true,\n      type: default_type || 'direct',\n      geo_rules: [],\n      device_rules: [],\n      platform_rules: [],\n      // set undefined if no group id specified, so existing groups are not cleared in backend\n      groups: group ? [group as LinkGroup] : [],\n      position: position, // for biolink\n      utm: {},\n      utm_custom: [],\n      domain_id: custom_domains?.allow_all_option ? undefined : 0,\n    },\n  });\n  const createLink = useCreateLink(form, {endpoint, invalidateQueries});\n\n  return (\n    <Dialog size=\"lg\">\n      <DialogHeader>\n        <Trans message=\"Create link\" />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateLinkForm\n          hiddenFields={hiddenFields}\n          showButtonLabelField={showButtonLabelField}\n          formId={formId}\n          form={form}\n          onSubmit={async values => {\n            const isValid = await verify();\n            if (isValid) {\n              createLink.mutate(values, {\n                onSuccess: response => {\n                  onSuccess?.(response);\n                  close();\n                },\n              });\n            }\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={createLink.isLoading || isVerifying}\n        >\n          <Trans message=\"Create\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {UseFormReturn} from 'react-hook-form';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {CrupdateLinkFormValues} from '../forms/crupdate-link-form';\nimport {buildLinkPayload} from '@app/dashboard/links/requests/build-link-payload';\nimport {Link} from '../link';\n\ninterface Response extends BackendResponse {\n  link: Link;\n}\n\ninterface Options {\n  endpoint?: string;\n  invalidateQueries?: boolean;\n}\n\nexport function useUpdateLink(\n  form: UseFormReturn<CrupdateLinkFormValues>,\n  linkId: number,\n  {endpoint, invalidateQueries = true}: Options = {}\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (payload: CrupdateLinkFormValues) => updateLink(linkId, payload, endpoint),\n    {\n      onSuccess: () => {\n        toast.positive(trans(message('Link updated')));\n        if (invalidateQueries) {\n          queryClient.invalidateQueries(PaginatedResourcesQueryKey('link'));\n          queryClient.invalidateQueries(\n            PaginatedResourcesQueryKey('link-group')\n          );\n          queryClient.invalidateQueries(PaginatedResourcesQueryKey('biolink'));\n        }\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction updateLink(\n  id: number,\n  values: CrupdateLinkFormValues,\n  endpoint?: string\n): Promise<Response> {\n  return apiClient\n    .put(endpoint || `link/${id}`, buildLinkPayload(values))\n    .then(r => r.data);\n}\n","import {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {\n  CrupdateLinkForm,\n  CrupdateLinkFormValues,\n} from '../forms/crupdate-link-form';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {useForm} from 'react-hook-form';\nimport {useUpdateLink} from '../requests/use-update-link';\nimport {Link} from '../link';\nimport {useMemo} from 'react';\nimport {useRecaptcha} from '@common/recaptcha/use-recaptcha';\nimport {buildLinkeableDefaultFormValues} from '@app/dashboard/links/utils/build-linkeable-default-form-values';\nimport {LinkGroup} from '@app/dashboard/link-groups/link-group';\nimport {CreateLinkDialogProps} from '@app/dashboard/links/dialogs/create-link-dialog';\n\ninterface UpdateLinkDialogProps extends Omit<CreateLinkDialogProps, 'group'> {\n  link: Link;\n}\nexport function UpdateLinkDialog({\n  link,\n  showButtonLabelField,\n  hiddenFields,\n  invalidateQueries,\n  onSuccess,\n  endpoint,\n}: UpdateLinkDialogProps) {\n  const {close, formId} = useDialogContext();\n  const {verify, isVerifying} = useRecaptcha('link_creation');\n\n  const defaultValues = useMemo(() => buildDefaultFormValues(link), [link]);\n  const form = useForm<CrupdateLinkFormValues>({\n    defaultValues,\n  });\n  const updateLink = useUpdateLink(form, link.id, {\n    endpoint,\n    invalidateQueries,\n  });\n\n  return (\n    <Dialog size=\"lg\">\n      <DialogHeader>\n        <Trans message=\"Update link\" />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateLinkForm\n          hiddenFields={hiddenFields}\n          showButtonLabelField={showButtonLabelField}\n          formId={formId}\n          form={form}\n          onSubmit={async values => {\n            const isValid = await verify();\n            if (isValid) {\n              updateLink.mutate(values, {\n                onSuccess: response => {\n                  onSuccess?.(response);\n                  close();\n                },\n              });\n            }\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={updateLink.isLoading || isVerifying}\n        >\n          <Trans message=\"Update\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n\nexport function buildDefaultFormValues(link: Link) {\n  const values = buildLinkeableDefaultFormValues(link);\n  return {\n    ...values,\n    long_url: link.long_url,\n    alias: link.alias,\n    type: link.type,\n    type_id: link.type_id,\n    groups: link.groups as LinkGroup[],\n  };\n}\n","import {Link} from '@app/dashboard/links/link';\nimport {RemoteFavicon} from '@common/ui/remote-favicon';\nimport React from 'react';\n\ninterface LinkImageProps {\n  link: Link;\n  className?: string;\n}\nexport function LinkImage({link, className}: LinkImageProps) {\n  return link.image ? (\n    <img className={className} alt=\"\" src={link.image} />\n  ) : (\n    <RemoteFavicon className={className} url={link.long_url} />\n  );\n}\n","import React, {ReactNode} from 'react';\nimport {Avatar} from '../../ui/images/avatar';\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\nimport {Part} from 'lit';\nimport clsx from 'clsx';\n\ninterface Props {\n  image?: string;\n  label: ReactNode;\n  description?: ReactNode;\n  labelClassName?: string;\n}\nexport function NameWithAvatar({\n  image,\n  label,\n  description,\n  labelClassName,\n}: Props) {\n  return (\n    <div className=\"flex items-center gap-12 w-max\">\n      {image && <Avatar size=\"md\" className=\"flex-shrink-0\" src={image} />}\n      <div>\n        <div className={labelClassName}>{label}</div>\n        {description && <div className=\"text-muted text-xs\">{description}</div>}\n      </div>\n    </div>\n  );\n}\n\nexport function NameWithAvatarPlaceholder({\n  labelClassName,\n  showDescription,\n}: Partial<Props> & {\n  showDescription?: boolean;\n}) {\n  return (\n    <div className=\"flex items-center gap-12 w-full max-w-4/5\">\n      <Skeleton size=\"w-32 h-32\" />\n      <div className=\"flex-auto\">\n        <div className={clsx(labelClassName, 'leading-3')}>\n          <Skeleton />\n        </div>\n        {showDescription && (\n          <div className=\"text-muted leading-3 mt-4\">{<Skeleton />}</div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import {UpgradeDialog} from '@app/dashboard/upgrade/upgrade-dialog';\nimport {Trans} from '@common/i18n/trans';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {useTrans} from '@common/i18n/use-trans';\n\ninterface FeatureLockedDialogProps {\n  resourceName: MessageDescriptor;\n}\nexport function OverQuotaDialog({resourceName}: FeatureLockedDialogProps) {\n  const {trans} = useTrans();\n  return (\n    <UpgradeDialog\n      message={\n        <Trans\n          message=\"You've reached the maximum number of :resource allowed for your current plan.\"\n          values={{resource: trans(resourceName)}}\n        />\n      }\n      messageSuffix={\n        <Trans message=\"Upgrade to increase this limit and unlock other features.\" />\n      }\n    />\n  );\n}\n","import React, {\n  cloneElement,\n  forwardRef,\n  ReactElement,\n  useMemo,\n  useState,\n} from 'react';\nimport {\n  FetchLinkUsageResponse,\n  useLinkSummary,\n} from '@app/dashboard/layout/sidenav/use-link-summary';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {OverQuotaDialog} from '@app/dashboard/upgrade/over-quota-dialog';\nimport {resourceTranslationMap} from '@app/dashboard/layout/sidenav/resource-usage-list';\nimport {createEventHandler} from '@common/utils/dom/create-event-handler';\nimport {Link} from '@app/dashboard/links/link';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\nimport {LinkOverlay} from '@app/dashboard/link-overlays/link-overlay';\nimport {CustomPage} from '@common/admin/custom-pages/custom-page';\nimport {CustomDomain} from '@common/custom-domains/custom-domain';\nimport {LinkGroup} from '@app/dashboard/link-groups/link-group';\nimport {TrackingPixel} from '@app/dashboard/tracking-pixels/tracking-pixel';\nimport {useAuth} from '@common/auth/use-auth';\n\ntype ResourceName =\n  | Link['model_type']\n  | Biolink['model_type']\n  | LinkOverlay['model_type']\n  | CustomPage['model_type']\n  | CustomDomain['model_type']\n  | LinkGroup['model_type']\n  | TrackingPixel['model_type'];\n\ninterface PermissionAwareButtonProps {\n  resource:\n    | ResourceName\n    | Link\n    | LinkGroup\n    | Biolink\n    | CustomDomain\n    | LinkOverlay\n    | CustomPage\n    | TrackingPixel;\n  action: 'create' | 'update' | 'delete';\n  children: ReactElement;\n}\n\nexport const PermissionAwareButton = forwardRef<\n  HTMLElement,\n  PermissionAwareButtonProps\n>(({children, resource, action, ...childProps}, ref) => {\n  const {user} = useAuth();\n  const [dialogIsOpen, setDialogIsOpen] = useState(false);\n  const {data} = useLinkSummary();\n\n  const usageKey = useMemo(() => {\n    // extract model type from resource\n    const resourceName =\n      typeof resource === 'string' ? resource : resource.model_type;\n\n    // pluralize model type and convert to snake case\n    return `${camelCaseToSnakeCase(\n      resourceName\n    )}s` as keyof FetchLinkUsageResponse['usage'];\n  }, [resource]);\n\n  const hasPermission = data?.usage[usageKey][action];\n  const messageType = data?.usage[usageKey].createMsgType;\n\n  // user has permission or owns the resource\n  if (\n    hasPermission ||\n    (typeof resource === 'object' && resource.user_id === user?.id)\n  ) {\n    return cloneElement(children, {...childProps, ref});\n  }\n\n  if (!hasPermission && messageType !== 'overQuota') {\n    return null;\n  }\n\n  return (\n    <div\n      onPointerDown={createEventHandler(e => {\n        e.preventDefault();\n        e.stopPropagation();\n      })}\n      onClickCapture={createEventHandler(e => {\n        e.preventDefault();\n        e.stopPropagation();\n        setDialogIsOpen(true);\n      })}\n      onKeyDownCapture={createEventHandler(event => {\n        const e = event as unknown as KeyboardEvent;\n        e.preventDefault();\n        e.stopPropagation();\n        if (e.key === 'Enter' || e.key === ' ') {\n          setDialogIsOpen(true);\n        }\n      })}\n    >\n      {children}\n      <DialogTrigger\n        type=\"modal\"\n        isOpen={dialogIsOpen}\n        onOpenChange={setDialogIsOpen}\n      >\n        <OverQuotaDialog resourceName={resourceTranslationMap[usageKey]} />\n      </DialogTrigger>\n    </div>\n  );\n});\n\nfunction camelCaseToSnakeCase(str: string) {\n  return str.replace(/[A-Z]/g, letter => `_${letter.toLowerCase()}`);\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const BarChartIcon = createSvgIcon(\n  <path d=\"M5 9.2h3V19H5V9.2zM10.6 5h2.8v14h-2.8V5zm5.6 8H19v6h-2.8v-6z\" />\n, 'BarChartOutlined');\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {Link} from '../link';\nimport {Trans} from '@common/i18n/trans';\nimport {removeProtocol} from '@common/utils/urls/remove-protocol';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {Chip} from '@common/ui/forms/input-field/chip-field/chip';\nimport {CheckIcon} from '@common/icons/material/Check';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {Link as RouterLink} from 'react-router-dom';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport {UpdateLinkDialog} from '../dialogs/update-link-dialog';\nimport React from 'react';\nimport {LinkImage} from '@app/dashboard/links/link-image';\nimport {ShareLinkButton} from '@app/dashboard/links/sharing/share-link-button';\nimport {LinkClipboardButton} from '@app/dashboard/links/sharing/link-clipboard-button';\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\nimport {BarChartIcon} from '@common/icons/material/BarChart';\n\nexport const linksDatatableColumns: ColumnConfig<Link>[] = [\n  {\n    key: 'summary',\n    header: () => <Trans message=\"Summary\" />,\n    // prevent long urls from overflowing the table\n    width: 'w-5/6 max-w-200',\n    body: link => (\n      <div>\n        <div className=\"flex items-center gap-6 whitespace-nowrap\">\n          <LinkImage link={link} className=\"w-16 h-16\" />\n          <a\n            className=\"block font-semibold hover:underline overflow-ellipsis overflow-hidden w-min\"\n            href={link.long_url}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            data-testid=\"long-url\"\n          >\n            {removeProtocol(link.long_url)}\n          </a>\n        </div>\n        <LinkClipboardButton\n          link={link}\n          variant=\"text\"\n          className=\"block text-muted hover:underline w-min\"\n          data-testid=\"short-url\"\n        />\n      </div>\n    ),\n  },\n  {\n    key: 'user_id',\n    allowsSorting: true,\n    header: () => <Trans message=\"Owner\" />,\n    body: link => {\n      if (!link.user) return '';\n      return (\n        <NameWithAvatar\n          image={link.user.avatar}\n          label={link.user.display_name}\n          description={link.user.email}\n        />\n      );\n    },\n  },\n  {\n    key: 'clicks',\n    sortingKey: 'clicks_count',\n    allowsSorting: true,\n    header: () => <Trans message=\"Clicks\" />,\n    body: link =>\n      link.clicks_count ? <FormattedNumber value={link.clicks_count} /> : '',\n  },\n  {\n    key: 'type',\n    sortingKey: 'type',\n    allowsSorting: true,\n    header: () => <Trans message=\"Type\" />,\n    body: link => (\n      <Chip size=\"xs\" radius=\"rounded\" className=\"capitalize\">\n        <Trans message={link.type} />\n      </Chip>\n    ),\n  },\n  {\n    key: 'password',\n    allowsSorting: true,\n    header: () => <Trans message=\"Password\" />,\n    body: link =>\n      link.has_password ? (\n        <CheckIcon className=\"icon-md text-positive\" />\n      ) : (\n        <CloseIcon className=\"icon-md text-danger\" />\n      ),\n  },\n  {\n    key: 'expires_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Expires at\" />,\n    body: link =>\n      link.expires_at ? <FormattedDate date={link.expires_at} /> : '',\n  },\n  {\n    key: 'clicked_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Last clicked\" />,\n    body: link =>\n      link.clicked_at ? <FormattedDate date={link.clicked_at} /> : '',\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    body: link => (\n      <div className=\"text-muted\">\n        <Tooltip label={<Trans message=\"Link statistics\" />}>\n          <RouterLink to={`${link.id}`}>\n            <IconButton size=\"md\">\n              <BarChartIcon />\n            </IconButton>\n          </RouterLink>\n        </Tooltip>\n        <ShareLinkButton link={link} />\n        <PermissionAwareButton resource={link} action=\"update\">\n          <DialogTrigger type=\"modal\">\n            <Tooltip label={<Trans message=\"Edit link\" />}>\n              <IconButton size=\"md\">\n                <EditIcon />\n              </IconButton>\n            </Tooltip>\n            <UpdateLinkDialog link={link} />\n          </DialogTrigger>\n        </PermissionAwareButton>\n      </div>\n    ),\n  },\n];\n","import {apiClient} from '../../http/query-client';\nimport {BackendResponse} from '../../http/backend-response/backend-response';\nimport {useMutation} from '@tanstack/react-query';\nimport {showHttpErrorToast} from '../../utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {\n  downloadPath?: string;\n  result?: 'jobQueued';\n}\n\nexport type ExportCsvPayload = Record<string, string | number | undefined>;\n\nexport function useExportCsv(endpoint: string) {\n  return useMutation(\n    (payload: ExportCsvPayload | undefined) => exportCsv(endpoint, payload),\n    {\n      onError: err => showHttpErrorToast(err),\n    }\n  );\n}\n\nfunction exportCsv(\n  endpoint: string,\n  payload: ExportCsvPayload | undefined\n): Promise<Response> {\n  return apiClient.post(endpoint, payload).then(r => r.data);\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const AddLinkIcon = createSvgIcon(\n  <path d=\"M8 11h8v2H8v-2zm12.1 1H22c0-2.76-2.24-5-5-5h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1zM3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM19 12h-2v3h-3v2h3v3h2v-3h3v-2h-3v-3z\" />\n, 'AddLinkOutlined');\n","import {createSvgIcon} from '../../icons/create-svg-icon';\n\nexport const ExportCsvIcon = createSvgIcon(\n  <path d=\"M 7 2 C 5.895 2 5 2.895 5 4 L 5 9 L 4 9 C 2.895 9 2 9.895 2 11 L 2 16 C 2 17.105 2.895 18 4 18 L 5 18 L 5 20 C 5 21.105 5.895 22 7 22 L 15.171875 22 L 13.171875 20 L 7 20 L 7 18 L 17 18 L 17 16 C 17 14.895 17.895 14 19 14 L 21 14 L 21 7 L 16 2 L 7 2 z M 7 4 L 15 4 L 15 8 L 19 8 L 19 9 L 7 9 L 7 4 z M 6 11 C 7.105 11 8 11.895 8 13 L 7 13 C 7 12.449 6.551 12 6 12 C 5.449 12 5 12.449 5 13 L 5 14 C 5 14.551 5.449 15 6 15 C 6.551 15 7 14.551 7 14 L 8 14 C 8 15.105 7.105 16 6 16 C 4.895 16 4 15.105 4 14 L 4 13 C 4 11.895 4.895 11 6 11 z M 10.644531 11 C 12.067531 11.041 12.154297 12.282906 12.154297 12.503906 L 11.1875 12.503906 C 11.1875 12.400906 11.204906 11.806641 10.628906 11.806641 C 10.453906 11.806641 10.059844 11.884188 10.089844 12.367188 C 10.118844 12.810188 10.703547 13.019406 10.810547 13.066406 C 11.034547 13.148406 12.141391 13.642391 12.150391 14.650391 C 12.152391 14.864391 12.097062 15.985 10.664062 16 C 9.1050625 16.017 9 14.675438 9 14.398438 L 9.9746094 14.398438 C 9.9746094 14.545438 9.9870625 15.256172 10.664062 15.201172 C 11.071063 15.167172 11.159828 14.87425 11.173828 14.65625 C 11.196828 14.28925 10.846563 14.068625 10.476562 13.890625 C 9.9565625 13.640625 9.1341406 13.333375 9.1191406 12.359375 C 9.1061406 11.482375 9.7505312 10.975 10.644531 11 z M 13 11 L 14.052734 11 L 14.992188 14.646484 L 15.9375 11 L 17 11 L 15.646484 16 L 14.345703 16 L 13 11 z M 19 16 L 19 20 L 16 20 L 20 24 L 24 20 L 21 20 L 21 16 L 19 16 z\"></path>\n);\n","export function downloadFileFromUrl(url: string, name?: string) {\n  const link = document.createElement('a');\n  link.href = url;\n  if (name) link.download = name;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}\n","import {DialogBody} from '../../ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '../../ui/overlays/dialog/dialog-footer';\nimport {DialogHeader} from '../../ui/overlays/dialog/dialog-header';\nimport {useDialogContext} from '../../ui/overlays/dialog/dialog-context';\nimport {Dialog} from '../../ui/overlays/dialog/dialog';\nimport {Button} from '../../ui/buttons/button';\nimport {Trans} from '../../i18n/trans';\n\nexport function CsvExportInfoDialog() {\n  const {close} = useDialogContext();\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Csv export\" />\n      </DialogHeader>\n      <DialogBody>\n        <Trans\n          message=\"Your request is being processed. We'll email you when the report is ready to download. In\n            certain cases, it might take a little longer, depending on the number of items beings\n            exported and the volume of activity.\"\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button variant=\"flat\" color=\"primary\" onClick={close}>\n          <Trans message=\"Got it\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {UseFormReturn} from 'react-hook-form';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {\n  buildLinkPayload,\n  CrupdateLinkPayload,\n} from '@app/dashboard/links/requests/build-link-payload';\nimport {CreateMultipleLinksFormValue} from '@app/dashboard/links/dialogs/create-multiple-links-dialog';\nimport {Link} from '@app/dashboard/links/link';\n\ninterface CreateMultipleLinksPayload\n  extends Omit<CrupdateLinkPayload, 'hash' | 'long_url'> {\n  long_urls: string[];\n}\n\ninterface Response extends BackendResponse {\n  links: Link[];\n}\n\nexport function useCreateMultipleLinks(\n  form: UseFormReturn<CreateMultipleLinksFormValue>\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (values: CreateMultipleLinksFormValue) => createLinks(values),\n    {\n      onSuccess: response => {\n        toast.positive(\n          trans(\n            message('[one 1 link|other :count links] shortened', {\n              values: {count: response.links.length},\n            })\n          )\n        );\n        queryClient.invalidateQueries(PaginatedResourcesQueryKey('link'));\n        queryClient.invalidateQueries(PaginatedResourcesQueryKey('link-group'));\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction createLinks(values: CreateMultipleLinksFormValue): Promise<Response> {\n  return apiClient\n    .post('link/batch/shorten', formToPayload(values))\n    .then(r => r.data);\n}\n\nfunction formToPayload(\n  values: CreateMultipleLinksFormValue\n): CreateMultipleLinksPayload {\n  const payload = buildLinkPayload(values as any);\n  const longUrls = values.long_urls.split(/\\n/g);\n  return {\n    ...payload,\n    long_urls: longUrls,\n  };\n}\n","import {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {CrupdateLinkFormValues} from '../forms/crupdate-link-form';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {useForm} from 'react-hook-form';\nimport {useCreateMultipleLinks} from '@app/dashboard/links/requests/use-create-multiple-links';\nimport {Form} from '@common/ui/forms/form';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {LinkSettingsForm} from '@app/dashboard/links/forms/link-settings-form';\nimport {urlIsValid} from '@app/dashboard/links/utils/url-is-valid';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {LinkGroup} from '@app/dashboard/link-groups/link-group';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\n\nexport interface CreateMultipleLinksFormValue\n  extends Omit<CrupdateLinkFormValues, 'hash' | 'long_url'> {\n  long_urls: string;\n}\n\ninterface CreateMultipleLinksDialogProps {\n  group?: LinkGroup | Biolink | null;\n}\nexport function CreateMultipleLinksDialog({\n  group,\n}: CreateMultipleLinksDialogProps) {\n  const {trans} = useTrans();\n  const {close, formId} = useDialogContext();\n  const form = useForm<CreateMultipleLinksFormValue>({\n    defaultValues: {\n      active: true,\n      type: 'direct',\n      geo_rules: [],\n      device_rules: [],\n      platform_rules: [],\n      // set undefined if no group id specified, so existing groups are not cleared in backend\n      groups: group ? [group as LinkGroup] : undefined,\n      utm: {},\n      utm_custom: [],\n    },\n  });\n  const createMultiple = useCreateMultipleLinks(form);\n  return (\n    <Dialog size=\"lg\">\n      <DialogHeader>\n        <Trans message=\"Shorten links\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          id={formId}\n          form={form}\n          onSubmit={values => {\n            const someUrlsInvalid = values.long_urls\n              .split(/\\r?\\n/)\n              .some(url => !urlIsValid(url));\n            if (someUrlsInvalid) {\n              form.setError('long_urls', {\n                message: trans(message('Some of the urls are not valid.')),\n              });\n            } else {\n              createMultiple.mutate(values, {onSuccess: () => close()});\n            }\n          }}\n        >\n          <FormTextField\n            label={<Trans message=\"Multiple URLs (one per line)\" />}\n            inputElementType=\"textarea\"\n            rows={10}\n            name=\"long_urls\"\n            autoComplete=\"off\"\n            spellCheck=\"false\"\n            required\n            className=\"mb-24\"\n            autoFocus\n          />\n          <LinkSettingsForm multipleLinks />\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={createMultiple.isLoading}\n        >\n          <Trans message=\"Shorten\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport React, {Fragment, useEffect, useMemo, useState} from 'react';\nimport {DataTablePage} from '@common/datatable/page/data-table-page';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\nimport shareLink from '../share-link.svg';\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\nimport {LinksDatatableFilters} from './links-datatable-filters';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {CreateLinkDialog} from '../dialogs/create-link-dialog';\nimport {useAuth} from '@common/auth/use-auth';\nimport {linksDatatableColumns} from './links-datatable-columns';\nimport {useExportCsv} from '@common/datatable/requests/use-export-csv';\nimport {Menu, MenuTrigger} from '@common/ui/navigation/menu/menu-trigger';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {MoreHorizIcon} from '@common/icons/material/MoreHoriz';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {AddLinkIcon} from '@common/icons/material/AddLink';\nimport {ExportCsvIcon} from '@common/datatable/csv-export/export-csv-icon';\nimport {downloadFileFromUrl} from '@common/uploads/utils/download-file-from-url';\nimport {CsvExportInfoDialog} from '@common/datatable/csv-export/csv-export-info-dialog';\nimport {CreateMultipleLinksDialog} from '@app/dashboard/links/dialogs/create-multiple-links-dialog';\nimport {useActiveWorkspaceId} from '@common/workspace/active-workspace-id-context';\nimport {prefetchLinkFormValueLists} from '@app/dashboard/links/requests/use-link-form-value-lists';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\n\ninterface LinksDatablePageProps {\n  forCurrentUser?: boolean;\n}\nexport function LinksDatablePage({forCurrentUser}: LinksDatablePageProps) {\n  const {user} = useAuth();\n  const {workspaceId} = useActiveWorkspaceId();\n  const {filters, columns} = useMemo(() => {\n    const columns = !forCurrentUser\n      ? linksDatatableColumns\n      : linksDatatableColumns.filter(col => col.key !== 'user_id');\n\n    const filters = !forCurrentUser\n      ? LinksDatatableFilters\n      : LinksDatatableFilters.filter(filter => filter.key !== 'user_id');\n\n    return {filters, columns};\n  }, [forCurrentUser]);\n\n  const userId = forCurrentUser ? user?.id : '';\n\n  useEffect(() => {\n    prefetchLinkFormValueLists();\n  }, []);\n\n  return (\n    <DataTablePage\n      endpoint=\"link\"\n      queryParams={{userId, workspaceId, with: 'user'}}\n      title={<Trans message=\"Links\" />}\n      filters={filters}\n      columns={columns}\n      actions={<Actions />}\n      selectedActions={\n        <PermissionAwareButton resource=\"link\" action=\"delete\">\n          <DeleteSelectedItemsAction />\n        </PermissionAwareButton>\n      }\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={shareLink}\n          title={<Trans message=\"No links have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching links\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  const [activeDialog, setActiveDialog] = useState<\n    'export' | 'addMultiple' | null\n  >(null);\n  const exportCsv = useExportCsv('link/csv/export');\n\n  return (\n    <Fragment>\n      <MenuTrigger>\n        <IconButton\n          variant=\"outline\"\n          color=\"primary\"\n          radius=\"rounded\"\n          size=\"sm\"\n          className=\"flex-shrink-0\"\n        >\n          <MoreHorizIcon />\n        </IconButton>\n        <Menu>\n          <Item\n            value=\"addMultiple\"\n            startIcon={<AddLinkIcon />}\n            onSelected={() => {\n              setActiveDialog('addMultiple');\n            }}\n          >\n            <Trans message=\"Shorten multiple links\" />\n          </Item>\n          <Item\n            value=\"export\"\n            startIcon={<ExportCsvIcon />}\n            onSelected={() => {\n              exportCsv.mutate(\n                {},\n                {\n                  onSuccess: response => {\n                    if (response.downloadPath) {\n                      downloadFileFromUrl(response.downloadPath);\n                    } else {\n                      setActiveDialog('export');\n                    }\n                  },\n                }\n              );\n            }}\n          >\n            <Trans message=\"Export links\" />\n          </Item>\n        </Menu>\n      </MenuTrigger>\n      <DialogTrigger\n        type=\"modal\"\n        isOpen={activeDialog !== null}\n        onOpenChange={isOpen => {\n          if (!isOpen) {\n            setActiveDialog(null);\n          }\n        }}\n      >\n        {activeDialog === 'export' && <CsvExportInfoDialog />}\n        {activeDialog === 'addMultiple' && <CreateMultipleLinksDialog />}\n      </DialogTrigger>\n      <PermissionAwareButton resource=\"link\" action=\"create\">\n        <DialogTrigger type=\"modal\">\n          <DataTableAddItemButton>\n            <Trans message=\"Shorten link\" />\n          </DataTableAddItemButton>\n          <CreateLinkDialog />\n        </DialogTrigger>\n      </PermissionAwareButton>\n    </Fragment>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const MoveDownIcon = createSvgIcon(\n  <path d=\"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5zm19 0V4h-9v7h9zm-2-2h-5V6h5v3zm-7 4h9v7h-9z\" />\n, 'MoveDownOutlined');\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {message} from '@common/i18n/message';\nimport {toast} from '@common/ui/toast/toast';\nimport {LinkGroup} from '@app/dashboard/link-groups/link-group';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\n\ninterface Response extends BackendResponse {}\n\ninterface Payload {\n  linkIds: number[];\n}\n\nexport function useMoveLinksToGroup(group: LinkGroup) {\n  const {trans} = useTrans();\n  return useMutation((payload: Payload) => moveLinks(group.id, payload), {\n    onSuccess: () => {\n      toast.positive(\n        trans(message('Moved links to :group', {values: {group: group.name}}))\n      );\n      queryClient.invalidateQueries(PaginatedResourcesQueryKey('link-group'));\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction moveLinks(groupId: number, payload: Payload): Promise<Response> {\n  return apiClient\n    .post(`link-group/${groupId}/attach`, payload)\n    .then(r => r.data);\n}\n","import {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {Trans} from '@common/i18n/trans';\nimport {LinkGroup} from '@app/dashboard/link-groups/link-group';\nimport {\n  ResourcePaginationParams,\n  usePaginatedResources,\n} from '@common/datatable/requests/paginated-resources';\nimport {List, ListItem} from '@common/ui/list/list';\nimport {Link} from '@app/dashboard/links/link';\nimport {useMoveLinksToGroup} from '@app/dashboard/link-groups/link-group-links-datatable-page/requests/use-move-links-to-group';\nimport {removeProtocol} from '@common/utils/urls/remove-protocol';\nimport React, {useState} from 'react';\nimport {TextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Checkbox} from '@common/ui/forms/toggle/checkbox';\nimport {LinkImage} from '@app/dashboard/links/link-image';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {KeyboardArrowLeftIcon} from '@common/icons/material/KeyboardArrowLeft';\nimport {KeyboardArrowRightIcon} from '@common/icons/material/KeyboardArrowRight';\nimport {IllustratedMessage} from '@common/ui/images/illustrated-message';\nimport {SvgImage} from '@common/ui/images/svg-image/svg-image';\nimport linkSvg from '@app/dashboard/links/share-link.svg';\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {opacityAnimation} from '@common/ui/animation/opacity-animation';\n\ninterface MoveLinksToGroupDialogProps {\n  group: LinkGroup;\n}\nexport function MoveLinksToGroupDialog({group}: MoveLinksToGroupDialogProps) {\n  const {close} = useDialogContext();\n  const [selectedIds, setSelectedIds] = useState<number[]>([]);\n  const [params, setParams] = useState<ResourcePaginationParams>({\n    groupId: `!${group.id}`,\n    query: '',\n    perPage: 8,\n  });\n  const {data, isLoading} = usePaginatedResources<Link>('link', params);\n  const pagination = data?.pagination;\n  const moveLinks = useMoveLinksToGroup(group);\n\n  const paginationButtons = (\n    <div className=\"text-muted\">\n      <IconButton\n        disabled={isLoading || !pagination?.prev_page}\n        onClick={() => {\n          setParams({\n            ...params,\n            page: pagination?.prev_page!,\n          });\n        }}\n      >\n        <KeyboardArrowLeftIcon />\n      </IconButton>\n      <IconButton\n        disabled={isLoading || !pagination?.next_page}\n        onClick={() => {\n          setParams({\n            ...params,\n            page: pagination?.next_page!,\n          });\n        }}\n      >\n        <KeyboardArrowRightIcon />\n      </IconButton>\n    </div>\n  );\n\n  const emptyStageMessage = (\n    <IllustratedMessage\n      image={<SvgImage src={linkSvg} />}\n      title={<Trans message=\"No links found\" />}\n    />\n  );\n\n  const list = (\n    <div className=\"min-h-[464px]\">\n      <List>\n        <AnimatePresence mode=\"wait\">\n          {isLoading ? (\n            <LinksSkeleton />\n          ) : (\n            <LinksList\n              links={pagination?.data}\n              selectedIds={selectedIds}\n              setSelectedIds={setSelectedIds}\n            />\n          )}\n        </AnimatePresence>\n      </List>\n    </div>\n  );\n\n  return (\n    <Dialog size=\"lg\">\n      <DialogHeader>\n        <Trans message=\"Move links to :group\" values={{group: group.name}} />\n      </DialogHeader>\n      <DialogBody>\n        <TextField\n          className=\"mb-14\"\n          label={<Trans message=\"Search for links...\" />}\n          value={params.query}\n          onChange={e => {\n            setParams({...params, query: e.target.value});\n          }}\n        />\n        {!isLoading && !pagination?.data.length ? emptyStageMessage : list}\n      </DialogBody>\n      <DialogFooter startAction={paginationButtons}>\n        <Button variant=\"text\" onClick={close}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          onClick={() => {\n            moveLinks.mutate({linkIds: selectedIds}, {onSuccess: close});\n          }}\n          disabled={moveLinks.isLoading}\n        >\n          <Trans message=\"Move\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n\ninterface ListItemsProps {\n  links?: Link[];\n  selectedIds: number[];\n  setSelectedIds: (ids: number[]) => void;\n}\nfunction LinksList({links, selectedIds, setSelectedIds}: ListItemsProps) {\n  return (\n    <m.div key=\"links-list\" {...opacityAnimation}>\n      <List>\n        {(links || []).map(link => {\n          const isSelected = selectedIds.includes(link.id);\n          return (\n            <ListItem\n              key={link.id}\n              isSelected={isSelected}\n              onSelected={() => {\n                if (isSelected) {\n                  setSelectedIds(selectedIds.filter(id => id !== link.id));\n                } else {\n                  setSelectedIds([...selectedIds, link.id]);\n                }\n              }}\n              startIcon={<Checkbox checked={isSelected} />}\n              description={removeProtocol(link.short_url)}\n            >\n              <div className=\"flex items-center gap-8\">\n                <LinkImage className=\"w-14 h-14\" link={link} />\n                <div>{removeProtocol(link.long_url)}</div>\n              </div>\n            </ListItem>\n          );\n        })}\n      </List>\n    </m.div>\n  );\n}\n\nconst skeletonCount = 8;\nfunction LinksSkeleton() {\n  return (\n    <m.div key=\"links-skeleton\" {...opacityAnimation}>\n      <List>\n        {Array.from({length: skeletonCount}).map((_, index) => (\n          <ListItem key={index} isDisabled>\n            <Skeleton variant=\"text\" className=\"min-h-40\" />\n          </ListItem>\n        ))}\n      </List>\n    </m.div>\n  );\n}\n","import React, {Fragment, useContext, useState} from 'react';\nimport {Trans} from '@common/i18n/trans';\nimport {LinksDatatableFilters} from '@app/dashboard/links/links-datatable-page/links-datatable-filters';\nimport {linksDatatableColumns} from '@app/dashboard/links/links-datatable-page/links-datatable-columns';\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\nimport shareLink from '../../links/share-link.svg';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport {useParams} from 'react-router-dom';\nimport {BreadcrumbItem} from '@common/ui/breadcrumbs/breadcrumb-item';\nimport {Breadcrumb} from '@common/ui/breadcrumbs/breadcrumb';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {DataTable} from '@common/datatable/data-table';\nimport {LinkGroup} from '@app/dashboard/link-groups/link-group';\nimport {PaginatedBackendResponse} from '@common/http/backend-response/pagination-response';\nimport {Link} from '@app/dashboard/links/link';\nimport {StaticPageTitle} from '@common/seo/static-page-title';\nimport {CreateLinkDialog} from '@app/dashboard/links/dialogs/create-link-dialog';\nimport {Menu, MenuTrigger} from '@common/ui/navigation/menu/menu-trigger';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {AddLinkIcon} from '@common/icons/material/AddLink';\nimport {ExportCsvIcon} from '@common/datatable/csv-export/export-csv-icon';\nimport {MoreHorizIcon} from '@common/icons/material/MoreHoriz';\nimport {MoveDownIcon} from '@common/icons/material/MoveDown';\nimport {useExportCsv} from '@common/datatable/requests/use-export-csv';\nimport {downloadFileFromUrl} from '@common/uploads/utils/download-file-from-url';\nimport {CsvExportInfoDialog} from '@common/datatable/csv-export/csv-export-info-dialog';\nimport {MoveLinksToGroupDialog} from '@app/dashboard/link-groups/link-group-links-datatable-page/move-links-to-group-dialog';\nimport {DataTableContext} from '@common/datatable/page/data-table-context';\nimport {CreateMultipleLinksDialog} from '@app/dashboard/links/dialogs/create-multiple-links-dialog';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\n\ninterface LinkGroupLinksResponse extends PaginatedBackendResponse<Link> {\n  linkGroup: LinkGroup;\n}\n\nexport function LinkGroupsLinksDatatablePage() {\n  const {groupId} = useParams();\n\n  return (\n    <div className=\"p-12 md:p-24\">\n      <DataTable\n        endpoint={`link-group/${groupId}/links`}\n        filters={LinksDatatableFilters}\n        columns={linksDatatableColumns}\n        actions={<Actions groupId={groupId ? +groupId : undefined} />}\n        selectedActions={\n          <PermissionAwareButton resource=\"link\" action=\"delete\">\n            <DeleteSelectedItemsAction />\n          </PermissionAwareButton>\n        }\n        emptyStateMessage={\n          <DataTableEmptyStateMessage\n            image={shareLink}\n            title={<Trans message=\"There are no links in this group yet\" />}\n            filteringTitle={<Trans message=\"No matching links\" />}\n          />\n        }\n      >\n        <PageTitle />\n      </DataTable>\n    </div>\n  );\n}\n\nfunction PageTitle() {\n  const navigate = useNavigate();\n  const {query} = useContext(DataTableContext);\n  const linkGroup = (query.data as LinkGroupLinksResponse)?.linkGroup;\n\n  // avoid layout shift when link group is not loaded yet\n  if (!linkGroup) return <Breadcrumb size=\"xl\" className=\"mb-16\" />;\n\n  const title = (\n    <Trans message=\":group links\" values={{group: linkGroup.name}} />\n  );\n  return (\n    <Fragment>\n      <StaticPageTitle>{title}</StaticPageTitle>\n      <Breadcrumb size=\"xl\" className=\"mb-16\">\n        <BreadcrumbItem\n          onSelected={() => {\n            navigate('/dashboard/link-groups');\n          }}\n        >\n          <Trans message=\"Link groups\" />\n        </BreadcrumbItem>\n        <BreadcrumbItem className=\"first-letter:capitalize\">\n          {title}\n        </BreadcrumbItem>\n      </Breadcrumb>\n    </Fragment>\n  );\n}\n\ninterface ActionsProps {\n  groupId?: number;\n}\nfunction Actions({groupId}: ActionsProps) {\n  const [activeDialog, setActiveDialog] = useState<\n    'move' | 'export' | 'addMultiple' | null\n  >(null);\n  const exportCsv = useExportCsv('link/csv/export');\n\n  const {query} = useContext(DataTableContext);\n  const linkGroup = (query.data as LinkGroupLinksResponse)?.linkGroup;\n\n  return (\n    <Fragment>\n      <MenuTrigger>\n        <IconButton\n          variant=\"outline\"\n          color=\"primary\"\n          radius=\"rounded\"\n          size=\"sm\"\n          className=\"flex-shrink-0\"\n        >\n          <MoreHorizIcon />\n        </IconButton>\n        <Menu>\n          <Item\n            value=\"moveLinks\"\n            startIcon={<MoveDownIcon />}\n            onSelected={() => {\n              setActiveDialog('move');\n            }}\n          >\n            <Trans message=\"Move links to this group\" />\n          </Item>\n          <Item\n            value=\"addMultiple\"\n            startIcon={<AddLinkIcon />}\n            onSelected={() => {\n              setActiveDialog('addMultiple');\n            }}\n          >\n            <Trans message=\"Add multiple links\" />\n          </Item>\n          <Item\n            value=\"export\"\n            startIcon={<ExportCsvIcon />}\n            onSelected={() => {\n              exportCsv.mutate(\n                {groupId},\n                {\n                  onSuccess: response => {\n                    if (response.downloadPath) {\n                      downloadFileFromUrl(response.downloadPath);\n                    } else {\n                      setActiveDialog('export');\n                    }\n                  },\n                }\n              );\n            }}\n          >\n            <Trans message=\"Export links\" />\n          </Item>\n        </Menu>\n      </MenuTrigger>\n      <DialogTrigger\n        type=\"modal\"\n        isOpen={activeDialog !== null}\n        onOpenChange={isOpen => {\n          if (!isOpen) {\n            setActiveDialog(null);\n          }\n        }}\n      >\n        {activeDialog === 'move' && (\n          <MoveLinksToGroupDialog group={linkGroup} />\n        )}\n        {activeDialog === 'export' && <CsvExportInfoDialog />}\n        {activeDialog === 'addMultiple' && (\n          <CreateMultipleLinksDialog group={linkGroup} />\n        )}\n      </DialogTrigger>\n      <PermissionAwareButton resource=\"link\" action=\"create\">\n        <DialogTrigger type=\"modal\">\n          <DataTableAddItemButton>\n            <Trans message=\"Add link\" />\n          </DataTableAddItemButton>\n          <CreateLinkDialog group={linkGroup} />\n        </DialogTrigger>\n      </PermissionAwareButton>\n    </Fragment>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FileDownloadIcon = createSvgIcon(\n  <path d=\"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z\" />\n, 'FileDownloadOutlined');\n","import {IconButton} from '../../ui/buttons/icon-button';\nimport {FileDownloadIcon} from '../../icons/material/FileDownload';\nimport React, {Fragment, useState} from 'react';\nimport {DialogTrigger} from '../../ui/overlays/dialog/dialog-trigger';\nimport {ExportCsvPayload, useExportCsv} from '../requests/use-export-csv';\nimport {downloadFileFromUrl} from '../../uploads/utils/download-file-from-url';\nimport {CsvExportInfoDialog} from './csv-export-info-dialog';\n\ninterface DataTableExportCsvButtonProps {\n  endpoint: string;\n  payload?: ExportCsvPayload;\n}\nexport function DataTableExportCsvButton({\n  endpoint,\n  payload,\n}: DataTableExportCsvButtonProps) {\n  const [dialogIsOpen, setDialogIsOpen] = useState(false);\n  const exportCsv = useExportCsv(endpoint);\n\n  return (\n    <Fragment>\n      <IconButton\n        variant=\"outline\"\n        color=\"primary\"\n        radius=\"rounded\"\n        size=\"sm\"\n        className=\"flex-shrink-0\"\n        disabled={exportCsv.isLoading}\n        onClick={() => {\n          exportCsv.mutate(payload, {\n            onSuccess: response => {\n              if (response.downloadPath) {\n                downloadFileFromUrl(response.downloadPath);\n              } else {\n                setDialogIsOpen(true);\n              }\n            },\n          });\n        }}\n      >\n        <FileDownloadIcon />\n      </IconButton>\n      <DialogTrigger\n        type=\"modal\"\n        isOpen={dialogIsOpen}\n        onOpenChange={setDialogIsOpen}\n      >\n        <CsvExportInfoDialog />\n      </DialogTrigger>\n    </Fragment>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const ListAltIcon = createSvgIcon(\n  <path d=\"M11 7h6v2h-6zm0 4h6v2h-6zm0 4h6v2h-6zM7 7h2v2H7zm0 4h2v2H7zm0 4h2v2H7zM20.1 3H3.9c-.5 0-.9.4-.9.9v16.2c0 .4.4.9.9.9h16.2c.4 0 .9-.5.9-.9V3.9c0-.5-.5-.9-.9-.9zM19 19H5V5h14v14z\" />\n, 'ListAltOutlined');\n","import {UseFormReturn} from 'react-hook-form';\nimport {Form} from '@common/ui/forms/form';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {LinkDomainSelect} from '@app/dashboard/links/forms/link-domain-select';\nimport {LinkGroup} from '../../link-group';\nimport {AliasField} from '@app/dashboard/links/forms/alias-field';\n\nexport interface CrupdateLinkGroupPayload\n  extends Pick<\n    LinkGroup,\n    'name' | 'description' | 'hash' | 'active' | 'rotator' | 'domain_id'\n  > {}\n\ninterface CrupdateLinkGroupFormProps {\n  formId: string;\n  form: UseFormReturn<CrupdateLinkGroupPayload>;\n  onSubmit: (values: CrupdateLinkGroupPayload) => void;\n}\nexport function CrupdateLinkGroupForm({\n  onSubmit,\n  form,\n  formId,\n}: CrupdateLinkGroupFormProps) {\n  const {clearErrors} = form;\n  return (\n    <Form\n      form={form}\n      id={formId}\n      onBeforeSubmit={() => {\n        // hook form won't clear errors for fields that are not bound to input\n        clearErrors('hash');\n      }}\n      onSubmit={onSubmit}\n    >\n      <div className=\"mb-24\">\n        <FormTextField\n          name=\"name\"\n          label={<Trans message=\"Name\" />}\n          minLength={3}\n          className=\"mb-8\"\n          autoFocus\n        />\n        <AliasField form={form} name=\"hash\" />\n      </div>\n      <LinkDomainSelect name=\"domain_id\" className=\"mb-24\" />\n      <FormTextField\n        name=\"description\"\n        className=\"mb-24\"\n        label={<Trans message=\"Description\" />}\n        inputElementType=\"textarea\"\n        rows={2}\n      />\n      <FormSwitch\n        name=\"active\"\n        description={\n          <Trans message=\"Whether this link group is viewable publicly.\" />\n        }\n        className=\"mb-24\"\n      >\n        <Trans message=\"Active\" />\n      </FormSwitch>\n      <FormSwitch\n        name=\"rotator\"\n        description={\n          <Trans message=\"When checked, url above will redirect to random link from the group, instead of showing all links belonging to group.\" />\n        }\n      >\n        <Trans message=\"Rotator\" />\n      </FormSwitch>\n    </Form>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {CrupdateLinkGroupPayload} from '../crupdate/crupdate-link-group-form';\n\ninterface Response extends BackendResponse {}\n\nexport function useUpdateLinkGroup(\n  form: UseFormReturn<CrupdateLinkGroupPayload>,\n  groupId: number\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (payload: CrupdateLinkGroupPayload) => updateLinkGroup(groupId, payload),\n    {\n      onSuccess: () => {\n        toast.positive(trans(message('Link group updated')));\n        queryClient.invalidateQueries(PaginatedResourcesQueryKey('link-group'));\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction updateLinkGroup(\n  id: number,\n  payload: CrupdateLinkGroupPayload\n): Promise<Response> {\n  return apiClient.put(`link-group/${id}`, payload).then(r => r.data);\n}\n","import {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {\n  CrupdateLinkGroupForm,\n  CrupdateLinkGroupPayload,\n} from './crupdate-link-group-form';\nimport {useForm} from 'react-hook-form';\nimport {useUpdateLinkGroup} from '../requests/use-update-link-group';\nimport {LinkGroup} from '../../link-group';\nimport {useRecaptcha} from '@common/recaptcha/use-recaptcha';\n\ninterface UpdateLinkGroupDialogProps {\n  group: LinkGroup;\n}\nexport function UpdateLinkGroupDialog({group}: UpdateLinkGroupDialogProps) {\n  const {verify, isVerifying} = useRecaptcha('link_creation');\n  const {formId, close} = useDialogContext();\n  const form = useForm<CrupdateLinkGroupPayload>({\n    defaultValues: {\n      name: group.name,\n      hash: group.hash,\n      description: group.description,\n      active: group.active,\n      rotator: group.rotator,\n    },\n  });\n  const updateGroup = useUpdateLinkGroup(form, group.id);\n\n  return (\n    <Dialog size=\"md\">\n      <DialogHeader>\n        <Trans message=\"Update link group\" />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateLinkGroupForm\n          formId={formId}\n          form={form}\n          onSubmit={async values => {\n            const isValid = await verify();\n            if (isValid) {\n              updateGroup.mutate(values, {onSuccess: () => close()});\n            }\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={updateGroup.isLoading || isVerifying}\n        >\n          <Trans message=\"Update\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {Trans} from '@common/i18n/trans';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {CheckIcon} from '@common/icons/material/Check';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {Link as RouterLink} from 'react-router-dom';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport React from 'react';\nimport {LinkGroup} from '../link-group';\nimport {ListAltIcon} from '@common/icons/material/ListAlt';\nimport {UpdateLinkGroupDialog} from '@app/dashboard/link-groups/link-groups-datatable-page/crupdate/update-link-group-dialog';\nimport {ShareLinkButton} from '@app/dashboard/links/sharing/share-link-button';\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\nimport {LinkStyle} from '@common/ui/buttons/external-link';\nimport {BarChartIcon} from '@common/icons/material/BarChart';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\n\nexport const LinkGroupsDatatableColumns: ColumnConfig<LinkGroup>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    header: () => <Trans message=\"Name\" />,\n    // prevent long names from overflowing the table\n    width: 'w-5/6 max-w-200',\n    body: group => (\n      <a\n        href={group.short_url}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n        className={LinkStyle}\n      >\n        {group.name}\n      </a>\n    ),\n  },\n  {\n    key: 'user_id',\n    allowsSorting: true,\n    header: () => <Trans message=\"Owner\" />,\n    body: group => {\n      if (!group.user) return '';\n      return (\n        <NameWithAvatar\n          image={group.user.avatar}\n          label={group.user.display_name}\n          description={group.user.email}\n        />\n      );\n    },\n  },\n  {\n    key: 'links_count',\n    allowsSorting: true,\n    header: () => <Trans message=\"Links\" />,\n    body: group =>\n      group.links_count ? <FormattedNumber value={group.links_count} /> : '-',\n  },\n  {\n    key: 'active',\n    allowsSorting: true,\n    header: () => <Trans message=\"Active\" />,\n    body: group =>\n      group.active ? (\n        <CheckIcon className=\"icon-md text-positive\" />\n      ) : (\n        <CloseIcon className=\"icon-md text-danger\" />\n      ),\n  },\n  {\n    key: 'rotator',\n    allowsSorting: true,\n    header: () => <Trans message=\"Rotator\" />,\n    body: group =>\n      group.rotator ? (\n        <CheckIcon className=\"icon-md text-positive\" />\n      ) : (\n        <CloseIcon className=\"icon-md text-danger\" />\n      ),\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Last updated\" />,\n    body: link =>\n      link.updated_at ? <FormattedDate date={link.updated_at} /> : '',\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    body: group => (\n      <div className=\"text-muted\">\n        <Tooltip label={<Trans message=\"Clicks report\" />}>\n          <RouterLink to={`${group.id}`}>\n            <IconButton size=\"md\">\n              <BarChartIcon />\n            </IconButton>\n          </RouterLink>\n        </Tooltip>\n        <Tooltip label={<Trans message=\"Manage links\" />}>\n          <RouterLink to={`${group.id}/links`}>\n            <IconButton size=\"md\">\n              <ListAltIcon />\n            </IconButton>\n          </RouterLink>\n        </Tooltip>\n        <ShareLinkButton link={group} />\n        <PermissionAwareButton resource={group} action=\"update\">\n          <DialogTrigger type=\"modal\">\n            <Tooltip label={<Trans message=\"Edit link\" />}>\n              <IconButton size=\"md\">\n                <EditIcon />\n              </IconButton>\n            </Tooltip>\n            <UpdateLinkGroupDialog group={group} />\n          </DialogTrigger>\n        </PermissionAwareButton>\n      </div>\n    ),\n  },\n];\n","import {\n  ALL_PRIMITIVE_OPERATORS,\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '@common/datatable/filters/backend-filter';\nimport {message} from '@common/i18n/message';\nimport {\n  CreatedAtFilter,\n  UpdatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\nimport {USER_MODEL} from '@common/auth/user';\n\nexport const LinkGroupsDatatableFilters: BackendFilter[] = [\n  new BackendFilter({\n    type: FilterControlType.Select,\n    key: 'rotator',\n    label: message('Type'),\n    description: message('Type of the group'),\n    defaultValue: '01',\n    defaultOperator: FilterOperator.eq,\n    options: [\n      {\n        key: '01',\n        label: message('Default'),\n        value: false,\n      },\n      {\n        key: '02',\n        label: message('Rotator'),\n        value: true,\n      },\n    ],\n  }),\n  new BackendFilter({\n    type: FilterControlType.Select,\n    key: 'active',\n    label: message('Status'),\n    description: message('Whether group is disabled or not'),\n    defaultValue: '01',\n    defaultOperator: FilterOperator.eq,\n    options: [\n      {\n        key: '01',\n        label: message('Enabled'),\n        value: true,\n      },\n      {\n        key: '02',\n        label: message('Disabled'),\n        value: false,\n      },\n    ],\n  }),\n  new BackendFilter({\n    type: FilterControlType.Input,\n    inputType: 'number',\n    key: 'links_count',\n    label: message('Link count'),\n    description: message('Number of links in the group'),\n    defaultValue: 1,\n    defaultOperator: FilterOperator.gte,\n    operators: ALL_PRIMITIVE_OPERATORS,\n  }),\n  new CreatedAtFilter({\n    description: message('Date group was created'),\n  }),\n  new UpdatedAtFilter({\n    description: message('Date group was last updated'),\n  }),\n  new BackendFilter({\n    type: FilterControlType.SelectModel,\n    model: USER_MODEL,\n    key: 'user_id',\n    label: message('User'),\n    description: message('User group was created by'),\n  }),\n];\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {CrupdateLinkGroupPayload} from '../crupdate/crupdate-link-group-form';\n\ninterface Response extends BackendResponse {}\n\nexport function useCreateLinkGroup(\n  form: UseFormReturn<CrupdateLinkGroupPayload>\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (props: CrupdateLinkGroupPayload) => createLinkGroup(props),\n    {\n      onSuccess: () => {\n        toast.positive(trans(message('Link group created')));\n        queryClient.invalidateQueries(PaginatedResourcesQueryKey('link-group'));\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction createLinkGroup(payload: CrupdateLinkGroupPayload): Promise<Response> {\n  return apiClient.post(`link-group`, payload).then(r => r.data);\n}\n","import {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {\n  CrupdateLinkGroupForm,\n  CrupdateLinkGroupPayload,\n} from './crupdate-link-group-form';\nimport {useForm} from 'react-hook-form';\nimport {useCreateLinkGroup} from '../requests/use-create-link-group';\nimport {nanoid} from 'nanoid';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {useRecaptcha} from '@common/recaptcha/use-recaptcha';\n\nexport function CreateLinkGroupDialog() {\n  const {formId, close} = useDialogContext();\n  const {custom_domains} = useSettings();\n  const {verify, isVerifying} = useRecaptcha('link_creation');\n\n  const form = useForm<CrupdateLinkGroupPayload>({\n    defaultValues: {\n      active: true,\n      hash: nanoid(6),\n      rotator: false,\n      domain_id: custom_domains?.allow_all_option ? undefined : 0,\n    },\n  });\n\n  const createGroup = useCreateLinkGroup(form);\n  return (\n    <Dialog size=\"md\">\n      <DialogHeader>\n        <Trans message=\"Create link group\" />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdateLinkGroupForm\n          formId={formId}\n          form={form}\n          onSubmit={async values => {\n            const isValid = await verify();\n            if (isValid) {\n              createGroup.mutate(values, {onSuccess: () => close()});\n            }\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={createGroup.isLoading || isVerifying}\n        >\n          <Trans message=\"Create\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {createSvgIcon} from '@common/icons/create-svg-icon';\n\nexport const InfoDialogTriggerIcon = createSvgIcon(\n  <path d=\"M9 8a1 1 0 0 0-1-1H5.5a1 1 0 1 0 0 2H7v4a1 1 0 0 0 2 0zM4 0h8a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H4a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4zm4 5.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z\" />,\n  'InfoDialogTrigger'\n);\n","import {IconButton} from '@common/ui/buttons/icon-button';\nimport {InfoDialogTriggerIcon} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger-icon';\nimport {Dialog, DialogSize} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport React, {ReactNode} from 'react';\nimport clsx from 'clsx';\n\ninterface InfoDialogTriggerProps {\n  title?: ReactNode;\n  body: ReactNode;\n  dialogSize?: DialogSize;\n  className?: string;\n}\nexport function InfoDialogTrigger({\n  title,\n  body,\n  dialogSize = 'sm',\n  className,\n}: InfoDialogTriggerProps) {\n  return (\n    <DialogTrigger type=\"popover\" triggerOnHover>\n      <IconButton\n        className={clsx('text-muted opacity-70', className)}\n        size=\"xs\"\n      >\n        <InfoDialogTriggerIcon viewBox=\"0 0 16 16\" />\n      </IconButton>\n      <Dialog size={dialogSize}>\n        {title && (\n          <DialogHeader padding=\"px-18 pt-12\" size=\"md\" hideDismissButton>\n            {title}\n          </DialogHeader>\n        )}\n        <DialogBody>{body}</DialogBody>\n      </Dialog>\n    </DialogTrigger>\n  );\n}\n","import {useAuth} from '@common/auth/use-auth';\nimport React, {Fragment, useEffect, useMemo} from 'react';\nimport {DataTablePage} from '@common/datatable/page/data-table-page';\nimport {Trans} from '@common/i18n/trans';\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\nimport shareLink from '../../links/share-link.svg';\nimport {DataTableExportCsvButton} from '@common/datatable/csv-export/data-table-export-csv-button';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport {LinkGroupsDatatableColumns} from './link-groups-datatable-columns';\nimport {LinkGroupsDatatableFilters} from './link-groups-datatable-filters';\nimport {CreateLinkGroupDialog} from './crupdate/create-link-group-dialog';\nimport {useActiveWorkspaceId} from '@common/workspace/active-workspace-id-context';\nimport {InfoDialogTrigger} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\nimport {prefetchLinkFormValueLists} from '@app/dashboard/links/requests/use-link-form-value-lists';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\n\ninterface LinkGroupsDatatablePageProps {\n  forCurrentUser?: boolean;\n}\nexport function LinkGroupsDatatablePage({\n  forCurrentUser,\n}: LinkGroupsDatatablePageProps) {\n  const {user} = useAuth();\n  const {workspaceId} = useActiveWorkspaceId();\n  const {filters, columns} = useMemo(() => {\n    const columns = !forCurrentUser\n      ? LinkGroupsDatatableColumns\n      : LinkGroupsDatatableColumns.filter(col => col.key !== 'user_id');\n\n    const filters = !forCurrentUser\n      ? LinkGroupsDatatableFilters\n      : LinkGroupsDatatableFilters.filter(filter => filter.key !== 'user_id');\n\n    return {filters, columns};\n  }, [forCurrentUser]);\n\n  useEffect(() => {\n    prefetchLinkFormValueLists();\n  }, []);\n\n  const userId = forCurrentUser ? user?.id : '';\n  return (\n    <DataTablePage\n      endpoint=\"link-group\"\n      queryParams={{\n        userId,\n        withCount: 'links',\n        with: 'user',\n        workspaceId,\n      }}\n      title={<Trans message=\"Link groups\" />}\n      headerContent={<InfoTrigger />}\n      filters={filters}\n      columns={columns}\n      actions={<Actions />}\n      selectedActions={\n        <PermissionAwareButton resource=\"linkGroup\" action=\"delete\">\n          <DeleteSelectedItemsAction />\n        </PermissionAwareButton>\n      }\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={shareLink}\n          title={<Trans message=\"No groups have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching groups\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction InfoTrigger() {\n  return (\n    <InfoDialogTrigger\n      dialogSize=\"auto\"\n      title={<Trans message=\"Group links together to:\" />}\n      body={\n        <ul className=\"list-disc list-inside whitespace-nowrap\">\n          <li>\n            <Trans message=\"Simplify multiple link management.\" />\n          </li>\n          <li>\n            <Trans message=\"View aggregated clicks report for the whole group.\" />\n          </li>\n          <li>\n            <Trans message=\"Redirect to a random link from within the group.\" />\n          </li>\n          <li>\n            <Trans message=\"Share all links in the group with one link.\" />\n          </li>\n        </ul>\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <Fragment>\n      <DataTableExportCsvButton endpoint=\"link-group/csv/export\" />\n      <PermissionAwareButton resource=\"linkGroup\" action=\"create\">\n        <DialogTrigger type=\"modal\">\n          <DataTableAddItemButton>\n            <Trans message=\"New group\" />\n          </DataTableAddItemButton>\n          <CreateLinkGroupDialog />\n        </DialogTrigger>\n      </PermissionAwareButton>\n    </Fragment>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {LinkGroup} from '@app/dashboard/link-groups/link-group';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {PaginatedBackendResponse} from '@common/http/backend-response/pagination-response';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\n\ninterface FetchLinkGroupResponse extends BackendResponse {\n  linkGroup: LinkGroup;\n}\n\nexport function useLinkGroup(groupId: number | string) {\n  return useQuery(['link-group', groupId], () => fetchLinkGroup(groupId), {\n    initialData: seedInitialDataFromPaginatedList(groupId),\n  });\n}\n\nfunction fetchLinkGroup(\n  groupId: number | string\n): Promise<FetchLinkGroupResponse> {\n  return apiClient.get(`link-group/${groupId}`).then(response => response.data);\n}\n\nfunction seedInitialDataFromPaginatedList(groupId: number | string) {\n  const linkGroup = queryClient\n    .getQueryData<PaginatedBackendResponse<LinkGroup>>(\n      PaginatedResourcesQueryKey('link-group'),\n      {exact: false}\n    )\n    ?.pagination?.data.find(link => link.id === +groupId);\n  return linkGroup ? {linkGroup} : undefined;\n}\n","import {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {ClicksReportPageLayout} from '@app/dashboard/reports/clicks/clicks-report-page-layout';\nimport {Breadcrumb} from '@common/ui/breadcrumbs/breadcrumb';\nimport {BreadcrumbItem} from '@common/ui/breadcrumbs/breadcrumb-item';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {useParams} from 'react-router-dom';\nimport {useLinkGroup} from '@app/dashboard/link-groups/link-group-links-datatable-page/requests/use-link-group';\nimport {ShareLinkButton} from '@app/dashboard/links/sharing/share-link-button';\nimport clsx from 'clsx';\n\nexport function LinkGroupClicksReportPage() {\n  const navigate = useNavigate();\n  const {groupId} = useParams();\n  const query = useLinkGroup(groupId!);\n  const group = query.data?.linkGroup;\n\n  return (\n    <ClicksReportPageLayout\n      model={`link-group=${groupId}`}\n      title={\n        <Breadcrumb size=\"xl\" className={clsx(query.isLoading && 'invisible')}>\n          <BreadcrumbItem\n            onSelected={() => {\n              navigate('..', {relative: 'path'});\n            }}\n          >\n            <Trans message=\"Link groups\" />\n          </BreadcrumbItem>\n          <BreadcrumbItem className=\"first-letter:capitalize\">\n            <Trans message=\":name clicks\" values={{name: group?.name}} />\n          </BreadcrumbItem>\n        </Breadcrumb>\n      }\n      actions={\n        group && (\n          <ShareLinkButton className=\"flex-shrink-0 text-muted\" link={group} />\n        )\n      }\n    />\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {Link} from '@app/dashboard/links/link';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {PaginatedBackendResponse} from '@common/http/backend-response/pagination-response';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\n\ninterface GetLinkResponse extends BackendResponse {\n  link: Link;\n}\n\nexport function useLink(linkId: number | string) {\n  return useQuery(['link', linkId], () => fetchLink(linkId), {\n    initialData: seedInitialDataFromPaginatedList(linkId),\n  });\n}\n\nfunction fetchLink(linkId: number | string): Promise<GetLinkResponse> {\n  return apiClient.get(`link/${linkId}`).then(response => response.data);\n}\n\nfunction seedInitialDataFromPaginatedList(linkId: number | string) {\n  const link = queryClient\n    .getQueryData<PaginatedBackendResponse<Link>>(\n      PaginatedResourcesQueryKey('link'),\n      {exact: false}\n    )\n    ?.pagination?.data.find(link => link.id === +linkId);\n  return link ? {link} : undefined;\n}\n","import {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {ClicksReportPageLayout} from '@app/dashboard/reports/clicks/clicks-report-page-layout';\nimport {Breadcrumb} from '@common/ui/breadcrumbs/breadcrumb';\nimport {BreadcrumbItem} from '@common/ui/breadcrumbs/breadcrumb-item';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {useParams} from 'react-router-dom';\nimport {useLink} from '@app/dashboard/layout/sidenav/use-link';\nimport clsx from 'clsx';\nimport {ShareLinkButton} from '@app/dashboard/links/sharing/share-link-button';\n\nexport function LinkClicksReportPage() {\n  const navigate = useNavigate();\n  const {linkId} = useParams();\n  const query = useLink(linkId!);\n  const link = query.data?.link;\n\n  return (\n    <ClicksReportPageLayout\n      model={`link=${linkId}`}\n      title={\n        <Breadcrumb size=\"xl\" className={clsx(query.isLoading && 'invisible')}>\n          <BreadcrumbItem\n            onSelected={() => {\n              navigate('..', {relative: 'path'});\n            }}\n          >\n            <Trans message=\"Links\" />\n          </BreadcrumbItem>\n          <BreadcrumbItem className=\"first-letter:capitalize\">\n            <Trans message=\":name clicks\" values={{name: link?.name}} />\n          </BreadcrumbItem>\n        </Breadcrumb>\n      }\n      actions={\n        link && (\n          <ShareLinkButton className=\"flex-shrink-0 text-muted\" link={link} />\n        )\n      }\n    />\n  );\n}\n","export default \"__VITE_ASSET__ea41c34b__\"","import world from '@common/custom-domains/datatable/world.svg';\nimport {Trans} from '@common/i18n/trans';\nimport {\n  DataTableEmptyStateMessage,\n  DataTableEmptyStateMessageProps,\n} from '@common/datatable/page/data-table-emty-state-message';\nimport React from 'react';\n\nexport function DomainsEmptyStateMessage(\n  props: Partial<DataTableEmptyStateMessageProps>\n) {\n  return (\n    <DataTableEmptyStateMessage\n      {...props}\n      image={world}\n      title={<Trans message=\"No domains have been connected yet\" />}\n      filteringTitle={<Trans message=\"No matching domains\" />}\n    />\n  );\n}\n","import {CheckIcon} from '@common/icons/material/Check';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport React from 'react';\n\ninterface BooleanIndicatorProps {\n  value: boolean;\n}\nexport function BooleanIndicator({value}: BooleanIndicatorProps) {\n  if (value) {\n    return <CheckIcon className=\"icon-md text-positive\" />;\n  }\n  return <CloseIcon className=\"icon-md text-danger\" />;\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {message} from '@common/i18n/message';\nimport {toast} from '@common/ui/toast/toast';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {CustomDomain} from '@common/custom-domains/custom-domain';\n\ninterface Response extends BackendResponse {}\n\ninterface Payload {\n  domain: CustomDomain;\n}\n\nexport function useDeleteDomain() {\n  const {trans} = useTrans();\n  return useMutation((props: Payload) => deleteDomain(props), {\n    onSuccess: (response, props) => {\n      toast.positive(\n        trans(\n          message(':domain removed', {values: {domain: props.domain.host}})\n        )\n      );\n      queryClient.invalidateQueries(\n        PaginatedResourcesQueryKey('custom-domain')\n      );\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction deleteDomain({domain}: Payload): Promise<Response> {\n  return apiClient.delete(`custom-domain/${domain.id}`).then(r => r.data);\n}\n","import {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {Button} from '@common/ui/buttons/button';\nimport {Trans} from '@common/i18n/trans';\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\nimport React from 'react';\nimport {useDeleteDomain} from '@common/custom-domains/datatable/requests/use-delete-domain';\nimport {CustomDomain} from '@common/custom-domains/custom-domain';\n\ninterface DeleteDomainButtonProps {\n  domain: CustomDomain;\n}\nexport function DeleteDomainButton({domain}: DeleteDomainButtonProps) {\n  const deleteDomain = useDeleteDomain();\n\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      onClose={isConfirmed => {\n        if (isConfirmed) {\n          deleteDomain.mutate({domain});\n        }\n      }}\n    >\n      <Button\n        variant=\"outline\"\n        color=\"danger\"\n        size=\"xs\"\n        disabled={deleteDomain.isLoading}\n      >\n        <Trans message=\"Remove\" />\n      </Button>\n      <ConfirmationDialog\n        title={<Trans message=\"Remove domain?\" />}\n        body={\n          <Trans\n            message=\"Are you sure you want to remove :domain?\"\n            values={{domain: domain.host}}\n          />\n        }\n        confirm={<Trans message=\"Remove\" />}\n        isDanger\n      />\n    </DialogTrigger>\n  );\n}\n","import {CustomDomain} from '@common/custom-domains/custom-domain';\nimport {ColumnConfig} from '@common/datatable/column-config';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {Trans} from '@common/i18n/trans';\nimport {RemoteFavicon} from '@common/ui/remote-favicon';\nimport React from 'react';\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\nimport {BooleanIndicator} from '@common/datatable/column-templates/boolean-indicator';\nimport {DeleteDomainButton} from '@common/custom-domains/datatable/delete-domain-button';\n\nexport const domainsDatatableColumns: ColumnConfig<CustomDomain>[] = [\n  {\n    key: 'host',\n    allowsSorting: true,\n    header: () => <Trans message=\"Domain\" />,\n    // prevent long urls from overflowing the table\n    width: 'w-5/6 max-w-200',\n    body: domain => (\n      <div>\n        <div className=\"flex items-center gap-6 whitespace-nowrap\">\n          <RemoteFavicon url={domain.host} />\n          <a\n            className=\"block font-semibold hover:underline overflow-ellipsis overflow-hidden w-min\"\n            href={domain.host}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            data-testid=\"host-name\"\n          >\n            {domain.host}\n          </a>\n        </div>\n      </div>\n    ),\n  },\n  {\n    key: 'user_id',\n    allowsSorting: true,\n    header: () => <Trans message=\"Owner\" />,\n    body: domain => {\n      if (!domain.user) return '';\n      return (\n        <NameWithAvatar\n          image={domain.user.avatar}\n          label={domain.user.display_name}\n          description={domain.user.email}\n        />\n      );\n    },\n  },\n  {\n    key: 'global',\n    allowsSorting: true,\n    header: () => <Trans message=\"Global\" />,\n    body: domain => <BooleanIndicator value={domain.global} />,\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Last updated\" />,\n    body: domain =>\n      domain.updated_at ? <FormattedDate date={domain.updated_at} /> : '',\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    body: domain => <DeleteDomainButton domain={domain} />,\n  },\n];\n","import {\n  BackendFilter,\n  FilterControlType,\n} from '@common/datatable/filters/backend-filter';\nimport {message} from '@common/i18n/message';\nimport {\n  CreatedAtFilter,\n  UpdatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\nimport {USER_MODEL} from '@common/auth/user';\n\nexport const DomainsDatatableFilters: BackendFilter[] = [\n  new BackendFilter({\n    type: FilterControlType.BooleanToggle,\n    key: 'global',\n    defaultValue: true,\n    label: message('Global'),\n    description: message('Whether domain is marked as global'),\n  }),\n  new CreatedAtFilter({\n    description: message('Date domain was created'),\n  }),\n  new UpdatedAtFilter({\n    description: message('Date domain was last updated'),\n  }),\n  new BackendFilter({\n    type: FilterControlType.SelectModel,\n    model: USER_MODEL,\n    key: 'user_id',\n    label: message('Owner'),\n    description: message('User domain belongs to'),\n  }),\n];\n","export function isSubdomain(host: string): boolean {\n  return (host.replace('www.', '').match(/\\./g) || []).length > 1;\n}\n","import {ProgressCircle} from '@common/ui/progress/progress-circle';\nimport {Trans} from '@common/i18n/trans';\nimport {ReactNode} from 'react';\n\ninterface DomainProgressIndicatorProps {\n  message?: ReactNode;\n}\nexport function DomainProgressIndicator({\n  message = <Trans message=\"Checking DNS configuration...\" />,\n}: DomainProgressIndicatorProps) {\n  return (\n    <div className=\"flex items-center gap-18 text-base p-12 rounded bg-primary/10 text-primary\">\n      <ProgressCircle isIndeterminate size=\"sm\" />\n      <div>{message}</div>\n    </div>\n  );\n}\n","import {useSettings} from '@common/core/settings/use-settings';\nimport {Trans} from '@common/i18n/trans';\nimport {ReactNode} from 'react';\nimport {ConnectDomainStepProps} from '@common/custom-domains/datatable/connect-domain-dialog/connect-domain-step';\nimport {isSubdomain} from '@common/custom-domains/datatable/connect-domain-dialog/is-subdomain';\nimport {DomainProgressIndicator} from '@common/custom-domains/datatable/connect-domain-dialog/domain-progress-indicator';\n\nexport function InfoStep({\n  stepper: {\n    state: {isLoading, host, serverIp},\n  },\n}: ConnectDomainStepProps) {\n  const {base_url} = useSettings();\n\n  if (isLoading) {\n    return <DomainProgressIndicator />;\n  }\n\n  if (isSubdomain(host)) {\n    return (\n      <Message\n        title={\n          <Trans message=\"Add this CNAME record to your domain by visiting your DNS provider or registrar.\" />\n        }\n        record=\"CNAME\"\n        target={base_url}\n      />\n    );\n  }\n\n  return (\n    <Message\n      title={\n        <Trans message=\"Add this A record to your domain by visiting your DNS provider or registrar.\" />\n      }\n      record=\"A\"\n      target={serverIp}\n    />\n  );\n}\n\ninterface MessageProps {\n  title: ReactNode;\n  record: string;\n  target: string;\n}\n\nfunction Message({title, record, target}: MessageProps) {\n  return (\n    <div>\n      <div className=\"text-muted mb-10\">{title}</div>\n      <div className=\"flex items-center gap-12 text-base p-12 rounded bg-primary/10 text-primary font-semibold\">\n        <div>{record}</div>\n        {target}\n      </div>\n    </div>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Fragment} from 'react';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {ConnectDomainStepProps} from '@common/custom-domains/datatable/connect-domain-dialog/connect-domain-step';\n\nexport function HostStep({stepper}: ConnectDomainStepProps) {\n  return (\n    <Fragment>\n      <FormTextField\n        autoFocus\n        name=\"host\"\n        required\n        maxLength={100}\n        label={<Trans message=\"Host\" />}\n        placeholder=\"https://example.com\"\n        description={\n          <Trans message=\"Enter the exact domain name you want your items to be accessible with. It can be a subdomain (example.yourdomain.com) or root domain (yourdomain.com).\" />\n        }\n      />\n      {stepper.showGlobalField && (\n        <FormSwitch\n          className=\"mt-24 border-t pt-24\"\n          name=\"global\"\n          description={\n            <Trans message=\"Whether all users should be able to select this domain.\" />\n          }\n        >\n          <Trans message=\"Global\" />\n        </FormSwitch>\n      )}\n    </Fragment>\n  );\n}\n","import {useConnectDomainStepper} from '@common/custom-domains/datatable/connect-domain-dialog/use-connect-domain-stepper';\n\nexport enum ConnectDomainStep {\n  Host = 1,\n  Info = 2,\n  ValidationFailed = 3,\n  Finalize = 4,\n}\n\nexport interface ConnectDomainStepProps {\n  stepper: ReturnType<typeof useConnectDomainStepper>;\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\n\ninterface Response extends BackendResponse {\n  result: 'connected' | null;\n}\n\ninterface Payload {\n  host: string;\n}\n\nexport function useValidateDomainDns() {\n  return useMutation((props: Payload) => authorize(props));\n}\n\nfunction authorize(payload: Payload): Promise<Response> {\n  return apiClient\n    .post('secure/custom-domain/validate/2BrM45vvfS/api', payload)\n    .then(r => r.data);\n}\n","import {useSettings} from '@common/core/settings/use-settings';\nimport {Trans} from '@common/i18n/trans';\nimport {Fragment, ReactNode} from 'react';\nimport {ConnectDomainStepProps} from '@common/custom-domains/datatable/connect-domain-dialog/connect-domain-step';\nimport {useAuth} from '@common/auth/use-auth';\nimport {isSubdomain} from '@common/custom-domains/datatable/connect-domain-dialog/is-subdomain';\nimport {WarningIcon} from '@common/icons/material/Warning';\nimport {useValidateDomainDns} from '@common/custom-domains/datatable/requests/use-validate-domain-dns';\nimport {DomainProgressIndicator} from '@common/custom-domains/datatable/connect-domain-dialog/domain-progress-indicator';\n\nexport function ValidationFailedStep({\n  stepper: {\n    goToNextStep,\n    state: {host, serverIp, isLoading, validationFailReason},\n  },\n}: ConnectDomainStepProps) {\n  const validateDns = useValidateDomainDns();\n  const {base_url} = useSettings();\n  const {hasPermission} = useAuth();\n  const subdomain = isSubdomain(host);\n  const record = subdomain ? 'CNAME' : 'A';\n  const location = subdomain ? base_url : serverIp;\n\n  if (isLoading) {\n    return <DomainProgressIndicator />;\n  }\n\n  const errorMessage =\n    validationFailReason === 'serverNotConfigured' && hasPermission('admin') ? (\n      <ErrorMessage>\n        <Trans\n          message=\"DNS records for the domain are setup, however it seems that your server is not configured to handle requests from :host\"\n          values={{host: location}}\n        />\n      </ErrorMessage>\n    ) : (\n      <ErrorMessage>\n        <Trans\n          message=\"The domain is missing :record record pointing to :location or the changes haven't propagated yet.\"\n          values={{record, location}}\n        />\n      </ErrorMessage>\n    );\n\n  return (\n    <Fragment>\n      {errorMessage}\n      <div className=\"whitespace-nowrap text-xs text-muted mt-10\">\n        <Trans\n          message=\"You can wait and try again later, or <b>refresh</b>\"\n          values={{\n            b: (text: string) => (\n              <button\n                disabled={isLoading}\n                type=\"button\"\n                className=\"text-primary underline\"\n                onClick={() => {\n                  goToNextStep();\n                }}\n              >\n                {text}\n              </button>\n            ),\n          }}\n        />\n      </div>\n    </Fragment>\n  );\n}\n\ninterface ErrorMessageProps {\n  children: ReactNode;\n}\nfunction ErrorMessage({children}: ErrorMessageProps) {\n  return (\n    <div className=\"flex items-center gap-12 text-base p-12 rounded bg-warning/15 text-warning font-medium\">\n      <WarningIcon size=\"lg\" />\n      {children}\n    </div>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {UseFormReturn} from 'react-hook-form';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\n\ninterface Response extends BackendResponse {\n  serverIp: string;\n}\n\nexport interface AuthorizeDomainConnectPayload {\n  host: string;\n}\n\n// check if is this host is not connected already and if user has permissions to connect domains\nexport function useAuthorizeDomainConnect(\n  form: UseFormReturn<AuthorizeDomainConnectPayload>\n) {\n  return useMutation(\n    (props: AuthorizeDomainConnectPayload) => authorize(props),\n    {\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction authorize(payload: AuthorizeDomainConnectPayload): Promise<Response> {\n  return apiClient\n    .post('secure/custom-domain/authorize/store', payload)\n    .then(r => r.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {message} from '@common/i18n/message';\nimport {toast} from '@common/ui/toast/toast';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {CustomDomain} from '@common/custom-domains/custom-domain';\n\ninterface Response extends BackendResponse {\n  domain: CustomDomain;\n}\n\ninterface Payload {\n  host: string;\n  global?: boolean;\n}\n\nexport function useConnectDomain() {\n  const {trans} = useTrans();\n  return useMutation((props: Payload) => connectDomain(props), {\n    onSuccess: response => {\n      toast.positive(\n        trans(\n          message(':domain connected', {\n            values: {domain: response.domain.host},\n          })\n        )\n      );\n      queryClient.invalidateQueries(\n        PaginatedResourcesQueryKey('custom-domain')\n      );\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction connectDomain(payload: Payload): Promise<Response> {\n  return apiClient.post('custom-domain', payload).then(r => r.data);\n}\n","import {useState} from 'react';\nimport {ConnectDomainStep} from '@common/custom-domains/datatable/connect-domain-dialog/connect-domain-step';\nimport {DomainValidationErrorResponse} from '@common/custom-domains/datatable/connect-domain-dialog/connect-domain-dialog';\nimport {\n  AuthorizeDomainConnectPayload,\n  useAuthorizeDomainConnect,\n} from '@common/custom-domains/datatable/requests/use-authorize-domain-connect';\nimport {useForm} from 'react-hook-form';\nimport {AxiosError} from 'axios';\nimport {useValidateDomainDns} from '@common/custom-domains/datatable/requests/use-validate-domain-dns';\nimport {useConnectDomain} from '@common/custom-domains/datatable/requests/use-connect-domain';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\n\ninterface ConnectDomainStepperState {\n  isLoading: boolean;\n  currentStep: ConnectDomainStep;\n  host: string;\n  serverIp: string;\n  validationFailReason?: DomainValidationErrorResponse['failReason'];\n}\n\ninterface StepHandlerResult {\n  status: 'success' | 'error';\n  newState?: Partial<ConnectDomainStepperState>;\n}\n\ninterface UseConnectDomainStepperProps {\n  showGlobalField?: boolean;\n}\nexport function useConnectDomainStepper({\n  showGlobalField,\n}: UseConnectDomainStepperProps) {\n  const {close} = useDialogContext();\n  const form = useForm<AuthorizeDomainConnectPayload>();\n  const authorizeDomainConnect = useAuthorizeDomainConnect(form);\n  const validateDns = useValidateDomainDns();\n  const connectDomain = useConnectDomain();\n\n  const [state, setState] = useState<ConnectDomainStepperState>({\n    isLoading: false,\n    currentStep: ConnectDomainStep.Host,\n    host: '',\n    serverIp: '',\n  });\n\n  const startLoading = () => {\n    setState({\n      ...state,\n      isLoading: true,\n    });\n  };\n\n  const handleDomainValidation = (): Promise<StepHandlerResult> => {\n    return new Promise(resolve => {\n      validateDns.mutate(\n        {host: state.host},\n        {\n          onSuccess: () => {\n            resolve({\n              status: 'success',\n              newState: {validationFailReason: undefined},\n            });\n          },\n          onError: err => {\n            resolve({\n              status: 'error',\n              newState: {\n                validationFailReason: (\n                  err as AxiosError<DomainValidationErrorResponse>\n                ).response?.data.failReason,\n              },\n            });\n          },\n        }\n      );\n    });\n  };\n\n  const handleDomainAuthorization = (): Promise<StepHandlerResult> => {\n    return new Promise(resolve => {\n      authorizeDomainConnect.mutate(form.getValues(), {\n        onSuccess: response => {\n          resolve({\n            status: 'success',\n            newState: {\n              host: form.getValues().host,\n              serverIp: response.serverIp,\n            },\n          });\n        },\n        onError: () => {\n          resolve({status: 'error'});\n        },\n      });\n    });\n  };\n\n  const hasPreviousStep = state.currentStep !== ConnectDomainStep.Host;\n\n  const goToPreviousStep = () => {\n    if (!hasPreviousStep || state.isLoading) return;\n\n    if (state.currentStep === ConnectDomainStep.Info) {\n      setState({\n        ...state,\n        currentStep: ConnectDomainStep.Host,\n      });\n    } else if (state.currentStep === ConnectDomainStep.ValidationFailed) {\n      setState({\n        ...state,\n        currentStep: ConnectDomainStep.Info,\n      });\n    }\n  };\n\n  const goToNextStep = async () => {\n    if (state.currentStep === ConnectDomainStep.Host) {\n      startLoading();\n      const result = await handleDomainAuthorization();\n      setState({\n        ...state,\n        ...result.newState,\n        isLoading: false,\n        currentStep:\n          result.status === 'success'\n            ? ConnectDomainStep.Info\n            : ConnectDomainStep.Host,\n      });\n    } else if (\n      state.currentStep === ConnectDomainStep.Info ||\n      state.currentStep === ConnectDomainStep.ValidationFailed\n    ) {\n      startLoading();\n      const validationResult = await handleDomainValidation();\n      const nextStep =\n        validationResult.status === 'success'\n          ? ConnectDomainStep.Finalize\n          : ConnectDomainStep.ValidationFailed;\n      setState({\n        ...state,\n        ...validationResult.newState,\n        isLoading: false,\n        currentStep: nextStep,\n      });\n      if (nextStep === ConnectDomainStep.Finalize) {\n        connectDomain.mutate(form.getValues(), {\n          onSettled: () => {\n            close();\n          },\n        });\n      }\n    }\n  };\n\n  return {\n    form,\n    state,\n    goToNextStep,\n    hasPreviousStep,\n    goToPreviousStep,\n    showGlobalField,\n  };\n}\n","import {Trans} from '@common/i18n/trans';\nimport {DomainProgressIndicator} from '@common/custom-domains/datatable/connect-domain-dialog/domain-progress-indicator';\n\nexport function FinalizeStep() {\n  return (\n    <div>\n      <DomainProgressIndicator\n        message={<Trans message=\"Connecting domain...\" />}\n      />\n      <div className=\"text-muted mt-10 text-xs\">\n        <Trans message=\"Don't close this window until domain is connected.\" />\n      </div>\n    </div>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {KeyboardArrowRightIcon} from '@common/icons/material/KeyboardArrowRight';\nimport {InfoStep} from '@common/custom-domains/datatable/connect-domain-dialog/info-step';\nimport {HostStep} from '@common/custom-domains/datatable/connect-domain-dialog/host-step';\nimport {ConnectDomainStep} from '@common/custom-domains/datatable/connect-domain-dialog/connect-domain-step';\nimport {BackendErrorResponse} from '@common/errors/backend-error-response';\nimport {ValidationFailedStep} from '@common/custom-domains/datatable/connect-domain-dialog/validation-failed-step';\nimport {useConnectDomainStepper} from '@common/custom-domains/datatable/connect-domain-dialog/use-connect-domain-stepper';\nimport {Form} from '@common/ui/forms/form';\nimport {FinalizeStep} from '@common/custom-domains/datatable/connect-domain-dialog/finalize-step';\nimport {KeyboardArrowLeftIcon} from '@common/icons/material/KeyboardArrowLeft';\n\nexport interface DomainValidationErrorResponse extends BackendErrorResponse {\n  failReason: 'serverNotConfigured' | 'dnsNotSetup';\n}\n\ninterface ConnectDomainDialogProps {\n  showGlobalField?: boolean;\n}\nexport function ConnectDomainDialog({\n  showGlobalField,\n}: ConnectDomainDialogProps) {\n  const {close, formId} = useDialogContext();\n  const stepper = useConnectDomainStepper({showGlobalField});\n  const StepComponent = getStepComponent(stepper.state.currentStep);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Connect domain\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={stepper.form}\n          id={formId}\n          onSubmit={() => {\n            stepper.goToNextStep();\n          }}\n        >\n          <StepComponent stepper={stepper} />\n        </Form>\n      </DialogBody>\n      <DialogFooter\n        startAction={\n          <Button\n            variant=\"text\"\n            onClick={() => {\n              close();\n            }}\n          >\n            <Trans message=\"Cancel\" />\n          </Button>\n        }\n      >\n        {stepper.hasPreviousStep && (\n          <Button\n            startIcon={<KeyboardArrowLeftIcon />}\n            color=\"primary\"\n            variant=\"text\"\n            onClick={() => {\n              stepper.goToPreviousStep();\n            }}\n            disabled={stepper.state.isLoading}\n          >\n            <Trans message=\"Previous\" />\n          </Button>\n        )}\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          endIcon={<KeyboardArrowRightIcon />}\n          disabled={stepper.state.isLoading}\n        >\n          <Trans message=\"Next\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n\nfunction getStepComponent(step: ConnectDomainStep) {\n  switch (step) {\n    case ConnectDomainStep.Host:\n      return HostStep;\n    case ConnectDomainStep.Info:\n      return InfoStep;\n    case ConnectDomainStep.ValidationFailed:\n      return ValidationFailedStep;\n    case ConnectDomainStep.Finalize:\n      return FinalizeStep;\n  }\n}\n","import {DataTablePage} from '@common/datatable/page/data-table-page';\nimport {Trans} from '@common/i18n/trans';\nimport React, {useMemo} from 'react';\nimport {DomainsEmptyStateMessage} from '@common/custom-domains/datatable/domains-empty-state-message';\nimport {domainsDatatableColumns} from '@common/custom-domains/datatable/domains-datatable-columns';\nimport {DomainsDatatableFilters} from '@common/custom-domains/datatable/domains-datatable-filters';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {ConnectDomainDialog} from '@common/custom-domains/datatable/connect-domain-dialog/connect-domain-dialog';\nimport {useAuth} from '@common/auth/use-auth';\nimport {useActiveWorkspaceId} from '@common/workspace/active-workspace-id-context';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\nimport {DeleteDomainButton} from '@common/custom-domains/datatable/delete-domain-button';\nimport {CustomDomain} from '@common/custom-domains/custom-domain';\nimport {InfoDialogTrigger} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\n\nconst datatableColumns = domainsDatatableColumns.map(col => {\n  if (col.key === 'actions') {\n    return {\n      ...col,\n      body: (domain: CustomDomain) => (\n        <PermissionAwareButton resource={domain} action=\"delete\">\n          <DeleteDomainButton domain={domain} />\n        </PermissionAwareButton>\n      ),\n    };\n  }\n  return col;\n});\n\ninterface DomainsDatatablePageProps {\n  forCurrentUser?: boolean;\n}\nexport function DomainsDatatablePage({\n  forCurrentUser,\n}: DomainsDatatablePageProps) {\n  const {user} = useAuth();\n  const {workspaceId} = useActiveWorkspaceId();\n  const {filters, columns} = useMemo(() => {\n    const columns = !forCurrentUser\n      ? datatableColumns\n      : datatableColumns.filter(col => col.key !== 'user_id');\n\n    const filters = !forCurrentUser\n      ? DomainsDatatableFilters\n      : DomainsDatatableFilters.filter(filter => filter.key !== 'user_id');\n\n    return {filters, columns};\n  }, [forCurrentUser]);\n\n  const userId = forCurrentUser ? user?.id : '';\n\n  return (\n    <DataTablePage\n      enableSelection={false}\n      endpoint=\"custom-domain\"\n      queryParams={{userId, workspaceId, with: 'user'}}\n      title={<Trans message=\"Branded domains\" />}\n      headerContent={<InfoTrigger />}\n      filters={filters}\n      columns={columns}\n      actions={<Actions />}\n      emptyStateMessage={<DomainsEmptyStateMessage />}\n    />\n  );\n}\n\nfunction Actions() {\n  const {hasPermission} = useAuth();\n  return (\n    <PermissionAwareButton resource=\"customDomain\" action=\"create\">\n      <DialogTrigger type=\"modal\">\n        <DataTableAddItemButton>\n          <Trans message=\"Connect domain\" />\n        </DataTableAddItemButton>\n        <ConnectDomainDialog showGlobalField={hasPermission('admin')} />\n      </DialogTrigger>\n    </PermissionAwareButton>\n  );\n}\n\nfunction InfoTrigger() {\n  return (\n    <InfoDialogTrigger\n      body={\n        <Trans message=\"Create trusted links with your own branded domains. Once connected, you can set the domain as default or only use it for specific links.\" />\n      }\n    />\n  );\n}\n","export interface SupportedTrackingPixel {\n  name: string;\n  type: 'number' | 'text';\n  pattern?: string;\n  docsUrl?: string;\n}\n\nexport const SupportedTrackingPixels: SupportedTrackingPixel[] = [\n  {\n    name: 'facebook',\n    type: 'number',\n    docsUrl:\n      'https://www.facebook.com/business/help/952192354843755?id=1205376682832142',\n  },\n  {\n    name: 'twitter',\n    type: 'number',\n    docsUrl:\n      'https://business.twitter.com/en/help/campaign-measurement-and-analytics/conversion-tracking-for-websites.html',\n  },\n  {\n    name: 'google-tag-manager',\n    type: 'text',\n    pattern: 'GTM-[a-zA-Z0-9]+',\n    docsUrl: 'https://tagmanager.google.com',\n  },\n  {\n    name: 'google-analytics',\n    type: 'text',\n    docsUrl: 'https://analytics.google.com',\n  },\n  {\n    name: 'adwords',\n    type: 'number',\n    docsUrl: 'https://ads.google.com',\n  },\n  {\n    name: 'bing',\n    type: 'number',\n    docsUrl:\n      'https://about.ads.microsoft.com/en-us/solutions/tools/universal-event-tracking',\n  },\n  {\n    name: 'pinterest',\n    type: 'number',\n    docsUrl:\n      'https://help.pinterest.com/en/business/article/track-conversions-with-pinterest-tag',\n  },\n  {\n    name: 'linkedin',\n    type: 'text',\n    docsUrl:\n      'https://www.linkedin.com/help/lms/answer/a418880/add-the-linkedin-insight-tag-to-your-website',\n  },\n  {\n    name: 'quora',\n    type: 'text',\n    pattern: '[a-z0-9]+',\n    docsUrl:\n      'https://quoraadsupport.zendesk.com/hc/en-us/articles/115010303387-About-the-Quora-Pixel',\n  },\n  {\n    name: 'adroll',\n    type: 'text',\n    docsUrl:\n      'https://help.adroll.com/hc/en-us/articles/211846018-What-is-the-AdRoll-Pixel',\n  },\n  {\n    name: 'nexus-segment',\n    type: 'text',\n    docsUrl: 'https://segment.com/catalog/integrations/appnexus',\n  },\n  {\n    name: 'custom',\n    type: 'text',\n  },\n];\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const TuneIcon = createSvgIcon(\n  <path d=\"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z\" />\n, 'TuneOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const HelpOutlineIcon = createSvgIcon(\n  <path d=\"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z\" />\n, 'HelpOutlineOutlined');\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {UseFormReturn} from 'react-hook-form';\nimport {Form} from '@common/ui/forms/form';\nimport {Trans} from '@common/i18n/trans';\nimport {FormSelect} from '@common/ui/forms/select/select';\nimport {SupportedTrackingPixels} from '@app/dashboard/tracking-pixels/supported-tracking-pixels';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {RemoteFavicon} from '@common/ui/remote-favicon';\nimport {TuneIcon} from '@common/icons/material/Tune';\nimport {Fragment} from 'react';\nimport {HelpOutlineIcon} from '@common/icons/material/HelpOutline';\n\nexport interface CrupdatePixelFormValue {\n  name: string;\n  type: string;\n  pixel_id?: string | number;\n  head_code?: string;\n  body_code?: string;\n}\n\ninterface CrupdatePixelFormProps {\n  formId: string;\n  form: UseFormReturn<CrupdatePixelFormValue>;\n  onSubmit: (value: CrupdatePixelFormValue) => void;\n}\nexport function CrupdatePixelForm({\n  formId,\n  form,\n  onSubmit,\n}: CrupdatePixelFormProps) {\n  const {watch} = form;\n  const type = watch('type');\n  const config = SupportedTrackingPixels.find(p => p.name === type);\n\n  return (\n    <Form id={formId} form={form} onSubmit={onSubmit}>\n      <FormTextField\n        autoFocus\n        required\n        name=\"name\"\n        label={<Trans message=\"Name\" />}\n        className=\"mb-24\"\n      />\n      <FormSelect\n        name=\"type\"\n        selectionMode=\"single\"\n        className=\"mb-24\"\n        label={<Trans message=\"Type\" />}\n        description={\n          config?.docsUrl ? (\n            <div className=\"flex items-center gap-6\">\n              <HelpOutlineIcon size=\"sm\" />\n              <a\n                data-testid=\"pixel-docs-link\"\n                href={config.docsUrl}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                className=\"underline\"\n              >\n                <Trans message=\"More information\" />\n              </a>\n            </div>\n          ) : null\n        }\n      >\n        {SupportedTrackingPixels.map(pixel => (\n          <Item\n            capitalizeFirst\n            key={pixel.name}\n            value={pixel.name}\n            startIcon={\n              pixel.docsUrl ? (\n                <RemoteFavicon url={pixel.docsUrl} />\n              ) : (\n                <TuneIcon size=\"xs\" />\n              )\n            }\n          >\n            {pixel.name}\n          </Item>\n        ))}\n      </FormSelect>\n      {type !== 'custom' && (\n        <FormTextField\n          required\n          pattern={config?.pattern}\n          type={config?.type === 'number' ? 'number' : 'text'}\n          name=\"pixel_id\"\n          label={<Trans message=\"Pixel ID\" />}\n        />\n      )}\n      {type === 'custom' && <CustomCodeFields />}\n    </Form>\n  );\n}\n\nfunction CustomCodeFields() {\n  return (\n    <Fragment>\n      <FormTextField\n        name=\"head_code\"\n        label={<Trans message=\"Custom code for page head\" />}\n        className=\"mb-24\"\n        inputElementType=\"textarea\"\n        rows={5}\n      />\n      <FormTextField\n        name=\"body_code\"\n        label={<Trans message=\"Custom code for page body\" />}\n        inputElementType=\"textarea\"\n        rows={5}\n      />\n    </Fragment>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {message} from '@common/i18n/message';\nimport {toast} from '@common/ui/toast/toast';\nimport {CrupdatePixelFormValue} from '@app/dashboard/tracking-pixels/crupdate-dialog/crupdate-pixel-form';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {UseFormReturn} from 'react-hook-form';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\n\ninterface Response extends BackendResponse {}\n\nexport function useUpdatePixel(\n  pixelId: number,\n  form: UseFormReturn<CrupdatePixelFormValue>\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (props: CrupdatePixelFormValue) => createPixel(pixelId, props),\n    {\n      onSuccess: () => {\n        toast.positive(trans(message('Pixel updated')));\n        queryClient.invalidateQueries(PaginatedResourcesQueryKey('tp'));\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction createPixel(\n  pixelId: number,\n  payload: CrupdatePixelFormValue\n): Promise<Response> {\n  return apiClient.put(`tp/${pixelId}`, payload).then(r => r.data);\n}\n","import {useForm} from 'react-hook-form';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {\n  CrupdatePixelForm,\n  CrupdatePixelFormValue,\n} from '@app/dashboard/tracking-pixels/crupdate-dialog/crupdate-pixel-form';\nimport {Trans} from '@common/i18n/trans';\nimport {TrackingPixel} from '@app/dashboard/tracking-pixels/tracking-pixel';\nimport {useUpdatePixel} from '@app/dashboard/tracking-pixels/requests/use-update-pixel';\n\ninterface UpdatePixelDialogProps {\n  pixel: TrackingPixel;\n}\nexport function UpdatePixelDialog({pixel}: UpdatePixelDialogProps) {\n  const form = useForm<CrupdatePixelFormValue>({\n    defaultValues: {\n      name: pixel.name,\n      type: pixel.type,\n      pixel_id: pixel.pixel_id,\n      head_code: pixel.head_code,\n      body_code: pixel.body_code,\n    },\n  });\n  const {formId, close} = useDialogContext();\n  const updatePixel = useUpdatePixel(pixel.id, form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Update :name\" values={{name: pixel.name}} />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdatePixelForm\n          formId={formId}\n          form={form}\n          onSubmit={values => {\n            updatePixel.mutate(values, {\n              onSuccess: () => {\n                close();\n              },\n            });\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={updatePixel.isLoading}\n        >\n          <Trans message=\"Update\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\nimport {TrackingPixel} from '@app/dashboard/tracking-pixels/tracking-pixel';\nimport {SupportedTrackingPixels} from '@app/dashboard/tracking-pixels/supported-tracking-pixels';\nimport {RemoteFavicon} from '@common/ui/remote-favicon';\nimport {LinkStyle} from '@common/ui/buttons/external-link';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport {UpdatePixelDialog} from '@app/dashboard/tracking-pixels/crupdate-dialog/update-pixel-dialog';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\n\nexport const TrackingPixelsDatatableColumns: ColumnConfig<TrackingPixel>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    header: () => <Trans message=\"Name\" />,\n    body: pixel => pixel.name,\n  },\n  {\n    key: 'type',\n    allowsSorting: true,\n    header: () => <Trans message=\"Type\" />,\n    body: pixel => {\n      const docsUrl = SupportedTrackingPixels.find(\n        p => p.name === pixel.type\n      )?.docsUrl;\n\n      return (\n        <div>\n          <div className=\"flex items-center gap-10\">\n            {docsUrl ? <RemoteFavicon url={docsUrl} /> : null}\n            {docsUrl ? (\n              <a\n                href={docsUrl}\n                target=\"_blank\"\n                rel=\"noreferrer\"\n                className={LinkStyle}\n              >\n                {pixel.type}\n              </a>\n            ) : (\n              pixel.type\n            )}\n          </div>\n        </div>\n      );\n    },\n  },\n  {\n    key: 'user_id',\n    allowsSorting: true,\n    header: () => <Trans message=\"Owner\" />,\n    body: pixel => {\n      if (!pixel.user) return '';\n      return (\n        <NameWithAvatar\n          image={pixel.user.avatar}\n          label={pixel.user.display_name}\n          description={pixel.user.email}\n        />\n      );\n    },\n  },\n  {\n    key: 'pixel_id',\n    header: () => <Trans message=\"Pixel ID\" />,\n    body: pixel => pixel.pixel_id,\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Last updated\" />,\n    body: pixel =>\n      pixel.updated_at ? <FormattedDate date={pixel.updated_at} /> : '',\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    body: pixel => {\n      return (\n        <PermissionAwareButton resource={pixel} action=\"update\">\n          <DialogTrigger type=\"modal\">\n            <IconButton className=\"text-muted\">\n              <EditIcon />\n            </IconButton>\n            <UpdatePixelDialog pixel={pixel} />\n          </DialogTrigger>\n        </PermissionAwareButton>\n      );\n    },\n  },\n];\n","export default \"__VITE_ASSET__0df79a5f__\"","import {\n  BackendFilter,\n  FilterControlType,\n} from '@common/datatable/filters/backend-filter';\nimport {message} from '@common/i18n/message';\nimport {\n  CreatedAtFilter,\n  UpdatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\nimport {USER_MODEL} from '@common/auth/user';\nimport {SupportedTrackingPixels} from '@app/dashboard/tracking-pixels/supported-tracking-pixels';\n\nexport const TrackingPixelsDatatableFilters: BackendFilter[] = [\n  new BackendFilter({\n    type: FilterControlType.Select,\n    key: 'type',\n    label: message('Type'),\n    description: message('Type of the pixel'),\n    options: SupportedTrackingPixels.map((pixel, index) => {\n      return {key: pixel.name, value: pixel.name, label: message(pixel.name)};\n    }),\n  }),\n  new CreatedAtFilter({\n    description: message('Date pixel was created'),\n  }),\n  new UpdatedAtFilter({\n    description: message('Date pixel was last updated'),\n  }),\n  new BackendFilter({\n    type: FilterControlType.SelectModel,\n    model: USER_MODEL,\n    key: 'user_id',\n    label: message('Owner'),\n    description: message('User pixel belongs to'),\n  }),\n];\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {message} from '@common/i18n/message';\nimport {toast} from '@common/ui/toast/toast';\nimport {CrupdatePixelFormValue} from '@app/dashboard/tracking-pixels/crupdate-dialog/crupdate-pixel-form';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {UseFormReturn} from 'react-hook-form';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\n\ninterface Response extends BackendResponse {}\n\nexport function useCreatePixel(form: UseFormReturn<CrupdatePixelFormValue>) {\n  const {trans} = useTrans();\n  return useMutation((props: CrupdatePixelFormValue) => createPixel(props), {\n    onSuccess: () => {\n      toast.positive(trans(message('Pixel created')));\n      queryClient.invalidateQueries(PaginatedResourcesQueryKey('tp'));\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction createPixel(payload: CrupdatePixelFormValue): Promise<Response> {\n  return apiClient.post('tp', payload).then(r => r.data);\n}\n","import {useForm} from 'react-hook-form';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {useCreatePixel} from '@app/dashboard/tracking-pixels/requests/use-create-pixel';\nimport {\n  CrupdatePixelForm,\n  CrupdatePixelFormValue,\n} from '@app/dashboard/tracking-pixels/crupdate-dialog/crupdate-pixel-form';\nimport {Trans} from '@common/i18n/trans';\n\nexport function CreatePixelDialog() {\n  const form = useForm<CrupdatePixelFormValue>({\n    defaultValues: {type: 'facebook'},\n  });\n  const {formId, close} = useDialogContext();\n  const createPixel = useCreatePixel(form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Create pixel\" />\n      </DialogHeader>\n      <DialogBody>\n        <CrupdatePixelForm\n          formId={formId}\n          form={form}\n          onSubmit={values => {\n            createPixel.mutate(values, {\n              onSuccess: () => {\n                close();\n              },\n            });\n          }}\n        />\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={createPixel.isLoading}\n        >\n          <Trans message=\"Create\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {useAuth} from '@common/auth/use-auth';\nimport {DataTablePage} from '@common/datatable/page/data-table-page';\nimport {Trans} from '@common/i18n/trans';\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\nimport React, {useMemo} from 'react';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {TrackingPixelsDatatableColumns} from '@app/dashboard/tracking-pixels/tracking-pixels-datatable-columns';\nimport locationTracking from './location-tracking.svg';\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\nimport {TrackingPixelsDatatableFilters} from '@app/dashboard/tracking-pixels/tracking-pixels-datatable-filters';\nimport {CreatePixelDialog} from '@app/dashboard/tracking-pixels/crupdate-dialog/create-pixel-dialog';\nimport {useActiveWorkspaceId} from '@common/workspace/active-workspace-id-context';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\nimport {InfoDialogTrigger} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\n\ninterface TrackingPixelsDatablePageProps {\n  forCurrentUser?: boolean;\n}\nexport function TrackingPixelsDatablePage({\n  forCurrentUser,\n}: TrackingPixelsDatablePageProps) {\n  const {user} = useAuth();\n  const {workspaceId} = useActiveWorkspaceId();\n  const {filters, columns} = useMemo(() => {\n    const columns = !forCurrentUser\n      ? TrackingPixelsDatatableColumns\n      : TrackingPixelsDatatableColumns.filter(col => col.key !== 'user_id');\n\n    const filters = !forCurrentUser\n      ? TrackingPixelsDatatableFilters\n      : TrackingPixelsDatatableFilters.filter(\n          filter => filter.key !== 'user_id'\n        );\n\n    return {filters, columns};\n  }, [forCurrentUser]);\n\n  const userId = forCurrentUser ? user?.id : '';\n\n  return (\n    <DataTablePage\n      endpoint=\"tp\"\n      queryParams={{userId, with: 'user', workspaceId}}\n      title={<Trans message=\"Tracking pixels\" />}\n      filters={filters}\n      columns={columns}\n      headerContent={<InfoTrigger />}\n      actions={<Actions />}\n      selectedActions={\n        <PermissionAwareButton resource=\"trackingPixel\" action=\"delete\">\n          <DeleteSelectedItemsAction />\n        </PermissionAwareButton>\n      }\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={locationTracking}\n          title={<Trans message=\"No tracking pixels have been added yet\" />}\n          filteringTitle={<Trans message=\"No matching tracking pixels\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <PermissionAwareButton resource=\"trackingPixel\" action=\"create\">\n      <DialogTrigger type=\"modal\">\n        <DataTableAddItemButton>\n          <Trans message=\"Add pixel\" />\n        </DataTableAddItemButton>\n        <CreatePixelDialog />\n      </DialogTrigger>\n    </PermissionAwareButton>\n  );\n}\n\nfunction InfoTrigger() {\n  return (\n    <InfoDialogTrigger\n      body={\n        <Trans message=\"Add third party tracking integration to your links using pixels or custom code snippet.\" />\n      }\n    />\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {useParams} from 'react-router-dom';\nimport {CustomPage} from '../../custom-page';\nimport {BackendResponse} from '../../../../http/backend-response/backend-response';\nimport {apiClient} from '../../../../http/query-client';\n\nexport interface FetchUseCustomPageResponse extends BackendResponse {\n  page: CustomPage;\n}\n\nfunction fetchCustomPage(\n  pageId: number | string\n): Promise<FetchUseCustomPageResponse> {\n  return apiClient\n    .get(`custom-pages/${pageId}`)\n    .then(response => response.data);\n}\n\nexport function useCustomPage() {\n  const {pageId} = useParams();\n  return useQuery(['custom-pages', pageId], () => fetchCustomPage(pageId!), {\n    enabled: !!pageId,\n  });\n}\n","import React, {Suspense, useEffect} from 'react';\nimport {useForm} from 'react-hook-form';\nimport {useCustomPage} from './requests/use-custom-page';\nimport {CustomPage} from '../custom-page';\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\n\nconst TextEditor = React.lazy(() => import('./text-editor'));\n\ninterface PageEditorLayoutProps {\n  allowSlugEditing?: boolean;\n  endpoint?: string;\n}\nexport function PageEditorLayout({\n  allowSlugEditing = true,\n  endpoint,\n}: PageEditorLayoutProps) {\n  const {data, isFetched, fetchStatus} = useCustomPage();\n  const pageIsLoading = !isFetched && fetchStatus !== 'idle';\n  const form = useForm<Partial<CustomPage>>();\n\n  useEffect(() => {\n    if (data?.page) {\n      form.reset(data.page);\n    }\n  }, [form, data?.page]);\n\n  return (\n    <Suspense fallback={<FullPageLoader />}>\n      <div className=\"min-h-full\">\n        {!pageIsLoading && (\n          <TextEditor\n            page={data?.page}\n            allowSlugEditing={allowSlugEditing}\n            endpoint={endpoint}\n          />\n        )}\n      </div>\n    </Suspense>\n  );\n}\n","import {\n  BackendFilter,\n  FilterControlType,\n} from '../../datatable/filters/backend-filter';\nimport {\n  CreatedAtFilter,\n  UpdatedAtFilter,\n} from '../../datatable/filters/timestamp-filters';\nimport {message} from '../../i18n/message';\nimport {USER_MODEL} from '../../auth/user';\nimport {SiteConfigContextValue} from '@common/core/settings/site-config-context';\n\nexport const CustomPageDatatableFilters = (\n  config: SiteConfigContextValue\n): BackendFilter[] => {\n  const dynamicFilters =\n    config.customPages.types.length > 1\n      ? [\n          new BackendFilter({\n            type: FilterControlType.Select,\n            key: 'type',\n            label: message('Type'),\n            description: message('Type of the page'),\n            defaultValue: 'default',\n            options: config.customPages.types.map(type => {\n              return {value: type.type, label: type.label, key: type.type};\n            }),\n          }),\n        ]\n      : [];\n\n  return [\n    new BackendFilter({\n      type: FilterControlType.SelectModel,\n      model: USER_MODEL,\n      key: 'user_id',\n      label: message('User'),\n      description: message('User page was created by'),\n    }),\n    ...dynamicFilters,\n    new CreatedAtFilter({\n      description: message('Date page was created'),\n    }),\n    new UpdatedAtFilter({\n      description: message('Date page was last updated'),\n    }),\n  ];\n};\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {CustomPage} from '@common/admin/custom-pages/custom-page';\nimport {Trans} from '@common/i18n/trans';\nimport {Link} from 'react-router-dom';\nimport {LinkStyle} from '@common/ui/buttons/external-link';\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport React from 'react';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\n\nexport const CustomPageDatatableColumns: ColumnConfig<CustomPage>[] = [\n  {\n    key: 'slug',\n    allowsSorting: true,\n    header: () => <Trans message=\"Slug\" />,\n    body: page => (\n      <Link target=\"_blank\" to={`/pages/${page.slug}`} className={LinkStyle}>\n        {page.slug}\n      </Link>\n    ),\n  },\n  {\n    key: 'user_id',\n    allowsSorting: true,\n    header: () => <Trans message=\"Owner\" />,\n    body: page =>\n      page.user && (\n        <NameWithAvatar\n          image={page.user.avatar}\n          label={page.user.display_name}\n          description={page.user.email}\n        />\n      ),\n  },\n  {\n    key: 'type',\n    header: () => <Trans message=\"Type\" />,\n    body: page => <Trans message={page.type} />,\n    width: 'w-1',\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Last updated\" />,\n    body: page => <FormattedDate date={page.updated_at} />,\n    width: 'w-1',\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    width: 'w-1',\n    body: page => (\n      <IconButton\n        size=\"md\"\n        className=\"text-muted\"\n        elementType={Link}\n        to={`${page.id}/edit`}\n      >\n        <EditIcon />\n      </IconButton>\n    ),\n  },\n];\n","export default \"__VITE_ASSET__8bfd9f17__\"","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {message} from '@common/i18n/message';\nimport {toast} from '@common/ui/toast/toast';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {UseFormReturn} from 'react-hook-form';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\n\ninterface Response extends BackendResponse {}\n\nexport interface UpdateLinkPageOptionsPayload {\n  hideNavbar: boolean;\n  hideFooter: boolean;\n}\n\nexport function useUpdateLinkPageOptions(\n  pageId: number | string,\n  form: UseFormReturn<UpdateLinkPageOptionsPayload>\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (props: UpdateLinkPageOptionsPayload) => updatePage(pageId, props),\n    {\n      onSuccess: () => {\n        toast.positive(trans(message('Page options updated')));\n        queryClient.invalidateQueries(PaginatedResourcesQueryKey('link-page'));\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction updatePage(\n  pageId: number | string,\n  payload: UpdateLinkPageOptionsPayload\n): Promise<Response> {\n  return apiClient\n    .put(`link-page/${pageId}`, {meta: payload})\n    .then(r => r.data);\n}\n","import {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {SettingsIcon} from '@common/icons/material/Settings';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {CustomPage} from '@common/admin/custom-pages/custom-page';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {Form} from '@common/ui/forms/form';\nimport {useForm} from 'react-hook-form';\nimport {\n  UpdateLinkPageOptionsPayload,\n  useUpdateLinkPageOptions,\n} from '@app/dashboard/link-pages/requests/use-update-link-page-options';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\n\ninterface LinkPageOptionsTriggerProps {\n  page: CustomPage;\n}\nexport function LinkPageOptionsTrigger({page}: LinkPageOptionsTriggerProps) {\n  return (\n    <DialogTrigger type=\"modal\">\n      <Tooltip label={<Trans message=\"Page options\" />}>\n        <IconButton className=\"text-muted\">\n          <SettingsIcon />\n        </IconButton>\n      </Tooltip>\n      <OptionsDialog page={page} />\n    </DialogTrigger>\n  );\n}\n\ninterface OptionsDialogProps {\n  page: CustomPage;\n}\nfunction OptionsDialog({page}: OptionsDialogProps) {\n  const {formId, close} = useDialogContext();\n  const form = useForm<UpdateLinkPageOptionsPayload>({\n    defaultValues: {\n      hideFooter: Boolean(page.meta?.hideFooter),\n      hideNavbar: Boolean(page.meta?.hideNavbar),\n    },\n  });\n  const updateOptions = useUpdateLinkPageOptions(page.id, form);\n\n  return (\n    <Dialog size=\"sm\">\n      <DialogHeader>\n        <Trans message=\"Link page options\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          id={formId}\n          form={form}\n          onSubmit={values => {\n            updateOptions.mutate(values, {onSuccess: close});\n          }}\n        >\n          <FormSwitch\n            className=\"mb-24\"\n            name=\"hideNavbar\"\n            description={\n              <Trans message=\"Whether navbar should be hidden on this link page.\" />\n            }\n          >\n            <Trans message=\"Hide navbar\" />\n          </FormSwitch>\n          <FormSwitch\n            name=\"hideFooter\"\n            description={\n              <Trans message=\"Whether footer should be hidden on this link page.\" />\n            }\n          >\n            <Trans message=\"Hide footer\" />\n          </FormSwitch>\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button variant=\"text\" onClick={() => close()}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={updateOptions.isLoading}\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\nimport {CustomPageDatatableFilters} from '@common/admin/custom-pages/custom-page-datatable-filters';\nimport {DataTablePage} from '@common/datatable/page/data-table-page';\nimport {CustomPage} from '@common/admin/custom-pages/custom-page';\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\nimport {useAuth} from '@common/auth/use-auth';\nimport React, {Fragment, useContext, useMemo} from 'react';\nimport {CustomPageDatatableColumns} from '@common/admin/custom-pages/custom-page-datatable-columns';\nimport {Trans} from '@common/i18n/trans';\nimport {Link} from 'react-router-dom';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport articlesSvg from '@common/admin/custom-pages/articles.svg';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport {LinkPageOptionsTrigger} from '@app/dashboard/link-pages/link-page-options-trigger';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {SiteConfigContext} from '@common/core/settings/site-config-context';\nimport {useActiveWorkspaceId} from '@common/workspace/active-workspace-id-context';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\nimport {InfoDialogTrigger} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\n\nconst actionColumn: ColumnConfig<CustomPage> = {\n  ...CustomPageDatatableColumns[4],\n  body: page => {\n    return (\n      <Fragment>\n        <LinkPageOptionsTrigger page={page} />\n        <PermissionAwareButton resource={page} action=\"update\">\n          <Tooltip label={<Trans message=\"Edit page\" />}>\n            <IconButton\n              size=\"md\"\n              className=\"text-muted\"\n              elementType={Link}\n              to={`${page.id}/edit`}\n            >\n              <EditIcon />\n            </IconButton>\n          </Tooltip>\n        </PermissionAwareButton>\n      </Fragment>\n    );\n  },\n};\n\nconst columnConfig = [\n  ...CustomPageDatatableColumns.filter(\n    col => col.key !== 'actions' && col.key !== 'type'\n  ),\n  actionColumn,\n];\n\ninterface CustomPageDatablePageProps {\n  forCurrentUser?: boolean;\n}\nexport function LinkPagesDatatablePage({\n  forCurrentUser,\n}: CustomPageDatablePageProps) {\n  const config = useContext(SiteConfigContext);\n  const {user} = useAuth();\n  const {workspaceId} = useActiveWorkspaceId();\n  const {filters, columns} = useMemo(() => {\n    const columns = !forCurrentUser\n      ? columnConfig\n      : columnConfig.filter(col => col.key !== 'user_id');\n\n    const filters = !forCurrentUser\n      ? CustomPageDatatableFilters(config)\n      : CustomPageDatatableFilters(config).filter(\n          filter => filter.key !== 'user_id'\n        );\n\n    return {filters, columns};\n  }, [forCurrentUser, config]);\n\n  const userId = forCurrentUser ? user?.id : '';\n\n  return (\n    <DataTablePage\n      endpoint=\"link-page\"\n      title={<Trans message=\"Link pages\" />}\n      filters={filters}\n      columns={columns}\n      headerContent={<InfoTrigger />}\n      queryParams={{userId, with: 'user', workspaceId}}\n      actions={<Actions />}\n      selectedActions={\n        <PermissionAwareButton resource=\"customPage\" action=\"delete\">\n          <DeleteSelectedItemsAction />\n        </PermissionAwareButton>\n      }\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={articlesSvg}\n          title={<Trans message=\"No link pages have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching link pages\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <PermissionAwareButton resource=\"customPage\" action=\"create\">\n      <DataTableAddItemButton elementType={Link} to=\"new\">\n        <Trans message=\"New page\" />\n      </DataTableAddItemButton>\n    </PermissionAwareButton>\n  );\n}\n\nfunction InfoTrigger() {\n  return (\n    <InfoDialogTrigger\n      body={\n        <Trans message=\"Show a transitional page with fully custom markup. Users who visit the short url will briefly see the page before being redirected to destination url.\" />\n      }\n    />\n  );\n}\n","export default \"__VITE_ASSET__824a74c6__\"","import {createSvgIcon} from '../../../../icons/create-svg-icon';\n\nexport const ColorIcon = createSvgIcon(\n  <path\n    stroke=\"#E0E0E0\"\n    d=\"M24,44c-7.168,0-13-5.816-13-12.971C11,24,24,4,24,4s13,20,13,27.029C37,38.184,31.168,44,24,44z\"\n  />\n);\n","import {ColumnConfig} from '@common/datatable/column-config';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport {LinkOverlay} from '@app/dashboard/link-overlays/link-overlay';\nimport {Link} from 'react-router-dom';\nimport {ColorIcon} from '@common/admin/appearance/sections/themes/color-icon';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\n\nexport const LinkOverlaysDatatableColumns: ColumnConfig<LinkOverlay>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    header: () => <Trans message=\"Name\" />,\n    body: overlay => overlay.name,\n  },\n  {\n    key: 'message',\n    allowsSorting: true,\n    header: () => <Trans message=\"Message\" />,\n    body: overlay => overlay.message,\n  },\n  {\n    key: 'btn_text',\n    allowsSorting: true,\n    header: () => <Trans message=\"Button text\" />,\n    body: overlay => overlay.btn_text,\n  },\n  {\n    key: 'color',\n    header: () => <Trans message=\"Color\" />,\n    body: overlay => (\n      <ColorIcon\n        viewBox=\"0 0 48 48\"\n        className=\"icon-lg\"\n        style={{fill: overlay.colors['bg-color']}}\n      />\n    ),\n  },\n  {\n    key: 'user_id',\n    allowsSorting: true,\n    header: () => <Trans message=\"Owner\" />,\n    body: overlay => {\n      if (!overlay.user) return '';\n      return (\n        <NameWithAvatar\n          image={overlay.user.avatar}\n          label={overlay.user.display_name}\n          description={overlay.user.email}\n        />\n      );\n    },\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Last updated\" />,\n    body: pixel =>\n      pixel.updated_at ? <FormattedDate date={pixel.updated_at} /> : '',\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    body: overlay => {\n      return (\n        <PermissionAwareButton resource={overlay} action=\"update\">\n          <IconButton\n            className=\"text-muted\"\n            elementType={Link}\n            to={`${overlay.id}/edit`}\n          >\n            <EditIcon />\n          </IconButton>\n        </PermissionAwareButton>\n      );\n    },\n  },\n];\n","import {message} from '@common/i18n/message';\nimport {LinkOverlay} from '@app/dashboard/link-overlays/link-overlay';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\n\nexport const LinkOverlayThemes = [\n  {key: 'default', label: message('Default')},\n  {key: 'full-width', label: message('Full width')},\n  {key: 'rounded', label: message('Rounded')},\n  {key: 'pill', label: message('Pill')},\n];\n\nexport const LinkOverlayPositions = [\n  {key: 'top-left', label: message('Top left')},\n  {key: 'top-right', label: message('Top right')},\n  {key: 'bottom-left', label: message('Bottom left')},\n  {key: 'bottom-right', label: message('Bottom right')},\n];\n\nexport const LinkOverlayColors: {\n  key: keyof LinkOverlay['colors'];\n  label: MessageDescriptor;\n}[] = [\n  {key: 'bg-color', label: message('Background color')},\n  {key: 'text-color', label: message('Text color')},\n  {key: 'btn-bg-color', label: message('Button background')},\n  {key: 'btn-text-color', label: message('Button text')},\n  {key: 'label-bg-color', label: message('Label background')},\n  {key: 'label-color', label: message('Label text')},\n];\n","import {\n  BackendFilter,\n  FilterControlType,\n} from '@common/datatable/filters/backend-filter';\nimport {message} from '@common/i18n/message';\nimport {\n  CreatedAtFilter,\n  UpdatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\nimport {USER_MODEL} from '@common/auth/user';\nimport {\n  LinkOverlayPositions,\n  LinkOverlayThemes,\n} from '@app/dashboard/link-overlays/crupdate/link-overlay-constants';\n\nexport const LinkOverlaysDatatableFilters: BackendFilter[] = [\n  new BackendFilter({\n    type: FilterControlType.Select,\n    key: 'theme',\n    label: message('Theme'),\n    description: message('Theme for the overlay'),\n    defaultValue: 'default',\n    options: LinkOverlayThemes.map(theme => ({\n      key: theme.key,\n      value: theme.key,\n      label: theme.label,\n    })),\n  }),\n  new BackendFilter({\n    type: FilterControlType.Select,\n    key: 'position',\n    label: message('Position'),\n    description: message('Position for the overlay'),\n    defaultValue: 'bottom-left',\n    options: LinkOverlayPositions.map(position => ({\n      key: position.key,\n      value: position.key,\n      label: position.label,\n    })),\n  }),\n  new CreatedAtFilter({\n    description: message('Date overlay was created'),\n  }),\n  new UpdatedAtFilter({\n    description: message('Date overlay was last updated'),\n  }),\n  new BackendFilter({\n    type: FilterControlType.SelectModel,\n    model: USER_MODEL,\n    key: 'user_id',\n    label: message('Owner'),\n    description: message('User overlay belongs to'),\n  }),\n];\n","import {useAuth} from '@common/auth/use-auth';\nimport {DataTablePage} from '@common/datatable/page/data-table-page';\nimport {Trans} from '@common/i18n/trans';\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\nimport React, {useMemo} from 'react';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport preferencesPopup from './preferences-popup.svg';\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\nimport {Link} from 'react-router-dom';\nimport {LinkOverlaysDatatableColumns} from '@app/dashboard/link-overlays/link-overlays-datatable-columns';\nimport {LinkOverlaysDatatableFilters} from '@app/dashboard/link-overlays/link-overlays-datatable-filters';\nimport {useActiveWorkspaceId} from '@common/workspace/active-workspace-id-context';\nimport {InfoDialogTrigger} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\n\ninterface TrackingPixelsDatablePageProps {\n  forCurrentUser?: boolean;\n}\nexport function LinkOverlaysDatatablePage({\n  forCurrentUser,\n}: TrackingPixelsDatablePageProps) {\n  const {user} = useAuth();\n  const {workspaceId} = useActiveWorkspaceId();\n  const {filters, columns} = useMemo(() => {\n    const columns = !forCurrentUser\n      ? LinkOverlaysDatatableColumns\n      : LinkOverlaysDatatableColumns.filter(col => col.key !== 'user_id');\n\n    const filters = !forCurrentUser\n      ? LinkOverlaysDatatableFilters\n      : LinkOverlaysDatatableFilters.filter(filter => filter.key !== 'user_id');\n\n    return {filters, columns};\n  }, [forCurrentUser]);\n\n  const userId = forCurrentUser ? user?.id : '';\n\n  return (\n    <DataTablePage\n      endpoint=\"link-overlay\"\n      queryParams={{userId, with: 'user', workspaceId}}\n      title={<Trans message=\"Call-to-action overlays\" />}\n      headerContent={<InfoTrigger />}\n      filters={filters}\n      columns={columns}\n      actions={<Actions />}\n      selectedActions={\n        <PermissionAwareButton resource=\"linkOverlay\" action=\"delete\">\n          <DeleteSelectedItemsAction />\n        </PermissionAwareButton>\n      }\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={preferencesPopup}\n          title={<Trans message=\"No overlays have been added yet\" />}\n          filteringTitle={<Trans message=\"No matching overlays\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction InfoTrigger() {\n  return (\n    <InfoDialogTrigger\n      body={\n        <Trans message=\"Display fully customizable, non-intrusive overlay with a message and call-to-action button over destination website.\" />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <PermissionAwareButton resource=\"linkOverlay\" action=\"create\">\n      <DataTableAddItemButton to=\"new\" elementType={Link}>\n        <Trans message=\"Add overlay\" />\n      </DataTableAddItemButton>\n    </PermissionAwareButton>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {message} from '@common/i18n/message';\nimport {toast} from '@common/ui/toast/toast';\nimport {UseFormReturn} from 'react-hook-form';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {CrupdateLinkOverlayPayload} from '@app/dashboard/link-overlays/crupdate/crupdate-link-overlay-payload';\n\ninterface Response extends BackendResponse {}\n\nexport function useCreateLinkOverlay(\n  form: UseFormReturn<CrupdateLinkOverlayPayload>\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (payload: CrupdateLinkOverlayPayload) => createOverlay(payload),\n    {\n      onSuccess: () => {\n        toast.positive(trans(message('Overlay created')));\n        queryClient.invalidateQueries(\n          PaginatedResourcesQueryKey('link-overlay')\n        );\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction createOverlay(payload: CrupdateLinkOverlayPayload): Promise<Response> {\n  return apiClient.post('link-overlay', payload).then(r => r.data);\n}\n","import React, {RefObject} from 'react';\n\ninterface TabsContext {\n  selectedTab: number;\n  setSelectedTab: (newTab: number) => void;\n  tabsRef: RefObject<HTMLElement[]>;\n  size: 'sm' | 'md';\n  isLazy?: boolean;\n  id: string;\n}\n\nexport const TabContext = React.createContext<TabsContext>(null!);\n","import React, {ReactElement, useId, useMemo, useRef} from 'react';\nimport clsx from 'clsx';\nimport {useControlledState} from '@react-stately/utils';\nimport {TabContext} from './tabs-context';\nimport {TabListProps} from './tab-list';\nimport {TabPanelsProps} from './tab-panels';\n\nexport interface TabsProps {\n  children: [ReactElement<TabListProps>, ReactElement<TabPanelsProps>];\n  size?: 'sm' | 'md';\n  className?: string;\n  selectedTab?: number;\n  defaultSelectedTab?: number;\n  onTabChange?: (newTab: number) => void;\n  isLazy?: boolean;\n  overflow?: string;\n}\n\nexport function Tabs(props: TabsProps) {\n  const {\n    size = 'md',\n    children,\n    className,\n    isLazy,\n    overflow = 'overflow-hidden',\n  } = props;\n\n  const tabsRef = useRef<HTMLButtonElement[]>([]);\n  const id = useId();\n\n  const [selectedTab, setSelectedTab] = useControlledState(\n    props.selectedTab,\n    props.defaultSelectedTab || 0,\n    props.onTabChange\n  );\n\n  const ContextValue = useMemo(() => {\n    return {\n      selectedTab,\n      setSelectedTab,\n      tabsRef,\n      size,\n      isLazy,\n      id,\n    };\n  }, [selectedTab, id, isLazy, setSelectedTab, size]);\n\n  return (\n    <TabContext.Provider value={ContextValue}>\n      <div className={clsx(className, overflow, 'max-w-full')}>{children}</div>\n    </TabContext.Provider>\n  );\n}\n","import React, {useContext, useState} from 'react';\nimport {useLayoutEffect} from '@react-aria/utils';\nimport clsx from 'clsx';\nimport {TabContext} from './tabs-context';\n\ninterface TabLineStyle {\n  width?: string;\n  transform?: string;\n  className?: string;\n}\n\nexport function TabLine() {\n  const {tabsRef, selectedTab} = useContext(TabContext);\n  const [style, setStyle] = useState<TabLineStyle>({\n    width: undefined,\n    transform: undefined,\n    className: undefined,\n  });\n\n  useLayoutEffect(() => {\n    if (selectedTab != null && tabsRef.current) {\n      const el = tabsRef.current[selectedTab];\n      setStyle(prevState => {\n        return {\n          width: `${el.offsetWidth}px`,\n          transform: `translateX(${el.offsetLeft}px)`,\n          // disable initial transition for tabline\n          className: prevState.width === undefined ? '' : 'transition-all',\n        };\n      });\n    }\n  }, [setStyle, selectedTab, tabsRef]);\n\n  return (\n    <div\n      className={clsx(\n        'absolute bottom-0 left-0 h-2 bg-primary',\n        style.className\n      )}\n      role=\"presentation\"\n      style={{width: style.width, transform: style.transform}}\n    />\n  );\n}\n","import React, {Children, cloneElement, isValidElement, ReactNode} from 'react';\nimport clsx from 'clsx';\nimport {FocusScope} from '@react-aria/focus';\nimport {TabProps} from './tab';\nimport {TabLine} from './tab-line';\n\nexport interface TabListProps {\n  children: ReactNode;\n  // center tabs within tablist\n  center?: boolean;\n  // expand tabs to fill in tablist space fully. By default, tabs are only as wide as their content.\n  expand?: boolean;\n  className?: string;\n}\nexport function TabList({children, center, expand, className}: TabListProps) {\n  const childrenArray = Children.toArray(children);\n\n  return (\n    <FocusScope>\n      <div\n        className={clsx(\n          'flex relative max-w-full overflow-auto border-b',\n          className\n        )}\n        role=\"tablist\"\n        aria-orientation=\"horizontal\"\n      >\n        {childrenArray.map((child, index) => {\n          if (isValidElement<TabProps>(child)) {\n            return cloneElement<TabProps>(child, {\n              index,\n              className: clsx(\n                child.props.className,\n                expand && 'flex-auto',\n                center && index === 0 && 'ml-auto',\n                center && index === childrenArray.length - 1 && 'mr-auto'\n              ),\n            });\n          }\n          return null;\n        })}\n        <TabLine />\n      </div>\n    </FocusScope>\n  );\n}\n","import React, {JSXElementConstructor, ReactNode, useContext} from 'react';\nimport clsx from 'clsx';\nimport {useFocusManager} from '@react-aria/focus';\nimport {TabContext} from './tabs-context';\nimport {LinkProps} from 'react-router-dom';\n\nexport interface TabProps {\n  className?: string;\n  index?: number;\n  children: ReactNode;\n  isDisabled?: boolean;\n  padding?: string;\n  elementType?: 'button' | 'a' | JSXElementConstructor<any>;\n  to?: LinkProps['to'];\n  relative?: LinkProps['relative'];\n}\nexport function Tab({\n  index,\n  className,\n  isDisabled,\n  children,\n  padding: paddingProp,\n  elementType = 'button',\n  to,\n  relative,\n}: TabProps) {\n  const {\n    selectedTab,\n    setSelectedTab,\n    tabsRef,\n    size = 'md',\n    id,\n  } = useContext(TabContext);\n  const isSelected = index === selectedTab;\n  const focusManager = useFocusManager();\n  const padding = paddingProp || (size === 'sm' ? 'px-12' : 'px-18');\n\n  const mergedClassname = clsx(\n    'tracking-wide overflow-hidden capitalize text-sm flex items-center justify-center outline-none transition-colors',\n    'focus-visible:ring focus-visible:ring-2 ring-inset rounded',\n    textColor({isDisabled, isSelected}),\n    className,\n    size === 'md' && `${padding} h-48`,\n    size === 'sm' && `${padding} h-32`,\n    !isDisabled && 'cursor-pointer'\n  );\n\n  const onKeyDown = (e: React.KeyboardEvent<HTMLButtonElement>) => {\n    switch (e.key) {\n      case 'ArrowLeft':\n        focusManager.focusPrevious();\n        break;\n      case 'ArrowRight':\n        focusManager.focusNext();\n        break;\n      case 'Home':\n        focusManager.focusFirst();\n        break;\n      case 'End':\n        focusManager.focusLast();\n        break;\n    }\n  };\n\n  const tabIndex = isSelected ? 0 : -1;\n  const Element = elementType;\n\n  return (\n    <Element\n      disabled={isDisabled}\n      id={`${id}-${index}-tab`}\n      aria-controls={`${id}-${index}-tabpanel`}\n      type=\"button\"\n      role=\"tab\"\n      aria-selected={isSelected}\n      tabIndex={isDisabled ? undefined : tabIndex}\n      onKeyDown={onKeyDown}\n      onClick={() => {\n        setSelectedTab(index!);\n      }}\n      to={to}\n      relative={relative}\n      className={mergedClassname}\n      ref={(el: HTMLElement) => {\n        if (tabsRef.current && el) {\n          tabsRef.current[index!] = el;\n        }\n      }}\n    >\n      {children}\n    </Element>\n  );\n}\n\ninterface TextColorProps {\n  isDisabled?: boolean;\n  isSelected: boolean;\n}\nfunction textColor({isDisabled, isSelected}: TextColorProps): string {\n  if (isDisabled) {\n    return 'text-disabled cursor-default';\n  }\n  if (isSelected) {\n    return 'text-primary';\n  }\n  return 'text-muted hover:text-main';\n}\n","import React, {\n  Children,\n  cloneElement,\n  ComponentPropsWithoutRef,\n  isValidElement,\n  ReactElement,\n  ReactNode,\n  useContext,\n  useRef,\n  useState,\n} from 'react';\nimport clsx from 'clsx';\nimport {useLayoutEffect} from '@react-aria/utils';\nimport {getFocusableTreeWalker} from '@react-aria/focus';\nimport {TabContext} from './tabs-context';\n\nexport interface TabPanelsProps {\n  children: ReactNode;\n  className?: string;\n}\nexport function TabPanels({children, className}: TabPanelsProps) {\n  const {selectedTab, isLazy} = useContext(TabContext);\n\n  const panelArray = Children.toArray(children);\n\n  let rendered: ReactNode;\n  if (isLazy) {\n    rendered = cloneElement<TabPanelProps>(\n      panelArray[selectedTab] as ReactElement,\n      {index: selectedTab}\n    );\n  } else {\n    rendered = panelArray.map((panel, index) => {\n      if (isValidElement<TabPanelsProps>(panel)) {\n        const isSelected = index === selectedTab;\n        return cloneElement<TabPanelProps>(panel, {\n          index,\n          'aria-hidden': !isSelected,\n          className: !isSelected\n            ? clsx(panel.props.className, 'hidden')\n            : panel.props.className,\n        });\n      }\n      return null;\n    });\n  }\n\n  return <div className={className}>{rendered}</div>;\n}\n\ninterface TabPanelProps extends ComponentPropsWithoutRef<'div'> {\n  className?: string;\n  children: ReactNode;\n  index?: number;\n}\nexport function TabPanel({\n  className,\n  children,\n  index,\n  ...domProps\n}: TabPanelProps) {\n  const {id} = useContext(TabContext);\n\n  const [tabIndex, setTabIndex] = useState<number | undefined>(0);\n  const ref = useRef<HTMLDivElement>(null);\n\n  // The tabpanel should have tabIndex=0 when there are no tabbable elements within it.\n  // Otherwise, tabbing from the focused tab should go directly to the first tabbable element\n  // within the tabpanel.\n  useLayoutEffect(() => {\n    if (ref?.current) {\n      const update = () => {\n        // Detect if there are any tabbable elements and update the tabIndex accordingly.\n        const walker = getFocusableTreeWalker(ref.current!, {tabbable: true});\n        setTabIndex(walker.nextNode() ? undefined : 0);\n      };\n\n      update();\n\n      // Update when new elements are inserted, or the tabIndex/disabled attribute updates.\n      const observer = new MutationObserver(update);\n      observer.observe(ref.current, {\n        subtree: true,\n        childList: true,\n        attributes: true,\n        attributeFilter: ['tabIndex', 'disabled'],\n      });\n\n      return () => {\n        observer.disconnect();\n      };\n    }\n  }, [ref]);\n\n  return (\n    <div\n      tabIndex={tabIndex}\n      ref={ref}\n      id={`${id}-${index}-tabpanel`}\n      aria-labelledby={`${id}-${index}-tab`}\n      className={clsx(className, 'focus-visible:outline-primary-light')}\n      role=\"tabpanel\"\n      {...domProps}\n    >\n      {children}\n    </div>\n  );\n}\n","export function OverlayWebsiteBackground() {\n  return (\n    <div className=\"bg-card h-full overflow-hidden\">\n      <div className=\"navbar flex items-center bg-alt h-40 w-full\">\n        <div\n          className=\"os-button w-20 h-20 rounded-full ml-14\"\n          style={{background: '#d7665d'}}\n        />\n        <div\n          className=\"os-button w-20 h-20 rounded-full ml-14\"\n          style={{background: '#deab54'}}\n        />\n        <div\n          className=\"os-button w-20 h-20 rounded-full ml-14\"\n          style={{background: '#6fb54c'}}\n        />\n      </div>\n\n      <div className=\"page-body p-24\">\n        <div className=\"top-row flex items-center h-60 bg-alt p-10 mb-24\">\n          <div className=\"circle w-40 h-40 rounded-full mr-auto bg-disabled-bg\"></div>\n          <div className=\"line w-1/6 h-20 rounded bg-disabled-bg ml-14\" />\n          <div className=\"line w-1/6 h-20 rounded bg-disabled-bg ml-14\" />\n          <div className=\"line w-1/6 h-20 rounded bg-disabled-bg ml-14\" />\n        </div>\n\n        <div className=\"middle-row flex items-center justify-center flex-col h-[260px] bg-alt my-24\">\n          <div className=\"line rounded h-36 mb-20 w-3/5 bg-disabled-bg\" />\n          <div className=\"line rounded h-14 mb-4 w-1/2 bg-disabled-bg/5\" />\n          <div className=\"line rounded h-14 mb-4 w-1/2 bg-disabled-bg/5\" />\n          <div className=\"line rounded h-14 mb-4 w-1/2 bg-disabled-bg/5\" />\n        </div>\n\n        <div className=\"flex-container flex\">\n          <div className=\"left w-1/3\">\n            <div className=\"rect h-144 bg-disabled-bg/5 mb-6\" />\n            <div className=\"line fat-line h-36 mb-10 rounded bg-disabled-bg/5\" />\n            <div className=\"line mb-10 h-20 rounded bg-disabled-bg\" />\n            <div className=\"line mb-10 h-20 rounded bg-disabled-bg\" />\n            <div className=\"separator h-1 bg-divider my-24\"></div>\n            <div className=\"rect h-144 bg-disabled-bg/5 mb-10\" />\n            <div className=\"line mb-10 h-20 rounded bg-disabled-bg\" />\n            <div className=\"rect h-144 bg-disabled-bg/5 mb-6\" />\n          </div>\n\n          <div className=\"right w-2/3 pl-24\">\n            <div className=\"rect h-288 mb-32 bg-disabled-bg/5\" />\n            <div className=\"line mb-10 h-20 rounded bg-disabled-bg\" />\n            <div className=\"line fat-line h-36 mb-10 rounded bg-disabled-bg/5\" />\n            <div className=\"line mb-10 h-20 rounded bg-disabled-bg\" />\n            <div className=\"separator h-1 bg-divider my-24\" />\n            <div className=\"line mb-10 h-20 rounded bg-disabled-bg\" />\n            <div className=\"rect h-288 mb-32 bg-disabled-bg/5\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import e,{useRef as r,useMemo as t,useEffect as n,useState as o,useCallback as a,useLayoutEffect as l}from\"react\";function u(){return(u=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function c(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r.indexOf(t=a[n])>=0||(o[t]=e[t]);return o}function i(e){var t=r(e),n=r(function(e){t.current&&t.current(e)});return t.current=e,n.current}var s=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=1),e>t?t:e<r?r:e},f=function(e){return\"touches\"in e},v=function(e){return e&&e.ownerDocument.defaultView||self},d=function(e,r,t){var n=e.getBoundingClientRect(),o=f(r)?function(e,r){for(var t=0;t<e.length;t++)if(e[t].identifier===r)return e[t];return e[0]}(r.touches,t):r;return{left:s((o.pageX-(n.left+v(e).pageXOffset))/n.width),top:s((o.pageY-(n.top+v(e).pageYOffset))/n.height)}},h=function(e){!f(e)&&e.preventDefault()},m=e.memo(function(o){var a=o.onMove,l=o.onKey,s=c(o,[\"onMove\",\"onKey\"]),m=r(null),g=i(a),p=i(l),b=r(null),_=r(!1),x=t(function(){var e=function(e){h(e),(f(e)?e.touches.length>0:e.buttons>0)&&m.current?g(d(m.current,e,b.current)):t(!1)},r=function(){return t(!1)};function t(t){var n=_.current,o=v(m.current),a=t?o.addEventListener:o.removeEventListener;a(n?\"touchmove\":\"mousemove\",e),a(n?\"touchend\":\"mouseup\",r)}return[function(e){var r=e.nativeEvent,n=m.current;if(n&&(h(r),!function(e,r){return r&&!f(e)}(r,_.current)&&n)){if(f(r)){_.current=!0;var o=r.changedTouches||[];o.length&&(b.current=o[0].identifier)}n.focus(),g(d(n,r,b.current)),t(!0)}},function(e){var r=e.which||e.keyCode;r<37||r>40||(e.preventDefault(),p({left:39===r?.05:37===r?-.05:0,top:40===r?.05:38===r?-.05:0}))},t]},[p,g]),C=x[0],E=x[1],H=x[2];return n(function(){return H},[H]),e.createElement(\"div\",u({},s,{onTouchStart:C,onMouseDown:C,className:\"react-colorful__interactive\",ref:m,onKeyDown:E,tabIndex:0,role:\"slider\"}))}),g=function(e){return e.filter(Boolean).join(\" \")},p=function(r){var t=r.color,n=r.left,o=r.top,a=void 0===o?.5:o,l=g([\"react-colorful__pointer\",r.className]);return e.createElement(\"div\",{className:l,style:{top:100*a+\"%\",left:100*n+\"%\"}},e.createElement(\"div\",{className:\"react-colorful__pointer-fill\",style:{backgroundColor:t}}))},b=function(e,r,t){return void 0===r&&(r=0),void 0===t&&(t=Math.pow(10,r)),Math.round(t*e)/t},_={grad:.9,turn:360,rad:360/(2*Math.PI)},x=function(e){return L(C(e))},C=function(e){return\"#\"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?b(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?b(parseInt(e.substring(6,8),16)/255,2):1}},E=function(e,r){return void 0===r&&(r=\"deg\"),Number(e)*(_[r]||1)},H=function(e){var r=/hsla?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);return r?N({h:E(r[1],r[2]),s:Number(r[3]),l:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},M=H,N=function(e){var r=e.s,t=e.l;return{h:e.h,s:(r*=(t<50?t:100-t)/100)>0?2*r/(t+r)*100:0,v:t+r,a:e.a}},w=function(e){return K(I(e))},y=function(e){var r=e.s,t=e.v,n=e.a,o=(200-r)*t/100;return{h:b(e.h),s:b(o>0&&o<200?r*t/100/(o<=100?o:200-o)*100:0),l:b(o/2),a:b(n,2)}},q=function(e){var r=y(e);return\"hsl(\"+r.h+\", \"+r.s+\"%, \"+r.l+\"%)\"},k=function(e){var r=y(e);return\"hsla(\"+r.h+\", \"+r.s+\"%, \"+r.l+\"%, \"+r.a+\")\"},I=function(e){var r=e.h,t=e.s,n=e.v,o=e.a;r=r/360*6,t/=100,n/=100;var a=Math.floor(r),l=n*(1-t),u=n*(1-(r-a)*t),c=n*(1-(1-r+a)*t),i=a%6;return{r:b(255*[n,u,l,l,c,n][i]),g:b(255*[c,n,n,u,l,l][i]),b:b(255*[l,l,c,n,n,u][i]),a:b(o,2)}},O=function(e){var r=/hsva?\\(?\\s*(-?\\d*\\.?\\d+)(deg|rad|grad|turn)?[,\\s]+(-?\\d*\\.?\\d+)%?[,\\s]+(-?\\d*\\.?\\d+)%?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);return r?A({h:E(r[1],r[2]),s:Number(r[3]),v:Number(r[4]),a:void 0===r[5]?1:Number(r[5])/(r[6]?100:1)}):{h:0,s:0,v:0,a:1}},j=O,z=function(e){var r=/rgba?\\(?\\s*(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?[,\\s]+(-?\\d*\\.?\\d+)(%)?,?\\s*[/\\s]*(-?\\d*\\.?\\d+)?(%)?\\s*\\)?/i.exec(e);return r?L({r:Number(r[1])/(r[2]?100/255:1),g:Number(r[3])/(r[4]?100/255:1),b:Number(r[5])/(r[6]?100/255:1),a:void 0===r[7]?1:Number(r[7])/(r[8]?100:1)}):{h:0,s:0,v:0,a:1}},B=z,D=function(e){var r=e.toString(16);return r.length<2?\"0\"+r:r},K=function(e){var r=e.r,t=e.g,n=e.b,o=e.a,a=o<1?D(b(255*o)):\"\";return\"#\"+D(r)+D(t)+D(n)+a},L=function(e){var r=e.r,t=e.g,n=e.b,o=e.a,a=Math.max(r,t,n),l=a-Math.min(r,t,n),u=l?a===r?(t-n)/l:a===t?2+(n-r)/l:4+(r-t)/l:0;return{h:b(60*(u<0?u+6:u)),s:b(a?l/a*100:0),v:b(a/255*100),a:o}},A=function(e){return{h:b(e.h),s:b(e.s),v:b(e.v),a:b(e.a,2)}},S=e.memo(function(r){var t=r.hue,n=r.onChange,o=g([\"react-colorful__hue\",r.className]);return e.createElement(\"div\",{className:o},e.createElement(m,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:s(t+360*e.left,0,360)})},\"aria-label\":\"Hue\",\"aria-valuenow\":b(t),\"aria-valuemax\":\"360\",\"aria-valuemin\":\"0\"},e.createElement(p,{className:\"react-colorful__hue-pointer\",left:t/360,color:q({h:t,s:100,v:100,a:1})})))}),T=e.memo(function(r){var t=r.hsva,n=r.onChange,o={backgroundColor:q({h:t.h,s:100,v:100,a:1})};return e.createElement(\"div\",{className:\"react-colorful__saturation\",style:o},e.createElement(m,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:s(t.s+100*e.left,0,100),v:s(t.v-100*e.top,0,100)})},\"aria-label\":\"Color\",\"aria-valuetext\":\"Saturation \"+b(t.s)+\"%, Brightness \"+b(t.v)+\"%\"},e.createElement(p,{className:\"react-colorful__saturation-pointer\",top:1-t.v/100,left:t.s/100,color:q(t)})))}),F=function(e,r){if(e===r)return!0;for(var t in e)if(e[t]!==r[t])return!1;return!0},P=function(e,r){return e.replace(/\\s/g,\"\")===r.replace(/\\s/g,\"\")},X=function(e,r){return e.toLowerCase()===r.toLowerCase()||F(C(e),C(r))};function Y(e,t,l){var u=i(l),c=o(function(){return e.toHsva(t)}),s=c[0],f=c[1],v=r({color:t,hsva:s});n(function(){if(!e.equal(t,v.current.color)){var r=e.toHsva(t);v.current={hsva:r,color:t},f(r)}},[t,e]),n(function(){var r;F(s,v.current.hsva)||e.equal(r=e.fromHsva(s),v.current.color)||(v.current={hsva:s,color:r},u(r))},[s,e,u]);var d=a(function(e){f(function(r){return Object.assign({},r,e)})},[]);return[s,d]}var R,V=\"undefined\"!=typeof window?l:n,$=function(){return R||(\"undefined\"!=typeof __webpack_nonce__?__webpack_nonce__:void 0)},G=function(e){R=e},J=new Map,Q=function(e){V(function(){var r=e.current?e.current.ownerDocument:document;if(void 0!==r&&!J.has(r)){var t=r.createElement(\"style\");t.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:\"\";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\\'data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill-opacity=\".05\"><path d=\"M8 0h8v8H8zM0 8h8v8H0z\"/></svg>\\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',J.set(r,t);var n=$();n&&t.setAttribute(\"nonce\",n),r.head.appendChild(t)}},[])},U=function(t){var n=t.className,o=t.colorModel,a=t.color,l=void 0===a?o.defaultColor:a,i=t.onChange,s=c(t,[\"className\",\"colorModel\",\"color\",\"onChange\"]),f=r(null);Q(f);var v=Y(o,l,i),d=v[0],h=v[1],m=g([\"react-colorful\",n]);return e.createElement(\"div\",u({},s,{ref:f,className:m}),e.createElement(T,{hsva:d,onChange:h}),e.createElement(S,{hue:d.h,onChange:h,className:\"react-colorful__last-control\"}))},W={defaultColor:\"000\",toHsva:x,fromHsva:function(e){return w({h:e.h,s:e.s,v:e.v,a:1})},equal:X},Z=function(r){return e.createElement(U,u({},r,{colorModel:W}))},ee=function(r){var t=r.className,n=r.hsva,o=r.onChange,a={backgroundImage:\"linear-gradient(90deg, \"+k(Object.assign({},n,{a:0}))+\", \"+k(Object.assign({},n,{a:1}))+\")\"},l=g([\"react-colorful__alpha\",t]),u=b(100*n.a);return e.createElement(\"div\",{className:l},e.createElement(\"div\",{className:\"react-colorful__alpha-gradient\",style:a}),e.createElement(m,{onMove:function(e){o({a:e.left})},onKey:function(e){o({a:s(n.a+e.left)})},\"aria-label\":\"Alpha\",\"aria-valuetext\":u+\"%\",\"aria-valuenow\":u,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\"},e.createElement(p,{className:\"react-colorful__alpha-pointer\",left:n.a,color:k(n)})))},re=function(t){var n=t.className,o=t.colorModel,a=t.color,l=void 0===a?o.defaultColor:a,i=t.onChange,s=c(t,[\"className\",\"colorModel\",\"color\",\"onChange\"]),f=r(null);Q(f);var v=Y(o,l,i),d=v[0],h=v[1],m=g([\"react-colorful\",n]);return e.createElement(\"div\",u({},s,{ref:f,className:m}),e.createElement(T,{hsva:d,onChange:h}),e.createElement(S,{hue:d.h,onChange:h}),e.createElement(ee,{hsva:d,onChange:h,className:\"react-colorful__last-control\"}))},te={defaultColor:\"0001\",toHsva:x,fromHsva:w,equal:X},ne=function(r){return e.createElement(re,u({},r,{colorModel:te}))},oe={defaultColor:{h:0,s:0,l:0,a:1},toHsva:N,fromHsva:y,equal:F},ae=function(r){return e.createElement(re,u({},r,{colorModel:oe}))},le={defaultColor:\"hsla(0, 0%, 0%, 1)\",toHsva:H,fromHsva:k,equal:P},ue=function(r){return e.createElement(re,u({},r,{colorModel:le}))},ce={defaultColor:{h:0,s:0,l:0},toHsva:function(e){return N({h:e.h,s:e.s,l:e.l,a:1})},fromHsva:function(e){return{h:(r=y(e)).h,s:r.s,l:r.l};var r},equal:F},ie=function(r){return e.createElement(U,u({},r,{colorModel:ce}))},se={defaultColor:\"hsl(0, 0%, 0%)\",toHsva:M,fromHsva:q,equal:P},fe=function(r){return e.createElement(U,u({},r,{colorModel:se}))},ve={defaultColor:{h:0,s:0,v:0,a:1},toHsva:function(e){return e},fromHsva:A,equal:F},de=function(r){return e.createElement(re,u({},r,{colorModel:ve}))},he={defaultColor:\"hsva(0, 0%, 0%, 1)\",toHsva:O,fromHsva:function(e){var r=A(e);return\"hsva(\"+r.h+\", \"+r.s+\"%, \"+r.v+\"%, \"+r.a+\")\"},equal:P},me=function(r){return e.createElement(re,u({},r,{colorModel:he}))},ge={defaultColor:{h:0,s:0,v:0},toHsva:function(e){return{h:e.h,s:e.s,v:e.v,a:1}},fromHsva:function(e){var r=A(e);return{h:r.h,s:r.s,v:r.v}},equal:F},pe=function(r){return e.createElement(U,u({},r,{colorModel:ge}))},be={defaultColor:\"hsv(0, 0%, 0%)\",toHsva:j,fromHsva:function(e){var r=A(e);return\"hsv(\"+r.h+\", \"+r.s+\"%, \"+r.v+\"%)\"},equal:P},_e=function(r){return e.createElement(U,u({},r,{colorModel:be}))},xe={defaultColor:{r:0,g:0,b:0,a:1},toHsva:L,fromHsva:I,equal:F},Ce=function(r){return e.createElement(re,u({},r,{colorModel:xe}))},Ee={defaultColor:\"rgba(0, 0, 0, 1)\",toHsva:z,fromHsva:function(e){var r=I(e);return\"rgba(\"+r.r+\", \"+r.g+\", \"+r.b+\", \"+r.a+\")\"},equal:P},He=function(r){return e.createElement(re,u({},r,{colorModel:Ee}))},Me={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return L({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){return{r:(r=I(e)).r,g:r.g,b:r.b};var r},equal:F},Ne=function(r){return e.createElement(U,u({},r,{colorModel:Me}))},we={defaultColor:\"rgb(0, 0, 0)\",toHsva:B,fromHsva:function(e){var r=I(e);return\"rgb(\"+r.r+\", \"+r.g+\", \"+r.b+\")\"},equal:P},ye=function(r){return e.createElement(U,u({},r,{colorModel:we}))},qe=/^#?([0-9A-F]{3,8})$/i,ke=function(r){var t=r.color,l=void 0===t?\"\":t,s=r.onChange,f=r.onBlur,v=r.escape,d=r.validate,h=r.format,m=r.process,g=c(r,[\"color\",\"onChange\",\"onBlur\",\"escape\",\"validate\",\"format\",\"process\"]),p=o(function(){return v(l)}),b=p[0],_=p[1],x=i(s),C=i(f),E=a(function(e){var r=v(e.target.value);_(r),d(r)&&x(m?m(r):r)},[v,m,d,x]),H=a(function(e){d(e.target.value)||_(v(l)),C(e)},[l,v,d,C]);return n(function(){_(v(l))},[l,v]),e.createElement(\"input\",u({},g,{value:h?h(b):b,spellCheck:\"false\",onChange:E,onBlur:H}))},Ie=function(e){return\"#\"+e},Oe=function(r){var t=r.prefixed,n=r.alpha,o=c(r,[\"prefixed\",\"alpha\"]),l=a(function(e){return e.replace(/([^0-9A-F]+)/gi,\"\").substring(0,n?8:6)},[n]),i=a(function(e){return function(e,r){var t=qe.exec(e),n=t?t[1].length:0;return 3===n||6===n||!!r&&4===n||!!r&&8===n}(e,n)},[n]);return e.createElement(ke,u({},o,{escape:l,format:t?Ie:void 0,process:Ie,validate:i}))};export{ne as HexAlphaColorPicker,Oe as HexColorInput,Z as HexColorPicker,ie as HslColorPicker,fe as HslStringColorPicker,ae as HslaColorPicker,ue as HslaStringColorPicker,pe as HsvColorPicker,_e as HsvStringColorPicker,de as HsvaColorPicker,me as HsvaStringColorPicker,Ne as RgbColorPicker,ye as RgbStringColorPicker,Ce as RgbaColorPicker,He as RgbaStringColorPicker,G as setNonce};\n//# sourceMappingURL=index.module.js.map\n","import React from 'react';\nimport clsx from 'clsx';\nimport {ButtonBase} from '../buttons/button-base';\n\ntype Props = {\n  onChange?: (e: string) => void;\n  value?: string;\n  colors: string[];\n};\nexport function ColorSwatch({onChange, value, colors}: Props) {\n  const presetButtons = colors.map(color => {\n    const isSelected = value === color;\n    return (\n      <ButtonBase\n        key={color}\n        onClick={() => {\n          onChange?.(color);\n        }}\n        className={clsx(\n          'relative block flex-shrink-0 w-26 h-26 border rounded',\n          isSelected && 'shadow-md'\n        )}\n        style={{backgroundColor: color}}\n      >\n        {isSelected && (\n          <span className=\"absolute inset-0 m-auto rounded-full w-8 h-8 bg-white\" />\n        )}\n      </ButtonBase>\n    );\n  });\n\n  return <div className=\"flex flex-wrap gap-6\">{presetButtons}</div>;\n}\n","import {message} from '@common/i18n/message';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\n\nexport const ColorPresets: {\n  color: string;\n  name: MessageDescriptor;\n  foreground?: string;\n}[] = [\n  {\n    color: 'rgb(255, 255, 255)',\n    name: message('White'),\n  },\n  {\n    color: 'rgb(239,245,245)',\n    name: message('Solitude'),\n  },\n  {\n    color: 'rgb(245,213,174)',\n    name: message('Wheat'),\n  },\n  {\n    color: 'rgb(253,227,167)',\n    name: message('Cape Honey'),\n  },\n  {\n    color: 'rgb(242,222,186)',\n    name: message('Milk punch'),\n  },\n  {\n    color: 'rgb(97,118,75)',\n    name: message('Dingy'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(4, 147, 114)',\n    name: message('Aquamarine'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(222,245,229)',\n    name: message('Cosmic Latte'),\n  },\n  {\n    color: 'rgb(233,119,119)',\n    name: message('Geraldine'),\n    foreground: 'rgb(90,14,14)',\n  },\n  {\n    color: 'rgb(247,164,164)',\n    name: message('Sundown'),\n  },\n  {\n    color: 'rgb(30,139,195)',\n    name: message('Pelorous'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(142,68,173)',\n    name: message('Deep Lilac'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(108,74,182)',\n    name: message('Blue marguerite'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(139,126,116)',\n    name: message('Americano'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(0,0,0)',\n    name: message('Black'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(64,66,88)',\n    name: message('Blue zodiac'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n  {\n    color: 'rgb(101,100,124)',\n    name: message('Comet'),\n    foreground: 'rgb(255, 255, 255)',\n  },\n];\n","import {HexColorInput, HexColorPicker} from 'react-colorful';\nimport React, {useState} from 'react';\nimport {parseColor} from '@react-stately/color';\nimport {ColorSwatch} from './color-swatch';\nimport {getInputFieldClassNames} from '../forms/input-field/get-input-field-class-names';\nimport {ColorPresets} from '@common/ui/color-picker/color-presets';\n\nconst DefaultPresets = ColorPresets.map(({color}) => color).slice(0, 14);\n\ntype Props = {\n  defaultValue?: string;\n  onChange?: (e: string) => void;\n  colorPresets?: string[];\n  showInput?: boolean;\n};\nexport function ColorPicker({\n  defaultValue,\n  onChange,\n  colorPresets,\n  showInput,\n}: Props) {\n  const [color, setColor] = useState<string | undefined>(defaultValue);\n\n  const presets: string[] = colorPresets || DefaultPresets;\n\n  const style = getInputFieldClassNames({size: 'sm'});\n\n  return (\n    <div>\n      <HexColorPicker\n        className=\"!w-auto\"\n        color={color}\n        onChange={newColor => {\n          onChange?.(newColor);\n          setColor(newColor);\n        }}\n      />\n      <div className=\"py-20 px-12\">\n        {presets && (\n          <ColorSwatch\n            colors={presets}\n            onChange={newColor => {\n              if (newColor) {\n                const hex = parseColor(newColor).toString('hex');\n                onChange?.(hex);\n                setColor(hex);\n              }\n            }}\n            value={color}\n          />\n        )}\n        {showInput && (\n          <div className=\"pt-20\">\n            <HexColorInput\n              autoComplete=\"off\"\n              role=\"textbox\"\n              autoCorrect=\"off\"\n              spellCheck=\"false\"\n              required\n              aria-label=\"Hex color\"\n              prefixed\n              className={style.input}\n              color={color}\n              onChange={newColor => {\n                onChange?.(newColor);\n                setColor(newColor);\n              }}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import {useState} from 'react';\nimport {ColorPicker} from './color-picker';\nimport {DialogFooter} from '../overlays/dialog/dialog-footer';\nimport {Button} from '../buttons/button';\nimport {useDialogContext} from '../overlays/dialog/dialog-context';\nimport {Dialog} from '../overlays/dialog/dialog';\nimport {Trans} from '../../i18n/trans';\n\ninterface ColorPickerDialogProps {\n  defaultValue?: string;\n  onChange?: (color: string) => void;\n  hideFooter?: boolean;\n  showInput?: boolean;\n}\nexport function ColorPickerDialog({\n  defaultValue,\n  onChange,\n  hideFooter = false,\n  showInput = true,\n}: ColorPickerDialogProps) {\n  const {close} = useDialogContext();\n  const [value, setValue] = useState(defaultValue || '');\n  // todo: remove this once all once pixie and bedrive are refactored to use dialogTrigger currentValue (use \"currentValue\" for defaultValue as well)\n  //const initialValue = useRef(defaultValue);\n\n  return (\n    <Dialog size=\"2xs\">\n      <ColorPicker\n        showInput={showInput}\n        defaultValue={value}\n        onChange={newValue => {\n          setValue(newValue);\n          onChange?.(newValue);\n        }}\n      />\n      {!hideFooter && (\n        <DialogFooter dividerTop>\n          <Button\n            variant=\"text\"\n            size=\"xs\"\n            onClick={() => {\n              close();\n            }}\n          >\n            <Trans message=\"Cancel\" />\n          </Button>\n          <Button\n            variant=\"flat\"\n            color=\"primary\"\n            size=\"xs\"\n            onClick={() => {\n              close(value);\n            }}\n          >\n            <Trans message=\"Apply\" />\n          </Button>\n        </DialogFooter>\n      )}\n    </Dialog>\n  );\n}\n","import {useFormContext, UseFormReturn} from 'react-hook-form';\nimport {Form} from '@common/ui/forms/form';\nimport {Tabs} from '@common/ui/tabs/tabs';\nimport {TabList} from '@common/ui/tabs/tab-list';\nimport {Tab} from '@common/ui/tabs/tab';\nimport {Trans} from '@common/i18n/trans';\nimport {TabPanel, TabPanels} from '@common/ui/tabs/tab-panels';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {FormSelect} from '@common/ui/forms/select/select';\nimport {\n  LinkOverlayColors,\n  LinkOverlayPositions,\n  LinkOverlayThemes,\n} from '@app/dashboard/link-overlays/crupdate/link-overlay-constants';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {OverlayWebsiteBackground} from './overlay-website-background';\nimport {Fragment, ReactElement} from 'react';\nimport {FloatingLinkOverlay} from '@app/short-links/floating-link-overlay';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {ColorIcon} from '@common/admin/appearance/sections/themes/color-icon';\nimport {ColorPickerDialog} from '@common/ui/color-picker/color-picker-dialog';\nimport {LinkOverlay} from '@app/dashboard/link-overlays/link-overlay';\nimport {ButtonBase} from '@common/ui/buttons/button-base';\nimport {KeyboardArrowRightIcon} from '@common/icons/material/KeyboardArrowRight';\nimport {Button, ButtonProps} from '@common/ui/buttons/button';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {CrupdateLinkOverlayPayload} from '@app/dashboard/link-overlays/crupdate/crupdate-link-overlay-payload';\nimport {FormImageSelector} from '@common/ui/images/image-selector';\n\ninterface CrupdateLinkOverlayFormProps {\n  isLoading: boolean;\n  form: UseFormReturn<CrupdateLinkOverlayPayload>;\n  onSubmit: (values: CrupdateLinkOverlayPayload) => void;\n}\nexport function CrupdateLinkOverlayForm({\n  form,\n  isLoading,\n  onSubmit,\n}: CrupdateLinkOverlayFormProps) {\n  return (\n    <Form form={form} onSubmit={onSubmit} className=\"flex h-full\">\n      <div className=\"flex-shrink-0 w-full md:w-288 px-16 md:border-r md:shadow-lg h-full overflow-y-auto\">\n        <Tabs>\n          <TabList expand>\n            <Tab>\n              <Trans message=\"General\" />\n            </Tab>\n            <Tab>\n              <Trans message=\"Style\" />\n            </Tab>\n          </TabList>\n          <TabPanels className=\"my-24\">\n            <TabPanel>\n              <GeneralFields />\n              <SaveButton disabled={isLoading} />\n            </TabPanel>\n            <TabPanel>\n              <StyleFields />\n              <SaveButton disabled={isLoading} className=\"mt-14\" />\n            </TabPanel>\n          </TabPanels>\n        </Tabs>\n      </div>\n      <div className=\"flex-auto relative hidden md:block\">\n        <OverlayWebsiteBackground />\n        <OverlayPreview />\n      </div>\n    </Form>\n  );\n}\n\nfunction SaveButton(props: ButtonProps) {\n  return (\n    <Button type=\"submit\" variant=\"flat\" color=\"primary\" {...props}>\n      <Trans message=\"Save\" />\n    </Button>\n  );\n}\n\nfunction BackgroundField() {\n  return (\n    <FormImageSelector\n      className=\"mb-20\"\n      name=\"colors.bg-image\"\n      label={<Trans message=\"Background image\" />}\n      diskPrefix=\"overlays\"\n      showRemoveButton\n    />\n  );\n}\n\ninterface ColorFieldProps {\n  name: keyof LinkOverlay['colors'];\n  children: ReactElement;\n}\nfunction ColorField({name, children}: ColorFieldProps) {\n  const {watch, setValue} = useFormContext<CrupdateLinkOverlayPayload>();\n  const color = watch(`colors.${name}`);\n\n  return (\n    <DialogTrigger\n      currentValue={color}\n      type=\"popover\"\n      placement=\"right\"\n      offset={10}\n      onClose={newColor => {\n        setValue(`colors.${name}`, newColor);\n      }}\n    >\n      <ButtonBase className=\"flex items-center gap-10 w-full rounded border text-sm h-54 px-14 mb-10 bg relative hover:bg-hover\">\n        <ColorIcon\n          viewBox=\"0 0 48 48\"\n          className=\"icon-lg\"\n          style={{fill: color}}\n        />\n        <div>{children}</div>\n        <KeyboardArrowRightIcon className=\"icon-sm text-muted ml-auto\" />\n      </ButtonBase>\n      <ColorPickerDialog\n        defaultValue={color}\n        onChange={newColor => {\n          setValue(`colors.${name}`, newColor);\n        }}\n      />\n    </DialogTrigger>\n  );\n}\n\nfunction StyleFields() {\n  return (\n    <Fragment>\n      <FileUploadProvider>\n        <BackgroundField />\n      </FileUploadProvider>\n      {LinkOverlayColors.map(({key, label}) => (\n        <ColorField name={key} key={key}>\n          <Trans {...label} />\n        </ColorField>\n      ))}\n    </Fragment>\n  );\n}\n\nfunction GeneralFields() {\n  return (\n    <Fragment>\n      <FormTextField\n        name=\"name\"\n        label={<Trans message=\"Name\" />}\n        className=\"mb-24\"\n        required\n      />\n      <FormSelect\n        name=\"position\"\n        selectionMode=\"single\"\n        label={<Trans message=\"Position\" />}\n        className=\"mb-24\"\n      >\n        {LinkOverlayPositions.map(position => (\n          <Item key={position.key} value={position.key}>\n            <Trans {...position.label} />\n          </Item>\n        ))}\n      </FormSelect>\n      <FormSelect\n        name=\"theme\"\n        selectionMode=\"single\"\n        label={<Trans message=\"Theme\" />}\n        className=\"mb-24\"\n      >\n        {LinkOverlayThemes.map(theme => (\n          <Item key={theme.key} value={theme.key}>\n            <Trans {...theme.label} />\n          </Item>\n        ))}\n      </FormSelect>\n      <FormTextField\n        name=\"message\"\n        label={<Trans message=\"Message\" />}\n        inputElementType=\"textarea\"\n        maxLength={200}\n        rows={2}\n        className=\"mb-24\"\n      />\n      <FormTextField\n        name=\"label\"\n        label={<Trans message=\"Label\" />}\n        maxLength={8}\n        className=\"mb-24\"\n      />\n      <FormTextField\n        type=\"url\"\n        name=\"btn_link\"\n        label={<Trans message=\"Button link\" />}\n        className=\"mb-24\"\n      />\n      <FormTextField\n        name=\"btn_text\"\n        label={<Trans message=\"Button text\" />}\n        maxLength={30}\n        className=\"mb-24\"\n      />\n    </Fragment>\n  );\n}\n\nfunction OverlayPreview() {\n  const {watch} = useFormContext<CrupdateLinkOverlayPayload>();\n  const values = watch();\n  return <FloatingLinkOverlay overlay={values} />;\n}\n","import {useForm} from 'react-hook-form';\nimport {useCreateLinkOverlay} from '@app/dashboard/link-overlays/requests/use-create-link-overlay';\nimport {CrupdateLinkOverlayForm} from '@app/dashboard/link-overlays/crupdate/crupdate-link-overlay-form';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {CrupdateLinkOverlayPayload} from '@app/dashboard/link-overlays/crupdate/crupdate-link-overlay-payload';\n\nexport function CreateLinkOverlayPage() {\n  const {trans} = useTrans();\n  const navigate = useNavigate();\n  const form = useForm<CrupdateLinkOverlayPayload>({\n    defaultValues: {\n      position: 'bottom-left',\n      theme: 'default',\n      label: trans(message('Label')),\n      message: trans(message('Your message here')),\n      btn_text: trans(message('Button text')),\n      btn_link: 'https://google.com',\n      colors: {\n        'bg-color': 'rgb(61, 75, 101)',\n        'text-color': 'rgb(255, 255, 255)',\n        'label-bg-color': 'rgb(255, 255, 255)',\n        'label-color': 'rgb(0, 0, 0)',\n      },\n    },\n  });\n  const createOverlay = useCreateLinkOverlay(form);\n  return (\n    <CrupdateLinkOverlayForm\n      form={form}\n      isLoading={createOverlay.isLoading}\n      onSubmit={values => {\n        createOverlay.mutate(values, {\n          onSuccess: () => navigate('..', {relative: 'path'}),\n        });\n      }}\n    />\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {LinkOverlay} from '@app/dashboard/link-overlays/link-overlay';\n\nexport const linkOverlayEndpoint = (overlayId: number | string) =>\n  `link-overlay/${overlayId}`;\n\nexport interface GetLinkOverlayResponse extends BackendResponse {\n  linkOverlay: LinkOverlay;\n}\n\nexport function useLinkOverlay(overlayId: number | string) {\n  return useQuery([linkOverlayEndpoint(overlayId)], () =>\n    getLinkOverlay(overlayId)\n  );\n}\n\nfunction getLinkOverlay(\n  overlayId: number | string\n): Promise<GetLinkOverlayResponse> {\n  return apiClient\n    .get(linkOverlayEndpoint(overlayId))\n    .then(response => response.data);\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {message} from '@common/i18n/message';\nimport {toast} from '@common/ui/toast/toast';\nimport {UseFormReturn} from 'react-hook-form';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {CrupdateLinkOverlayPayload} from '@app/dashboard/link-overlays/crupdate/crupdate-link-overlay-payload';\nimport {linkOverlayEndpoint} from '@app/dashboard/link-overlays/requests/use-link-overlay';\n\ninterface Response extends BackendResponse {}\n\nexport function useUpdateLinkOverlay(\n  overlayId: number | string,\n  form: UseFormReturn<CrupdateLinkOverlayPayload>\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (payload: CrupdateLinkOverlayPayload) => createOverlay(overlayId, payload),\n    {\n      onSuccess: () => {\n        toast.positive(trans(message('Overlay updated')));\n        queryClient.invalidateQueries(\n          PaginatedResourcesQueryKey('link-overlay')\n        );\n        queryClient.invalidateQueries([linkOverlayEndpoint(overlayId)]);\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction createOverlay(\n  overlayId: number | string,\n  payload: CrupdateLinkOverlayPayload\n): Promise<Response> {\n  return apiClient.put(`link-overlay/${overlayId}`, payload).then(r => r.data);\n}\n","import {useForm} from 'react-hook-form';\nimport {CrupdateLinkOverlayForm} from '@app/dashboard/link-overlays/crupdate/crupdate-link-overlay-form';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {CrupdateLinkOverlayPayload} from '@app/dashboard/link-overlays/crupdate/crupdate-link-overlay-payload';\nimport {useParams} from 'react-router-dom';\nimport {useLinkOverlay} from '@app/dashboard/link-overlays/requests/use-link-overlay';\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\nimport {LinkOverlay} from '@app/dashboard/link-overlays/link-overlay';\nimport {useUpdateLinkOverlay} from '@app/dashboard/link-overlays/requests/use-update-link-overlay';\n\nexport function UpdateLinkOverlayPage() {\n  const {overlayId} = useParams();\n  const {data, isLoading, isError} = useLinkOverlay(overlayId!);\n\n  if (isLoading) {\n    return <FullPageLoader />;\n  }\n\n  if (isError) {\n    return null;\n  }\n\n  return <PageContent overlay={data.linkOverlay} />;\n}\n\ninterface PageContentProps {\n  overlay: LinkOverlay;\n}\nfunction PageContent({overlay}: PageContentProps) {\n  const navigate = useNavigate();\n  const form = useForm<CrupdateLinkOverlayPayload>({\n    defaultValues: {\n      name: overlay.name,\n      position: overlay.position,\n      theme: overlay.theme,\n      label: overlay.label,\n      message: overlay.message,\n      btn_text: overlay.btn_text,\n      btn_link: overlay.btn_link,\n      colors: overlay.colors,\n    },\n  });\n  const updateOverlay = useUpdateLinkOverlay(overlay.id, form);\n  return (\n    <CrupdateLinkOverlayForm\n      form={form}\n      isLoading={updateOverlay.isLoading}\n      onSubmit={values => {\n        updateOverlay.mutate(values, {\n          onSuccess: () => navigate('../..', {relative: 'path'}),\n        });\n      }}\n    />\n  );\n}\n","export default \"__VITE_ASSET__2040a197__\"","import {ColumnConfig} from '@common/datatable/column-config';\nimport {Trans} from '@common/i18n/trans';\nimport {FormattedNumber} from '@common/i18n/formatted-number';\nimport {CheckIcon} from '@common/icons/material/Check';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {FormattedDate} from '@common/i18n/formatted-date';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {Link, Link as RouterLink} from 'react-router-dom';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport React, {Fragment} from 'react';\nimport {ShareLinkButton} from '@app/dashboard/links/sharing/share-link-button';\nimport {NameWithAvatar} from '@common/datatable/column-templates/name-with-avatar';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\nimport {CustomDomain} from '@common/custom-domains/custom-domain';\nimport {useDefaultCustomDomainHost} from '@common/custom-domains/use-default-custom-domain-host';\nimport {removeProtocol} from '@common/utils/urls/remove-protocol';\nimport {useLinkFormValueLists} from '@app/dashboard/links/requests/use-link-form-value-lists';\nimport {BarChartIcon} from '@common/icons/material/BarChart';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\nimport {LinkStyle} from '@common/ui/buttons/external-link';\n\nexport const BiolinksDatatableColumns: ColumnConfig<Biolink>[] = [\n  {\n    key: 'name',\n    allowsSorting: true,\n    header: () => <Trans message=\"Name\" />,\n    // prevent long names from overflowing the table\n    width: 'w-5/6 max-w-200',\n    body: biolink => (\n      <a\n        className={LinkStyle}\n        href={biolink.short_url}\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        {biolink.name}\n      </a>\n    ),\n  },\n  {\n    key: 'clicks_count',\n    allowsSorting: true,\n    header: () => <Trans message=\"Clicks\" />,\n    body: biolink =>\n      biolink.clicks_count ? (\n        <FormattedNumber value={biolink.clicks_count} />\n      ) : (\n        '-'\n      ),\n  },\n  {\n    key: 'domain_id',\n    allowsSorting: true,\n    header: () => <Trans message=\"Domain\" />,\n    body: biolink => <DomainColumn model={biolink} />,\n  },\n  {\n    key: 'user_id',\n    allowsSorting: true,\n    header: () => <Trans message=\"Owner\" />,\n    body: biolink => {\n      if (!biolink.user) return '';\n      return (\n        <NameWithAvatar\n          image={biolink.user.avatar}\n          label={biolink.user.display_name}\n          description={biolink.user.email}\n        />\n      );\n    },\n  },\n  {\n    key: 'links_count',\n    allowsSorting: true,\n    header: () => <Trans message=\"Links\" />,\n    body: biolink =>\n      biolink.links_count ? (\n        <FormattedNumber value={biolink.links_count} />\n      ) : (\n        '-'\n      ),\n  },\n  {\n    key: 'active',\n    allowsSorting: true,\n    header: () => <Trans message=\"Active\" />,\n    body: biolink =>\n      biolink.active ? (\n        <CheckIcon className=\"icon-md text-positive\" />\n      ) : (\n        <CloseIcon className=\"icon-md text-danger\" />\n      ),\n  },\n  {\n    key: 'updated_at',\n    allowsSorting: true,\n    header: () => <Trans message=\"Last updated\" />,\n    body: link =>\n      link.updated_at ? <FormattedDate date={link.updated_at} /> : '',\n  },\n  {\n    key: 'actions',\n    header: () => <Trans message=\"Actions\" />,\n    hideHeader: true,\n    align: 'end',\n    body: biolink => (\n      <div className=\"text-muted\">\n        <Tooltip label={<Trans message=\"Clicks report\" />}>\n          <RouterLink to={`${biolink.id}`}>\n            <IconButton size=\"md\">\n              <BarChartIcon />\n            </IconButton>\n          </RouterLink>\n        </Tooltip>\n        <ShareLinkButton link={biolink} />\n        <PermissionAwareButton resource={biolink} action=\"update\">\n          <Link to={`${biolink.id}/edit/content`}>\n            <IconButton size=\"md\">\n              <EditIcon />\n            </IconButton>\n          </Link>\n        </PermissionAwareButton>\n      </div>\n    ),\n  },\n];\n\ninterface DomainColumnProps {\n  model: {\n    domain_id?: number;\n    domain?: CustomDomain;\n  };\n}\nexport function DomainColumn({model}: DomainColumnProps) {\n  const {data} = useLinkFormValueLists();\n  const defaultHost = useDefaultCustomDomainHost(data?.domains);\n  if (model.domain_id === 0 && defaultHost) {\n    return <Fragment>{defaultHost}</Fragment>;\n  }\n  if (model.domain_id && model.domain) {\n    return <Fragment>{removeProtocol(model.domain.host)}</Fragment>;\n  }\n  return <Trans message=\"All domains\" />;\n}\n","import {\n  ALL_PRIMITIVE_OPERATORS,\n  BackendFilter,\n  FilterControlType,\n  FilterOperator,\n} from '@common/datatable/filters/backend-filter';\nimport {message} from '@common/i18n/message';\nimport {\n  CreatedAtFilter,\n  UpdatedAtFilter,\n} from '@common/datatable/filters/timestamp-filters';\nimport {USER_MODEL} from '@common/auth/user';\n\nexport const BiolinksDatatableFilters: BackendFilter[] = [\n  new BackendFilter({\n    type: FilterControlType.Select,\n    key: 'active',\n    label: message('Status'),\n    description: message('Whether biolink is disabled or not'),\n    defaultValue: '01',\n    defaultOperator: FilterOperator.eq,\n    options: [\n      {\n        key: '01',\n        label: message('Enabled'),\n        value: true,\n      },\n      {\n        key: '02',\n        label: message('Disabled'),\n        value: false,\n      },\n    ],\n  }),\n  new BackendFilter({\n    type: FilterControlType.Input,\n    inputType: 'number',\n    key: 'clicks_count',\n    label: message('Clicks count'),\n    description: message('Number of times this biolink was visited'),\n    defaultValue: 1,\n    defaultOperator: FilterOperator.gte,\n    operators: ALL_PRIMITIVE_OPERATORS,\n  }),\n  new BackendFilter({\n    type: FilterControlType.Input,\n    inputType: 'number',\n    key: 'links_count',\n    label: message('Link count'),\n    description: message('Number of links in the biolink'),\n    defaultValue: 1,\n    defaultOperator: FilterOperator.gte,\n    operators: ALL_PRIMITIVE_OPERATORS,\n  }),\n  new CreatedAtFilter({\n    description: message('Date biolink was created'),\n  }),\n  new UpdatedAtFilter({\n    description: message('Date biolink was last updated'),\n  }),\n  new BackendFilter({\n    type: FilterControlType.SelectModel,\n    model: USER_MODEL,\n    key: 'user_id',\n    label: message('User'),\n    description: message('User biolink was created by'),\n  }),\n];\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {CrupdateBiolinkFormValues} from '../crupdate/crupdate-biolink-form-values';\nimport {buildLinkeablePayload} from '@app/dashboard/links/utils/build-linkeable-payload';\nimport {CrupdateBiolinkPayload} from '@app/dashboard/biolink/biolink-editor/requests/use-update-biolink';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\n\ninterface Response extends BackendResponse {\n  biolink: Biolink;\n}\n\nexport function useCreateBiolink(\n  form: UseFormReturn<CrupdateBiolinkFormValues>\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (props: CrupdateBiolinkFormValues) => createLinkGroup(props),\n    {\n      onSuccess: () => {\n        toast.positive(trans(message('Biolink created')));\n        queryClient.invalidateQueries(PaginatedResourcesQueryKey('biolink'));\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction createLinkGroup(\n  payload: CrupdateBiolinkFormValues\n): Promise<Response> {\n  return apiClient\n    .post('biolink', buildLinkeablePayload<CrupdateBiolinkPayload>(payload))\n    .then(r => r.data);\n}\n","import {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {CrupdateBiolinkFormValues} from './crupdate-biolink-form-values';\nimport {useForm} from 'react-hook-form';\nimport {useCreateBiolink} from '../requests/use-create-biolink';\nimport {nanoid} from 'nanoid';\nimport {useSettings} from '@common/core/settings/use-settings';\nimport {useRecaptcha} from '@common/recaptcha/use-recaptcha';\nimport {Form} from '@common/ui/forms/form';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {AliasField} from '@app/dashboard/links/forms/alias-field';\nimport {LinkDomainSelect} from '@app/dashboard/links/forms/link-domain-select';\nimport {FormSwitch} from '@common/ui/forms/toggle/switch';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\n\nexport function CreateBiolinkDialog() {\n  const navigate = useNavigate();\n  const {formId, close} = useDialogContext();\n  const {custom_domains} = useSettings();\n  const {verify, isVerifying} = useRecaptcha('link_creation');\n\n  const form = useForm<CrupdateBiolinkFormValues>({\n    defaultValues: {\n      active: true,\n      hash: nanoid(6),\n      domain_id: custom_domains?.allow_all_option ? undefined : 0,\n    },\n  });\n  const createBiolink = useCreateBiolink(form);\n\n  const handleSubmit = async (values: CrupdateBiolinkFormValues) => {\n    const isValid = await verify();\n    if (isValid) {\n      createBiolink.mutate(values, {\n        onSuccess: response => {\n          close();\n          navigate(`${response.biolink.id}/edit`);\n        },\n      });\n    }\n  };\n\n  return (\n    <Dialog size=\"md\">\n      <DialogHeader>\n        <Trans message=\"Create biolink\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onBeforeSubmit={() => {\n            // hook form won't clear errors for fields that are not bound to input\n            form.clearErrors('hash');\n          }}\n          onSubmit={handleSubmit}\n        >\n          <div className=\"mb-24\">\n            <FormTextField\n              name=\"name\"\n              label={<Trans message=\"Name\" />}\n              minLength={3}\n              className=\"mb-8\"\n              autoFocus\n            />\n            <AliasField form={form} name=\"hash\" />\n          </div>\n          <LinkDomainSelect name=\"domain_id\" className=\"mb-24\" />\n          <FormTextField\n            name=\"description\"\n            className=\"mb-24\"\n            label={<Trans message=\"Description\" />}\n            inputElementType=\"textarea\"\n            rows={2}\n          />\n          <FormSwitch\n            name=\"active\"\n            description={\n              <Trans message=\"Whether this biolink is viewable publicly.\" />\n            }\n            className=\"mb-24\"\n          >\n            <Trans message=\"Active\" />\n          </FormSwitch>\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={createBiolink.isLoading || isVerifying}\n        >\n          <Trans message=\"Create\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {useAuth} from '@common/auth/use-auth';\nimport React, {useEffect, useMemo} from 'react';\nimport {DataTablePage} from '@common/datatable/page/data-table-page';\nimport {Trans} from '@common/i18n/trans';\nimport {DeleteSelectedItemsAction} from '@common/datatable/page/delete-selected-items-action';\nimport {DataTableEmptyStateMessage} from '@common/datatable/page/data-table-emty-state-message';\nimport marketing from './marketing.svg';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {DataTableAddItemButton} from '@common/datatable/data-table-add-item-button';\nimport {BiolinksDatatableColumns} from './biolinks-datatable-columns';\nimport {BiolinksDatatableFilters} from './biolinks-datatable-filters';\nimport {CreateBiolinkDialog} from './crupdate/create-biolink-dialog';\nimport {useActiveWorkspaceId} from '@common/workspace/active-workspace-id-context';\nimport {InfoDialogTrigger} from '@common/ui/overlays/dialog/info-dialog-trigger/info-dialog-trigger';\nimport {prefetchLinkFormValueLists} from '@app/dashboard/links/requests/use-link-form-value-lists';\nimport {PermissionAwareButton} from '@app/dashboard/upgrade/permission-aware-button';\n\ninterface LinkGroupsDatatablePageProps {\n  forCurrentUser?: boolean;\n}\nexport function BioLinksDatatablePage({\n  forCurrentUser,\n}: LinkGroupsDatatablePageProps) {\n  const {user} = useAuth();\n  const {workspaceId} = useActiveWorkspaceId();\n  const {filters, columns} = useMemo(() => {\n    const columns = !forCurrentUser\n      ? BiolinksDatatableColumns\n      : BiolinksDatatableColumns.filter(col => col.key !== 'user_id');\n\n    const filters = !forCurrentUser\n      ? BiolinksDatatableFilters\n      : BiolinksDatatableFilters.filter(filter => filter.key !== 'user_id');\n\n    return {filters, columns};\n  }, [forCurrentUser]);\n\n  useEffect(() => {\n    prefetchLinkFormValueLists();\n  }, []);\n\n  const userId = forCurrentUser ? user?.id : '';\n  return (\n    <DataTablePage\n      endpoint=\"biolink\"\n      queryParams={{\n        userId,\n        withCount: 'links',\n        with: 'user,domain',\n        workspaceId,\n      }}\n      title={<Trans message=\"Biolinks\" />}\n      headerContent={<InfoTrigger />}\n      filters={filters}\n      columns={columns}\n      actions={<Actions />}\n      selectedActions={\n        <PermissionAwareButton resource=\"biolink\" action=\"delete\">\n          <DeleteSelectedItemsAction />\n        </PermissionAwareButton>\n      }\n      emptyStateMessage={\n        <DataTableEmptyStateMessage\n          image={marketing}\n          title={<Trans message=\"No biolinks have been created yet\" />}\n          filteringTitle={<Trans message=\"No matching biolinks\" />}\n        />\n      }\n    />\n  );\n}\n\nfunction InfoTrigger() {\n  return (\n    <InfoDialogTrigger\n      title={<Trans message=\"Link in bio\" />}\n      body={\n        <Trans message=\"Offer multiple choices to your followers when they click on your Biolink. Share all your Social Media profiles, videos, songs, articles and other important links with just one url.\" />\n      }\n    />\n  );\n}\n\nfunction Actions() {\n  return (\n    <PermissionAwareButton resource=\"biolink\" action=\"create\">\n      <DialogTrigger type=\"modal\">\n        <DataTableAddItemButton>\n          <Trans message=\"New biolink\" />\n        </DataTableAddItemButton>\n        <CreateBiolinkDialog />\n      </DialogTrigger>\n    </PermissionAwareButton>\n  );\n}\n","import {useQuery} from '@tanstack/react-query';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {PaginatedBackendResponse} from '@common/http/backend-response/pagination-response';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\nimport {useParams} from 'react-router-dom';\n\nexport interface FetchBiolinkResponse extends BackendResponse {\n  biolink: Biolink;\n}\n\ninterface FetchBiolinkParams {\n  loadContent?: boolean;\n}\n\nexport const biolinkQueryKey = (\n  biolinkId: string | number,\n  params?: FetchBiolinkParams\n) => {\n  return PaginatedResourcesQueryKey(\n    `biolink/${biolinkId}`,\n    params as Record<string, string | boolean> | undefined\n  );\n};\n\nexport function useBiolink() {\n  const {biolinkId} = useParams();\n  return useQuery(biolinkQueryKey(biolinkId!), () => fetchBiolink(biolinkId!), {\n    initialData: seedInitialDataFromPaginatedList(biolinkId!),\n  });\n}\n\nexport function fetchBiolink(\n  biolinkId: number | string,\n  params?: FetchBiolinkParams\n): Promise<FetchBiolinkResponse> {\n  return apiClient\n    .get(`biolink/${biolinkId}`, {params})\n    .then(response => response.data);\n}\n\nfunction seedInitialDataFromPaginatedList(biolinkId: number | string) {\n  const biolink = queryClient\n    .getQueryData<PaginatedBackendResponse<Biolink>>(\n      PaginatedResourcesQueryKey('biolink'),\n      {exact: false}\n    )\n    ?.pagination?.data.find(link => link.id === +biolinkId);\n  return biolink ? {biolink} : undefined;\n}\n","import {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {ClicksReportPageLayout} from '@app/dashboard/reports/clicks/clicks-report-page-layout';\nimport {Breadcrumb} from '@common/ui/breadcrumbs/breadcrumb';\nimport {BreadcrumbItem} from '@common/ui/breadcrumbs/breadcrumb-item';\nimport {useNavigate} from '@common/utils/hooks/use-navigate';\nimport {useParams} from 'react-router-dom';\nimport {ShareLinkButton} from '@app/dashboard/links/sharing/share-link-button';\nimport clsx from 'clsx';\nimport {useBiolink} from '@app/dashboard/biolink/biolinks-datatable-page/requests/use-biolink';\n\nexport function BiolinkClicksReportPage() {\n  const navigate = useNavigate();\n  const {biolinkId} = useParams();\n  const query = useBiolink();\n  const biolink = query.data?.biolink;\n\n  return (\n    <ClicksReportPageLayout\n      model={`biolink=${biolinkId}`}\n      title={\n        <Breadcrumb size=\"xl\" className={clsx(query.isLoading && 'invisible')}>\n          <BreadcrumbItem\n            onSelected={() => {\n              navigate('..', {relative: 'path'});\n            }}\n          >\n            <Trans message=\"Biolinks\" />\n          </BreadcrumbItem>\n          <BreadcrumbItem className=\"first-letter:capitalize\">\n            <Trans message=\":name clicks\" values={{name: biolink?.name}} />\n          </BreadcrumbItem>\n        </Breadcrumb>\n      }\n      actions={\n        biolink && (\n          <ShareLinkButton\n            className=\"flex-shrink-0 text-muted\"\n            link={biolink}\n          />\n        )\n      }\n    />\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const WidgetsIcon = createSvgIcon(\n  <path d=\"m16.66 4.52 2.83 2.83-2.83 2.83-2.83-2.83 2.83-2.83M9 5v4H5V5h4m10 10v4h-4v-4h4M9 15v4H5v-4h4m7.66-13.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65zM11 3H3v8h8V3zm10 10h-8v8h8v-8zm-10 0H3v8h8v-8z\" />\n, 'WidgetsOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const AnimationIcon = createSvgIcon(\n  <path d=\"M15 2c-2.71 0-5.05 1.54-6.22 3.78-1.28.67-2.34 1.72-3 3C3.54 9.95 2 12.29 2 15c0 3.87 3.13 7 7 7 2.71 0 5.05-1.54 6.22-3.78 1.28-.67 2.34-1.72 3-3C20.46 14.05 22 11.71 22 9c0-3.87-3.13-7-7-7zM9 20c-2.76 0-5-2.24-5-5 0-1.12.37-2.16 1-3 0 3.87 3.13 7 7 7-.84.63-1.88 1-3 1zm3-3c-2.76 0-5-2.24-5-5 0-1.12.37-2.16 1-3 0 3.86 3.13 6.99 7 7-.84.63-1.88 1-3 1zm4.7-3.3c-.53.19-1.1.3-1.7.3-2.76 0-5-2.24-5-5 0-.6.11-1.17.3-1.7.53-.19 1.1-.3 1.7-.3 2.76 0 5 2.24 5 5 0 .6-.11 1.17-.3 1.7zM19 12c0-3.86-3.13-6.99-7-7 .84-.63 1.87-1 3-1 2.76 0 5 2.24 5 5 0 1.12-.37 2.16-1 3z\" />\n, 'AnimationOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const ShortcutIcon = createSvgIcon(\n  <path d=\"m15 5-1.41 1.41L15 7.83 17.17 10H8c-2.76 0-5 2.24-5 5v4h2v-4c0-1.65 1.35-3 3-3h9.17L15 14.17l-1.41 1.41L15 17l6-6-6-6z\" />\n, 'ShortcutOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const MoreTimeIcon = createSvgIcon(\n  [<path d=\"M10 8v6l4.7 2.9.8-1.2-4-2.4V8z\" key=\"0\" />,<path d=\"M17.92 12c.05.33.08.66.08 1 0 3.9-3.1 7-7 7s-7-3.1-7-7 3.1-7 7-7c.7 0 1.37.1 2 .29V4.23c-.64-.15-1.31-.23-2-.23-5 0-9 4-9 9s4 9 9 9 9-4 9-9c0-.34-.02-.67-.06-1h-2.02z\" key=\"1\" />,<path d=\"M20 5V2h-2v3h-3v2h3v3h2V7h3V5z\" key=\"2\" />,]\n, 'MoreTimeOutlined');\n","import {ReactNode} from 'react';\nimport clsx from 'clsx';\n\ninterface SectionHelperProps {\n  title?: ReactNode;\n  description?: ReactNode;\n  actions?: ReactNode;\n  color?: 'positive' | 'danger' | 'warning' | 'primary';\n  className?: string;\n}\nexport function SectionHelper({\n  title,\n  description,\n  actions,\n  color = 'primary',\n  className,\n}: SectionHelperProps) {\n  return (\n    <div\n      className={clsx(\n        className,\n        'p-10 rounded border-l-4',\n        color === 'positive' && 'bg-positive/focus border-l-positive',\n        color === 'warning' && 'bg-warning/focus border-l-warning',\n        color === 'danger' && 'bg-danger/focus border-l-danger',\n        color === 'primary' && 'bg-primary/focus border-l-primary'\n      )}\n    >\n      {title && <div className=\"text-sm mb-4 font-medium\">{title}</div>}\n      {description && <div className=\"text-sm\">{description}</div>}\n      {actions && <div className=\"mt-14\">{actions}</div>}\n    </div>\n  );\n}\n","import create from 'zustand';\nimport {immer} from 'zustand/middleware/immer';\nimport {Biolink, BiolinkAppearance} from '@app/dashboard/biolink/biolink';\n\ninterface BiolinkEditorState {\n  appearance: BiolinkAppearance | null;\n  appearanceIsDirty: boolean;\n  setAppearanceIsDirty: (isDirty: boolean) => void;\n  biolink: Omit<Biolink, 'appearance'> | null;\n  updateAppearance: (payload: BiolinkAppearance) => void;\n  setBiolink: (biolink: Biolink) => void;\n}\n\nexport const useBiolinkEditorStore = create<BiolinkEditorState>()(\n  immer((set, get) => ({\n    appearance: null,\n    appearanceIsDirty: false,\n    setAppearanceIsDirty: (isDirty: boolean) => {\n      set(state => {\n        state.appearanceIsDirty = isDirty;\n      });\n    },\n    biolink: null,\n    setBiolink: biolink => {\n      set(state => {\n        state.biolink = biolink;\n        // don't override user appearance changes in the editor when biolink reloads from backend\n        if (!state.appearanceIsDirty) {\n          state.appearance = biolink.appearance?.config || null;\n        }\n      });\n    },\n    updateAppearance(payload: BiolinkAppearance) {\n      set(state => {\n        state.appearanceIsDirty = true;\n        state.appearance = {\n          ...state.appearance,\n          ...payload,\n        };\n      });\n    },\n  }))\n);\n\nexport function biolinkEditorState() {\n  return useBiolinkEditorStore.getState();\n}\n","import {useParams} from 'react-router-dom';\nimport {useQuery} from '@tanstack/react-query';\nimport {\n  biolinkQueryKey,\n  fetchBiolink,\n  FetchBiolinkResponse,\n} from '@app/dashboard/biolink/biolinks-datatable-page/requests/use-biolink';\nimport {\n  biolinkEditorState,\n  useBiolinkEditorStore,\n} from '@app/dashboard/biolink/biolink-editor/biolink-editor-store';\nimport {queryClient} from '@common/http/query-client';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\n\nconst params = {\n  loadContent: true,\n};\n\nexport function useEditorBiolink() {\n  const biolinkId = useEditorBiolinkId();\n  const biolink = useBiolinkEditorStore(s => s.biolink);\n  const query = useQuery(\n    biolinkQueryKey(biolinkId, params),\n    () => fetchBiolink(biolinkId, params),\n    {\n      onSuccess: response => {\n        biolinkEditorState().setBiolink(response.biolink);\n      },\n    }\n  );\n\n  return {isLoading: query.isLoading, biolink, status: query.status, biolinkId};\n}\n\nexport function useEditorBiolinkId(): number {\n  const {biolinkId} = useParams();\n  return +biolinkId!;\n}\n\nexport function setEditorBiolink(biolink: Biolink) {\n  // \"onSuccess\" is not called for some reason when using \"setQueryData\"\n  biolinkEditorState().setBiolink(biolink);\n  queryClient.setQueryData<FetchBiolinkResponse>(\n    biolinkQueryKey(biolink.id, params),\n    {biolink}\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {message} from '@common/i18n/message';\nimport {\n  Biolink,\n  BiolinkLink,\n  BiolinkWidget,\n} from '@app/dashboard/biolink/biolink';\nimport {\n  setEditorBiolink,\n  useEditorBiolinkId,\n} from '@app/dashboard/biolink/biolink-editor/requests/use-editor-biolink';\nimport {BiolinkItemPayload} from '@app/dashboard/biolink/biolink-editor/content/biolink-item-payload';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {\n  biolink: Biolink;\n}\n\ninterface Payload {\n  item: BiolinkLink | BiolinkWidget;\n  values: BiolinkItemPayload;\n}\n\nexport function useUpdateBiolinkContentItem() {\n  const biolinkId = useEditorBiolinkId();\n  return useMutation(\n    ({item, values}: Payload) => updateItem(biolinkId, item, values),\n    {\n      onSuccess: response => {\n        setEditorBiolink(response.biolink);\n      },\n      onError: err =>\n        showHttpErrorToast(err, message('Could not update content item')),\n    }\n  );\n}\n\nfunction updateItem(\n  biolinkId: number,\n  item: BiolinkLink | BiolinkWidget,\n  editorPayload: BiolinkItemPayload\n): Promise<Response> {\n  const backendPayload: BiolinkItemPayload & {\n    item_id: number;\n    item_model_type: string;\n  } = {\n    ...editorPayload,\n    item_id: item.id,\n    item_model_type: item.model_type,\n  };\n  return apiClient\n    .put(`biolink/${biolinkId}/content-item`, backendPayload)\n    .then(r => r.data);\n}\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {FormDatePicker} from '@common/ui/forms/input-field/date/date-picker/date-picker';\nimport {SectionHelper} from '@common/ui/section-helper';\nimport {Fragment, ReactNode, useMemo} from 'react';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {useForm} from 'react-hook-form';\nimport {BiolinkLink} from '@app/dashboard/biolink/biolink';\nimport {Form} from '@common/ui/forms/form';\nimport {useCurrentDateTime} from '@common/i18n/use-current-date-time';\nimport {parseAbsolute} from '@internationalized/date';\nimport {useUserTimezone} from '@common/i18n/use-user-timezone';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {BiolinkItemPayload} from '@app/dashboard/biolink/biolink-editor/content/biolink-item-payload';\nimport {useUpdateBiolinkContentItem} from '@app/dashboard/biolink/biolink-editor/requests/use-update-biolink-content-item';\n\ninterface LinkScheduleDialogProps {\n  link: BiolinkLink;\n}\nexport function LinkScheduleDialog({link}: LinkScheduleDialogProps) {\n  const now = useCurrentDateTime();\n  const timezone = useUserTimezone();\n  const {close, formId} = useDialogContext();\n  const form = useForm<BiolinkItemPayload>({\n    defaultValues: {\n      activates_at: link.activates_at,\n      expires_at: link.expires_at,\n    },\n  });\n  const updateItem = useUpdateBiolinkContentItem();\n  const activationDate = form.watch('activates_at');\n\n  const expirationMinDate = useMemo(() => {\n    if (activationDate) {\n      return parseAbsolute(activationDate, timezone);\n    }\n    return now;\n  }, [activationDate, now, timezone]);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Schedule\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          id={formId}\n          form={form}\n          onSubmit={async values => {\n            updateItem.mutate(\n              {\n                item: link,\n                values,\n              },\n              {\n                onSuccess: () => {\n                  toast.positive(message('Schedule updated'));\n                  close();\n                },\n              }\n            );\n          }}\n        >\n          <FormDatePicker\n            name=\"activates_at\"\n            min={now}\n            className=\"mb-24\"\n            label={<Trans message=\"Start date\" />}\n            showCalendarFooter\n          />\n          <FormDatePicker\n            name=\"expires_at\"\n            min={expirationMinDate}\n            className=\"mb-24\"\n            label={<Trans message=\"End date\" />}\n            showCalendarFooter\n          />\n        </Form>\n        <InfoSection />\n      </DialogBody>\n      <DialogFooter dividerTop>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={updateItem.isLoading || !form.formState.isDirty}\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n\nfunction InfoSection() {\n  const values = {\n    b: (parts: ReactNode) => <span className=\"font-bold\">{parts}</span>,\n  };\n\n  return (\n    <SectionHelper\n      description={\n        <Fragment>\n          <div>\n            <Trans\n              message=\"Leave <b>start date</b> blank to display this link immediately.\"\n              values={values}\n            />\n          </div>\n          <div>\n            <Trans\n              message=\"Leave <b>end date</b> blank to display this link forever.\"\n              values={values}\n            />\n          </div>\n        </Fragment>\n      }\n    />\n  );\n}\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {FormDatePicker} from '@common/ui/forms/input-field/date/date-picker/date-picker';\nimport {SectionHelper} from '@common/ui/section-helper';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {useForm} from 'react-hook-form';\nimport {BiolinkLink} from '@app/dashboard/biolink/biolink';\nimport {Form} from '@common/ui/forms/form';\nimport {useCurrentDateTime} from '@common/i18n/use-current-date-time';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {BiolinkItemPayload} from '@app/dashboard/biolink/biolink-editor/content/biolink-item-payload';\nimport {useUpdateBiolinkContentItem} from '@app/dashboard/biolink/biolink-editor/requests/use-update-biolink-content-item';\n\ninterface LinkScheduleDialogProps {\n  link: BiolinkLink;\n}\nexport function LeapLinkDialog({link}: LinkScheduleDialogProps) {\n  const now = useCurrentDateTime();\n  const {close, formId} = useDialogContext();\n  const form = useForm<BiolinkItemPayload>({\n    defaultValues: {\n      leap_until: link.leap_until,\n    },\n  });\n  const isDirty = form.formState.isDirty;\n  const updateItem = useUpdateBiolinkContentItem();\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans message=\"Redirect link\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          id={formId}\n          form={form}\n          onSubmit={async values => {\n            updateItem.mutate(\n              {\n                item: link,\n                values,\n              },\n              {\n                onSuccess: () => {\n                  toast.positive(message('Redirect link updated'));\n                  close();\n                },\n              }\n            );\n          }}\n        >\n          <FormDatePicker\n            required\n            name=\"leap_until\"\n            min={now}\n            className=\"mb-24\"\n            label={<Trans message=\"Redirect until\" />}\n            showCalendarFooter\n          />\n        </Form>\n        <InfoSection />\n      </DialogBody>\n      <DialogFooter dividerTop>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={!isDirty || updateItem.isLoading}\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n\nfunction InfoSection() {\n  return (\n    <SectionHelper\n      description={\n        <Trans message=\"Send all visitors straight to this link, instead of your Biolink, until the specified date. After that date, Biolink will resume to showing normally.\" />\n      }\n    />\n  );\n}\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {useForm} from 'react-hook-form';\nimport {BiolinkLink} from '@app/dashboard/biolink/biolink';\nimport {Form} from '@common/ui/forms/form';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {FormImageSelector} from '@common/ui/images/image-selector';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {BiolinkItemPayload} from '@app/dashboard/biolink/biolink-editor/content/biolink-item-payload';\nimport {useUpdateBiolinkContentItem} from '@app/dashboard/biolink/biolink-editor/requests/use-update-biolink-content-item';\n\ninterface LinkThumbnailDialogProps {\n  link: BiolinkLink;\n}\nexport function LinkThumbnailDialog({link}: LinkThumbnailDialogProps) {\n  const {close, formId} = useDialogContext();\n  const form = useForm<BiolinkItemPayload>({\n    defaultValues: {\n      image: link.image,\n    },\n  });\n  const updateItem = useUpdateBiolinkContentItem();\n  const isDirty = form.formState.isDirty;\n\n  return (\n    <Dialog size=\"sm\">\n      <DialogHeader>\n        <Trans message=\"Link thumbnail\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          id={formId}\n          form={form}\n          onSubmit={async values => {\n            updateItem.mutate(\n              {\n                item: link,\n                values,\n              },\n              {\n                onSuccess: () => {\n                  toast.positive(message('Thumbnail updated'));\n                  close();\n                },\n              }\n            );\n          }}\n        >\n          <FileUploadProvider>\n            <FormImageSelector\n              showRemoveButton\n              name=\"image\"\n              diskPrefix=\"links\"\n            />\n          </FileUploadProvider>\n        </Form>\n      </DialogBody>\n      <DialogFooter dividerTop>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={updateItem.isLoading || !isDirty}\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","export const LinkAnimationList = [\n  'none',\n  'bounce',\n  'flash',\n  'pulse',\n  'rubberBand',\n  'shakeX',\n  'shakeY',\n  'headShake',\n  'swing',\n  'tada',\n  'wobble',\n  'jello',\n  'heartBeat',\n];\n","import {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {useForm, useFormContext} from 'react-hook-form';\nimport {BiolinkLink} from '@app/dashboard/biolink/biolink';\nimport {Form} from '@common/ui/forms/form';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {LinkAnimationList} from '@app/dashboard/biolink/biolink-editor/content/link-content-item/link-animation-list';\nimport {useEffect, useState} from 'react';\nimport clsx from 'clsx';\nimport {SectionHelper} from '@common/ui/section-helper';\nimport {BiolinkItemPayload} from '@app/dashboard/biolink/biolink-editor/content/biolink-item-payload';\nimport {useUpdateBiolinkContentItem} from '@app/dashboard/biolink/biolink-editor/requests/use-update-biolink-content-item';\n\ninterface LinkAnimationDialogProps {\n  link: BiolinkLink;\n}\nexport function LinkAnimationDialog({link}: LinkAnimationDialogProps) {\n  const {close, formId} = useDialogContext();\n  const form = useForm<BiolinkItemPayload>({\n    defaultValues: {\n      animation: link.animation,\n    },\n  });\n  const isDirty = form.formState.isDirty;\n  const updateItem = useUpdateBiolinkContentItem();\n\n  useEffect(() => {\n    import('./animate.min.css');\n  }, []);\n\n  return (\n    <Dialog size=\"md\">\n      <DialogHeader>\n        <Trans message=\"Link animation\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          id={formId}\n          form={form}\n          onSubmit={async values => {\n            updateItem.mutate(\n              {\n                item: link,\n                values,\n              },\n              {\n                onSuccess: () => {\n                  toast.positive(message('Animation updated'));\n                  close();\n                },\n              }\n            );\n          }}\n        >\n          <SectionHelper\n            className=\"mb-24\"\n            description={\n              <Trans\n                message=\"Add animation to draw attention to this link. :br Selected animation will repeat five times by default.\"\n                values={{br: <br />}}\n              />\n            }\n          />\n          <div className=\"grid gap-14 grid-cols-[repeat(auto-fill,minmax(95px,1fr))]\">\n            {LinkAnimationList.map((animation, index) => (\n              <AnimationItem key={index} animationName={animation} />\n            ))}\n          </div>\n        </Form>\n      </DialogBody>\n      <DialogFooter dividerTop>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={updateItem.isLoading || !isDirty}\n        >\n          <Trans message=\"Save\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n\ninterface AnimationItemProps {\n  animationName: string;\n}\nfunction AnimationItem({animationName}: AnimationItemProps) {\n  const [isAnimating, setIsAnimating] = useState(false);\n  const {watch, setValue} = useFormContext<BiolinkItemPayload>();\n  const animation: string | null =\n    animationName === 'none' ? null : animationName;\n  const selectedAnimation = watch('animation');\n\n  return (\n    <button\n      type=\"button\"\n      onClick={() => {\n        setValue('animation', animation, {shouldDirty: true});\n      }}\n      onPointerEnter={() => {\n        setIsAnimating(true);\n      }}\n      onPointerLeave={() => {\n        setIsAnimating(false);\n      }}\n      className={clsx(\n        'border border-2 px-10 h-64 uppercase font-medium rounded flex items-center justify-center animate__animated',\n        isAnimating && `animate__${animationName}`,\n        selectedAnimation === animation && 'border-primary'\n      )}\n    >\n      {animationName}\n    </button>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const DragIndicatorIcon = createSvgIcon(\n  <path d=\"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z\" />\n, 'DragIndicatorOutlined');\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\nimport {\n  Biolink,\n  BiolinkLink,\n  BiolinkWidget,\n} from '@app/dashboard/biolink/biolink';\nimport {\n  setEditorBiolink,\n  useEditorBiolinkId,\n} from '@app/dashboard/biolink/biolink-editor/requests/use-editor-biolink';\n\ninterface Response extends BackendResponse {\n  biolink: Biolink;\n}\n\ninterface Payload {\n  item: BiolinkLink | BiolinkWidget;\n}\n\nexport function useDetachBiolinkContentItem() {\n  const biolinkId = useEditorBiolinkId();\n  return useMutation((payload: Payload) => detachItem(biolinkId, payload), {\n    onSuccess: response => {\n      setEditorBiolink(response.biolink);\n    },\n    onError: err => showHttpErrorToast(err),\n  });\n}\n\nfunction detachItem(biolinkId: number, payload: Payload): Promise<Response> {\n  return apiClient\n    .post(`biolink/${biolinkId}/content-item/detach`, payload)\n    .then(r => r.data);\n}\n","import {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {CloseIcon} from '@common/icons/material/Close';\nimport {ConfirmationDialog} from '@common/ui/overlays/dialog/confirmation-dialog';\nimport {Trans} from '@common/i18n/trans';\nimport {BiolinkLink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {useDetachBiolinkContentItem} from '@app/dashboard/biolink/biolink-editor/requests/use-detach-biolink-content-item';\n\ninterface DetachItemButtonProps {\n  item: BiolinkLink | BiolinkWidget;\n}\nexport function DetachContentItemButton({item}: DetachItemButtonProps) {\n  const detachItem = useDetachBiolinkContentItem();\n  return (\n    <DialogTrigger type=\"modal\">\n      <IconButton\n        className=\"text-muted flex-shrink-0\"\n        disabled={detachItem.isLoading}\n      >\n        <CloseIcon />\n      </IconButton>\n      <ConfirmationDialog\n        isDanger\n        onConfirm={() => {\n          detachItem.mutate({item});\n        }}\n        title={<Trans message=\"Remove item\" />}\n        body={\n          <Trans message=\"Are you sure you want to remove this item from the biolink?\" />\n        }\n        confirm={<Trans message=\"Remove\" />}\n      />\n    </DialogTrigger>\n  );\n}\n","import {DragMonitor} from './use-drag-monitor';\nimport {ConnectedDraggable, DraggableId} from './use-draggable';\nimport {ConnectedDroppable} from './use-droppable';\n\nexport type DragSessionStatus =\n  | 'dropSuccess'\n  | 'dropFail'\n  | 'dragging'\n  | 'inactive';\n\nexport interface DragSession {\n  dragTargetId?: DraggableId;\n  status: DragSessionStatus;\n}\n\nexport const draggables = new Map<DraggableId, ConnectedDraggable>();\nexport const droppables = new Map<DraggableId, ConnectedDroppable>();\nexport const dragMonitors = new Map<DraggableId, DragMonitor>();\nexport const dragSession: DragSession = {\n  status: 'inactive',\n};\n","import React from 'react';\n\ntype NativeEvent =\n  | React.PointerEvent\n  | PointerEvent\n  | React.DragEvent<HTMLElement>\n  | DragEvent;\n\nexport interface InteractableEvent {\n  x: number;\n  y: number;\n  deltaX: number;\n  deltaY: number;\n  rect: InteractableRect;\n  nativeEvent: NativeEvent;\n}\n\nexport interface InteractableRect {\n  left: number;\n  top: number;\n  width: number;\n  height: number;\n  angle?: number;\n}\n\nexport function interactableEvent({\n  e,\n  rect,\n  deltaX,\n  deltaY,\n}: {\n  e: NativeEvent;\n  rect: InteractableRect;\n  deltaX?: number;\n  deltaY?: number;\n}): InteractableEvent {\n  return {\n    rect,\n    x: e.clientX,\n    y: e.clientY,\n    deltaX: deltaX ?? 0,\n    deltaY: deltaY ?? 0,\n    nativeEvent: e,\n  };\n}\n","type InteractionName = null | 'resize' | 'rotate' | 'drag' | 'move';\n\nexport let activeInteraction: InteractionName = null;\n\nexport function setActiveInteraction(name: InteractionName) {\n  activeInteraction = name;\n}\n","import {InteractableRect} from '../interactable-event';\n\nexport function domRectToObj(rect: DOMRect): InteractableRect {\n  return {\n    left: rect.left,\n    top: rect.top,\n    width: rect.width,\n    height: rect.height,\n  };\n}\n","// use intersection observer instead of getBoundingClientRect for better performance as this will be called in onPointerMove event\nimport {InteractableRect} from '../interactable-event';\nimport {ConnectedMouseSelectable} from './mouse-selection/use-mouse-selectable';\nimport {DraggableId} from './use-draggable';\nimport {ConnectedDroppable} from './use-droppable';\n\nexport function updateRects(\n  targets: Map<DraggableId, ConnectedDroppable | ConnectedMouseSelectable>\n) {\n  const observer = new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      const {width, height, left, top} = entry.boundingClientRect;\n      const [id, target] =\n        [...targets].find(\n          ([, target]) => target.ref.current === entry.target\n        ) || [];\n      if (id == null || target == null) return;\n\n      const rect: InteractableRect = {\n        width,\n        height,\n        left,\n        top,\n      };\n      targets.set(id, {...target, rect});\n    });\n    observer.disconnect();\n  });\n\n  [...targets.values()].forEach(target => {\n    if (target.ref.current) {\n      observer.observe(target.ref.current);\n    }\n  });\n}\n","import React, {RefObject, useLayoutEffect, useRef} from 'react';\nimport {draggables, dragMonitors, dragSession, droppables} from './drag-state';\nimport {\n  InteractableEvent,\n  interactableEvent,\n  InteractableRect,\n} from '../interactable-event';\nimport {activeInteraction, setActiveInteraction} from '../active-interaction';\nimport {domRectToObj} from '../utils/dom-rect-to-obj';\nimport {updateRects} from './update-rects';\nimport {useGlobalListeners} from '@react-aria/utils';\nimport {DragMonitor} from './use-drag-monitor';\nimport {NativeFileDraggable} from './use-droppable';\n\ninterface DragState {\n  currentRect?: InteractableRect;\n  lastPosition: {x: number; y: number};\n  clickedEl?: HTMLElement;\n}\n\nexport type DragPreviewRenderer = (\n  draggable: ConnectedDraggable,\n  callback: (node: HTMLElement) => void\n) => void;\n\nexport type DraggableId = string | number | object;\n\nexport interface ConnectedDraggable<T = any> {\n  type: string;\n  id: DraggableId;\n  getData: () => T;\n  ref: RefObject<HTMLElement>;\n}\n\n// Either draggable from within the app, or file dragged in from the desktop\nexport type MixedDraggable = ConnectedDraggable | NativeFileDraggable;\n\ninterface UseDragProps extends ConnectedDraggable {\n  disabled?: boolean;\n  onDragStart?: (e: InteractableEvent, target: ConnectedDraggable) => void;\n  onDragMove?: (e: InteractableEvent, target: ConnectedDraggable) => void;\n  onDragEnd?: (e: InteractableEvent, target: ConnectedDraggable) => void;\n  preview?: RefObject<DragPreviewRenderer>;\n  hidePreview?: boolean;\n}\nexport function useDraggable({\n  id,\n  disabled,\n  ref,\n  preview,\n  hidePreview,\n  ...options\n}: UseDragProps) {\n  const dragHandleRef = useRef<HTMLButtonElement>(null);\n  const {addGlobalListener, removeAllGlobalListeners} = useGlobalListeners();\n\n  const state = useRef<DragState>({\n    lastPosition: {x: 0, y: 0},\n  }).current;\n\n  const optionsRef = useRef(options);\n  optionsRef.current = options;\n\n  useLayoutEffect(() => {\n    if (!disabled) {\n      draggables.set(id, {\n        ...draggables.get(id),\n        id,\n        ref,\n        type: optionsRef.current.type,\n        getData: optionsRef.current.getData,\n      });\n    } else {\n      draggables.delete(id);\n    }\n    return () => {\n      draggables.delete(id);\n    };\n  }, [id, disabled, optionsRef, ref]);\n\n  // notify monitors connected to the same drag type as this draggable\n  const notifyMonitors = (callback: (m: DragMonitor) => void) => {\n    dragMonitors.forEach(monitor => {\n      if (monitor.type === draggables.get(id)?.type) {\n        callback(monitor);\n      }\n    });\n  };\n\n  const onDragStart = (e: React.DragEvent<HTMLElement>) => {\n    const draggable = draggables.get(id);\n    const el = ref.current;\n    const clickedOnHandle =\n      !dragHandleRef.current ||\n      !state.clickedEl ||\n      dragHandleRef.current.contains(state.clickedEl);\n\n    // if another interaction is in progress (rotate, resize, drag etc.), bail\n    if (activeInteraction || !el || !draggable || !clickedOnHandle) {\n      e.preventDefault();\n      e.stopPropagation();\n      return;\n    }\n\n    updateRects(droppables);\n    setActiveInteraction('drag');\n\n    // hide default browser ghost image\n    if (hidePreview) {\n      hideNativeGhostImage(e);\n    }\n    // this will hide default browser cursor icon, if \"dropEffect\" is not set in dragOver/dragEnter\n    e.dataTransfer.effectAllowed = 'move';\n\n    state.lastPosition = {x: e.clientX, y: e.clientY};\n    state.currentRect = domRectToObj(el.getBoundingClientRect());\n    const ie = interactableEvent({rect: state.currentRect!, e});\n\n    // If there is a preview option, use it to render a custom preview image that will\n    // appear under the pointer while dragging. If not, the element itself is dragged by the browser.\n    if (preview?.current) {\n      preview.current(draggable, node => {\n        // Compute the offset that the preview will appear under the mouse.\n        // If possible, this is based on the point the user clicked on the target.\n        // If the preview is much smaller, then just use the center point of the preview.\n        const size = node.getBoundingClientRect();\n        const rect = e.currentTarget.getBoundingClientRect();\n        let x = e.clientX - rect.x;\n        let y = e.clientY - rect.y;\n        if (x > size.width || y > size.height) {\n          x = size.width / 2;\n          y = size.height / 2;\n        }\n\n        // Rounding height to an even number prevents blurry preview seen on some screens\n        const height = 2 * Math.round(rect.height / 2);\n        node.style.height = `${height}px`;\n\n        e.dataTransfer.setDragImage(node, 0, 0);\n      });\n    }\n\n    dragSession.status = 'dragging';\n    dragSession.dragTargetId = id;\n    if (ref.current) {\n      ref.current.dataset.dragging = 'true';\n    }\n\n    optionsRef.current.onDragStart?.(ie, draggable);\n\n    // wait until next frame so changes made in \"onDragStart\" are reflected in drag monitors\n    requestAnimationFrame(() => {\n      notifyMonitors(m => m.onDragStart?.(ie, draggable));\n    });\n\n    // firefox does not provide clientX/clientY in \"onDrag\", need to listen for dragOver on window instead\n    addGlobalListener(window, 'dragover', onDragOver, true);\n  };\n\n  const onDragOver = (e: React.DragEvent<HTMLElement> | DragEvent) => {\n    e.preventDefault();\n\n    if (!state.currentRect) return;\n\n    const deltaX = e.clientX - state.lastPosition.x;\n    const deltaY = e.clientY - state.lastPosition.y;\n\n    const newRect = {\n      ...state.currentRect,\n      left: state.currentRect.left + deltaX,\n      top: state.currentRect.top + deltaY,\n    };\n\n    const ie = interactableEvent({rect: newRect, e, deltaX, deltaY});\n\n    const target = draggables.get(id);\n    if (target) {\n      optionsRef.current.onDragMove?.(ie, target);\n      notifyMonitors(m => m.onDragMove?.(ie, target));\n    }\n\n    state.lastPosition = {x: e.clientX, y: e.clientY};\n    state.currentRect = newRect;\n  };\n\n  const onDragEnd = (e: React.DragEvent<HTMLElement>) => {\n    removeAllGlobalListeners();\n    if (!state.currentRect) return;\n\n    setActiveInteraction(null);\n    if (emptyImage) {\n      emptyImage.remove();\n    }\n\n    const ie = interactableEvent({rect: state.currentRect, e});\n\n    const draggable = draggables.get(id);\n    if (draggable) {\n      optionsRef.current.onDragEnd?.(ie, draggable);\n      notifyMonitors(m => m.onDragEnd?.(ie, draggable, dragSession!.status));\n    }\n\n    // wait a frame before clearing so monitors have a chance to use drag session status\n    requestAnimationFrame(() => {\n      dragSession.dragTargetId = undefined;\n      dragSession.status = 'inactive';\n      if (ref.current) {\n        delete ref.current.dataset.dragging;\n      }\n    });\n  };\n\n  const draggableProps = {\n    draggable: !disabled,\n    onDragStart,\n    onDragEnd,\n    onPointerDown: (e: React.PointerEvent) => {\n      state.clickedEl = e.target as HTMLElement;\n    },\n  };\n\n  return {draggableProps, dragHandleRef};\n}\n\nlet emptyImage: HTMLImageElement | undefined;\nfunction hideNativeGhostImage(e: React.DragEvent) {\n  if (!emptyImage) {\n    emptyImage = new Image();\n    // image needs to be in the dom to prevent \"globe\" icon in chrome\n    document.body.append(emptyImage);\n    emptyImage.src =\n      'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n  }\n\n  e.dataTransfer.setDragImage(emptyImage, 0, 0);\n}\n","import {UploadedFile} from '../../../uploads/uploaded-file';\n\nexport async function* readFilesFromDataTransfer(dataTransfer: DataTransfer) {\n  for (const item of dataTransfer.items) {\n    if (item.kind === 'file') {\n      if (typeof item.webkitGetAsEntry === 'function') {\n        const entry: FileSystemEntry | null = item.webkitGetAsEntry();\n        if (!entry) continue;\n\n        if (entry.isFile) {\n          if (entry.name === '.DS_Store') continue;\n          yield new UploadedFile(item.getAsFile()!, entry.fullPath);\n        } else if (entry.isDirectory) {\n          yield* getEntries(entry as FileSystemDirectoryEntry);\n        }\n      } else {\n        const file = item.getAsFile();\n        if (!file || file.name === '.DS_Store') continue;\n        yield new UploadedFile(file, (item as any).fullPath);\n      }\n    }\n  }\n}\n\nasync function* getEntries(item: FileSystemDirectoryEntry): AsyncIterable<any> {\n  const reader = item.createReader();\n\n  // We must call readEntries repeatedly because there may be a limit to the\n  // number of entries that are returned at once.\n  let entries: FileSystemEntry[];\n  do {\n    entries = await new Promise((resolve, reject) => {\n      reader.readEntries(resolve, reject);\n    });\n\n    for (const entry of entries) {\n      if (entry.isFile) {\n        if (entry.name === '.DS_Store') continue;\n        const file = await getEntryFile(entry as FileSystemFileEntry);\n        yield new UploadedFile(file, entry.fullPath);\n      } else if (entry.isDirectory) {\n        yield* getEntries(entry as FileSystemDirectoryEntry);\n      }\n    }\n  } while (entries.length > 0);\n}\n\nfunction getEntryFile(entry: FileSystemFileEntry): Promise<File> {\n  return new Promise((resolve, reject) => entry.file(resolve, reject));\n}\n","export async function asyncIterableToArray<T>(\n  iterator: AsyncIterable<T>\n): Promise<T[]> {\n  const items: T[] = [];\n  for await (const item of iterator) {\n    items.push(item);\n  }\n  return items;\n}\n","/**\n * @license React\n * react-dom-test-utils.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var k=require(\"react\"),l=require(\"react-dom\");function m(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.flags&4098)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function n(a){if(m(a)!==a)throw Error(\"Unable to find node on an unmounted component.\");}\nfunction p(a){var b=a.alternate;if(!b){b=m(a);if(null===b)throw Error(\"Unable to find node on an unmounted component.\");return b!==a?null:a}for(var c=a,d=b;;){var f=c.return;if(null===f)break;var g=f.alternate;if(null===g){d=f.return;if(null!==d){c=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===c)return n(f),a;if(g===d)return n(f),b;g=g.sibling}throw Error(\"Unable to find node on an unmounted component.\");}if(c.return!==d.return)c=f,d=g;else{for(var e=!1,h=f.child;h;){if(h===c){e=\n!0;c=f;d=g;break}if(h===d){e=!0;d=f;c=g;break}h=h.sibling}if(!e){for(h=g.child;h;){if(h===c){e=!0;c=g;d=f;break}if(h===d){e=!0;d=g;c=f;break}h=h.sibling}if(!e)throw Error(\"Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.\");}}if(c.alternate!==d)throw Error(\"Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.\");}if(3!==c.tag)throw Error(\"Unable to find node on an unmounted component.\");\nreturn c.stateNode.current===c?a:b}var q=Object.assign;function r(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}function t(){return!0}function u(){return!1}\nfunction v(a){function b(c,b,f,g,e){this._reactName=c;this._targetInst=f;this.type=b;this.nativeEvent=g;this.target=e;this.currentTarget=null;for(var d in a)a.hasOwnProperty(d)&&(c=a[d],this[d]=c?c(g):g[d]);this.isDefaultPrevented=(null!=g.defaultPrevented?g.defaultPrevented:!1===g.returnValue)?t:u;this.isPropagationStopped=u;return this}q(b.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&\n(a.returnValue=!1),this.isDefaultPrevented=t)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=t)},persist:function(){},isPersistent:t});return b}var w={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},x=v(w),y=q({},w,{view:0,detail:0});v(y);\nvar z,A,B,D=q({},y,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:C,button:0,buttons:0,relatedTarget:function(a){return void 0===a.relatedTarget?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){if(\"movementX\"in a)return a.movementX;a!==B&&(B&&\"mousemove\"===a.type?(z=a.screenX-B.screenX,A=a.screenY-B.screenY):A=z=0,B=a);return z},movementY:function(a){return\"movementY\"in a?a.movementY:A}});\nv(D);var E=q({},D,{dataTransfer:0});v(E);var F=q({},y,{relatedTarget:0});v(F);var aa=q({},w,{animationName:0,elapsedTime:0,pseudoElement:0});v(aa);var ba=q({},w,{clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}});v(ba);var ca=q({},w,{data:0});v(ca);\nvar da={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},ea={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",\n116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},fa={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function ha(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=fa[a])?!!b[a]:!1}function C(){return ha}\nvar ia=q({},y,{key:function(a){if(a.key){var b=da[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=r(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?ea[a.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:C,charCode:function(a){return\"keypress\"===a.type?r(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?r(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}});v(ia);var ja=q({},D,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0});v(ja);var ka=q({},y,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:C});v(ka);var la=q({},w,{propertyName:0,elapsedTime:0,pseudoElement:0});v(la);\nvar ma=q({},D,{deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},deltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0});v(ma);function na(a,b,c,d,f,g,e,h,N){var G=Array.prototype.slice.call(arguments,3);try{b.apply(c,G)}catch(oa){this.onError(oa)}}var H=!1,I=null,J=!1,K=null,pa={onError:function(a){H=!0;I=a}};function qa(a,b,c,d,f,g,e,h,N){H=!1;I=null;na.apply(pa,arguments)}\nfunction ra(a,b,c,d,f,g,e,h,N){qa.apply(this,arguments);if(H){if(H){var G=I;H=!1;I=null}else throw Error(\"clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.\");J||(J=!0,K=G)}}var L=Array.isArray,M=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.Events,sa=M[0],ta=M[1],ua=M[2],va=M[3],wa=M[4],xa=k.unstable_act;function ya(){}\nfunction za(a,b){if(!a)return[];a=p(a);if(!a)return[];for(var c=a,d=[];;){if(5===c.tag||6===c.tag||1===c.tag||0===c.tag){var f=c.stateNode;b(f)&&d.push(f)}if(c.child)c.child.return=c,c=c.child;else{if(c===a)return d;for(;!c.sibling;){if(!c.return||c.return===a)return d;c=c.return}c.sibling.return=c.return;c=c.sibling}}}\nfunction O(a,b){if(a&&!a._reactInternals){var c=String(a);a=L(a)?\"an array\":a&&1===a.nodeType&&a.tagName?\"a DOM node\":\"[object Object]\"===c?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":c;throw Error(b+\"(...): the first argument must be a React class instance. Instead received: \"+(a+\".\"));}}function P(a){return!(!a||1!==a.nodeType||!a.tagName)}function Q(a){return P(a)?!1:null!=a&&\"function\"===typeof a.render&&\"function\"===typeof a.setState}\nfunction R(a,b){return Q(a)?a._reactInternals.type===b:!1}function S(a,b){O(a,\"findAllInRenderedTree\");return a?za(a._reactInternals,b):[]}\nfunction T(a,b){O(a,\"scryRenderedDOMComponentsWithClass\");return S(a,function(a){if(P(a)){var c=a.className;\"string\"!==typeof c&&(c=a.getAttribute(\"class\")||\"\");var f=c.split(/\\s+/);if(!L(b)){if(void 0===b)throw Error(\"TestUtils.scryRenderedDOMComponentsWithClass expects a className as a second argument.\");b=b.split(/\\s+/)}return b.every(function(a){return-1!==f.indexOf(a)})}return!1})}\nfunction U(a,b){O(a,\"scryRenderedDOMComponentsWithTag\");return S(a,function(a){return P(a)&&a.tagName.toUpperCase()===b.toUpperCase()})}function V(a,b){O(a,\"scryRenderedComponentsWithType\");return S(a,function(a){return R(a,b)})}function W(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=ta(c);ra(d,b,void 0,a);a.currentTarget=null}\nfunction X(a,b,c){for(var d=[];a;){d.push(a);do a=a.return;while(a&&5!==a.tag);a=a?a:null}for(a=d.length;0<a--;)b(d[a],\"captured\",c);for(a=0;a<d.length;a++)b(d[a],\"bubbled\",c)}\nfunction Y(a,b){var c=a.stateNode;if(!c)return null;var d=ua(c);if(!d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":case \"onMouseEnter\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==typeof c)throw Error(\"Expected `\"+\nb+\"` listener to be a function, instead got a value of `\"+typeof c+\"` type.\");return c}function Aa(a,b,c){a&&c&&c._reactName&&(b=Y(a,c._reactName))&&(null==c._dispatchListeners&&(c._dispatchListeners=[]),null==c._dispatchInstances&&(c._dispatchInstances=[]),c._dispatchListeners.push(b),c._dispatchInstances.push(a))}\nfunction Ba(a,b,c){var d=c._reactName;\"captured\"===b&&(d+=\"Capture\");if(b=Y(a,d))null==c._dispatchListeners&&(c._dispatchListeners=[]),null==c._dispatchInstances&&(c._dispatchInstances=[]),c._dispatchListeners.push(b),c._dispatchInstances.push(a)}var Z={},Ca=new Set([\"mouseEnter\",\"mouseLeave\",\"pointerEnter\",\"pointerLeave\"]);\nfunction Da(a){return function(b,c){if(k.isValidElement(b))throw Error(\"TestUtils.Simulate expected a DOM node as the first argument but received a React element. Pass the DOM node you wish to simulate the event on instead. Note that TestUtils.Simulate will not work if you are using shallow rendering.\");if(Q(b))throw Error(\"TestUtils.Simulate expected a DOM node as the first argument but received a component instance. Pass the DOM node you wish to simulate the event on instead.\");var d=\"on\"+a[0].toUpperCase()+\na.slice(1),f=new ya;f.target=b;f.type=a.toLowerCase();var g=sa(b),e=new x(d,f.type,g,f,b);e.persist();q(e,c);Ca.has(a)?e&&e._reactName&&Aa(e._targetInst,null,e):e&&e._reactName&&X(e._targetInst,Ba,e);l.unstable_batchedUpdates(function(){va(b);if(e){var a=e._dispatchListeners,c=e._dispatchInstances;if(L(a))for(var d=0;d<a.length&&!e.isPropagationStopped();d++)W(e,a[d],c[d]);else a&&W(e,a,c);e._dispatchListeners=null;e._dispatchInstances=null;e.isPersistent()||e.constructor.release(e)}if(J)throw a=\nK,J=!1,K=null,a;});wa()}}\n\"blur cancel click close contextMenu copy cut auxClick doubleClick dragEnd dragStart drop focus input invalid keyDown keyPress keyUp mouseDown mouseUp paste pause play pointerCancel pointerDown pointerUp rateChange reset resize seeked submit touchCancel touchEnd touchStart volumeChange drag dragEnter dragExit dragLeave dragOver mouseMove mouseOut mouseOver pointerMove pointerOut pointerOver scroll toggle touchMove wheel abort animationEnd animationIteration animationStart canPlay canPlayThrough durationChange emptied encrypted ended error gotPointerCapture load loadedData loadedMetadata loadStart lostPointerCapture playing progress seeking stalled suspend timeUpdate transitionEnd waiting mouseEnter mouseLeave pointerEnter pointerLeave change select beforeInput compositionEnd compositionStart compositionUpdate\".split(\" \").forEach(function(a){Z[a]=Da(a)});\nexports.Simulate=Z;exports.act=xa;exports.findAllInRenderedTree=S;exports.findRenderedComponentWithType=function(a,b){O(a,\"findRenderedComponentWithType\");a=V(a,b);if(1!==a.length)throw Error(\"Did not find exactly one match (found: \"+a.length+\") for componentType:\"+b);return a[0]};exports.findRenderedDOMComponentWithClass=function(a,b){O(a,\"findRenderedDOMComponentWithClass\");a=T(a,b);if(1!==a.length)throw Error(\"Did not find exactly one match (found: \"+a.length+\") for class:\"+b);return a[0]};\nexports.findRenderedDOMComponentWithTag=function(a,b){O(a,\"findRenderedDOMComponentWithTag\");a=U(a,b);if(1!==a.length)throw Error(\"Did not find exactly one match (found: \"+a.length+\") for tag:\"+b);return a[0]};exports.isCompositeComponent=Q;exports.isCompositeComponentWithType=R;exports.isDOMComponent=P;exports.isDOMComponentElement=function(a){return!!(a&&k.isValidElement(a)&&a.tagName)};exports.isElement=function(a){return k.isValidElement(a)};\nexports.isElementOfType=function(a,b){return k.isValidElement(a)&&a.type===b};exports.mockComponent=function(a,b){b=b||a.mockTagName||\"div\";a.prototype.render.mockImplementation(function(){return k.createElement(b,null,this.props.children)});return this};exports.nativeTouchData=function(a,b){return{touches:[{pageX:a,pageY:b}]}};exports.renderIntoDocument=function(a){var b=document.createElement(\"div\");return l.render(a,b)};exports.scryRenderedComponentsWithType=V;\nexports.scryRenderedDOMComponentsWithClass=T;exports.scryRenderedDOMComponentsWithTag=U;exports.traverseTwoPhase=X;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-dom-test-utils.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom-test-utils.development.js');\n}\n","import React, {RefObject, useLayoutEffect, useRef} from 'react';\nimport {draggables, dragSession, droppables} from './drag-state';\nimport {readFilesFromDataTransfer} from './read-files-from-data-transfer';\nimport {asyncIterableToArray} from '@common/utils/array/async-iterable-to-array';\nimport {InteractableRect} from '../interactable-event';\nimport {DraggableId, MixedDraggable} from './use-draggable';\nimport {Simulate} from 'react-dom/test-utils';\nimport drag = Simulate.drag;\n\nexport interface ConnectedDroppable {\n  id: DraggableId;\n  rect?: InteractableRect;\n  disabled?: boolean;\n  ref: RefObject<HTMLElement>;\n}\n\n// File dragged in from desktop\nexport interface NativeFileDraggable {\n  type: 'nativeFile';\n  el: null;\n  ref: null;\n  getData: () => Promise<File[]>;\n}\n\ninterface UseDroppableProps<T extends HTMLElement> {\n  id: DraggableId;\n  disabled?: boolean;\n  types: ('nativeFile' | string)[];\n  ref: RefObject<T>;\n  // this will fire dragEnter/dragLeave/dragOver events when same element is both draggable and drop target and dragging target over itself. Used for showing line previews before/after element during sort.\n  allowDragEventsFromItself?: boolean;\n  onDragEnter?: (target: MixedDraggable) => void;\n  onDragLeave?: (target: MixedDraggable) => void;\n  onDragOver?: (\n    target: MixedDraggable,\n    e: React.DragEvent<HTMLElement>\n  ) => void;\n  // Handler that is called after draggable is held over droppable for a period of time.\n  // This typically opens the item so that the user can drop within it.\n  onDropActivate?: (e: MixedDraggable) => void;\n  onDrop?: (target: MixedDraggable) => void | Promise<void> | false;\n  acceptsDrop?: (target: MixedDraggable) => boolean;\n}\n\ninterface DroppableState {\n  dragOverElements: Set<Element>;\n  dropActivateTimer: ReturnType<typeof setTimeout> | undefined;\n}\n\nconst DROP_ACTIVATE_TIMEOUT = 400;\n\nexport function useDroppable<T extends HTMLElement>({\n  id,\n  disabled,\n  ref,\n  ...options\n}: UseDroppableProps<T>) {\n  const state = useRef<DroppableState>({\n    dragOverElements: new Set<Element>(),\n    dropActivateTimer: undefined,\n  }).current;\n\n  const optionsRef = useRef(options);\n  optionsRef.current = options;\n\n  useLayoutEffect(() => {\n    droppables.set(id, {\n      ...droppables.get(id),\n      disabled,\n      id,\n      ref,\n    });\n    return () => {\n      droppables.delete(id);\n    };\n  }, [id, optionsRef, disabled, ref]);\n\n  // check if drop target accepts drag target\n  const canDrop = (draggable: MixedDraggable): boolean => {\n    const options = optionsRef.current;\n\n    const allowEventsOnSelf =\n      options.allowDragEventsFromItself ||\n      ref.current !== draggable.ref?.current;\n\n    return !!(\n      draggable?.type &&\n      allowEventsOnSelf &&\n      options.types.includes(draggable.type) &&\n      (!options.acceptsDrop || options.acceptsDrop(draggable))\n    );\n  };\n\n  const fireDragLeave = (e: React.DragEvent<HTMLElement>) => {\n    const draggable = getDraggable(e);\n    if (draggable) {\n      optionsRef.current.onDragLeave?.(draggable);\n    }\n  };\n\n  const onDragEnter = (e: React.DragEvent<HTMLElement>) => {\n    e.stopPropagation();\n\n    state.dragOverElements.add(e.target as Element);\n    if (state.dragOverElements.size > 1) {\n      return;\n    }\n\n    const draggable = getDraggable(e);\n    if (draggable && canDrop(draggable)) {\n      optionsRef.current.onDragEnter?.(draggable);\n\n      clearTimeout(state.dropActivateTimer);\n      if (typeof optionsRef.current.onDropActivate === 'function') {\n        state.dropActivateTimer = setTimeout(() => {\n          if (draggable) {\n            optionsRef.current.onDropActivate?.(draggable);\n          }\n        }, DROP_ACTIVATE_TIMEOUT);\n      }\n    }\n  };\n\n  const onDragLeave = (e: React.DragEvent<HTMLElement>) => {\n    e.stopPropagation();\n\n    // Track all the targets of dragenter events in a set, and remove them\n    // in dragleave. When the set becomes empty, we've left the drop target completely.\n    // We must also remove any elements that are no longer in the DOM, because dragleave\n    // events will never be fired for these. This can happen, for example, with drop\n    // indicators between items, which disappear when the drop target changes.\n    state.dragOverElements.delete(e.target as Element);\n    for (const element of state.dragOverElements) {\n      if (!e.currentTarget.contains(element)) {\n        state.dragOverElements.delete(element);\n      }\n    }\n\n    if (state.dragOverElements.size > 0) {\n      return;\n    }\n\n    const draggable = getDraggable(e);\n    if (draggable && canDrop(draggable)) {\n      fireDragLeave(e);\n      clearTimeout(state.dropActivateTimer);\n    }\n  };\n\n  const onDrop = async (e: React.DragEvent<HTMLElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n    state.dragOverElements.clear();\n\n    fireDragLeave(e);\n    clearTimeout(state.dropActivateTimer);\n\n    const draggable = getDraggable(e);\n    if (draggable) {\n      optionsRef.current.onDragLeave?.(draggable);\n\n      // drop target does not accept this type of droppable\n      if (!canDrop(draggable)) {\n        if (dragSession.status !== 'inactive') {\n          dragSession.status = 'dropFail';\n        }\n        // drop target accepts this type, but it might still reject the drop in callback\n      } else {\n        // allow callback to mark drop as failed\n        const dropResult = optionsRef.current.onDrop?.(draggable);\n\n        // drag session will only be active for draggables within the app, never for files dragged in from desktop\n        if (dragSession.status !== 'inactive') {\n          dragSession.status =\n            dropResult === false ? 'dropFail' : 'dropSuccess';\n        }\n      }\n    }\n  };\n\n  const droppableProps = {\n    onDragOver: (e: React.DragEvent<HTMLElement>) => {\n      e.preventDefault();\n      e.stopPropagation();\n      const draggable = getDraggable(e);\n      if (draggable && canDrop(draggable)) {\n        optionsRef.current.onDragOver?.(draggable, e);\n      }\n    },\n    onDragEnter,\n    onDragLeave,\n    onDrop,\n  };\n\n  return {\n    droppableProps: disabled ? {} : droppableProps,\n  };\n}\n\nfunction getDraggable(\n  e: React.DragEvent<HTMLElement>\n): MixedDraggable | undefined {\n  if (dragSession.dragTargetId != null) {\n    return draggables.get(dragSession.dragTargetId);\n  } else if (e.dataTransfer.types.includes('Files')) {\n    return {\n      type: 'nativeFile',\n      el: null,\n      ref: null,\n      getData: () => {\n        return asyncIterableToArray(readFilesFromDataTransfer(e.dataTransfer));\n      },\n    };\n  }\n}\n","import {clamp} from '../number/clamp';\n\nexport function moveItemInArray<T = any>(\n  array: T[],\n  fromIndex: number,\n  toIndex: number\n): T[] {\n  const from = clamp(fromIndex, 0, array.length - 1);\n  const to = clamp(toIndex, 0, array.length - 1);\n\n  if (from === to) {\n    return array;\n  }\n\n  const target = array[from];\n  const delta = to < from ? -1 : 1;\n\n  for (let i = from; i !== to; i += delta) {\n    array[i] = array[i + delta];\n  }\n\n  array[to] = target;\n\n  return array;\n}\n","export function moveItemInNewArray<T>(\n  array: T[],\n  from: number,\n  to: number\n): T[] {\n  const newArray = array.slice();\n  newArray.splice(\n    to < 0 ? newArray.length + to : to,\n    0,\n    newArray.splice(from, 1)[0]\n  );\n\n  return newArray;\n}\n","import {DraggableId, DragPreviewRenderer, useDraggable} from './use-draggable';\nimport {useDroppable} from './use-droppable';\nimport {RefObject, useEffect, useRef} from 'react';\nimport {getScrollParent, mergeProps} from '@react-aria/utils';\nimport {moveItemInArray} from '@common/utils/array/move-item-in-array';\nimport {droppables} from './drag-state';\nimport {moveItemInNewArray} from '@common/utils/array/move-item-in-new-array';\nimport {updateRects} from '@common/ui/interactions/dnd/update-rects';\n\nlet sortSession: null | {\n  // items in this list will be moved when user is sorting\n  sortables: DraggableId[];\n\n  // sortable user started dragging to start this session\n  activeSortable: DraggableId;\n  activeIndex: number;\n\n  // final index sortable was dropped in and should be moved to\n  finalIndex: number;\n\n  // drop position for displaying line preview\n  dropPosition: DropPosition;\n  // element that currently has a line preview at the top or bottom\n  linePreviewEl?: HTMLElement;\n  scrollParent?: Element;\n  scrollListener: () => void;\n} = null;\n\nexport type DropPosition = 'before' | 'after' | null;\n\nexport interface UseSortableProps {\n  item: DraggableId;\n  items: DraggableId[];\n  onSortStart?: () => void;\n  onSortEnd?: (oldIndex: number, newIndex: number) => void;\n  onDragEnd?: () => void;\n  onDropPositionChange?: (dropPosition: DropPosition) => void;\n  ref: RefObject<HTMLElement>;\n  type: string;\n  preview?: RefObject<DragPreviewRenderer>;\n  previewVariant?: 'line' | 'liveSort';\n  disabled?: boolean;\n}\nexport function useSortable({\n  item,\n  items,\n  type,\n  ref,\n  onSortEnd,\n  onSortStart,\n  onDragEnd,\n  preview,\n  disabled,\n  onDropPositionChange,\n  previewVariant,\n}: UseSortableProps) {\n  const dropPosition = useRef<DropPosition>(null);\n\n  // update sortables and active index, in case we lazy load more items while sorting\n  useEffect(() => {\n    if (sortSession && sortSession.sortables.length !== items.length) {\n      sortSession.sortables = [...items];\n      sortSession.activeIndex = items.indexOf(item);\n    }\n  }, [items, item]);\n\n  const {draggableProps, dragHandleRef} = useDraggable({\n    id: item,\n    ref,\n    type,\n    preview,\n    disabled,\n    onDragStart: () => {\n      dropPosition.current = null;\n      sortSession = {\n        sortables: [...items],\n        activeSortable: item,\n        activeIndex: items.indexOf(item),\n        finalIndex: items.indexOf(item),\n        dropPosition: null,\n        scrollParent: ref.current ? getScrollParent(ref.current) : undefined,\n        scrollListener: () => {\n          updateRects(droppables);\n        },\n      };\n\n      if (previewVariant === 'liveSort') {\n        addSortStyles();\n      }\n      onSortStart?.();\n      sortSession.scrollParent?.addEventListener(\n        'scroll',\n        sortSession.scrollListener\n      );\n    },\n    onDragEnd: () => {\n      if (!sortSession) return;\n\n      if (previewVariant === 'liveSort') {\n        removeSortStyles();\n      }\n\n      sortSession.dropPosition = null;\n      onDropPositionChange?.(sortSession.dropPosition);\n      if (sortSession.activeIndex !== sortSession.finalIndex) {\n        onSortEnd?.(sortSession.activeIndex, sortSession.finalIndex);\n      }\n      sortSession.scrollParent?.removeEventListener(\n        'scroll',\n        sortSession.scrollListener\n      );\n      clearLinePreview();\n      // call \"onDragEnd\" after \"onSortEnd\", so listener has a chance to use sort session data\n      onDragEnd?.();\n      sortSession = null;\n    },\n    getData: () => {},\n  });\n\n  const {droppableProps} = useDroppable({\n    id: item,\n    ref,\n    types: [type],\n    disabled,\n    allowDragEventsFromItself: true,\n    onDragOver: (target, e) => {\n      if (!sortSession || !onDropPositionChange || previewVariant !== 'line') {\n        return;\n      }\n\n      const previousPosition = sortSession.dropPosition;\n      let newPosition: DropPosition = null;\n\n      const rect = droppables.get(item)?.rect;\n      if (rect) {\n        const midY = rect.top + rect.height / 2;\n        if (e.clientY <= midY) {\n          newPosition = 'before';\n        } else if (e.clientY >= midY) {\n          newPosition = 'after';\n        }\n      }\n\n      if (newPosition !== previousPosition) {\n        const overIndex = sortSession.sortables.indexOf(item);\n        sortSession.dropPosition = newPosition;\n        onDropPositionChange(sortSession.dropPosition);\n\n        clearLinePreview();\n        if (ref.current) {\n          if (sortSession.dropPosition === 'after') {\n            addLinePreview(ref.current, 'bottom');\n          } else {\n            // if it's the first row, add preview to the top border, as there's no previous element\n            if (overIndex === 0) {\n              addLinePreview(ref.current, 'top');\n              // otherwise add preview to the bottom border of the previous row\n            } else {\n              const droppableId = sortSession.sortables[overIndex - 1];\n              const droppable = droppables.get(droppableId);\n              if (droppable?.ref.current) {\n                addLinePreview(droppable.ref.current, 'bottom');\n              }\n            }\n          }\n        }\n\n        const itemIndex = items.indexOf(item);\n\n        // don't move item at all if hovering over itself\n        if (sortSession.activeIndex === itemIndex) {\n          sortSession.finalIndex = sortSession.activeIndex;\n          return;\n        }\n\n        // adjust final drop index based on whether we're dropping drag target after or before it's original index\n        // this is needed, so we get the same index if target is dropped after current item or before next item\n        const dragDirection =\n          overIndex > sortSession.activeIndex ? 'after' : 'before';\n        if (dragDirection === 'after') {\n          sortSession.finalIndex =\n            sortSession.dropPosition === 'before' ? itemIndex - 1 : itemIndex;\n        } else {\n          sortSession.finalIndex =\n            sortSession.dropPosition === 'after' ? itemIndex + 1 : itemIndex;\n        }\n      }\n    },\n    onDragEnter: () => {\n      if (!sortSession || previewVariant === 'line') return;\n\n      const overIndex = sortSession.sortables.indexOf(item);\n      const oldIndex = sortSession.sortables.indexOf(\n        sortSession.activeSortable\n      );\n\n      moveItemInArray(sortSession.sortables, oldIndex, overIndex);\n      const rects = sortSession.sortables.map(s => droppables.get(s)?.rect);\n\n      sortSession.sortables.forEach((sortable, index) => {\n        if (!sortSession) return;\n\n        const newRects = moveItemInNewArray(\n          rects,\n          overIndex,\n          sortSession.activeIndex\n        );\n        const oldRect = rects[index];\n        const newRect = newRects[index];\n        const sortableTarget = droppables.get(sortable);\n\n        if (sortableTarget?.ref.current && newRect && oldRect) {\n          const x = newRect.left - oldRect.left;\n          const y = newRect.top - oldRect.top;\n          sortableTarget.ref.current.style.transform = `translate3d(${x}px, ${y}px, 0)`;\n        }\n      });\n\n      sortSession.finalIndex = overIndex;\n    },\n    onDragLeave: () => {\n      if (!sortSession || !onDropPositionChange || previewVariant !== 'line') {\n        return;\n      }\n      sortSession.dropPosition = null;\n      onDropPositionChange(sortSession.dropPosition);\n    },\n  });\n\n  return {\n    sortableProps: {...mergeProps(draggableProps, droppableProps)},\n    dragHandleRef,\n  };\n}\n\nconst transition = 'transform 0.2s cubic-bezier(0.2, 0, 0, 1)';\n\nfunction addSortStyles() {\n  if (!sortSession) return;\n  sortSession.sortables.forEach((sortable, index) => {\n    const droppable = droppables.get(sortable);\n    if (!droppable?.ref.current) return;\n\n    droppable.ref.current.style.transition = transition;\n\n    if (sortSession?.activeIndex === index) {\n      droppable.ref.current.style.opacity = '0.4';\n    }\n  });\n}\n\n// clear any styles and transforms applied to sortables during sorting\nfunction removeSortStyles() {\n  if (!sortSession) return;\n  sortSession.sortables.forEach(sortable => {\n    const droppable = droppables.get(sortable);\n    if (droppable?.ref.current) {\n      droppable.ref.current.style.transform = '';\n      droppable.ref.current.style.transition = '';\n      droppable.ref.current.style.opacity = '';\n      droppable.ref.current.style.zIndex = '';\n    }\n  });\n}\n\nfunction clearLinePreview() {\n  if (sortSession?.linePreviewEl) {\n    sortSession.linePreviewEl.style.borderBottomColor = '';\n    sortSession.linePreviewEl.style.borderTopColor = '';\n    sortSession.linePreviewEl = undefined;\n  }\n}\n\nfunction addLinePreview(el: HTMLElement, side: 'top' | 'bottom') {\n  const color = 'rgb(var(--be-primary))';\n  if (side === 'top') {\n    el.style.borderTopColor = color;\n  } else {\n    el.style.borderBottomColor = color;\n  }\n  if (sortSession) {\n    sortSession.linePreviewEl = el;\n  }\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\nimport {moveItemInNewArray} from '@common/utils/array/move-item-in-new-array';\nimport {biolinkEditorState} from '@app/dashboard/biolink/biolink-editor/biolink-editor-store';\nimport {useEditorBiolinkId} from '@app/dashboard/biolink/biolink-editor/requests/use-editor-biolink';\n\ninterface Response extends BackendResponse {\n  biolink: Biolink;\n}\n\ninterface Payload {\n  oldIndex: number;\n  newIndex: number;\n  // id of widget that should be pinned to top\n  widgetToPin?: number;\n}\n\nexport function useSortBiolinkContent() {\n  const biolinkId = useEditorBiolinkId();\n  return useMutation((payload: Payload) => sortContent(biolinkId, payload));\n}\n\nfunction sortContent(\n  biolinkId: number,\n  {oldIndex, newIndex, widgetToPin}: Payload\n): Promise<Response> {\n  const biolink = biolinkEditorState().biolink!;\n  const content = moveItemInNewArray(biolink.content, oldIndex, newIndex);\n  if (widgetToPin) {\n    content[newIndex] = {...content[newIndex], pinned: 'top'};\n  }\n  biolinkEditorState().setBiolink({...biolink, content});\n\n  const order = content.map(item => ({\n    id: item.id,\n    model_type: item.model_type,\n  }));\n\n  return apiClient.post(`biolink/${biolinkId}/change-order`, {\n    order,\n    widgetToPin,\n  });\n}\n","import {DragIndicatorIcon} from '@common/icons/material/DragIndicator';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {Button} from '@common/ui/buttons/button';\nimport {EditIcon} from '@common/icons/material/Edit';\nimport {Trans} from '@common/i18n/trans';\nimport {DetachContentItemButton} from '@app/dashboard/biolink/biolink-editor/content/detach-content-item-button';\nimport {ReactNode, useRef} from 'react';\nimport {\n  Biolink,\n  BiolinkLink,\n  BiolinkWidget,\n} from '@app/dashboard/biolink/biolink';\nimport {useSortable} from '@common/ui/interactions/dnd/use-sortable';\nimport {useSortBiolinkContent} from '@app/dashboard/biolink/biolink-editor/requests/use-sort-biolink-content';\nimport clsx from 'clsx';\n\ninterface BiolinkContentItemLayoutProps {\n  item?: BiolinkLink | BiolinkWidget;\n  biolink?: Biolink;\n  title?: ReactNode;\n  updateDialog?: ReactNode;\n  children: ReactNode;\n  actionRow?: ReactNode;\n}\nexport function BiolinkContentItemLayout({\n  item,\n  biolink,\n  title,\n  updateDialog,\n  children,\n  actionRow,\n}: BiolinkContentItemLayoutProps) {\n  const sortContent = useSortBiolinkContent();\n  const itemRef = useRef<HTMLDivElement>(null);\n  const sortDisabled = !item || item.pinned != null;\n\n  const {sortableProps, dragHandleRef} = useSortable({\n    item: item || 'noop',\n    items: biolink?.content || [],\n    type: 'biolinkEditorSortable',\n    ref: itemRef,\n    onSortEnd: (oldIndex, newIndex) => {\n      sortContent.mutate({oldIndex, newIndex});\n    },\n    disabled: sortDisabled,\n  });\n\n  return (\n    <div\n      className=\"rounded-lg shadow border flex items-stretch mb-20 bg-paper h-172\"\n      ref={itemRef}\n      {...sortableProps}\n    >\n      <button\n        type=\"button\"\n        className={clsx(\n          'text-muted border-r flex-shrink-0 px-10',\n          !sortDisabled && 'hover:text-primary'\n        )}\n        disabled={sortDisabled}\n        ref={dragHandleRef}\n      >\n        <DragIndicatorIcon />\n      </button>\n      <div className=\"p-24 flex-auto min-w-0\">\n        <div className=\"flex items-center\">\n          {title && (\n            <div className=\"font-medium mb-4 whitespace-nowrap overflow-hidden overflow-ellipsis flex-auto mr-auto\">\n              {title}\n            </div>\n          )}\n          {updateDialog && (\n            <DialogTrigger type=\"modal\">\n              <Button\n                className=\"flex-shrink-0 ml-20\"\n                variant=\"text\"\n                color=\"primary\"\n                startIcon={<EditIcon />}\n              >\n                <Trans message=\"Edit\" />\n              </Button>\n              {updateDialog}\n            </DialogTrigger>\n          )}\n          {biolink && item && <DetachContentItemButton item={item} />}\n        </div>\n        <div className=\"mb-20\">{children}</div>\n        {actionRow}\n      </div>\n    </div>\n  );\n}\n","import {removeProtocol} from '@common/utils/urls/remove-protocol';\nimport {Trans} from '@common/i18n/trans';\nimport {Switch} from '@common/ui/forms/toggle/switch';\nimport {Biolink, BiolinkLink} from '@app/dashboard/biolink/biolink';\nimport {Button} from '@common/ui/buttons/button';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {ImageIcon} from '@common/icons/material/Image';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {AnimationIcon} from '@common/icons/material/Animation';\nimport {ShortcutIcon} from '@common/icons/material/Shortcut';\nimport {MoreTimeIcon} from '@common/icons/material/MoreTime';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {LinkScheduleDialog} from '@app/dashboard/biolink/biolink-editor/content/link-content-item/link-schedule-dialog';\nimport {LeapLinkDialog} from '@app/dashboard/biolink/biolink-editor/content/link-content-item/leap-link-dialog';\nimport {UpdateLinkDialog} from '@app/dashboard/links/dialogs/update-link-dialog';\nimport {HidableLinkSettingsField} from '@app/dashboard/links/forms/link-settings-form';\nimport {LinkThumbnailDialog} from '@app/dashboard/biolink/biolink-editor/content/link-content-item/link-thumbnail-dialog';\nimport {LinkAnimationDialog} from '@app/dashboard/biolink/biolink-editor/content/link-content-item/link-animation-dialog';\nimport {BarChartIcon} from '@common/icons/material/BarChart';\nimport {BiolinkContentItemLayout} from '@app/dashboard/biolink/biolink-editor/content/biolink-content-item-layout';\nimport {RemoteFavicon} from '@common/ui/remote-favicon';\nimport {Link} from 'react-router-dom';\nimport {useIsMobileMediaQuery} from '@common/utils/hooks/is-mobile-media-query';\nimport {useUpdateBiolinkContentItem} from '@app/dashboard/biolink/biolink-editor/requests/use-update-biolink-content-item';\nimport {\n  setEditorBiolink,\n  useEditorBiolinkId,\n} from '@app/dashboard/biolink/biolink-editor/requests/use-editor-biolink';\nimport {useMediaQuery} from '@common/utils/hooks/use-media-query';\n\nexport const linkDialogHiddenFields: HidableLinkSettingsField[] = [\n  'groups',\n  'seo',\n  'enabled',\n  'alias',\n];\n\ninterface LinkContentItemProps {\n  item: BiolinkLink;\n  biolink: Biolink;\n}\nexport function LinkContentItem({item: link, biolink}: LinkContentItemProps) {\n  const biolinkId = useEditorBiolinkId();\n  const endpoint = `biolink/${biolinkId}/link/${link.id}`;\n\n  return (\n    <BiolinkContentItemLayout\n      item={link}\n      biolink={biolink}\n      title={link.name}\n      actionRow={<ActionRow link={link} biolink={biolink} />}\n      updateDialog={\n        <UpdateLinkDialog\n          endpoint={endpoint}\n          link={link}\n          showButtonLabelField\n          hiddenFields={linkDialogHiddenFields}\n          onSuccess={(response: {biolink: Biolink}) => {\n            setEditorBiolink(response.biolink);\n          }}\n        />\n      }\n    >\n      <div className=\"flex items-center gap-6\">\n        <RemoteFavicon url={link.long_url} />\n        <a\n          href={link.short_url}\n          target=\"_blank\"\n          className=\"hover:underline whitespace-nowrap overflow-hidden overflow-ellipsis text-muted text-sm\"\n          rel=\"noreferrer\"\n        >\n          {removeProtocol(link.long_url)}\n        </a>\n      </div>\n    </BiolinkContentItemLayout>\n  );\n}\n\ninterface ActionRowProps {\n  link: BiolinkLink;\n  biolink: Biolink;\n}\nfunction ActionRow({link, biolink}: ActionRowProps) {\n  const updateItem = useUpdateBiolinkContentItem();\n\n  return (\n    <div className=\"flex md:gap-24 md:justify-between h-42 items-center\">\n      <div className=\"flex items-center text-muted\">\n        <Switch\n          checked={link.active}\n          disabled={link.active_locked || updateItem.isLoading}\n          onChange={() => {\n            updateItem.mutate({\n              item: link,\n              values: {active: !link.active},\n            });\n          }}\n        />\n        <DialogTrigger type=\"popover\">\n          <Tooltip label={<Trans message=\"Change thumbnail\" />}>\n            <IconButton className=\"ml-10\" color={link.image ? 'primary' : null}>\n              <ImageIcon />\n            </IconButton>\n          </Tooltip>\n          <LinkThumbnailDialog link={link} />\n        </DialogTrigger>\n        <DialogTrigger type=\"popover\">\n          <Tooltip label={<Trans message=\"Animation\" />}>\n            <IconButton color={link.animation ? 'primary' : null}>\n              <AnimationIcon />\n            </IconButton>\n          </Tooltip>\n          <LinkAnimationDialog link={link} />\n        </DialogTrigger>\n        <DialogTrigger type=\"popover\">\n          <Tooltip label={<Trans message=\"Redirect\" />}>\n            <IconButton color={link.leap_until ? 'primary' : null}>\n              <ShortcutIcon />\n            </IconButton>\n          </Tooltip>\n          <LeapLinkDialog link={link} />\n        </DialogTrigger>\n        <DialogTrigger type=\"popover\">\n          <Tooltip label={<Trans message=\"Schedule\" />}>\n            <IconButton\n              color={link.expires_at || link.activates_at ? 'primary' : null}\n            >\n              <MoreTimeIcon />\n            </IconButton>\n          </Tooltip>\n          <LinkScheduleDialog link={link} />\n        </DialogTrigger>\n      </div>\n      <ClicksButton link={link} />\n    </div>\n  );\n}\n\ninterface ClicksButtonProps {\n  link: BiolinkLink;\n}\nfunction ClicksButton({link}: ClicksButtonProps) {\n  const isMobile = useIsMobileMediaQuery();\n  const isVerySmallScreen = useMediaQuery('(max-width: 380px)');\n  if (isVerySmallScreen) {\n    return null;\n  }\n\n  const clicksReportPath = `../../../../links/${link.id}`;\n\n  const button = isMobile ? (\n    <IconButton\n      className=\"text-muted flex-shrink-0\"\n      elementType={Link}\n      to={clicksReportPath}\n      relative=\"path\"\n    >\n      <BarChartIcon />\n    </IconButton>\n  ) : (\n    <Button\n      variant=\"text\"\n      className=\"text-muted\"\n      startIcon={<BarChartIcon />}\n      elementType={Link}\n      to={clicksReportPath}\n      relative=\"path\"\n    >\n      <Trans message=\":count clicks\" values={{count: link.clicks_count}} />\n    </Button>\n  );\n\n  return (\n    <Tooltip\n      label={\n        <Trans\n          message=\":count lifetime clicks\"\n          values={{count: link.clicks_count}}\n        />\n      }\n    >\n      {button}\n    </Tooltip>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {UseFormReturn} from 'react-hook-form';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {apiClient, queryClient} from '@common/http/query-client';\nimport {PaginatedResourcesQueryKey} from '@common/datatable/requests/paginated-resources';\nimport {toast} from '@common/ui/toast/toast';\nimport {message} from '@common/i18n/message';\nimport {CrupdateBiolinkFormValues} from '@app/dashboard/biolink/biolinks-datatable-page/crupdate/crupdate-biolink-form-values';\nimport {\n  buildLinkeablePayload,\n  CrupdateLinkeablePayload,\n} from '@app/dashboard/links/utils/build-linkeable-payload';\n\nexport interface CrupdateBiolinkPayload\n  extends Omit<CrupdateBiolinkFormValues, 'utm' | 'groups' | 'pixels' | 'tags'>,\n    CrupdateLinkeablePayload {}\n\ninterface Response extends BackendResponse {}\n\nexport function useUpdateBiolink(\n  form: UseFormReturn<CrupdateBiolinkFormValues>,\n  biolinkId: number\n) {\n  const {trans} = useTrans();\n  return useMutation(\n    (payload: CrupdateBiolinkFormValues) => updateBiolink(biolinkId, payload),\n    {\n      onSuccess: () => {\n        toast.positive(trans(message('Biolink updated')));\n        queryClient.invalidateQueries(PaginatedResourcesQueryKey('biolink'));\n      },\n      onError: err => onFormQueryError(err, form),\n    }\n  );\n}\n\nfunction updateBiolink(\n  biolinkId: number,\n  payload: CrupdateBiolinkFormValues\n): Promise<Response> {\n  return apiClient\n    .put(\n      `biolink/${biolinkId}`,\n      buildLinkeablePayload<CrupdateBiolinkPayload>(payload)\n    )\n    .then(r => r.data);\n}\n","import {\n  HidableLinkSettingsField,\n  LinkSettingsForm,\n} from '@app/dashboard/links/forms/link-settings-form';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\nimport {useForm} from 'react-hook-form';\nimport {CrupdateBiolinkFormValues} from '@app/dashboard/biolink/biolinks-datatable-page/crupdate/crupdate-biolink-form-values';\nimport {Form} from '@common/ui/forms/form';\nimport {Trans} from '@common/i18n/trans';\nimport {buildLinkeableDefaultFormValues} from '@app/dashboard/links/utils/build-linkeable-default-form-values';\nimport {useUpdateBiolink} from '@app/dashboard/biolink/biolink-editor/requests/use-update-biolink';\nimport {Button} from '@common/ui/buttons/button';\nimport {FullPageLoader} from '@common/ui/progress/full-page-loader';\nimport {useEditorBiolink} from '@app/dashboard/biolink/biolink-editor/requests/use-editor-biolink';\nimport {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {AliasField} from '@app/dashboard/links/forms/alias-field';\n\nconst hiddenLinkSettingsFields: HidableLinkSettingsField[] = [\n  'type',\n  'groups',\n  'title',\n];\n\nexport function BiolinkSettingsForm() {\n  const {biolink} = useEditorBiolink();\n\n  if (!biolink) {\n    return (\n      <div className=\"py-24\">\n        <FullPageLoader />\n      </div>\n    );\n  }\n\n  return <SettingsForm biolink={biolink} />;\n}\n\ninterface SettingsFormProps {\n  biolink: Biolink;\n}\nfunction SettingsForm({biolink}: SettingsFormProps) {\n  const form = useForm<CrupdateBiolinkFormValues>({\n    defaultValues: buildLinkeableDefaultFormValues(biolink),\n  });\n  const updateSettings = useUpdateBiolink(form, biolink.id);\n\n  return (\n    <Form\n      form={form}\n      onBeforeSubmit={() => {\n        // hook form won't clear errors for fields that are not bound to input\n        form.clearErrors('hash');\n      }}\n      onSubmit={values => {\n        updateSettings.mutate(values);\n      }}\n    >\n      <div className=\"mb-24\">\n        <Button\n          type=\"submit\"\n          variant=\"flat\"\n          color=\"primary\"\n          disabled={updateSettings.isLoading || !form.formState.isDirty}\n        >\n          <Trans message=\"Update\" />\n        </Button>\n      </div>\n      <div className=\"mb-24\">\n        <FormTextField\n          name=\"name\"\n          label={<Trans message=\"Name\" />}\n          minLength={3}\n          className=\"mb-8\"\n          autoFocus\n        />\n        <AliasField form={form} name=\"hash\" />\n      </div>\n      <LinkSettingsForm\n        hiddenFields={hiddenLinkSettingsFields}\n        linkName={<Trans message=\"biolink\" />}\n      />\n    </Form>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {message} from '@common/i18n/message';\nimport {toast} from '@common/ui/toast/toast';\nimport {UseFormReturn} from 'react-hook-form';\nimport {onFormQueryError} from '@common/errors/on-form-query-error';\nimport {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport {setEditorBiolink} from '@app/dashboard/biolink/biolink-editor/requests/use-editor-biolink';\n\ninterface Response extends BackendResponse {\n  biolink: Biolink;\n}\n\ninterface Payload {\n  widgetId?: number;\n  type: WidgetType;\n  position?: number;\n  config: BiolinkWidget['config'] | null;\n}\n\nexport function useCrupdateBiolinkWidget(\n  biolinkId: number,\n  form: UseFormReturn<BiolinkWidget['config']>\n) {\n  const {trans} = useTrans();\n  return useMutation((payload: Payload) => createWidget(biolinkId, payload), {\n    onSuccess: (response, payload) => {\n      toast.positive(\n        trans(\n          !payload.widgetId\n            ? message('Widget updated')\n            : message('Widget added')\n        )\n      );\n      setEditorBiolink(response.biolink);\n    },\n    onError: err => onFormQueryError(err, form),\n  });\n}\n\nfunction createWidget(\n  biolinkId: number,\n  {widgetId, ...payload}: Payload\n): Promise<Response> {\n  const request = widgetId\n    ? apiClient.put(`biolink/${biolinkId}/widget/${widgetId}`, payload)\n    : apiClient.post(`biolink/${biolinkId}/widget`, payload);\n  return request.then(r => r.data);\n}\n","import {useForm, UseFormReturn} from 'react-hook-form';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Form} from '@common/ui/forms/form';\nimport {Trans} from '@common/i18n/trans';\nimport {useCrupdateBiolinkWidget} from '@app/dashboard/biolink/biolink-editor/requests/use-crupdate-biolink-widget';\nimport {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {ReactNode, useMemo} from 'react';\nimport {\n  WidgetList,\n  WidgetType,\n} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\n\ninterface CrupdateWidgetDialogProps {\n  biolink: Biolink;\n  type: WidgetType;\n  widget?: BiolinkWidget;\n  children?: ReactNode;\n  defaultValues?: BiolinkWidget['config'];\n  // allow children to transform or validate values before submitting\n  onSubmit?: (\n    values: BiolinkWidget['config'],\n    form: UseFormReturn<BiolinkWidget['config']>\n  ) => Promise<BiolinkWidget['config'] | undefined> | void;\n}\nexport function CrupdateWidgetDialog({\n  biolink,\n  widget,\n  type,\n  defaultValues,\n  children,\n  onSubmit,\n}: CrupdateWidgetDialogProps) {\n  const widgetListItem = WidgetList[type];\n\n  // make sure we are not using empty array or string for defaultValues, it will cause errors\n  const cleanedValues = useMemo(() => {\n    const values = widget?.config || defaultValues;\n    const isEmpty = (Array.isArray(values) && values.length === 0) || !values;\n    return isEmpty ? undefined : values;\n  }, [widget?.config, defaultValues]);\n\n  const form = useForm<BiolinkWidget['config']>({\n    defaultValues: cleanedValues,\n  });\n  const {formId, close} = useDialogContext();\n  const addWidget = useCrupdateBiolinkWidget(biolink.id, form);\n\n  return (\n    <Dialog>\n      <DialogHeader>\n        <Trans {...widgetListItem.name} />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          form={form}\n          id={formId}\n          onSubmit={async values => {\n            const transformedValues = onSubmit\n              ? await onSubmit(values, form)\n              : values;\n            // \"null\" is needed to clear selected value for widget (socials for example)\n            if (transformedValues === undefined) {\n              return;\n            }\n            addWidget.mutate(\n              {\n                widgetId: widget?.id,\n                config: transformedValues,\n                type,\n                // put socials widget at the end (when creating a new widget), everything else at the start\n                position:\n                  !widget && type === WidgetType.Socials\n                    ? biolink.content.length + 1\n                    : undefined,\n              },\n              {onSuccess: () => close()}\n            );\n          }}\n        >\n          {children}\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          variant=\"text\"\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          form={formId}\n          disabled={addWidget.isLoading || !form.formState.isDirty}\n        >\n          {widget ? <Trans message=\"Update\" /> : <Trans message=\"Add\" />}\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {FormImageSelector} from '@common/ui/images/image-selector';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {FormSelect} from '@common/ui/forms/select/select';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {CrupdateWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/crupdate-widget-dialog';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport {WidgetDialogProps} from '@app/dashboard/biolink/biolink-editor/content/widgets/types/widget-dialog-props';\n\nexport interface ImageWidget extends BiolinkWidget {\n  type: WidgetType.Image;\n  config: {\n    url: string;\n    destinationUrl?: string;\n    type: 'default' | 'avatar';\n  };\n}\n\nexport function ImageWidgetDialog({\n  biolink,\n  widget,\n}: WidgetDialogProps<ImageWidget>) {\n  const {trans} = useTrans();\n  return (\n    <CrupdateWidgetDialog\n      biolink={biolink}\n      type={WidgetType.Image}\n      widget={widget}\n    >\n      <FileUploadProvider>\n        <FormImageSelector name=\"url\" diskPrefix=\"widgets\" required />\n      </FileUploadProvider>\n      <FormSelect\n        className=\"my-24\"\n        name=\"type\"\n        label={<Trans message=\"Style\" />}\n        selectionMode=\"single\"\n      >\n        <Item value=\"default\">\n          <Trans message=\"Default\" />\n        </Item>\n        <Item value=\"avatar\">\n          <Trans message=\"Avatar\" />\n        </Item>\n      </FormSelect>\n      <FormTextField\n        placeholder={trans(message('Optional'))}\n        name=\"destinationUrl\"\n        type=\"url\"\n        label={<Trans message=\"Destination url\" />}\n        description={\n          <Trans message=\"Redirect user to this url when clicking the image.\" />\n        }\n      />\n    </CrupdateWidgetDialog>\n  );\n}\n","export default \"__VITE_ASSET__d8dc8345__\"","export default \"__VITE_ASSET__e5f73930__\"","export default \"__VITE_ASSET__7d34b331__\"","export default \"__VITE_ASSET__8639db0d__\"","export default \"__VITE_ASSET__a6ae8fd9__\"","export default \"__VITE_ASSET__f698adf6__\"","export default \"__VITE_ASSET__45316d66__\"","export default \"__VITE_ASSET__7d18ac0c__\"","export default \"__VITE_ASSET__956e4d3e__\"","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {CrupdateWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/crupdate-widget-dialog';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport getVideoId from 'get-video-id';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\n\nexport interface YoutubeWidget extends BiolinkWidget {\n  type: WidgetType.Youtube;\n  config: {\n    url: string;\n  };\n}\n\ninterface YoutubeWidgetDialogProps {\n  biolink: Biolink;\n  widget?: YoutubeWidget;\n}\nexport function YoutubeWidgetDialog({\n  biolink,\n  widget,\n}: YoutubeWidgetDialogProps) {\n  const {trans} = useTrans();\n  return (\n    <CrupdateWidgetDialog\n      biolink={biolink}\n      type={WidgetType.Youtube}\n      widget={widget}\n      onSubmit={(values, form) => {\n        const youtubeId = getVideoId(values.url).id;\n        if (!youtubeId) {\n          form.setError('url', {\n            message: trans(message('Invalid youtube url')),\n          });\n        } else {\n          return Promise.resolve(values);\n        }\n      }}\n    >\n      <FormTextField\n        required\n        autoFocus\n        placeholder=\"https://www.youtube.com/watch?v=YE7VzlLtp-4\"\n        name=\"url\"\n        type=\"url\"\n        label={<Trans message=\"Youtube video url\" />}\n        description={\n          <Trans message=\"Embed this youtube video within biolink.\" />\n        }\n      />\n    </CrupdateWidgetDialog>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {CrupdateWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/crupdate-widget-dialog';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\n\nexport interface TextWidget extends BiolinkWidget {\n  type: WidgetType.Text;\n  config: {\n    title: string;\n    description?: string;\n  };\n}\n\ninterface TextWidgetDialogProps {\n  biolink: Biolink;\n  widget?: TextWidget;\n}\nexport function TextWidgetDialog({biolink, widget}: TextWidgetDialogProps) {\n  return (\n    <CrupdateWidgetDialog\n      biolink={biolink}\n      type={WidgetType.Text}\n      widget={widget}\n    >\n      <FormTextField\n        className=\"mb-24\"\n        required\n        autoFocus\n        name=\"title\"\n        label={<Trans message=\"Title\" />}\n      />\n      <FormTextField\n        name=\"description\"\n        label={<Trans message=\"Description\" />}\n      />\n    </CrupdateWidgetDialog>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {CrupdateWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/crupdate-widget-dialog';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport {\n  SocialsList,\n  SocialsType,\n} from '@app/dashboard/biolink/biolink-editor/content/widgets/socials-widget/socials-list';\nimport {removeEmptyValuesFromObject} from '@common/utils/objects/remove-empty-values-from-object';\n\nexport interface SocialsWidget extends BiolinkWidget {\n  type: WidgetType.Text;\n  config: Record<SocialsType, string>;\n}\n\ninterface TextWidgetDialogProps {\n  biolink: Biolink;\n  widget?: SocialsWidget;\n}\nexport function SocialsWidgetDialog({biolink, widget}: TextWidgetDialogProps) {\n  return (\n    <CrupdateWidgetDialog\n      biolink={biolink}\n      type={WidgetType.Socials}\n      widget={widget}\n      onSubmit={values => {\n        // remove key from object, if user empties social's input\n        return Promise.resolve(removeEmptyValuesFromObject(values));\n      }}\n    >\n      {Object.entries(SocialsList).map(([type, social], index) => {\n        const Icon = social.icon;\n        return (\n          <FormTextField\n            autoFocus={index === 0}\n            key={type}\n            className=\"mb-24\"\n            name={type}\n            placeholder={social.placeholder}\n            label={<Trans {...social.name} />}\n            pattern={social.pattern}\n            type={social.inputType}\n            autoComplete=\"off\"\n            startAdornment={Icon && <Icon />}\n          />\n        );\n      })}\n    </CrupdateWidgetDialog>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {CrupdateWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/crupdate-widget-dialog';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\n\nexport interface TwitchWidget extends BiolinkWidget {\n  type: WidgetType.Image;\n  config: {\n    url: string;\n  };\n}\n\ninterface YoutubeWidgetDialogProps {\n  biolink: Biolink;\n  widget?: TwitchWidget;\n}\nexport function TwitchWidgetDialog({\n  biolink,\n  widget,\n}: YoutubeWidgetDialogProps) {\n  return (\n    <CrupdateWidgetDialog\n      biolink={biolink}\n      type={WidgetType.Twitch}\n      widget={widget}\n    >\n      <FormTextField\n        required\n        autoFocus\n        placeholder=\"https://www.twitch.tv/kasparovchess\"\n        name=\"url\"\n        type=\"url\"\n        pattern=\"https://(www.)?twitch.tv/.*\"\n        label={<Trans message=\"Twitch channel or clip url\" />}\n        description={\n          <Trans message=\"Embed this twitch channel or clip within biolink.\" />\n        }\n      />\n    </CrupdateWidgetDialog>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {CrupdateWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/crupdate-widget-dialog';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\n\nexport interface SoundcloudWidget extends BiolinkWidget {\n  type: WidgetType.Soundcloud;\n  config: {\n    url: string;\n    embedUrl: string;\n  };\n}\n\ninterface SoundcloudWidgetDialogProps {\n  biolink: Biolink;\n  widget?: SoundcloudWidget;\n}\nexport function SoundcloudWidgetDialog({\n  biolink,\n  widget,\n}: SoundcloudWidgetDialogProps) {\n  const {trans} = useTrans();\n  return (\n    <CrupdateWidgetDialog\n      biolink={biolink}\n      type={WidgetType.Soundcloud}\n      widget={widget}\n      onSubmit={async (values, form) => {\n        const encodedUrl = encodeURIComponent(values.url);\n        const response = await fetch(\n          `https://soundcloud.com/oembed?format=json&url=${encodedUrl}`\n        ).then(res => res.json());\n        const embedCode = response.html;\n\n        const div = document.createElement('div');\n        div.innerHTML = embedCode;\n        const embedUrl = div.querySelector('iframe')?.src;\n\n        if (embedUrl) {\n          return {\n            ...values,\n            embedUrl,\n          };\n        }\n\n        form.setError('url', {\n          message: trans(message('Invalid soundcloud url')),\n        });\n      }}\n    >\n      <FormTextField\n        required\n        autoFocus\n        placeholder=\"https://soundcloud.com/artist/track\"\n        name=\"url\"\n        type=\"url\"\n        label={<Trans message=\"Soundcloud track url\" />}\n        description={\n          <Trans message=\"Embed this soundcloud track within biolink.\" />\n        }\n      />\n    </CrupdateWidgetDialog>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {CrupdateWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/crupdate-widget-dialog';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport getVideoId from 'get-video-id';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\n\nexport interface VimeoWidget extends BiolinkWidget {\n  type: WidgetType.Vimeo;\n  config: {\n    url: string;\n  };\n}\n\ninterface VimeoWidgetDialogProps {\n  biolink: Biolink;\n  widget?: VimeoWidget;\n}\nexport function VimeoWidgetDialog({biolink, widget}: VimeoWidgetDialogProps) {\n  const {trans} = useTrans();\n  return (\n    <CrupdateWidgetDialog\n      biolink={biolink}\n      type={WidgetType.Vimeo}\n      widget={widget}\n      onSubmit={(values, form) => {\n        const vimeoId = getVideoId(values.url).id;\n        if (!vimeoId) {\n          form.setError('url', {\n            message: trans(message('Invalid vimeo url')),\n          });\n        } else {\n          return Promise.resolve(values);\n        }\n      }}\n    >\n      <FormTextField\n        required\n        autoFocus\n        placeholder=\"https://vimeo.com/1084537\"\n        name=\"url\"\n        type=\"url\"\n        label={<Trans message=\"Vimeo video url\" />}\n        description={<Trans message=\"Embed this vimeo video within biolink.\" />}\n      />\n    </CrupdateWidgetDialog>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {CrupdateWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/crupdate-widget-dialog';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\nimport {parse} from '@app/dashboard/biolink/biolink-editor/content/widgets/spotify-widget/spotify-uri';\n\nexport interface SpotifyWidget extends BiolinkWidget {\n  type: WidgetType.Vimeo;\n  config: {\n    url: string;\n    type?: string;\n  };\n}\n\ninterface SpotifyWidgetDialogProps {\n  biolink: Biolink;\n  widget?: SpotifyWidget;\n}\nexport function SpotifyWidgetDialog({\n  biolink,\n  widget,\n}: SpotifyWidgetDialogProps) {\n  const {trans} = useTrans();\n  return (\n    <CrupdateWidgetDialog\n      biolink={biolink}\n      type={WidgetType.Spotify}\n      widget={widget}\n      onSubmit={(values, form) => {\n        const spotifyInfo = parse(values.url);\n        if (!('id' in spotifyInfo)) {\n          form.setError('url', {\n            message: trans(message('Invalid spotify url')),\n          });\n        } else {\n          return Promise.resolve({\n            ...values,\n            type: spotifyInfo.type,\n          });\n        }\n      }}\n    >\n      <FormTextField\n        required\n        autoFocus\n        placeholder=\"https://open.spotify.com/track/2sqfLwGKXDw1nGjFhH3GGX?si=f329040f45804ec5\"\n        name=\"url\"\n        type=\"url\"\n        label={<Trans message=\"Spotify share url\" />}\n        description={\n          <Trans message=\"Any share url from spotify can be used, including artist, album, track, playlist etc.\" />\n        }\n      />\n    </CrupdateWidgetDialog>\n  );\n}\n","import {FormTextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {Trans} from '@common/i18n/trans';\nimport {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {CrupdateWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/crupdate-widget-dialog';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport {useTrans} from '@common/i18n/use-trans';\nimport {message} from '@common/i18n/message';\n\nexport interface TiktokWidget extends BiolinkWidget {\n  type: WidgetType.Vimeo;\n  config: {\n    url: string;\n  };\n}\n\ninterface TiktokWidgetDialogProps {\n  biolink: Biolink;\n  widget?: TiktokWidget;\n}\nexport function TiktokWidgetDialog({biolink, widget}: TiktokWidgetDialogProps) {\n  const {trans} = useTrans();\n  return (\n    <CrupdateWidgetDialog\n      biolink={biolink}\n      type={WidgetType.Tiktok}\n      widget={widget}\n      onSubmit={(values, form) => {\n        if (!values.url.includes('tiktok.com/')) {\n          form.setError('url', {\n            message: trans(message('Invalid tiktok url')),\n          });\n        } else {\n          return Promise.resolve(values);\n        }\n      }}\n    >\n      <FormTextField\n        required\n        autoFocus\n        placeholder=\"https://www.tiktok.com/@bts_official_bighit/video/6964945720885464322\"\n        name=\"url\"\n        type=\"url\"\n        label={<Trans message=\"Tiktok url\" />}\n        description={\n          <Trans message=\"Embed this tiktok video within biolink.\" />\n        }\n      />\n    </CrupdateWidgetDialog>\n  );\n}\n","import {ImageWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/image-widget/image-widget-dialog';\nimport {JSXElementConstructor} from 'react';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {message} from '@common/i18n/message';\nimport imageThumbnail from './widget-selector/widget-images/image.png';\nimport textImage from './widget-selector/widget-images/text.png';\nimport socialsImage from './widget-selector/widget-images/socials.png';\nimport youtubeImage from './widget-selector/widget-images/youtube.png';\nimport soundcloudImage from './widget-selector/widget-images/soundcloud.png';\nimport vimeoImage from './widget-selector/widget-images/vimeo.jpeg';\nimport spotifyImage from './widget-selector/widget-images/spotify.png';\nimport twitchImage from './widget-selector/widget-images/twitch.svg';\nimport tiktokImage from './widget-selector/widget-images/tiktok.png';\nimport {WidgetDialogProps} from '@app/dashboard/biolink/biolink-editor/content/widgets/types/widget-dialog-props';\nimport {YoutubeWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/youtube-widget/youtube-widget-dialog';\nimport {TextWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/text-widget/text-widget-dialog';\nimport {SocialsWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/socials-widget/socials-widget-dialog';\nimport {TwitchWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/twitch-widget/twitch-widget-dialog';\nimport {SoundcloudWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/soundcloud-widget/soundcloud-widget-dialog';\nimport {VimeoWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/vimeo-widget/vimeo-widget-dialog';\nimport {SpotifyWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/spotify-widget/spotify-widget-dialog';\nimport {TiktokWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/tiktok-widget/tiktok-widget-dialog';\n\nexport interface WidgetListItem {\n  name: MessageDescriptor;\n  description: MessageDescriptor;\n  image?: string;\n  dialog: JSXElementConstructor<WidgetDialogProps<any>>;\n}\n\nexport enum WidgetType {\n  Image = 'image',\n  Text = 'text',\n  Socials = 'socials',\n  Youtube = 'youtube',\n  Soundcloud = 'soundcloud',\n  Vimeo = 'video',\n  Spotify = 'spotify',\n  Twitch = 'twitch',\n  Tiktok = 'tiktok',\n}\n\nexport const WidgetList: Record<WidgetType, WidgetListItem> = {\n  [WidgetType.Image]: {\n    name: message('Image'),\n    image: imageThumbnail,\n    description: message(\n      'Upload an image and optionally add a link it will redirect to when clicked.'\n    ),\n    dialog: ImageWidgetDialog,\n  },\n  [WidgetType.Text]: {\n    name: message('Text'),\n    image: textImage,\n    description: message(\n      'Add title and optional description. Can be used as a header for the whole biolink or a group of multiple widgets.'\n    ),\n    dialog: TextWidgetDialog,\n  },\n  [WidgetType.Socials]: {\n    name: message('Social Links'),\n    image: socialsImage,\n    description: message(\n      'Add your socials links to display them as icon buttons.'\n    ),\n    dialog: SocialsWidgetDialog,\n  },\n  [WidgetType.Youtube]: {\n    name: message('Youtube Video'),\n    image: youtubeImage,\n    description: message(\n      'Paste a YouTube video URL to show it as a video embed in your profile.'\n    ),\n    dialog: YoutubeWidgetDialog,\n  },\n  [WidgetType.Soundcloud]: {\n    name: message('Soundcloud Audio'),\n    image: soundcloudImage,\n    description: message(\n      'Paste a SoundCloud URL to show it as a playable song in your profile.'\n    ),\n    dialog: SoundcloudWidgetDialog,\n  },\n  [WidgetType.Vimeo]: {\n    name: message('Vimeo Video'),\n    image: vimeoImage,\n    description: message(\n      'Paste a vimeo URL to show it as a video embed in your profile.'\n    ),\n    dialog: VimeoWidgetDialog,\n  },\n  [WidgetType.Spotify]: {\n    name: message('Spotify Embed'),\n    image: spotifyImage,\n    description: message(\n      'Paste a spotify song, album, artist, playlist, podcast or episode url to show it as an embed in your profile.'\n    ),\n    dialog: SpotifyWidgetDialog,\n  },\n  [WidgetType.Twitch]: {\n    name: message('Twitch Embed'),\n    image: twitchImage,\n    description: message(\n      'Paste twitch profile or clip url to show it as an embed in your profile.'\n    ),\n    dialog: TwitchWidgetDialog,\n  },\n  [WidgetType.Tiktok]: {\n    name: message('TikTok Embed'),\n    image: tiktokImage,\n    description: message(\n      'Paste TikTok video url to show it as an embed in your profile.'\n    ),\n    dialog: TiktokWidgetDialog,\n  },\n};\n","import {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {Trans} from '@common/i18n/trans';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {WidgetList} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\n\nexport function SelectWidgetDialog() {\n  const {close} = useDialogContext();\n  return (\n    <Dialog size=\"xl\">\n      <DialogHeader titleTextSize=\"text-md\" padding=\"px-24 pt-14 pb-4\">\n        <Trans message=\"Add widget\" />\n      </DialogHeader>\n      <DialogBody padding=\"p-24\">\n        <div className=\"grid gap-14 grid-cols-1 md:grid-cols-2 lg:grid-cols-3\">\n          {Object.entries(WidgetList).map(([widgetType, widget]) => (\n            <div\n              key={widgetType}\n              className=\"bg-paper border rounded p-14 shadow cursor-pointer hover:bg-primary/hover\"\n              role=\"button\"\n              tabIndex={0}\n              onClick={() => {\n                close(widgetType);\n              }}\n            >\n              <img\n                src={widget.image}\n                alt=\"\"\n                className=\"block w-54 h-54 mb-20 mr-auto\"\n              />\n              <div className=\"text-primary text-lg font-semibold whitespace-nowrap overflow-hidden overflow-ellipsis\">\n                <Trans {...widget.name} />\n              </div>\n              <div className=\"text-muted\">\n                <Trans {...widget.description} />\n              </div>\n            </div>\n          ))}\n        </div>\n      </DialogBody>\n    </Dialog>\n  );\n}\n","import {\n  WidgetList,\n  WidgetType,\n} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\n\ninterface WidgetDialogContainerProps {\n  biolink: Biolink;\n  activeWidget: WidgetType | null;\n  onOpenChange: (isOpen: boolean) => void;\n}\nexport function NewWidgetDialogContainer({\n  activeWidget,\n  biolink,\n  onOpenChange,\n}: WidgetDialogContainerProps) {\n  const Dialog = activeWidget ? WidgetList[activeWidget].dialog : null;\n  return (\n    <DialogTrigger\n      type=\"modal\"\n      isOpen={activeWidget != null}\n      onOpenChange={onOpenChange}\n    >\n      {Dialog && <Dialog biolink={biolink} />}\n    </DialogTrigger>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const ArrowUpwardIcon = createSvgIcon(\n  <path d=\"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z\" />\n, 'ArrowUpwardOutlined');\n","import {Biolink, BiolinkWidget} from '@app/dashboard/biolink/biolink';\nimport {WidgetList} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport {Trans} from '@common/i18n/trans';\nimport {Switch} from '@common/ui/forms/toggle/switch';\nimport {BiolinkContentItemLayout} from '@app/dashboard/biolink/biolink-editor/content/biolink-content-item-layout';\nimport {useUpdateBiolinkContentItem} from '@app/dashboard/biolink/biolink-editor/requests/use-update-biolink-content-item';\nimport {Button} from '@common/ui/buttons/button';\nimport {ArrowUpwardIcon} from '@common/icons/material/ArrowUpward';\nimport {useSortBiolinkContent} from '@app/dashboard/biolink/biolink-editor/requests/use-sort-biolink-content';\nimport {biolinkEditorState} from '@app/dashboard/biolink/biolink-editor/biolink-editor-store';\nimport {ArrowDownwardIcon} from '@common/icons/material/ArrowDownward';\nimport {WidgetRenderers} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-renderers';\n\ninterface WidgetContentItemProps {\n  item: BiolinkWidget;\n  biolink: Biolink;\n}\nexport function WidgetContentItem({\n  item: widget,\n  biolink,\n}: WidgetContentItemProps) {\n  const config = WidgetList[widget.type];\n  const WidgetRenderer = WidgetRenderers[widget.type];\n  const WidgetDialog = config.dialog;\n\n  return (\n    <BiolinkContentItemLayout\n      biolink={biolink}\n      item={widget}\n      title={<Trans {...config.name} />}\n      updateDialog={<WidgetDialog widget={widget} biolink={biolink} />}\n      actionRow={<ActionRow widget={widget} />}\n    >\n      <WidgetRenderer widget={widget} variant=\"editor\" />\n    </BiolinkContentItemLayout>\n  );\n}\n\ninterface ActionRowProps {\n  widget: BiolinkWidget;\n}\nfunction ActionRow({widget}: ActionRowProps) {\n  const updateItem = useUpdateBiolinkContentItem();\n  const sortContent = useSortBiolinkContent();\n\n  const handlePinToTop = () => {\n    const biolink = biolinkEditorState().biolink;\n    if (!biolink) return;\n\n    const pinnedCount = biolink.content.filter(x => x.pinned === 'top').length;\n\n    if (!widget.pinned) {\n      const oldIndex = biolink.content.findIndex(\n        x => x.model_type === widget.model_type && x.id === widget.id\n      );\n      sortContent.mutate({\n        oldIndex,\n        // pinned widget after any other widgets that are already pinned to top\n        newIndex: pinnedCount,\n        widgetToPin: widget.id,\n      });\n    } else {\n      updateItem.mutate({item: widget, values: {pinned: null}});\n    }\n  };\n\n  return (\n    <div className=\"flex items-center gap-24 justify-between text-muted h-42\">\n      <Switch\n        checked={widget.active}\n        disabled={updateItem.isLoading}\n        onChange={() => {\n          updateItem.mutate({\n            item: widget,\n            values: {\n              active: !widget.active,\n            },\n          });\n        }}\n      />\n      <Button\n        variant=\"outline\"\n        size=\"2xs\"\n        radius=\"rounded-full\"\n        color={widget.pinned === 'top' ? 'primary' : undefined}\n        startIcon={\n          widget.pinned === 'top' ? <ArrowDownwardIcon /> : <ArrowUpwardIcon />\n        }\n        disabled={sortContent.isLoading}\n        onClick={handlePinToTop || updateItem.isLoading}\n      >\n        {widget.pinned === 'top' ? (\n          <Trans message=\"Unpin from top\" />\n        ) : (\n          <Trans message=\"Pin to top\" />\n        )}\n      </Button>\n    </div>\n  );\n}\n","import {ReactNode} from 'react';\nimport {BiolinkLayout} from '@app/short-links/renderers/biolink-renderer/biolink-layout';\nimport {Trans} from '@common/i18n/trans';\nimport {Chip} from '@common/ui/forms/input-field/chip-field/chip';\nimport {useBiolinkEditorStore} from '@app/dashboard/biolink/biolink-editor/biolink-editor-store';\nimport {useIsTabletMediaQuery} from '@common/utils/hooks/is-tablet-media-query';\nimport {useEditorBiolink} from '@app/dashboard/biolink/biolink-editor/requests/use-editor-biolink';\n\nexport function LivePreview() {\n  const {biolink} = useEditorBiolink();\n  const appearance = useBiolinkEditorStore(s => s.appearance);\n  const isTablet = useIsTabletMediaQuery();\n\n  if (isTablet) {\n    return null;\n  }\n\n  return (\n    <div className=\"flex-shrink-0 sticky top-24 h-max\">\n      <Chip\n        size=\"sm\"\n        color=\"positive\"\n        radius=\"rounded\"\n        className=\"w-max m-auto mb-24\"\n      >\n        <Trans message=\"Live preview\" />\n      </Chip>\n      <PhoneSkeleton>\n        {biolink ? (\n          <BiolinkLayout biolink={biolink} appearance={appearance} />\n        ) : null}\n      </PhoneSkeleton>\n      <div className=\"text-sm text-muted text-center mt-14\">\n        <Trans message=\"Scheduled and disabled content is not shown\" />\n      </div>\n    </div>\n  );\n}\n\ninterface PhoneSkeletonProps {\n  children: ReactNode;\n}\nfunction PhoneSkeleton({children}: PhoneSkeletonProps) {\n  return (\n    <div className=\"w-350 h-[724px] rounded-[64px] shadow-lg border border-[#444546] border-[12px] overflow-hidden\">\n      <div className=\"overflow-y-auto h-full compact-scrollbar\">{children}</div>\n    </div>\n  );\n}\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const FormatColorFillIcon = createSvgIcon(\n  <path d=\"M16.56 8.94 7.62 0 6.21 1.41l2.38 2.38-5.15 5.15c-.59.59-.59 1.54 0 2.12l5.5 5.5c.29.29.68.44 1.06.44s.77-.15 1.06-.44l5.5-5.5c.59-.58.59-1.53 0-2.12zM5.21 10 10 5.21 14.79 10H5.21zM19 11.5s-2 2.17-2 3.5c0 1.1.9 2 2 2s2-.9 2-2c0-1.33-2-3.5-2-3.5zM2 20h20v4H2v-4z\" />\n, 'FormatColorFillOutlined');\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const GradientIcon = createSvgIcon(\n  <path d=\"M11 9h2v2h-2V9zm-2 2h2v2H9v-2zm4 0h2v2h-2v-2zm2-2h2v2h-2V9zM7 9h2v2H7V9zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z\" />\n, 'GradientOutlined');\n","import clsx from 'clsx';\nimport {ComponentProps, forwardRef, ReactNode} from 'react';\n\ninterface BackgroundSelectorButtonProps extends ComponentProps<'button'> {\n  isActive?: boolean;\n  children?: ReactNode;\n  label: ReactNode;\n}\nexport const BackgroundSelectorButton = forwardRef<\n  HTMLButtonElement,\n  BackgroundSelectorButtonProps\n>(({isActive, children, className, style, label, ...buttonProps}, ref) => {\n  return (\n    <button type=\"button\" {...buttonProps} ref={ref}>\n      <span\n        className={clsx(\n          'flex items-center justify-center overflow-hidden border border-[#c3cbdc] rounded aspect-square outline-none focus-visible:ring',\n          isActive && 'ring-2 ring-primary ring-offset-2',\n          className\n        )}\n        style={style}\n      >\n        {children}\n      </span>\n      <span className=\"block mt-10 text-xs overflow-hidden overflow-ellipsis\">\n        {label}\n      </span>\n    </button>\n  );\n});\n","import {ColorPresets} from '@common/ui/color-picker/color-presets';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {message} from '@common/i18n/message';\n\nexport interface ColorBackground {\n  type: 'color';\n  id: string;\n  backgroundColor?: string;\n  color?: string;\n  label: MessageDescriptor;\n}\nexport const BaseColorBg: ColorBackground = {\n  type: 'color',\n  id: 'c-custom',\n  label: message('Custom color'),\n};\n\nexport const ColorBackgrounds: ColorBackground[] = ColorPresets.map(\n  (preset, index) => {\n    return {\n      ...BaseColorBg,\n      id: `c${index}`,\n      backgroundColor: preset.color,\n      label: preset.name,\n      color: preset.foreground,\n    };\n  }\n);\n","import {Trans} from '@common/i18n/trans';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {ColorPickerDialog} from '@common/ui/color-picker/color-picker-dialog';\nimport {BackgroundSelectorButton} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/background-selector-button';\nimport {FormatColorFillIcon} from '@common/icons/material/FormatColorFill';\nimport {BgSelectorTabProps} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/background-selector';\nimport {\n  BaseColorBg,\n  ColorBackground,\n  ColorBackgrounds,\n} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/color-backgrounds';\n\nexport function ColorBackgroundTab({\n  value,\n  onChange,\n  className,\n}: BgSelectorTabProps<ColorBackground>) {\n  return (\n    <div className={className}>\n      <CustomColorButton value={value} onChange={onChange} />\n      {ColorBackgrounds.map(background => (\n        <BackgroundSelectorButton\n          key={background.id}\n          label={<Trans {...background.label} />}\n          isActive={value?.id === background.id}\n          style={{backgroundColor: background.backgroundColor}}\n          onClick={() => {\n            onChange?.({\n              ...BaseColorBg,\n              ...background,\n            });\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n\nfunction CustomColorButton({\n  value,\n  onChange,\n}: BgSelectorTabProps<ColorBackground>) {\n  const isCustomColor = value?.id === BaseColorBg.id;\n  return (\n    <DialogTrigger\n      currentValue={value}\n      type=\"popover\"\n      onClose={(newValue: ColorBackground | string) => {\n        // apply color or revert to original\n        onChange?.(\n          typeof newValue === 'string'\n            ? {...BaseColorBg, backgroundColor: newValue}\n            : newValue\n        );\n      }}\n    >\n      <BackgroundSelectorButton\n        label={<Trans {...BaseColorBg.label} />}\n        className=\"border-dashed border-2\"\n        style={{\n          backgroundColor: isCustomColor ? value?.backgroundColor : undefined,\n        }}\n      >\n        <span className=\"inline-block text-white bg-black/20 rounded p-10\">\n          <FormatColorFillIcon size=\"lg\" />\n        </span>\n      </BackgroundSelectorButton>\n      <ColorPickerDialog\n        defaultValue={value?.backgroundColor}\n        onChange={newColor => {\n          // set color on color picker interaction\n          onChange?.({\n            ...BaseColorBg,\n            backgroundColor: newColor,\n          });\n        }}\n      />\n    </DialogTrigger>\n  );\n}\n","import {message} from '@common/i18n/message';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\n\nexport interface GradientBackground {\n  type: 'gradient';\n  id: string;\n  backgroundImage?: string;\n  color?: string;\n  label: MessageDescriptor;\n}\nexport const BaseGradientBg: GradientBackground = {\n  type: 'gradient',\n  id: 'g-custom',\n  label: message('Custom gradient'),\n};\n\nexport const GradientBackgrounds: GradientBackground[] = [\n  {\n    ...BaseGradientBg,\n    ...BaseGradientBg,\n    id: 'g1',\n    backgroundImage: 'linear-gradient(45deg, #ff9a9e, #fad0c4)',\n    label: message('Worm flame'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g2',\n    backgroundImage: 'linear-gradient(0deg, #a18cd1, #fbc2eb)',\n    label: message('Night fade'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g3',\n    backgroundImage: 'linear-gradient(120deg, #a1c4fd, #c2e9fb)',\n    label: message('Winter nova'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g4',\n    backgroundImage: 'linear-gradient(0deg, #cfd9df, #e2ebf0)',\n    label: message('Heavy rain'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g5',\n    backgroundImage: 'linear-gradient(120deg, #fdfbfb, #ebedee)',\n    label: message('Cloudy knoxville'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g6',\n    backgroundImage: 'linear-gradient(0deg, #a8edea, #fed6e3)',\n    label: message('Rare wind'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g7',\n    backgroundImage: 'linear-gradient(135deg, #f5f7fa, #c3cfe2)',\n    label: message('Saint petersburg'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g8',\n    backgroundImage: 'linear-gradient(135deg, #fdfcfb, #e2d1c3)',\n    label: message('Everlasting sky'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g9',\n    backgroundImage: 'linear-gradient(0deg, #c1dfc4, #deecdd)',\n    label: message('Soft grass'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g10',\n    backgroundImage: 'linear-gradient(90deg, #E9E4F0, #D3CCE3)',\n    label: message('Delicate'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g11',\n    backgroundImage: 'linear-gradient(90deg, #fffcdc, #d9a7c7)',\n    label: message('Broken hearts'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g12',\n    backgroundImage: 'linear-gradient(90deg, #56ab2f, #a8e063)',\n    label: message('Lush'),\n    color: 'rgb(255, 255, 255)',\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g13',\n    backgroundImage: 'linear-gradient(90deg, #606c88, #3f4c6b)',\n    label: message('Ash'),\n    color: 'rgb(255, 255, 255)',\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g14',\n    backgroundImage: 'linear-gradient(90deg, #ece9e6, #ffffff)',\n    label: message('Clouds'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g15',\n    backgroundImage: 'linear-gradient(90deg, #f09819, #edde5d)',\n    label: message('Mango pulp'),\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g16',\n    backgroundImage: 'linear-gradient(90deg, #b79891, #94716b)',\n    label: message('Cooper'),\n    color: 'rgb(255, 255, 255)',\n  },\n  {\n    ...BaseGradientBg,\n    id: 'g17',\n    backgroundImage: 'linear-gradient(60deg, #29323c, #485563)',\n    label: message('Vicious stance'),\n    color: 'rgb(255, 255, 255)',\n  },\n];\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const ArrowForwardIcon = createSvgIcon(\n  <path d=\"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8-8-8z\" />\n, 'ArrowForwardOutlined');\n","import {Trans} from '@common/i18n/trans';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {BackgroundSelectorButton} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/background-selector-button';\nimport {\n  BaseGradientBg,\n  GradientBackground,\n  GradientBackgrounds,\n} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/gradient-backgrounds';\nimport {GradientIcon} from '@common/icons/material/Gradient';\nimport {BgSelectorTabProps} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/background-selector';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {useCallback, useState} from 'react';\nimport clsx from 'clsx';\nimport {ColorPickerDialog} from '@common/ui/color-picker/color-picker-dialog';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {ArrowDownwardIcon} from '@common/icons/material/ArrowDownward';\nimport {ArrowForwardIcon} from '@common/icons/material/ArrowForward';\nimport {Tooltip} from '@common/ui/tooltip/tooltip';\nimport {ArrowUpwardIcon} from '@common/icons/material/ArrowUpward';\n\nexport function GradientBackgroundTab({\n  value,\n  onChange,\n  className,\n}: BgSelectorTabProps<GradientBackground>) {\n  return (\n    <div className={className}>\n      <CustomGradientButton value={value} onChange={onChange} />\n      {GradientBackgrounds.map(gradient => (\n        <BackgroundSelectorButton\n          key={gradient.backgroundImage}\n          label={gradient.label && <Trans {...gradient.label} />}\n          isActive={value?.id === gradient.id}\n          style={{backgroundImage: gradient.backgroundImage}}\n          onClick={() => {\n            onChange?.({\n              ...BaseGradientBg,\n              ...gradient,\n            });\n          }}\n        />\n      ))}\n    </div>\n  );\n}\n\nfunction CustomGradientButton({\n  value,\n  onChange,\n}: BgSelectorTabProps<GradientBackground>) {\n  const isCustomGradient = value?.id === BaseGradientBg.id;\n  return (\n    <DialogTrigger\n      type=\"popover\"\n      currentValue={value}\n      onOpenChange={isOpen => {\n        // on dialog open set default gradient as active, if no other gradient is selected\n        if (isOpen && !value) {\n          onChange?.(GradientBackgrounds[0]);\n        }\n      }}\n      onClose={gradient => {\n        // apply gradient or revert to original\n        onChange?.(gradient);\n      }}\n    >\n      <BackgroundSelectorButton\n        label={<Trans {...BaseGradientBg.label} />}\n        className=\"border-dashed border-2\"\n        style={{\n          backgroundImage: isCustomGradient\n            ? value?.backgroundImage\n            : undefined,\n        }}\n      >\n        <span className=\"inline-block text-white bg-black/20 rounded p-10\">\n          <GradientIcon size=\"lg\" />\n        </span>\n      </BackgroundSelectorButton>\n      <CustomGradientDialog\n        defaultValue={value}\n        onChange={newValue => {\n          onChange?.(newValue);\n        }}\n      />\n    </DialogTrigger>\n  );\n}\n\ninterface CustomGradientState {\n  colorOne: string;\n  colorTwo: string;\n  angle: string;\n}\ninterface CustomGradientDialogProps {\n  defaultValue?: GradientBackground;\n  onChange: (value: GradientBackground) => void;\n}\nfunction CustomGradientDialog({\n  defaultValue = GradientBackgrounds[0],\n  onChange,\n}: CustomGradientDialogProps) {\n  const {close} = useDialogContext();\n  const [state, setLocalState] = useState<CustomGradientState>(() => {\n    const parts =\n      defaultValue?.backgroundImage?.match(/\\(([0-9]+deg),.?(.+?),.?(.+?)\\)/) ||\n      [];\n    return {\n      angle: parts[1] || '45deg',\n      colorOne: parts[2] || '#ff9a9e',\n      colorTwo: parts[3] || '#fad0c4',\n    };\n  });\n\n  const buildGradientBackground = (s: CustomGradientState) => {\n    return {\n      ...BaseGradientBg,\n      backgroundImage: `linear-gradient(${s.angle}, ${s.colorOne}, ${s.colorTwo})`,\n    };\n  };\n\n  const setState = useCallback(\n    (newValues: Partial<CustomGradientState>) => {\n      const newState = {\n        ...state,\n        ...newValues,\n      };\n      setLocalState(newState);\n      onChange(buildGradientBackground(newState));\n    },\n    [state, onChange]\n  );\n\n  return (\n    <Dialog size=\"sm\">\n      <DialogHeader>\n        <Trans message=\"Custom gradient\" />\n      </DialogHeader>\n      <DialogBody>\n        <div className=\"mb-6\">\n          <Trans message=\"Colors\" />\n        </div>\n        <div className=\"flex items-stretch h-40 mb-20\">\n          <ColorPickerButton\n            className=\"rounded-l\"\n            value={state.colorOne}\n            onChange={value => setState({colorOne: value})}\n          />\n          <div\n            className=\"flex-auto border-y border-[#c3cbdc]\"\n            style={{\n              backgroundImage: buildGradientBackground(state).backgroundImage,\n            }}\n          />\n          <ColorPickerButton\n            className=\"rounded-r\"\n            value={state.colorTwo}\n            onChange={value => setState({colorTwo: value})}\n          />\n        </div>\n        <div className=\"mb-6\">\n          <Trans message=\"Direction\" />\n        </div>\n        <DirectionButtons\n          value={state.angle}\n          onChange={value => setState({angle: value})}\n        />\n      </DialogBody>\n      <DialogFooter dividerTop>\n        <Button onClick={() => close()}>\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          onClick={() => {\n            close(buildGradientBackground(state));\n          }}\n        >\n          <Trans message=\"Apply\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n\ninterface ColorPickerButtonProps {\n  className: string;\n  value: string;\n  onChange: (value: string) => void;\n}\nfunction ColorPickerButton({\n  className,\n  value,\n  onChange,\n}: ColorPickerButtonProps) {\n  return (\n    <DialogTrigger type=\"popover\">\n      <Tooltip label={<Trans message=\"Click to change color\" />}>\n        <button\n          type=\"button\"\n          className={clsx(\n            'w-40 flex-shrink-0 border border-[#c3cbdc]',\n            className\n          )}\n          style={{backgroundColor: value}}\n        />\n      </Tooltip>\n      <ColorPickerDialog defaultValue={value} onChange={onChange} hideFooter />\n    </DialogTrigger>\n  );\n}\n\ninterface DirectionButtonsProps {\n  value: string;\n  onChange: (value: string) => void;\n}\nfunction DirectionButtons({value, onChange}: DirectionButtonsProps) {\n  const activeStyle = 'text-primary border-primary';\n  return (\n    <div className=\"text-muted flex items-center flex-wrap gap-10\">\n      <IconButton\n        radius=\"rounded-full\"\n        variant=\"outline\"\n        className={value === '0deg' ? activeStyle : undefined}\n        onClick={() => onChange('0deg')}\n      >\n        <ArrowUpwardIcon />\n      </IconButton>\n      <IconButton\n        radius=\"rounded-full\"\n        variant=\"outline\"\n        className={value === '180deg' ? activeStyle : undefined}\n        onClick={() => onChange('180deg')}\n      >\n        <ArrowDownwardIcon />\n      </IconButton>\n      <IconButton\n        radius=\"rounded-full\"\n        variant=\"outline\"\n        className={value === '90deg' ? activeStyle : undefined}\n        onClick={() => onChange('90deg')}\n      >\n        <ArrowForwardIcon />\n      </IconButton>\n      <IconButton\n        radius=\"rounded-full\"\n        variant=\"outline\"\n        className={value === '135deg' ? activeStyle : undefined}\n        onClick={() => onChange('135deg')}\n      >\n        <ArrowDownwardIcon className=\"-rotate-45\" />\n      </IconButton>\n      <IconButton\n        radius=\"rounded-full\"\n        variant=\"outline\"\n        className={value === '225deg' ? activeStyle : undefined}\n        onClick={() => onChange('225deg')}\n      >\n        <ArrowDownwardIcon className=\"rotate-45\" />\n      </IconButton>\n      <IconButton\n        radius=\"rounded-full\"\n        variant=\"outline\"\n        className={value === '45deg' ? activeStyle : undefined}\n        onClick={() => onChange('45deg')}\n      >\n        <ArrowUpwardIcon className=\"rotate-45\" />\n      </IconButton>\n      <IconButton\n        radius=\"rounded-full\"\n        variant=\"outline\"\n        className={value === '325deg' ? activeStyle : undefined}\n        onClick={() => onChange('325deg')}\n      >\n        <ArrowUpwardIcon className=\"-rotate-45\" />\n      </IconButton>\n    </div>\n  );\n}\n","export default \"__VITE_ASSET__176ea4bb__\"","export default \"__VITE_ASSET__ca4d12f0__\"","export default \"__VITE_ASSET__aa4a0249__\"","export default \"__VITE_ASSET__b2e2eaf0__\"","export default \"__VITE_ASSET__6f56821b__\"","export default \"__VITE_ASSET__35c89ecf__\"","export default \"__VITE_ASSET__988bfd47__\"","export default \"__VITE_ASSET__b00abf9b__\"","export default \"__VITE_ASSET__d5e42a92__\"","export default \"__VITE_ASSET__69fc9117__\"","export default \"__VITE_ASSET__d1c20c3c__\"","export default \"__VITE_ASSET__28db1646__\"","export default \"__VITE_ASSET__f2926785__\"","export default \"__VITE_ASSET__d1a9b59f__\"","export default \"__VITE_ASSET__b3635293__\"","export default \"__VITE_ASSET__166680aa__\"","export default \"__VITE_ASSET__424582cb__\"","import angledFocus from './svg-bgs/Angled-Focus.svg';\nimport circularFocus from './svg-bgs/Circular-Focus.svg';\nimport farseeingEyeball from './svg-bgs/Farseeing-Eyeball.svg';\nimport canyonFunnel from './svg-bgs/Canyon-Funnel.svg';\nimport looneyLoops from './svg-bgs/Looney-Loops.svg';\nimport hurricaneAperture from './svg-bgs/Hurricane-Aperture.svg';\nimport icyExplosion from './svg-bgs/Icy-Explosion.svg';\nimport protrudingSquares from './svg-bgs/Protruding-Squares.svg';\nimport alternatingTriangles from './svg-bgs/Alternating-Triangles.svg';\nimport monsteraPatch from './svg-bgs/Monstera-Patch.svg';\nimport confettiDoodles from './svg-bgs/Confetti-Doodles.svg';\nimport threadsAhead from './svg-bgs/Threads-Ahead.svg';\nimport launchDay from './svg-bgs/Launch-Day.svg';\nimport sprinkle from './svg-bgs/Sprinkle.svg';\nimport circuitBoard from './svg-bgs/Circuit-Board.svg';\nimport nuclearFocalPoint from './svg-bgs/nuclear-focalpoint.svg';\nimport snow from './svg-bgs/Snow.svg';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {message} from '@common/i18n/message';\n\nexport interface ImageBackground {\n  type: 'image';\n  id: string;\n  backgroundColor?: string;\n  backgroundAttachment?: string;\n  backgroundSize?: string;\n  backgroundRepeat?: string;\n  backgroundPosition?: string;\n  backgroundImage?: string;\n  color?: string;\n  label: MessageDescriptor;\n}\nexport const BaseImageBg: ImageBackground = {\n  type: 'image',\n  id: 'i-custom',\n  label: message('Custom image'),\n};\n\nexport const ImageBackgrounds: ImageBackground[] = [\n  {\n    ...BaseImageBg,\n    id: 'img0',\n    backgroundColor: '#ee5522',\n    backgroundImage: `url(${protrudingSquares})`,\n    backgroundRepeat: 'repeat',\n    label: message('Protruding squares'),\n    color: '#fff',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img1',\n    backgroundColor: '#00bbff',\n    backgroundImage: `url(${launchDay})`,\n    label: message('Launch day'),\n    backgroundSize: 'contain',\n    backgroundPosition: 'bottom',\n    backgroundRepeat: 'no-repeat',\n    color: '#fff',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img2',\n    backgroundColor: '#fff',\n    backgroundImage: `url(${alternatingTriangles})`,\n    label: message('Alternating triangles'),\n    color: '#000',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img3',\n    backgroundColor: '#002200',\n    backgroundImage: `url(${monsteraPatch})`,\n    label: message('Monstera patch'),\n    color: '#fff',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img4',\n    backgroundColor: '#aa3333',\n    backgroundImage: `url(${confettiDoodles})`,\n    label: message('Confetti doodles'),\n    color: '#fff',\n    backgroundRepeat: 'repeat',\n    backgroundPosition: 'center center',\n    backgroundSize: 'contain',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img5',\n    backgroundColor: '#070014',\n    backgroundImage: `url(${hurricaneAperture})`,\n    label: message('Hurricane aperture'),\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center center',\n    color: '#fff',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img6',\n    backgroundColor: '#11ddaa',\n    backgroundImage: `url(${looneyLoops})`,\n    label: message('Looney loops'),\n    backgroundPosition: 'center center',\n    backgroundSize: 'cover',\n    color: '#000',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img7',\n    backgroundColor: '#ccffff',\n    backgroundImage: `url(${icyExplosion})`,\n    label: message('Icy explosion'),\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center center',\n    color: '#000',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img8',\n    backgroundColor: '#442233',\n    backgroundImage: `url(${nuclearFocalPoint})`,\n    label: message('Nuclear point'),\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center center',\n    color: '#fff',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img9',\n    backgroundColor: '#ffdd55',\n    backgroundImage: `url(${angledFocus})`,\n    label: message('Angled focus'),\n    backgroundPosition: 'center center',\n    backgroundSize: 'cover',\n    color: '#fff',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img10',\n    backgroundColor: '#220044',\n    backgroundImage: `url(${circularFocus})`,\n    label: message('Circular focus'),\n    backgroundPosition: 'center center',\n    backgroundSize: 'cover',\n    color: '#fff',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img11',\n    backgroundColor: '#000000',\n    backgroundImage: `url(${farseeingEyeball})`,\n    label: message('Farseeing eyeball'),\n    backgroundPosition: 'center center',\n    backgroundSize: 'cover',\n    color: '#fff',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img12',\n    backgroundColor: '#ff0000',\n    backgroundImage: `url(${canyonFunnel})`,\n    label: message('Canyon funnel'),\n    backgroundPosition: 'center center',\n    backgroundSize: 'cover',\n    color: '#fff',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img13',\n    backgroundColor: '#ffdd99',\n    backgroundImage: `url(${threadsAhead})`,\n    label: message('Threads ahead'),\n    color: '#000',\n    backgroundRepeat: 'no-repeat',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img14',\n    backgroundImage: `url(${sprinkle})`,\n    label: message('Sprinkle'),\n    backgroundRepeat: 'repeat',\n    backgroundPosition: 'center center',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img15',\n    backgroundImage: `url(${circuitBoard})`,\n    label: message('Circuit board'),\n    backgroundRepeat: 'repeat',\n    backgroundPosition: 'center center',\n  },\n  {\n    ...BaseImageBg,\n    id: 'img16',\n    backgroundImage: `url(${snow})`,\n    label: message('Snow'),\n    backgroundRepeat: 'repeat',\n    backgroundPosition: 'center center',\n  },\n];\n","import {createSvgIcon} from '../create-svg-icon';\n\nexport const UploadIcon = createSvgIcon(\n  <path d=\"M9 16h6v-6h4l-7-7-7 7h4v6zm3-10.17L14.17 8H13v6h-2V8H9.83L12 5.83zM5 18h14v2H5z\" />\n, 'UploadOutlined');\n","import {BgSelectorTabProps} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/background-selector';\nimport {ImageBackground} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/image-backgrounds';\nimport {RadioGroup} from '@common/ui/forms/radio-group/radio-group';\nimport {Radio} from '@common/ui/forms/radio-group/radio';\nimport {Trans} from '@common/i18n/trans';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {message} from '@common/i18n/message';\n\nconst BackgroundPositions: Record<\n  'cover' | 'contain' | 'repeat',\n  {\n    label: MessageDescriptor;\n    bgConfig: Partial<ImageBackground>;\n  }\n> = {\n  cover: {\n    label: message('Stretch to fit'),\n    bgConfig: {\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover',\n    },\n  },\n  contain: {\n    label: message('Fit image'),\n    bgConfig: {\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'contain',\n      backgroundPosition: 'center top',\n    },\n  },\n  repeat: {\n    label: message('Repeat image'),\n    bgConfig: {\n      backgroundRepeat: 'repeat',\n      backgroundSize: undefined,\n      backgroundPosition: 'left top',\n    },\n  },\n};\n\nexport function BackgroundPositionSelector({\n  value: imageBgValue,\n  onChange,\n}: Omit<BgSelectorTabProps<ImageBackground>, 'className'>) {\n  const selectedPosition = positionKeyFromValue(imageBgValue);\n  return (\n    <div className=\"border-t mt-20 pt-14\">\n      <RadioGroup size=\"sm\" disabled={!imageBgValue}>\n        {Object.entries(BackgroundPositions).map(([key, position]) => {\n          return (\n            <Radio\n              key={key}\n              name=\"background-position\"\n              value={key}\n              checked={key === selectedPosition}\n              onChange={e => {\n                if (imageBgValue) {\n                  onChange?.({\n                    ...imageBgValue,\n                    ...position.bgConfig,\n                  });\n                }\n              }}\n            >\n              <Trans {...position.label} />\n            </Radio>\n          );\n        })}\n      </RadioGroup>\n    </div>\n  );\n}\n\nfunction positionKeyFromValue(\n  value?: ImageBackground\n): keyof typeof BackgroundPositions {\n  if (value?.backgroundSize === 'cover') {\n    return 'cover';\n  } else if (value?.backgroundSize === 'contain') {\n    return 'contain';\n  } else {\n    return 'repeat';\n  }\n}\n","import {\n  BaseImageBg,\n  ImageBackground,\n  ImageBackgrounds,\n} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/image-backgrounds';\nimport {BackgroundSelectorButton} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/background-selector-button';\nimport {BgSelectorTabProps} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/background-selector';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {Trans} from '@common/i18n/trans';\nimport {UploadIcon} from '@common/icons/material/Upload';\nimport {useForm} from 'react-hook-form';\nimport {useDialogContext} from '@common/ui/overlays/dialog/dialog-context';\nimport {Dialog} from '@common/ui/overlays/dialog/dialog';\nimport {DialogHeader} from '@common/ui/overlays/dialog/dialog-header';\nimport {DialogBody} from '@common/ui/overlays/dialog/dialog-body';\nimport {Form} from '@common/ui/forms/form';\nimport {FileUploadProvider} from '@common/uploads/uploader/file-upload-provider';\nimport {FormImageSelector} from '@common/ui/images/image-selector';\nimport {DialogFooter} from '@common/ui/overlays/dialog/dialog-footer';\nimport {Button} from '@common/ui/buttons/button';\nimport {BackgroundPositionSelector} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/image-background-tab/background-position-selector';\nimport {cssPropsFromBgConfig} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/css-props-from-bg-config';\n\nexport function ImageBackgroundTab({\n  value,\n  onChange,\n  className,\n}: BgSelectorTabProps<ImageBackground>) {\n  return (\n    <div>\n      <div className={className}>\n        <CustomImageTrigger value={value} onChange={onChange} />\n        {ImageBackgrounds.map(background => (\n          <BackgroundSelectorButton\n            key={background.id}\n            onClick={() =>\n              onChange?.({\n                ...BaseImageBg,\n                ...background,\n              })\n            }\n            isActive={value?.id === background.id}\n            style={{\n              ...cssPropsFromBgConfig(background),\n              backgroundAttachment: 'initial',\n            }}\n            label={<Trans {...background.label} />}\n          />\n        ))}\n      </div>\n      <BackgroundPositionSelector value={value} onChange={onChange} />\n    </div>\n  );\n}\n\ninterface CustomImageTrigger {\n  value?: ImageBackground;\n  onChange?: (value: ImageBackground | null) => void;\n}\nfunction CustomImageTrigger({value, onChange}: CustomImageTrigger) {\n  // only seed form with custom uploaded image\n  value = value?.id === BaseImageBg.id ? value : undefined;\n  return (\n    <DialogTrigger\n      type=\"popover\"\n      onClose={(imageUrl?: string) => {\n        onChange?.(\n          imageUrl\n            ? {\n                ...BaseImageBg,\n                backgroundImage: `url(${imageUrl})`,\n              }\n            : null\n        );\n      }}\n    >\n      <BackgroundSelectorButton\n        label={<Trans {...BaseImageBg.label} />}\n        isActive={value?.id === BaseImageBg.id}\n        className=\"border-dashed border-2\"\n        style={cssPropsFromBgConfig(value)}\n      >\n        <span className=\"inline-block text-white bg-black/20 rounded p-10\">\n          <UploadIcon size=\"lg\" />\n        </span>\n      </BackgroundSelectorButton>\n      <CustomImageDialog value={value} />\n    </DialogTrigger>\n  );\n}\n\ninterface CustomImageDialogProps {\n  value?: ImageBackground;\n}\nexport function CustomImageDialog({value}: CustomImageDialogProps) {\n  const defaultValue = value?.backgroundImage\n    ?.replace('url(', '')\n    .replace(')', '');\n  const form = useForm<{imageUrl: string}>({\n    defaultValues: {imageUrl: defaultValue},\n  });\n  const {close, formId} = useDialogContext();\n  return (\n    <Dialog size=\"sm\">\n      <DialogHeader>\n        <Trans message=\"Upload image\" />\n      </DialogHeader>\n      <DialogBody>\n        <Form\n          id={formId}\n          form={form}\n          onSubmit={values => {\n            close(values.imageUrl);\n          }}\n        >\n          <FileUploadProvider>\n            <FormImageSelector\n              autoFocus\n              name=\"imageUrl\"\n              diskPrefix=\"biolinks\"\n              showRemoveButton\n            />\n          </FileUploadProvider>\n        </Form>\n      </DialogBody>\n      <DialogFooter>\n        <Button\n          onClick={() => {\n            close();\n          }}\n        >\n          <Trans message=\"Cancel\" />\n        </Button>\n        <Button variant=\"flat\" color=\"primary\" type=\"submit\" form={formId}>\n          <Trans message=\"Select\" />\n        </Button>\n      </DialogFooter>\n    </Dialog>\n  );\n}\n","export const appearanceHeaderClassnames = {\n  h2: 'text-xl font-semibold mb-20',\n  h3: 'my-12 font-semibold',\n};\n","import clsx from 'clsx';\nimport {Trans} from '@common/i18n/trans';\nimport {ImageIcon} from '@common/icons/material/Image';\nimport {FormatColorFillIcon} from '@common/icons/material/FormatColorFill';\nimport {GradientIcon} from '@common/icons/material/Gradient';\nimport {ReactElement, ReactNode, useState} from 'react';\nimport {ColorBackgroundTab} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/color-background-tab';\nimport {GradientBackgroundTab} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/gradient-background-tab';\nimport {ImageBackgroundTab} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/image-background-tab/image-background-tab';\nimport {SelectedBackground} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/selected-background';\nimport {\n  biolinkEditorState,\n  useBiolinkEditorStore,\n} from '@app/dashboard/biolink/biolink-editor/biolink-editor-store';\nimport {appearanceHeaderClassnames} from '@app/dashboard/biolink/biolink-editor/appearance/header-classnames';\n\nexport interface BgSelectorTabProps<T extends SelectedBackground> {\n  value?: T;\n  onChange?: (value: T | null) => void;\n  className?: string;\n}\n\nconst TabMap: Record<\n  'color' | 'gradient' | 'image',\n  (value: BgSelectorTabProps<any>) => ReactElement\n> = {\n  color: ColorBackgroundTab,\n  gradient: GradientBackgroundTab,\n  image: ImageBackgroundTab,\n};\ntype TabName = keyof typeof TabMap;\n\ninterface BackgroundSelectorProps {\n  className?: string;\n}\nexport function BackgroundSelector({className}: BackgroundSelectorProps) {\n  const value = useBiolinkEditorStore(s => s.appearance?.bgConfig);\n\n  const [activeTab, setActiveTab] = useState<TabName>(() => {\n    if (value?.type === 'color') return 'color';\n    if (value?.type === 'gradient') return 'gradient';\n    return 'color';\n  });\n\n  const Tab = TabMap[activeTab];\n\n  return (\n    <div className={className}>\n      <h2 className={appearanceHeaderClassnames.h2}>\n        <Trans message=\"Background\" />\n      </h2>\n      <TypeSelector activeTab={activeTab} onTabChange={setActiveTab} />\n      <Tab\n        value={activeTab === value?.type ? value : undefined}\n        onChange={newValue => {\n          biolinkEditorState().updateAppearance({bgConfig: newValue});\n        }}\n        className=\"grid gap-14 grid-cols-[repeat(auto-fill,minmax(90px,1fr))] items-start\"\n      />\n    </div>\n  );\n}\n\ninterface TypeSelectorProps {\n  activeTab: TabName;\n  onTabChange: (tab: TabName) => void;\n}\nfunction TypeSelector({activeTab, onTabChange}: TypeSelectorProps) {\n  return (\n    <div className=\"my-20 pb-20 flex items-center gap-20 border-b\">\n      <TypeButton\n        isActive={activeTab === 'color'}\n        icon={<FormatColorFillIcon />}\n        title={<Trans message=\"Flat color\" />}\n        onClick={() => {\n          onTabChange('color');\n        }}\n      />\n      <TypeButton\n        isActive={activeTab === 'gradient'}\n        icon={<GradientIcon />}\n        title={<Trans message=\"Gradient\" />}\n        onClick={() => {\n          onTabChange('gradient');\n        }}\n      />\n      <TypeButton\n        isActive={activeTab === 'image'}\n        icon={<ImageIcon />}\n        title={<Trans message=\"Image\" />}\n        onClick={() => {\n          onTabChange('image');\n        }}\n      />\n    </div>\n  );\n}\n\ninterface TypeButtonProps {\n  isActive: boolean;\n  icon: ReactNode;\n  title: ReactNode;\n  onClick?: () => void;\n}\nfunction TypeButton({isActive, icon, title, onClick}: TypeButtonProps) {\n  return (\n    <div role=\"button\" className=\"block\" onClick={onClick}>\n      <div\n        className={clsx(\n          'w-50 h-50 mx-auto border rounded flex items-center justify-center text-muted mb-8',\n          isActive && 'ring border-primary'\n        )}\n      >\n        {icon}\n      </div>\n      <div className=\"text-sm text-center text-primary\">{title}</div>\n    </div>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport {BiolinkBtnConfig} from '@app/dashboard/biolink/biolink';\nimport {Button} from '@common/ui/buttons/button';\nimport clsx from 'clsx';\nimport {message} from '@common/i18n/message';\nimport {ButtonVariant} from '@common/ui/buttons/get-shared-button-style';\nimport {MessageDescriptor} from '@common/i18n/message-descriptor';\nimport {\n  biolinkEditorState,\n  useBiolinkEditorStore,\n} from '@app/dashboard/biolink/biolink-editor/biolink-editor-store';\nimport {ButtonBase} from '@common/ui/buttons/button-base';\nimport React, {useCallback} from 'react';\nimport {appearanceHeaderClassnames} from '@app/dashboard/biolink/biolink-editor/appearance/header-classnames';\n\nconst AvailableVariants: Record<\n  NonNullable<Exclude<ButtonVariant, 'text' | 'raised' | 'link'>>,\n  MessageDescriptor\n> = {\n  flat: message('Fill'),\n  outline: message('Outline'),\n} as const;\n\nconst AvailableRadius: Record<\n  NonNullable<BiolinkBtnConfig['radius']>,\n  MessageDescriptor\n> = {\n  'rounded-none': message('Square'),\n  rounded: message('Rounded'),\n  'rounded-full': message('Pill'),\n} as const;\n\ninterface ButtonStyleSelectorProps {\n  className?: string;\n}\nexport function ButtonStyleSelector({className}: ButtonStyleSelectorProps) {\n  const value = useBiolinkEditorStore(s => s.appearance?.btnConfig);\n\n  const setValue = useCallback(\n    (newValue: Partial<BiolinkBtnConfig>) => {\n      biolinkEditorState().updateAppearance({\n        btnConfig: {\n          ...value,\n          ...newValue,\n        },\n      });\n    },\n    [value]\n  );\n\n  return (\n    <div className={className}>\n      <h2 className={appearanceHeaderClassnames.h2}>\n        <Trans message=\"Buttons\" />\n      </h2>\n      <StyleSelector value={value} onChange={setValue} />\n      <ShadowSelector value={value} onChange={setValue} />\n    </div>\n  );\n}\n\ninterface StyleSelectorProps {\n  value?: BiolinkBtnConfig;\n  onChange: (newValue: BiolinkBtnConfig) => void;\n}\nfunction StyleSelector({value, onChange}: StyleSelectorProps) {\n  const selectedVariant = value?.variant ?? 'flat';\n  const selectedRadius = value?.radius ?? 'rounded';\n\n  return (\n    <div>\n      {Object.entries(AvailableVariants).map(([variant, variantLabel]) => (\n        <div key={variant}>\n          <h3 className={appearanceHeaderClassnames.h3}>\n            <Trans {...variantLabel} />\n          </h3>\n          <div className=\"grid gap-24 grid-cols-2 md:grid-cols-3\">\n            {Object.entries(AvailableRadius).map(([radius, radiusLabel]) => (\n              <div\n                key={radius}\n                className={clsx(\n                  'rounded',\n                  variant === selectedVariant &&\n                    selectedRadius === radius &&\n                    'ring ring-primary-light ring-offset-4'\n                )}\n              >\n                <Button\n                  variant={variant as ButtonVariant}\n                  color=\"primary\"\n                  radius={radius}\n                  className=\"w-full\"\n                  onClick={() => {\n                    onChange({\n                      variant: variant as ButtonVariant,\n                      radius: radius as BiolinkBtnConfig['radius'],\n                    });\n                  }}\n                >\n                  <Trans {...radiusLabel} />\n                </Button>\n              </div>\n            ))}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nconst AvailableShadows: Record<string, MessageDescriptor> = {\n  'shadow-none': message('No shadow'),\n  'rgb(0 0 0 / 20%) 0.2rem 0.2rem 0.4rem 0px': message('Light shadow'),\n  'rgb(0 0 0 / 75%) 0.3rem 0.4rem 0px': message('Hard shadow'),\n} as const;\nfunction ShadowSelector({value, onChange}: StyleSelectorProps) {\n  const selectedShadow = value?.shadow ?? 'shadow-none';\n  return (\n    <div>\n      <h3 className=\"my-12 font-semibold\">\n        <Trans message=\"Shadow\" />\n      </h3>\n      <div className=\"flex gap-24\">\n        {Object.entries(AvailableShadows).map(([shadow, shadowLabel]) => (\n          <div key={shadow} style={{boxShadow: shadow}}>\n            <ButtonBase\n              className={clsx(\n                'w-70 h-40 border rounded',\n                selectedShadow === shadow && 'border-primary'\n              )}\n              onClick={() => {\n                onChange({\n                  shadow: shadow === 'shadow-none' ? undefined : shadow,\n                });\n              }}\n            >\n              <span className=\"sr-only\">\n                <Trans {...shadowLabel} />\n              </span>\n            </ButtonBase>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n","export default \"__VITE_ASSET__a5a81d1a__\"","import {useTrans} from '@common/i18n/use-trans';\nimport {TextField} from '@common/ui/forms/input-field/text-field/text-field';\nimport {SearchIcon} from '@common/icons/material/Search';\nimport {message} from '@common/i18n/message';\nimport {Select} from '@common/ui/forms/select/select';\nimport {Item} from '@common/ui/forms/listbox/item';\nimport {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {FontSelectorState} from '@common/ui/font-selector/font-selector-state';\n\nexport interface FontSelectorFilterValue {\n  query: string;\n  category: string;\n}\n\ninterface FiltersHeaderProps {\n  state: FontSelectorState;\n}\nexport function FontSelectorFilters({\n  state: {filters, setFilters},\n}: FiltersHeaderProps) {\n  const {trans} = useTrans();\n  return (\n    <div className=\"flex items-center gap-24 mb-24\">\n      <TextField\n        className=\"flex-auto\"\n        value={filters.query}\n        onChange={e => {\n          setFilters({\n            ...filters,\n            query: e.target.value,\n          });\n        }}\n        startAdornment={<SearchIcon />}\n        placeholder={trans(message('Search fonts'))}\n      />\n      <Select\n        className=\"flex-auto\"\n        selectionMode=\"single\"\n        selectedValue={filters.category}\n        onSelectionChange={value => {\n          setFilters({\n            ...filters,\n            category: value as string,\n          });\n        }}\n      >\n        <Item value=\"\">\n          <Trans message=\"All categories\" />\n        </Item>\n        <Item value=\"serif\">\n          <Trans message=\"Serif\" />\n        </Item>\n        <Item value=\"sans-serif\">\n          <Trans message=\"Sans serif\" />\n        </Item>\n        <Item value=\"display\">\n          <Trans message=\"Display\" />\n        </Item>\n        <Item value=\"handwriting\">\n          <Trans message=\"Handwriting\" />\n        </Item>\n        <Item value=\"monospace\">\n          <Trans message=\"Monospace\" />\n        </Item>\n      </Select>\n    </div>\n  );\n}\n","import {useCollator} from './use-collator';\n\ninterface Filter {\n  /** Returns whether a string starts with a given substring. */\n  startsWith(string: string, substring: string): boolean;\n  /** Returns whether a string ends with a given substring. */\n  endsWith(string: string, substring: string): boolean;\n  /** Returns whether a string contains a given substring. */\n  contains(string: string, substring: string): boolean;\n}\n\nexport function useFilter(options?: Intl.CollatorOptions): Filter {\n  const collator = useCollator({\n    usage: 'search',\n    ...options,\n  });\n\n  return {\n    startsWith(string, substring) {\n      if (substring.length === 0) {\n        return true;\n      }\n\n      string = string.normalize('NFC');\n      substring = substring.normalize('NFC');\n      return (\n        collator.compare(string.slice(0, substring.length), substring) === 0\n      );\n    },\n    endsWith(string, substring) {\n      if (substring.length === 0) {\n        return true;\n      }\n\n      string = string.normalize('NFC');\n      substring = substring.normalize('NFC');\n      return collator.compare(string.slice(-substring.length), substring) === 0;\n    },\n    contains(string, substring) {\n      if (substring.length === 0) {\n        return true;\n      }\n\n      string = string.normalize('NFC');\n      substring = substring.normalize('NFC');\n\n      let scan = 0;\n      const sliceLen = substring.length;\n      for (; scan + sliceLen <= string.length; scan++) {\n        const slice = string.slice(scan, scan + sliceLen);\n        if (collator.compare(substring, slice) === 0) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n  };\n}\n","import {FontConfig} from '@common/http/value-lists';\nimport {message} from '@common/i18n/message';\n\nexport const BrowserSafeFonts: FontConfig[] = [\n  {\n    label: message('System'),\n    family:\n      'ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"',\n    category: 'sans-serif',\n  },\n  {family: 'Impact, Charcoal, sans-serif', category: 'sans-serif'},\n  {family: 'Arial, Helvetica Neue, Helvetica, sans-serif', category: 'serif'},\n  {family: '\"Comic Sans MS\", cursive, sans-serif', category: 'Handwriting'},\n  {family: 'Century Gothic, sans-serif', category: 'sans-serif'},\n  {family: '\"Courier New\", Courier, monospace', category: 'monospace'},\n  {\n    family: '\"Lucida Sans Unicode\", \"Lucida Grande\", sans-serif',\n    category: 'sans-serif',\n  },\n  {family: '\"Times New Roman\", Times, serif', category: 'serif'},\n  {family: '\"Lucida Console\", Monaco, monospace', category: 'monospace'},\n  {family: '\"Andele Mono\", monospace, sans-serif', category: 'sans-serif'},\n  {family: 'Verdana, Geneva, sans-serif', category: 'sans-serif'},\n  {\n    family: '\"Helvetica Neue\", Helvetica, Arial, sans-serif',\n    category: 'sans-serif',\n  },\n];\n","export function chunkArray<T>(array: T[], chunkSize: number): T[][] {\n  return array.reduce<any>((resultArray, item, index) => {\n    const chunkIndex = Math.floor(index / chunkSize);\n\n    if (!resultArray[chunkIndex]) {\n      resultArray[chunkIndex] = [];\n    }\n\n    resultArray[chunkIndex].push(item);\n\n    return resultArray;\n  }, []);\n}\n","import {useCallback, useEffect, useMemo, useState} from 'react';\nimport {FontSelectorFilterValue} from '@common/ui/font-selector/font-selector-filters';\nimport {FontConfig, useValueLists} from '@common/http/value-lists';\nimport {useFilter} from '@common/i18n/use-filter';\nimport {BrowserSafeFonts} from '@common/ui/font-picker/browser-safe-fonts';\nimport {chunkArray} from '@common/utils/array/chunk-array';\nimport {loadFonts} from '@common/ui/font-picker/load-fonts';\n\nexport interface FontSelectorState extends UseFontSelectorProps {\n  fonts: FontConfig[];\n  filteredFonts: FontConfig[];\n  pages: FontConfig[][];\n  isLoading: boolean;\n  filters: FontSelectorFilterValue;\n  setFilters: (filters: FontSelectorFilterValue) => void;\n  currentPage: number;\n  setCurrentPage: (page: number) => void;\n}\n\nexport interface UseFontSelectorProps {\n  value?: FontConfig;\n  onChange: (value: FontConfig) => void;\n}\nexport function useFontSelectorState({\n  value,\n  onChange,\n}: UseFontSelectorProps): FontSelectorState {\n  const {data, isLoading} = useValueLists(['googleFonts']);\n  const [currentPage, setCurrentPage] = useState(0);\n\n  const [filters, setFilterState] = useState<FontSelectorFilterValue>({\n    query: '',\n    category: '',\n  });\n  const {contains} = useFilter({\n    sensitivity: 'base',\n  });\n\n  const setFilters = useCallback((filters: FontSelectorFilterValue) => {\n    setFilterState(filters);\n    // reset to first page when searching or changing category\n    setCurrentPage(0);\n  }, []);\n\n  const allFonts = useMemo(() => {\n    return BrowserSafeFonts.concat(data?.googleFonts ?? []);\n  }, [data?.googleFonts]);\n\n  const filteredFonts = useMemo(() => {\n    return allFonts.filter(font => {\n      return (\n        contains(font.family, filters.query) &&\n        (!filters.category ||\n          font.category?.toLowerCase() === filters.category.toLowerCase())\n      );\n    });\n  }, [allFonts, filters, contains]);\n\n  const pages = useMemo(() => {\n    return chunkArray(filteredFonts, 20);\n  }, [filteredFonts]);\n  const fonts = pages[currentPage];\n\n  useEffect(() => {\n    const id = 'font-selector';\n    if (fonts?.length) {\n      loadFonts(fonts, {id});\n    }\n  }, [fonts, currentPage]);\n\n  return {\n    fonts: fonts || [],\n    currentPage,\n    filteredFonts: filteredFonts || [],\n    setCurrentPage,\n    isLoading,\n    filters,\n    setFilters,\n    value,\n    onChange,\n    pages,\n  };\n}\n","import {Trans} from '@common/i18n/trans';\nimport {IconButton} from '@common/ui/buttons/icon-button';\nimport {KeyboardArrowLeftIcon} from '@common/icons/material/KeyboardArrowLeft';\nimport {KeyboardArrowRightIcon} from '@common/icons/material/KeyboardArrowRight';\nimport React from 'react';\nimport {FontSelectorState} from '@common/ui/font-selector/font-selector-state';\n\ninterface FontSelectorPaginationProps {\n  state: FontSelectorState;\n}\nexport function FontSelectorPagination({\n  state: {currentPage = 0, setCurrentPage, filteredFonts, pages},\n}: FontSelectorPaginationProps) {\n  const total = filteredFonts?.length || 0;\n\n  return (\n    <div className=\"flex items-center justify-end gap-24 text-sm mt-30 pt-14 border-t\">\n      {total > 0 && (\n        <div>\n          <Trans\n            message=\":from - :to of :total\"\n            values={{\n              from: currentPage * 20 + 1,\n              to: Math.min((currentPage + 1) * 20, total),\n              total,\n            }}\n          />\n        </div>\n      )}\n      <div className=\"text-muted\">\n        <IconButton\n          disabled={currentPage < 1}\n          onClick={() => {\n            setCurrentPage(Math.max(0, currentPage - 1));\n          }}\n        >\n          <KeyboardArrowLeftIcon />\n        </IconButton>\n        <IconButton\n          disabled={currentPage >= pages.length - 1}\n          onClick={() => {\n            setCurrentPage(currentPage + 1);\n          }}\n        >\n          <KeyboardArrowRightIcon />\n        </IconButton>\n      </div>\n    </div>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport React from 'react';\nimport {ButtonBase} from '@common/ui/buttons/button-base';\nimport clsx from 'clsx';\nimport {IllustratedMessage} from '@common/ui/images/illustrated-message';\nimport fontImage from './font.svg';\nimport {SvgImage} from '@common/ui/images/svg-image/svg-image';\nimport {FontSelectorFilters} from '@common/ui/font-selector/font-selector-filters';\nimport {\n  FontSelectorState,\n  UseFontSelectorProps,\n  useFontSelectorState,\n} from '@common/ui/font-selector/font-selector-state';\nimport {FontSelectorPagination} from '@common/ui/font-selector/font-selector-pagination';\nimport {FontConfig} from '@common/http/value-lists';\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {opacityAnimation} from '@common/ui/animation/opacity-animation';\n\ninterface FontSelectorProps extends UseFontSelectorProps {\n  className?: string;\n}\nexport function FontSelector(props: FontSelectorProps) {\n  const state = useFontSelectorState(props);\n  return (\n    <div className={props.className}>\n      <FontSelectorFilters state={state} />\n      <AnimatePresence initial={false} mode=\"wait\">\n        <FontList state={state} />\n      </AnimatePresence>\n      <FontSelectorPagination state={state} />\n    </div>\n  );\n}\n\ninterface FontListProps {\n  state: FontSelectorState;\n}\nfunction FontList({state}: FontListProps) {\n  const {isLoading, fonts} = state;\n\n  const gridClassName =\n    'grid gap-24 grid-cols-[repeat(auto-fill,minmax(90px,1fr))] items-start';\n\n  if (isLoading) {\n    return <FontListSkeleton className={gridClassName} />;\n  }\n\n  if (!fonts?.length) {\n    return (\n      <IllustratedMessage\n        className=\"mt-60\"\n        size=\"sm\"\n        image={<SvgImage src={fontImage} />}\n        title={<Trans message=\"No matching fonts\" />}\n        description={\n          <Trans message=\"Try another search query or different category\" />\n        }\n      />\n    );\n  }\n\n  return (\n    <m.div key=\"font-list\" {...opacityAnimation} className={gridClassName}>\n      {fonts?.map(font => (\n        <FontButton key={font.family} font={font} state={state} />\n      ))}\n    </m.div>\n  );\n}\n\ninterface FontButtonProps {\n  font: FontConfig;\n  state: FontSelectorState;\n}\nfunction FontButton({font, state: {value, onChange}}: FontButtonProps) {\n  const isActive = value?.family === font.family;\n  const displayName = font.family.split(',')[0].replace(/\"/g, '');\n\n  return (\n    <ButtonBase\n      key={font.family}\n      onClick={() => {\n        onChange(font);\n      }}\n    >\n      <span\n        className={clsx(\n          'flex items-center justify-center text-4xl md:text-5xl border rounded aspect-square hover:bg-hover transition-bg-color',\n          isActive && 'ring-2 ring-primary ring-offset-2'\n        )}\n      >\n        <span style={{fontFamily: font.family}}>Aa</span>\n      </span>\n      <span\n        className={clsx(\n          'block mt-6 text-sm whitespace-nowrap overflow-hidden overflow-ellipsis',\n          isActive && 'text-primary'\n        )}\n      >\n        {font.label ? <Trans {...font.label} /> : displayName}\n      </span>\n    </ButtonBase>\n  );\n}\n\ninterface FontListSkeletonProps {\n  className: string;\n}\nfunction FontListSkeleton({className}: FontListSkeletonProps) {\n  const items = Array.from(Array(20).keys());\n  return (\n    <m.div key=\"font-list-skeleton\" {...opacityAnimation} className={className}>\n      {items.map(index => (\n        <div key={index}>\n          <div className=\"aspect-square\">\n            <Skeleton display=\"block\" variant=\"rect\" />\n          </div>\n          <Skeleton className=\"text-sm mt-6\" />\n        </div>\n      ))}\n    </m.div>\n  );\n}\n","import {useMutation} from '@tanstack/react-query';\nimport {apiClient} from '@common/http/query-client';\nimport {BackendResponse} from '@common/http/backend-response/backend-response';\nimport {message} from '@common/i18n/message';\nimport {toast} from '@common/ui/toast/toast';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\nimport {biolinkEditorState} from '@app/dashboard/biolink/biolink-editor/biolink-editor-store';\nimport {useEditorBiolinkId} from '@app/dashboard/biolink/biolink-editor/requests/use-editor-biolink';\nimport {showHttpErrorToast} from '@common/utils/http/show-http-error-toast';\n\ninterface Response extends BackendResponse {\n  appearance: Biolink['appearance'];\n}\n\nexport function useSaveBiolinkAppearance() {\n  const biolinkId = useEditorBiolinkId();\n  return useMutation(\n    () => {\n      const appearance = biolinkEditorState().appearance!;\n      return saveAppearance(biolinkId, {config: appearance});\n    },\n    {\n      onSuccess: () => {\n        biolinkEditorState().setAppearanceIsDirty(false);\n        toast.positive(message('Appearance saved'));\n      },\n      onError: err =>\n        showHttpErrorToast(err, message('Could not save appearance')),\n    }\n  );\n}\n\nfunction saveAppearance(\n  biolinkId: number,\n  appearance: Biolink['appearance']\n): Promise<Response> {\n  return apiClient\n    .post(`biolink/${biolinkId}/appearance`, appearance)\n    .then(r => r.data);\n}\n","import {getInputFieldClassNames} from '@common/ui/forms/input-field/get-input-field-class-names';\nimport React, {Fragment, ReactNode, useId} from 'react';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {ButtonBase} from '@common/ui/buttons/button-base';\nimport {ColorPickerDialog} from '@common/ui/color-picker/color-picker-dialog';\nimport {HexColorInput} from 'react-colorful';\n\ninterface ColorInputProps {\n  value: string;\n  onChange: (newValue: string) => void;\n  label: ReactNode;\n}\nexport function ColorInput({value, onChange, label}: ColorInputProps) {\n  const style = getInputFieldClassNames({\n    size: 'md',\n    startAppend: <Fragment />,\n  });\n  const id = useId();\n\n  return (\n    <div>\n      <label className={style.label} htmlFor={id}>\n        {label}\n      </label>\n      <div className=\"flex\">\n        <DialogTrigger type=\"popover\">\n          <ButtonBase\n            className=\"w-42 h-42 bg-black rounded-l flex-shrink-0 border\"\n            style={{backgroundColor: value}}\n          />\n          <ColorPickerDialog\n            showInput={false}\n            defaultValue={value}\n            onChange={onChange}\n          />\n        </DialogTrigger>\n        <HexColorInput\n          id={id}\n          autoComplete=\"off\"\n          role=\"textbox\"\n          autoCorrect=\"off\"\n          spellCheck=\"false\"\n          required\n          prefixed\n          className={style.input}\n          color={value}\n          onChange={onChange}\n        />\n      </div>\n    </div>\n  );\n}\n","import {Trans} from '@common/i18n/trans';\nimport {Button} from '@common/ui/buttons/button';\nimport {BackgroundSelector} from '@app/dashboard/biolink/biolink-editor/appearance/background-selector/background-selector';\nimport React, {Fragment} from 'react';\nimport {\n  biolinkEditorState,\n  useBiolinkEditorStore,\n} from '@app/dashboard/biolink/biolink-editor/biolink-editor-store';\nimport {ButtonStyleSelector} from '@app/dashboard/biolink/biolink-editor/appearance/button-style-selector';\nimport {FontSelector as CommonFontSelector} from '@common/ui/font-selector/font-selector';\nimport {useSaveBiolinkAppearance} from '@app/dashboard/biolink/biolink-editor/requests/use-save-biolink-appearance';\nimport {BrowserSafeFonts} from '@common/ui/font-picker/browser-safe-fonts';\nimport {ColorInput} from '@app/dashboard/biolink/biolink-editor/appearance/color-input';\nimport {appearanceHeaderClassnames} from '@app/dashboard/biolink/biolink-editor/appearance/header-classnames';\n\nexport function BiolinkAppearanceEditor() {\n  const saveAppearance = useSaveBiolinkAppearance();\n  const isDirty = useBiolinkEditorStore(s => s.appearanceIsDirty);\n\n  return (\n    <Fragment>\n      <header className=\"mb-40\">\n        <h1 className=\"text-2xl mb-4\">\n          <Trans message=\"Custom appearance\" />\n        </h1>\n        <div className=\"text-sm mb-20\">\n          <Trans message=\"Fully customize your Biolink. Change background color or select gradients and images. Choose button style, text color, typeface and more.\" />\n        </div>\n        <Button\n          variant=\"flat\"\n          color=\"primary\"\n          type=\"submit\"\n          onClick={() => saveAppearance.mutate()}\n          disabled={!isDirty || saveAppearance.isLoading}\n        >\n          <Trans message=\"Save changes\" />\n        </Button>\n      </header>\n      <BackgroundSelector />\n      <ColorSelector />\n      <ButtonStyleSelector className=\"my-60\" />\n      <FontSelector />\n    </Fragment>\n  );\n}\n\nfunction ColorSelector() {\n  const btnConfig = useBiolinkEditorStore(s => s.appearance?.btnConfig);\n  const bgConfig = useBiolinkEditorStore(s => s.appearance?.bgConfig);\n\n  return (\n    <div className=\"my-60\">\n      <h2 className={appearanceHeaderClassnames.h2}>\n        <Trans message=\"Colors\" />\n      </h2>\n      <div className=\"md:grid grid-cols-3 items-center gap-24\">\n        <ColorInput\n          label={<Trans message=\"Text color\" />}\n          value={bgConfig?.color || '#000'}\n          onChange={newValue => {\n            biolinkEditorState().updateAppearance({\n              bgConfig: {\n                ...bgConfig,\n                color: newValue,\n              },\n            });\n          }}\n        />\n        <ColorInput\n          label={<Trans message=\"Button color\" />}\n          value={btnConfig?.color || '#000'}\n          onChange={newValue => {\n            biolinkEditorState().updateAppearance({\n              btnConfig: {\n                ...btnConfig,\n                color: newValue,\n              },\n            });\n          }}\n        />\n        <ColorInput\n          label={<Trans message=\"Button text color\" />}\n          value={btnConfig?.textColor || '#000'}\n          onChange={newValue => {\n            biolinkEditorState().updateAppearance({\n              btnConfig: {\n                ...btnConfig,\n                textColor: newValue,\n              },\n            });\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction FontSelector() {\n  const currentValue =\n    useBiolinkEditorStore(s => s.appearance?.fontConfig) || BrowserSafeFonts[0];\n  return (\n    <div>\n      <h2 className={appearanceHeaderClassnames.h2}>\n        <Trans message=\"Font\" />\n      </h2>\n      <CommonFontSelector\n        value={currentValue}\n        onChange={newValue => {\n          biolinkEditorState().updateAppearance({\n            fontConfig: {\n              ...currentValue,\n              ...newValue,\n            },\n          });\n        }}\n      />\n    </div>\n  );\n}\n","import {Tabs} from '@common/ui/tabs/tabs';\nimport {TabList} from '@common/ui/tabs/tab-list';\nimport {Tab} from '@common/ui/tabs/tab';\nimport {Trans} from '@common/i18n/trans';\nimport {TabPanel, TabPanels} from '@common/ui/tabs/tab-panels';\nimport {Fragment, ReactElement, useEffect, useState} from 'react';\nimport {Button} from '@common/ui/buttons/button';\nimport {WidgetsIcon} from '@common/icons/material/Widgets';\nimport {\n  LinkContentItem,\n  linkDialogHiddenFields,\n} from '@app/dashboard/biolink/biolink-editor/content/link-content-item/link-content-item';\nimport {DialogTrigger} from '@common/ui/overlays/dialog/dialog-trigger';\nimport {CreateLinkDialog} from '@app/dashboard/links/dialogs/create-link-dialog';\nimport {BiolinkSettingsForm} from '@app/dashboard/biolink/biolink-editor/biolink-settings-form';\nimport {SelectWidgetDialog} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-selector/select-widget-dialog';\nimport {WidgetType} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-list';\nimport {NewWidgetDialogContainer} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-selector/new-widget-dialog-container';\nimport {WidgetContentItem} from '@app/dashboard/biolink/biolink-editor/content/widgets/widget-content-item';\nimport {LivePreview} from '@app/dashboard/biolink/biolink-editor/live-preview';\nimport {BiolinkAppearanceEditor} from '@app/dashboard/biolink/biolink-editor/appearance/biolink-appearance-editor';\nimport {Link, useParams} from 'react-router-dom';\nimport {Skeleton} from '@common/ui/skeleton/skeleton';\nimport {AnimatePresence, m} from 'framer-motion';\nimport {opacityAnimation} from '@common/ui/animation/opacity-animation';\nimport {BiolinkContentItemLayout} from '@app/dashboard/biolink/biolink-editor/content/biolink-content-item-layout';\nimport {prefetchLinkFormValueLists} from '@app/dashboard/links/requests/use-link-form-value-lists';\nimport {\n  setEditorBiolink,\n  useEditorBiolink,\n} from '@app/dashboard/biolink/biolink-editor/requests/use-editor-biolink';\nimport {IllustratedMessage} from '@common/ui/images/illustrated-message';\nimport {SvgImage} from '@common/ui/images/svg-image/svg-image';\nimport notifySvg from '@common/notifications/empty-state/notify.svg';\nimport {Biolink} from '@app/dashboard/biolink/biolink';\nimport {LinkIcon} from '@common/icons/material/Link';\nimport {removeProtocol} from '@common/utils/urls/remove-protocol';\nimport {LinkStyle} from '@common/ui/buttons/external-link';\nimport {ShareLinkButton} from '@app/dashboard/links/sharing/share-link-button';\n\nconst TabsMap: Record<string, number> = {\n  content: 0,\n  appearance: 1,\n  settings: 2,\n};\n\nexport function BiolinkEditorPage() {\n  return (\n    <div>\n      <BiolinkEditorHeader />\n      <div className=\"flex gap-60 p-24 container mx-auto\">\n        <BiolinkEditor />\n        <LivePreview />\n      </div>\n    </div>\n  );\n}\n\nfunction BiolinkEditorHeader() {\n  const {biolink} = useEditorBiolink();\n  return (\n    <header className=\"border-b px-10 py-4 flex items-center gap-10 min-h-46\">\n      <LinkIcon className=\"text-muted\" />\n      <AnimatePresence>\n        {biolink && (\n          <m.a\n            key=\"link\"\n            className={LinkStyle}\n            href={biolink?.short_url}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n            {...opacityAnimation}\n          >\n            {removeProtocol(biolink.short_url)}\n          </m.a>\n        )}\n        {biolink && (\n          <m.div {...opacityAnimation} key=\"share-button\" className=\"ml-auto\">\n            <ShareLinkButton variant=\"text\" link={biolink} />\n          </m.div>\n        )}\n      </AnimatePresence>\n    </header>\n  );\n}\n\nfunction BiolinkEditor() {\n  const {biolinkId} = useParams();\n  const {tabName = 'content'} = useParams();\n  const selectedTab = TabsMap[tabName] ?? TabsMap.content;\n  useEditorBiolink();\n\n  useEffect(() => {\n    prefetchLinkFormValueLists();\n  }, [biolinkId]);\n\n  return (\n    <div className=\"flex-auto min-w-0\">\n      <Tabs overflow=\"overflow-visible\" selectedTab={selectedTab} isLazy>\n        <TabList className=\"sticky top-0 bg dark:bg-alt z-10\">\n          <Tab\n            padding=\"w-140\"\n            elementType={Link}\n            to=\"../content\"\n            relative=\"path\"\n          >\n            <Trans message=\"Content\" />\n          </Tab>\n          <Tab\n            padding=\"w-140\"\n            elementType={Link}\n            to=\"../appearance\"\n            relative=\"path\"\n          >\n            <Trans message=\"Appearance\" />\n          </Tab>\n          <Tab\n            padding=\"w-140\"\n            elementType={Link}\n            to=\"../settings\"\n            relative=\"path\"\n          >\n            <Trans message=\"Settings\" />\n          </Tab>\n        </TabList>\n        <TabPanels className=\"py-20\">\n          <TabPanel>{<BiolinkContent />}</TabPanel>\n          <TabPanel>{<BiolinkAppearanceEditor />}</TabPanel>\n          <TabPanel>\n            <BiolinkSettingsForm />\n          </TabPanel>\n        </TabPanels>\n      </Tabs>\n    </div>\n  );\n}\n\nfunction BiolinkContent() {\n  const {isLoading, status, biolink} = useEditorBiolink();\n  const [activeWidgetDialog, setActiveWidgetDialog] =\n    useState<WidgetType | null>(null);\n\n  let renderedContent: ReactElement;\n\n  if (status === 'success' && !biolink?.content.length) {\n    renderedContent = (\n      <m.div {...opacityAnimation} key=\"no-results\">\n        <IllustratedMessage\n          className=\"mt-60\"\n          image={<SvgImage src={notifySvg} />}\n          title={<Trans message=\"This biolink does not have any content yet\" />}\n        />\n      </m.div>\n    );\n  } else if (isLoading) {\n    renderedContent = <LoadingSkeleton />;\n  } else {\n    renderedContent = <BiolinkItemList biolink={biolink!} />;\n  }\n\n  return (\n    <Fragment>\n      {biolink && (\n        <NewWidgetDialogContainer\n          biolink={biolink}\n          activeWidget={activeWidgetDialog}\n          onOpenChange={isOpen => {\n            if (!isOpen) {\n              setActiveWidgetDialog(null);\n            }\n          }}\n        />\n      )}\n      <div className=\"mb-20\">\n        <AddNewLinkButton />\n        <DialogTrigger\n          type=\"modal\"\n          onClose={(widgetType?: WidgetType) => {\n            if (widgetType) {\n              setActiveWidgetDialog(widgetType);\n            }\n          }}\n        >\n          <Button color=\"primary\" variant=\"outline\" startIcon={<WidgetsIcon />}>\n            <Trans message=\"Add widget\" />\n          </Button>\n          <SelectWidgetDialog />\n        </DialogTrigger>\n      </div>\n      <AnimatePresence initial={false} mode=\"wait\">\n        {renderedContent}\n      </AnimatePresence>\n    </Fragment>\n  );\n}\n\ninterface BiolinkItemListProps {\n  biolink: Biolink;\n}\nfunction BiolinkItemList({biolink}: BiolinkItemListProps) {\n  return (\n    <m.div key=\"content\" {...opacityAnimation}>\n      {biolink?.content.map(contentItem => {\n        const ContentItem =\n          contentItem.model_type === 'biolinkWidget'\n            ? WidgetContentItem\n            : LinkContentItem;\n        return (\n          <ContentItem\n            key={`${contentItem.model_type}-${contentItem.id}`}\n            item={contentItem as never}\n            biolink={biolink}\n          />\n        );\n      })}\n    </m.div>\n  );\n}\n\nfunction AddNewLinkButton() {\n  const {biolink, biolinkId} = useEditorBiolink();\n  const endpoint = `biolink/${biolinkId}/link`;\n\n  const position = biolink?.content.filter(x => x.pinned).length;\n\n  return (\n    <DialogTrigger type=\"modal\">\n      <Button color=\"primary\" variant=\"flat\" className=\"mr-14 min-w-144\">\n        <Trans message=\"Add a link\" />\n      </Button>\n      <CreateLinkDialog\n        endpoint={endpoint}\n        position={position}\n        group={biolink}\n        hiddenFields={linkDialogHiddenFields}\n        showButtonLabelField\n        invalidateQueries={false}\n        onSuccess={(response: {biolink: Biolink}) => {\n          setEditorBiolink(response.biolink);\n        }}\n      />\n    </DialogTrigger>\n  );\n}\n\nfunction LoadingSkeleton() {\n  return (\n    <m.div key=\"loading-skeleton\" {...opacityAnimation}>\n      {[...Array(4).keys()].map((value, index) => (\n        <BiolinkSkeleton key={index} />\n      ))}\n    </m.div>\n  );\n}\n\nfunction BiolinkSkeleton() {\n  return (\n    <BiolinkContentItemLayout\n      title={<Skeleton className=\"mb-14 text-sm max-w-192\" />}\n      actionRow={<Skeleton className=\"text-xs max-w-288\" />}\n    >\n      <Skeleton className=\"text-xs max-w-400\" />\n      <Skeleton className=\"text-xs max-w-400\" />\n    </BiolinkContentItemLayout>\n  );\n}\n","import {Navigate, RouteObject, useRoutes} from 'react-router-dom';\nimport React from 'react';\nimport {AuthRoute} from '@common/auth/guards/auth-route';\nimport {NotFoundPage} from '@common/ui/not-found-page/not-found-page';\nimport {BelinkDashboardLayout} from './layout/belink-dasbboard-layout';\nimport {AllClicksReportPage} from './all-clicks-report-page';\nimport {LinksDatablePage} from './links/links-datatable-page/links-datatable-page';\nimport {LinkGroupsLinksDatatablePage} from './link-groups/link-group-links-datatable-page/link-group-links-datatable-page';\nimport {LinkGroupsDatatablePage} from './link-groups/link-groups-datatable-page/link-groups-datatable-page';\nimport {LinkGroupClicksReportPage} from '@app/dashboard/link-groups/link-group-clicks-report-page';\nimport {LinkClicksReportPage} from '@app/dashboard/links/link-clicks-report-page';\nimport {DomainsDatatablePage} from '@app/dashboard/custom-domains/domains-datatable-page';\nimport {TrackingPixelsDatablePage} from '@app/dashboard/tracking-pixels/tracking-pixels-datatable-page';\nimport {useActiveWorkspaceId} from '@common/workspace/active-workspace-id-context';\nimport {PageEditorLayout} from '@common/admin/custom-pages/editor/page-editor-layout';\nimport {LinkPagesDatatablePage} from '@app/dashboard/link-pages/link-pages-datatable-page';\nimport {LinkOverlaysDatatablePage} from '@app/dashboard/link-overlays/link-overlays-datatable-page';\nimport {CreateLinkOverlayPage} from '@app/dashboard/link-overlays/crupdate/create-link-overlay-page';\nimport {UpdateLinkOverlayPage} from '@app/dashboard/link-overlays/crupdate/update-link-overlay-page';\nimport {BioLinksDatatablePage} from '@app/dashboard/biolink/biolinks-datatable-page/biolinks-datatable-page';\nimport {BiolinkClicksReportPage} from '@app/dashboard/biolink/biolink-clicks-report-page';\nimport {BiolinkEditorPage} from '@app/dashboard/biolink/biolink-editor/biolink-editor-page';\n\nexport const SharedDashboardRoutes = ({forCurrentUser = false}) => {\n  return [\n    // links\n    {\n      path: 'links',\n      element: <LinksDatablePage forCurrentUser={forCurrentUser} />,\n    },\n    {\n      path: 'links/:linkId',\n      element: <LinkClicksReportPage />,\n    },\n\n    // biolinks\n    {\n      path: 'biolinks',\n      element: <BioLinksDatatablePage forCurrentUser={forCurrentUser} />,\n    },\n    {\n      path: 'biolinks/:biolinkId',\n      element: <BiolinkClicksReportPage />,\n    },\n    {\n      path: 'biolinks/:biolinkId/edit',\n      element: <Navigate to=\"content\" replace />,\n    },\n    {\n      path: 'biolinks/:biolinkId/edit/:tabName',\n      element: <BiolinkEditorPage />,\n    },\n\n    // groups\n    {\n      path: 'link-groups',\n      element: <LinkGroupsDatatablePage forCurrentUser={forCurrentUser} />,\n    },\n    {\n      path: 'link-groups/:groupId',\n      element: <LinkGroupClicksReportPage />,\n    },\n    {\n      path: 'link-groups/:groupId/links',\n      element: <LinkGroupsLinksDatatablePage />,\n    },\n\n    // domains\n    {\n      path: 'custom-domains',\n      element: <DomainsDatatablePage forCurrentUser={forCurrentUser} />,\n    },\n\n    // tracking pixels\n    {\n      path: 'pixels',\n      element: <TrackingPixelsDatablePage forCurrentUser={forCurrentUser} />,\n    },\n\n    // overlays\n    {\n      path: 'link-overlays',\n      element: <LinkOverlaysDatatablePage forCurrentUser={forCurrentUser} />,\n    },\n    {\n      path: 'link-overlays/new',\n      element: <CreateLinkOverlayPage />,\n    },\n    {\n      path: 'link-overlays/:overlayId/edit',\n      element: <UpdateLinkOverlayPage />,\n    },\n  ];\n};\n\nexport default function DashboardRoutes() {\n  const {workspaceId} = useActiveWorkspaceId();\n  const DashboardRouteConfig: RouteObject[] = [\n    {\n      path: '/',\n      element: (\n        <AuthRoute>\n          <BelinkDashboardLayout />\n        </AuthRoute>\n      ),\n      children: [\n        {index: true, element: <AllClicksReportPage />},\n\n        // link pages\n        {\n          path: 'link-pages',\n          element: <LinkPagesDatatablePage forCurrentUser={!workspaceId} />,\n        },\n        {\n          path: 'link-pages/new',\n          element: (\n            <PageEditorLayout allowSlugEditing={false} endpoint=\"link-page\" />\n          ),\n        },\n        {\n          path: 'link-pages/:pageId/edit',\n          element: (\n            <PageEditorLayout allowSlugEditing={false} endpoint=\"link-page\" />\n          ),\n        },\n\n        ...SharedDashboardRoutes({forCurrentUser: !workspaceId}),\n      ],\n    },\n    {path: '*', element: <NotFoundPage />},\n  ];\n\n  return useRoutes(DashboardRouteConfig);\n}\n"],"file":"assets/dashboard-routes.8cb78c02.js"}